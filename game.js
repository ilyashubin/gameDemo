(()=>{var Fp=Object.create;var yu=Object.defineProperty;var Lp=Object.getOwnPropertyDescriptor;var Op=Object.getOwnPropertyNames;var wp=Object.getPrototypeOf,Dp=Object.prototype.hasOwnProperty;var Gt=(m,g)=>()=>(g||m((g={exports:{}}).exports,g),g.exports);var Ip=(m,g,A,F)=>{if(g&&typeof g=="object"||typeof g=="function")for(let v of Op(g))!Dp.call(m,v)&&v!==A&&yu(m,v,{get:()=>g[v],enumerable:!(F=Lp(g,v))||F.enumerable});return m};var xt=(m,g,A)=>(A=m!=null?Fp(wp(m)):{},Ip(g||!m||!m.__esModule?yu(A,"default",{value:m,enumerable:!0}):A,m));var Ke=Gt((Vn,lo)=>{(function(g,A){typeof Vn=="object"&&typeof lo=="object"?lo.exports=A():typeof define=="function"&&define.amd?define("Phaser",[],A):typeof Vn=="object"?Vn.Phaser=A():g.Phaser=A()})(Vn,()=>(()=>{var m={6659:v=>{"use strict";var y=Object.prototype.hasOwnProperty,t="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(t=!1));function c(e,i,l){this.fn=e,this.context=i,this.once=l||!1}function a(e,i,l,n,o){if(typeof l!="function")throw new TypeError("The listener must be a function");var f=new c(l,n||e,o),h=t?t+i:i;return e._events[h]?e._events[h].fn?e._events[h]=[e._events[h],f]:e._events[h].push(f):(e._events[h]=f,e._eventsCount++),e}function s(e,i){--e._eventsCount===0?e._events=new u:delete e._events[i]}function r(){this._events=new u,this._eventsCount=0}r.prototype.eventNames=function(){var i=[],l,n;if(this._eventsCount===0)return i;for(n in l=this._events)y.call(l,n)&&i.push(t?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(l)):i},r.prototype.listeners=function(i){var l=t?t+i:i,n=this._events[l];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,f=n.length,h=new Array(f);o<f;o++)h[o]=n[o].fn;return h},r.prototype.listenerCount=function(i){var l=t?t+i:i,n=this._events[l];return n?n.fn?1:n.length:0},r.prototype.emit=function(i,l,n,o,f,h){var d=t?t+i:i;if(!this._events[d])return!1;var p=this._events[d],x=arguments.length,S,T;if(p.fn){switch(p.once&&this.removeListener(i,p.fn,void 0,!0),x){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,l),!0;case 3:return p.fn.call(p.context,l,n),!0;case 4:return p.fn.call(p.context,l,n,o),!0;case 5:return p.fn.call(p.context,l,n,o,f),!0;case 6:return p.fn.call(p.context,l,n,o,f,h),!0}for(T=1,S=new Array(x-1);T<x;T++)S[T-1]=arguments[T];p.fn.apply(p.context,S)}else{var C=p.length,E;for(T=0;T<C;T++)switch(p[T].once&&this.removeListener(i,p[T].fn,void 0,!0),x){case 1:p[T].fn.call(p[T].context);break;case 2:p[T].fn.call(p[T].context,l);break;case 3:p[T].fn.call(p[T].context,l,n);break;case 4:p[T].fn.call(p[T].context,l,n,o);break;default:if(!S)for(E=1,S=new Array(x-1);E<x;E++)S[E-1]=arguments[E];p[T].fn.apply(p[T].context,S)}}return!0},r.prototype.on=function(i,l,n){return a(this,i,l,n,!1)},r.prototype.once=function(i,l,n){return a(this,i,l,n,!0)},r.prototype.removeListener=function(i,l,n,o){var f=t?t+i:i;if(!this._events[f])return this;if(!l)return s(this,f),this;var h=this._events[f];if(h.fn)h.fn===l&&(!o||h.once)&&(!n||h.context===n)&&s(this,f);else{for(var d=0,p=[],x=h.length;d<x;d++)(h[d].fn!==l||o&&!h[d].once||n&&h[d].context!==n)&&p.push(h[d]);p.length?this._events[f]=p.length===1?p[0]:p:s(this,f)}return this},r.prototype.removeAllListeners=function(i){var l;return i?(l=t?t+i:i,this._events[l]&&s(this,l)):(this._events=new u,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prefixed=t,r.EventEmitter=r,v.exports=r},62270:(v,y,t)=>{var u=t(82590),c=function(a,s,r,e){for(var i=a[0],l=1;l<a.length;l++){var n=a[l];u(n,i,s,r,e),i=n}return a};v.exports=c},61148:(v,y,t)=>{var u=t(6124),c=function(a,s,r,e,i){return u(a,"angle",s,r,e,i)};v.exports=c},22015:v=>{var y=function(t,u,c){for(var a=0;a<t.length;a++){var s=t[a];u.call(c,s)}return t};v.exports=y},31060:v=>{var y=function(t,u,c){c===void 0&&(c=0);for(var a=c;a<t.length;a++){var s=t[a],r=!0;for(var e in u)s[e]!==u[e]&&(r=!1);if(r)return s}return null};v.exports=y},52367:v=>{var y=function(t,u,c){c===void 0&&(c=0);for(var a=c;a<t.length;a++){var s=t[a],r=!0;for(var e in u)s[e]!==u[e]&&(r=!1);if(r)return s}return null};v.exports=y},12673:(v,y,t)=>{var u=t(40327),c=t(84093),a=t(72632),s=t(72283),r=t(71030),e=new r({sys:{queueDepthSort:s,events:{once:s}}},0,0,1,1).setOrigin(0,0),i=function(l,n){n===void 0&&(n={});var o=n.hasOwnProperty("width"),f=n.hasOwnProperty("height"),h=a(n,"width",-1),d=a(n,"height",-1),p=a(n,"cellWidth",1),x=a(n,"cellHeight",p),S=a(n,"position",c.TOP_LEFT),T=a(n,"x",0),C=a(n,"y",0),E=0,P=0,M=h*p,L=d*x;e.setPosition(T,C),e.setSize(p,x);for(var R=0;R<l.length;R++)if(u(l[R],e,S),o&&h===-1)e.x+=p;else if(f&&d===-1)e.y+=x;else if(f&&!o){if(P+=x,e.y+=x,P===L&&(P=0,E+=p,e.y=C,e.x+=p,E===M))break}else if(E+=p,e.x+=p,E===M&&(E=0,P+=x,e.x=T,e.y+=x,P===L))break;return l};v.exports=i},691:(v,y,t)=>{var u=t(6124),c=function(a,s,r,e,i){return u(a,"alpha",s,r,e,i)};v.exports=c},3877:(v,y,t)=>{var u=t(6124),c=function(a,s,r,e,i){return u(a,"x",s,r,e,i)};v.exports=c},71020:(v,y,t)=>{var u=t(6124),c=function(a,s,r,e,i,l,n){return r==null&&(r=s),u(a,"x",s,e,l,n),u(a,"y",r,i,l,n)};v.exports=c},28970:(v,y,t)=>{var u=t(6124),c=function(a,s,r,e,i){return u(a,"y",s,r,e,i)};v.exports=c},82249:v=>{var y=function(t,u,c,a){c===void 0&&(c=0),a===void 0&&(a=6.28);for(var s=c,r=(a-c)/t.length,e=u.x,i=u.y,l=u.radius,n=0;n<t.length;n++)t[n].x=e+l*Math.cos(s),t[n].y=i+l*Math.sin(s),s+=r;return t};v.exports=y},30285:v=>{var y=function(t,u,c,a){c===void 0&&(c=0),a===void 0&&(a=6.28);for(var s=c,r=(a-c)/t.length,e=u.width/2,i=u.height/2,l=0;l<t.length;l++)t[l].x=u.x+e*Math.cos(s),t[l].y=u.y+i*Math.sin(s),s+=r;return t};v.exports=y},61557:(v,y,t)=>{var u=t(8570),c=function(a,s){for(var r=u(s,a.length),e=0;e<a.length;e++){var i=a[e],l=r[e];i.x=l.x,i.y=l.y}return a};v.exports=c},63549:(v,y,t)=>{var u=t(40053),c=t(77640),a=t(38487),s=function(r,e,i){i===void 0&&(i=0);var l=u(e,!1,r.length);i>0?c(l,i):i<0&&a(l,Math.abs(i));for(var n=0;n<r.length;n++)r[n].x=l[n].x,r[n].y=l[n].y;return r};v.exports=s},51629:(v,y,t)=>{var u=t(58813),c=function(a,s,r){var e=u({x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2},r),i=u({x1:s.x2,y1:s.y2,x2:s.x3,y2:s.y3},r),l=u({x1:s.x3,y1:s.y3,x2:s.x1,y2:s.y1},r);e.pop(),i.pop(),l.pop(),e=e.concat(i,l);for(var n=e.length/a.length,o=0,f=0;f<a.length;f++){var h=a[f],d=e[Math.floor(o)];h.x=d.x,h.y=d.y,o+=n}return a};v.exports=c},1045:v=>{var y=function(t,u,c){for(var a=0;a<t.length;a++){var s=t[a];s.anims&&s.anims.play(u,c)}return t};v.exports=y},6124:v=>{var y=function(t,u,c,a,s,r){a===void 0&&(a=0),s===void 0&&(s=0),r===void 0&&(r=1);var e,i=0,l=t.length;if(r===1)for(e=s;e<l;e++)t[e][u]+=c+i*a,i++;else for(e=s;e>=0;e--)t[e][u]+=c+i*a,i++;return t};v.exports=y},23646:v=>{var y=function(t,u,c,a,s,r){a===void 0&&(a=0),s===void 0&&(s=0),r===void 0&&(r=1);var e,i=0,l=t.length;if(r===1)for(e=s;e<l;e++)t[e][u]=c+i*a,i++;else for(e=s;e>=0;e--)t[e][u]=c+i*a,i++;return t};v.exports=y},4392:(v,y,t)=>{var u=t(30977),c=function(a,s){for(var r=0;r<a.length;r++)u(s,a[r]);return a};v.exports=c},94985:(v,y,t)=>{var u=t(72006),c=function(a,s){for(var r=0;r<a.length;r++)u(s,a[r]);return a};v.exports=c},63305:(v,y,t)=>{var u=t(74077),c=function(a,s){for(var r=0;r<a.length;r++)u(s,a[r]);return a};v.exports=c},90739:(v,y,t)=>{var u=t(30001),c=function(a,s){for(var r=0;r<a.length;r++)u(s,a[r]);return a};v.exports=c},91417:(v,y,t)=>{var u=t(99761),c=function(a,s){for(var r=0;r<a.length;r++)u(s,a[r]);return a};v.exports=c},26182:(v,y,t)=>{var u=t(6124),c=function(a,s,r,e,i){return u(a,"rotation",s,r,e,i)};v.exports=c},87299:(v,y,t)=>{var u=t(72395),c=t(53996),a=function(s,r,e){for(var i=r.x,l=r.y,n=0;n<s.length;n++){var o=s[n];u(o,i,l,e,Math.max(1,c(o.x,o.y,i,l)))}return s};v.exports=a},92194:(v,y,t)=>{var u=t(72395),c=function(a,s,r,e){var i=s.x,l=s.y;if(e===0)return a;for(var n=0;n<a.length;n++)u(a[n],i,l,r,e);return a};v.exports=c},30363:(v,y,t)=>{var u=t(6124),c=function(a,s,r,e,i){return u(a,"scaleX",s,r,e,i)};v.exports=c},51449:(v,y,t)=>{var u=t(6124),c=function(a,s,r,e,i,l,n){return r==null&&(r=s),u(a,"scaleX",s,e,l,n),u(a,"scaleY",r,i,l,n)};v.exports=c},64895:(v,y,t)=>{var u=t(6124),c=function(a,s,r,e,i){return u(a,"scaleY",s,r,e,i)};v.exports=c},30329:(v,y,t)=>{var u=t(23646),c=function(a,s,r,e,i){return u(a,"alpha",s,r,e,i)};v.exports=c},43954:(v,y,t)=>{var u=t(23646),c=function(a,s,r,e){return u(a,"blendMode",s,0,r,e)};v.exports=c},70688:(v,y,t)=>{var u=t(23646),c=function(a,s,r,e,i){return u(a,"depth",s,r,e,i)};v.exports=c},8314:v=>{var y=function(t,u,c){for(var a=0;a<t.length;a++)t[a].setInteractive(u,c);return t};v.exports=y},12894:(v,y,t)=>{var u=t(23646),c=function(a,s,r,e,i,l,n){return r==null&&(r=s),u(a,"originX",s,e,l,n),u(a,"originY",r,i,l,n),a.forEach(function(o){o.updateDisplayOrigin()}),a};v.exports=c},38767:(v,y,t)=>{var u=t(23646),c=function(a,s,r,e,i){return u(a,"rotation",s,r,e,i)};v.exports=c},18584:(v,y,t)=>{var u=t(23646),c=function(a,s,r,e,i,l,n){return r==null&&(r=s),u(a,"scaleX",s,e,l,n),u(a,"scaleY",r,i,l,n)};v.exports=c},17381:(v,y,t)=>{var u=t(23646),c=function(a,s,r,e,i){return u(a,"scaleX",s,r,e,i)};v.exports=c},74370:(v,y,t)=>{var u=t(23646),c=function(a,s,r,e,i){return u(a,"scaleY",s,r,e,i)};v.exports=c},27773:(v,y,t)=>{var u=t(23646),c=function(a,s,r,e,i,l,n){return r==null&&(r=s),u(a,"scrollFactorX",s,e,l,n),u(a,"scrollFactorY",r,i,l,n)};v.exports=c},75257:(v,y,t)=>{var u=t(23646),c=function(a,s,r,e,i){return u(a,"scrollFactorX",s,r,e,i)};v.exports=c},54512:(v,y,t)=>{var u=t(23646),c=function(a,s,r,e,i){return u(a,"scrollFactorY",s,r,e,i)};v.exports=c},69423:v=>{var y=function(t,u,c,a,s){for(var r=0;r<t.length;r++)t[r].setTint(u,c,a,s);return t};v.exports=y},58291:(v,y,t)=>{var u=t(23646),c=function(a,s,r,e){return u(a,"visible",s,0,r,e)};v.exports=c},94833:(v,y,t)=>{var u=t(23646),c=function(a,s,r,e,i){return u(a,"x",s,r,e,i)};v.exports=c},14284:(v,y,t)=>{var u=t(23646),c=function(a,s,r,e,i,l,n){return r==null&&(r=s),u(a,"x",s,e,l,n),u(a,"y",r,i,l,n)};v.exports=c},96574:(v,y,t)=>{var u=t(23646),c=function(a,s,r,e,i){return u(a,"y",s,r,e,i)};v.exports=c},74086:(v,y,t)=>{var u=t(93736),c=function(a,s,r,e,i){e===void 0&&(e=0),i===void 0&&(i=new u);var l,n,o=a.length;if(o===1)l=a[0].x,n=a[0].y,a[0].x=s,a[0].y=r;else{var f=1,h=0;e===0&&(h=o-1,f=o-2),l=a[h].x,n=a[h].y,a[h].x=s,a[h].y=r;for(var d=0;d<o;d++)if(!(f>=o||f===-1)){var p=a[f],x=p.x,S=p.y;p.x=l,p.y=n,l=x,n=S,e===0?f--:f++}}return i.x=l,i.y=n,i};v.exports=c},86347:(v,y,t)=>{var u=t(18592),c=function(a){return u(a)};v.exports=c},1558:(v,y,t)=>{var u=t(5514),c=function(a,s,r,e,i){i===void 0&&(i=!1);var l=Math.abs(e-r)/a.length,n;if(i)for(n=0;n<a.length;n++)a[n][s]+=u(n*l,r,e);else for(n=0;n<a.length;n++)a[n][s]=u(n*l,r,e);return a};v.exports=c},9938:(v,y,t)=>{var u=t(87736),c=function(a,s,r,e,i){i===void 0&&(i=!1);var l=Math.abs(e-r)/a.length,n;if(i)for(n=0;n<a.length;n++)a[n][s]+=u(n*l,r,e);else for(n=0;n<a.length;n++)a[n][s]=u(n*l,r,e);return a};v.exports=c},71060:v=>{var y=function(t,u,c,a,s){if(s===void 0&&(s=!1),t.length===0)return t;if(t.length===1)return s?t[0][u]+=(a+c)/2:t[0][u]=(a+c)/2,t;var r=Math.abs(a-c)/(t.length-1),e;if(s)for(e=0;e<t.length;e++)t[e][u]+=e*r+c;else for(e=0;e<t.length;e++)t[e][u]=e*r+c;return t};v.exports=y},11207:v=>{var y=function(t){for(var u=0;u<t.length;u++)t[u].visible=!t[u].visible;return t};v.exports=y},24404:(v,y,t)=>{var u=t(1071),c=function(a,s,r){r===void 0&&(r=0);for(var e=0;e<a.length;e++){var i=a[e];i.x=u(i.x,s.left-r,s.right+r),i.y=u(i.y,s.top-r,s.bottom+r)}return a};v.exports=c},83979:(v,y,t)=>{v.exports={AlignTo:t(62270),Angle:t(61148),Call:t(22015),GetFirst:t(31060),GetLast:t(52367),GridAlign:t(12673),IncAlpha:t(691),IncX:t(3877),IncXY:t(71020),IncY:t(28970),PlaceOnCircle:t(82249),PlaceOnEllipse:t(30285),PlaceOnLine:t(61557),PlaceOnRectangle:t(63549),PlaceOnTriangle:t(51629),PlayAnimation:t(1045),PropertyValueInc:t(6124),PropertyValueSet:t(23646),RandomCircle:t(4392),RandomEllipse:t(94985),RandomLine:t(63305),RandomRectangle:t(90739),RandomTriangle:t(91417),Rotate:t(26182),RotateAround:t(87299),RotateAroundDistance:t(92194),ScaleX:t(30363),ScaleXY:t(51449),ScaleY:t(64895),SetAlpha:t(30329),SetBlendMode:t(43954),SetDepth:t(70688),SetHitArea:t(8314),SetOrigin:t(12894),SetRotation:t(38767),SetScale:t(18584),SetScaleX:t(17381),SetScaleY:t(74370),SetScrollFactor:t(27773),SetScrollFactorX:t(75257),SetScrollFactorY:t(54512),SetTint:t(69423),SetVisible:t(58291),SetX:t(94833),SetXY:t(14284),SetY:t(96574),ShiftPosition:t(74086),Shuffle:t(86347),SmootherStep:t(9938),SmoothStep:t(1558),Spread:t(71060),ToggleVisible:t(11207),WrapInRectangle:t(24404)}},85463:(v,y,t)=>{var u=t(82897),c=t(56694),a=t(16938),s=t(2406),r=t(71519),e=t(10850),i=t(28834),l=new c({initialize:function(o,f,h){this.manager=o,this.key=f,this.type="frame",this.frames=this.getFrames(o.textureManager,e(h,"frames",[]),e(h,"defaultTextureKey",null),e(h,"sortFrames",!0)),this.frameRate=e(h,"frameRate",null),this.duration=e(h,"duration",null),this.msPerFrame,this.skipMissedFrames=e(h,"skipMissedFrames",!0),this.delay=e(h,"delay",0),this.repeat=e(h,"repeat",0),this.repeatDelay=e(h,"repeatDelay",0),this.yoyo=e(h,"yoyo",!1),this.showBeforeDelay=e(h,"showBeforeDelay",!1),this.showOnStart=e(h,"showOnStart",!1),this.hideOnComplete=e(h,"hideOnComplete",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(a.PAUSE_ALL,this.pause,this),this.manager.on(a.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(n,o,f,h){f===null&&h===null?(n.frameRate=24,n.duration=24/o*1e3):f&&h===null?(n.duration=f,n.frameRate=o/(f/1e3)):(n.frameRate=h,n.duration=o/h*1e3),n.msPerFrame=1e3/n.frameRate},addFrame:function(n){return this.addFrameAt(this.frames.length,n)},addFrameAt:function(n,o){var f=this.getFrames(this.manager.textureManager,o);if(f.length>0){if(n===0)this.frames=f.concat(this.frames);else if(n===this.frames.length)this.frames=this.frames.concat(f);else{var h=this.frames.slice(0,n),d=this.frames.slice(n);this.frames=h.concat(f,d)}this.updateFrameSequence()}return this},checkFrame:function(n){return n>=0&&n<this.frames.length},getFirstTick:function(n){n.accumulator=0,n.nextTick=n.msPerFrame+n.currentFrame.duration},getFrameAt:function(n){return this.frames[n]},getFrames:function(n,o,f,h){h===void 0&&(h=!0);var d=[],p,x,S=1,T,C;if(typeof o=="string"){if(C=o,!n.exists(C))return console.warn('Texture "%s" not found',C),d;var E=n.get(C),P=E.getFrameNames();h&&i(P),o=[],P.forEach(function(B){o.push({key:C,frame:B})})}if(!Array.isArray(o)||o.length===0)return d;for(T=0;T<o.length;T++){var M=o[T],L=e(M,"key",f);if(L){var R=e(M,"frame",0),w=n.getFrame(L,R);if(!w){console.warn('Texture "%s" not found',L);continue}x=new r(L,R,S,w),x.duration=e(M,"duration",0),x.isFirst=!p,p&&(p.nextFrame=x,x.prevFrame=p),d.push(x),p=x,S++}}if(d.length>0){x.isLast=!0,x.nextFrame=d[0],d[0].prevFrame=x;var D=1/(d.length-1);for(T=0;T<d.length;T++)d[T].progress=T*D}return d},getNextTick:function(n){n.accumulator-=n.nextTick,n.nextTick=n.msPerFrame+n.currentFrame.duration},getFrameByProgress:function(n){return n=u(n,0,1),s(n,this.frames,"progress")},nextFrame:function(n){var o=n.currentFrame;o.isLast?n.yoyo?this.handleYoyoFrame(n,!1):n.repeatCounter>0?n.inReverse&&n.forward?n.forward=!1:this.repeatAnimation(n):n.complete():this.updateAndGetNextTick(n,o.nextFrame)},handleYoyoFrame:function(n,o){if(o||(o=!1),n.inReverse===!o&&n.repeatCounter>0){(n.repeatDelay===0||n.pendingRepeat)&&(n.forward=o),this.repeatAnimation(n);return}if(n.inReverse!==o&&n.repeatCounter===0){n.complete();return}n.forward=o;var f=o?n.currentFrame.nextFrame:n.currentFrame.prevFrame;this.updateAndGetNextTick(n,f)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(n){var o=n.currentFrame;o.isFirst?n.yoyo?this.handleYoyoFrame(n,!0):n.repeatCounter>0?n.inReverse&&!n.forward?this.repeatAnimation(n):(n.forward=!0,this.repeatAnimation(n)):n.complete():this.updateAndGetNextTick(n,o.prevFrame)},updateAndGetNextTick:function(n,o){n.setCurrentFrame(o),this.getNextTick(n)},removeFrame:function(n){var o=this.frames.indexOf(n);return o!==-1&&this.removeFrameAt(o),this},removeFrameAt:function(n){return this.frames.splice(n,1),this.updateFrameSequence(),this},repeatAnimation:function(n){if(n._pendingStop===2){if(n._pendingStopValue===0)return n.stop();n._pendingStopValue--}n.repeatDelay>0&&!n.pendingRepeat?(n.pendingRepeat=!0,n.accumulator-=n.nextTick,n.nextTick+=n.repeatDelay):(n.repeatCounter--,n.forward?n.setCurrentFrame(n.currentFrame.nextFrame):n.setCurrentFrame(n.currentFrame.prevFrame),n.isPlaying&&(this.getNextTick(n),n.handleRepeat()))},toJSON:function(){var n={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(o){n.frames.push(o.toJSON())}),n},updateFrameSequence:function(){for(var n=this.frames.length,o=1/(n-1),f,h=0;h<n;h++)f=this.frames[h],f.index=h+1,f.isFirst=!1,f.isLast=!1,f.progress=h*o,h===0?(f.isFirst=!0,n===1?(f.isLast=!0,f.nextFrame=f,f.prevFrame=f):(f.isLast=!1,f.prevFrame=this.frames[n-1],f.nextFrame=this.frames[h+1])):h===n-1&&n>1?(f.isLast=!0,f.prevFrame=this.frames[n-2],f.nextFrame=this.frames[0]):n>1&&(f.prevFrame=this.frames[h-1],f.nextFrame=this.frames[h+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(a.PAUSE_ALL,this.pause,this),this.manager.off(a.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var n=0;n<this.frames.length;n++)this.frames[n].destroy();this.frames=[],this.manager=null}});v.exports=l},71519:(v,y,t)=>{var u=t(56694),c=new u({initialize:function(s,r,e,i,l){l===void 0&&(l=!1),this.textureKey=s,this.textureFrame=r,this.index=e,this.frame=i,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=l},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});v.exports=c},90249:(v,y,t)=>{var u=t(85463),c=t(56694),a=t(33885),s=t(6659),r=t(16938),e=t(97081),i=t(72632),l=t(10850),n=t(83392),o=t(13401),f=t(76400),h=new c({Extends:s,initialize:function(p){s.call(this),this.game=p,this.textureManager=null,this.globalTimeScale=1,this.anims=new a,this.mixes=new a,this.paused=!1,this.name="AnimationManager",p.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(d,p,x){var S=this.anims,T=this.mixes,C=typeof d=="string"?d:d.key,E=typeof p=="string"?p:p.key;if(S.has(C)&&S.has(E)){var P=T.get(C);P||(P={}),P[E]=x,T.set(C,P)}return this},removeMix:function(d,p){var x=this.mixes,S=typeof d=="string"?d:d.key,T=x.get(S);if(T)if(p){var C=typeof p=="string"?p:p.key;T.hasOwnProperty(C)&&delete T[C]}else p||x.delete(S);return this},getMix:function(d,p){var x=this.mixes,S=typeof d=="string"?d:d.key,T=typeof p=="string"?p:p.key,C=x.get(S);return C&&C.hasOwnProperty(T)?C[T]:0},add:function(d,p){return this.anims.has(d)?(console.warn("Animation key exists: "+d),this):(p.key=d,this.anims.set(d,p),this.emit(r.ADD_ANIMATION,d,p),this)},exists:function(d){return this.anims.has(d)},createFromAseprite:function(d,p,x){var S=[],T=this.game.cache.json.get(d);if(!T)return console.warn("No Aseprite data found for: "+d),S;var C=this,E=l(T,"meta",null),P=l(T,"frames",null);if(E&&P){var M=l(E,"frameTags",[]);M.forEach(function(L){var R=[],w=i(L,"name",null),D=i(L,"from",0),B=i(L,"to",0),z=i(L,"direction","forward");if(w&&(!p||p&&p.indexOf(w)>-1)){for(var V=0,Y=D;Y<=B;Y++){var H=Y.toString(),I=P[H];if(I){var U=i(I,"duration",n.MAX_SAFE_INTEGER);R.push({key:d,frame:H,duration:U}),V+=U}}var O=V/R.length;R.forEach(function(X){X.duration-=O}),z==="reverse"&&(R=R.reverse());var N={key:w,frames:R,duration:V,yoyo:z==="pingpong"},G;x?x.anims&&(G=x.anims.create(N)):G=C.create(N),G&&S.push(G)}})}return S},create:function(d){var p=d.key,x=!1;return p&&(x=this.get(p),x?console.warn("AnimationManager key already exists: "+p):(x=new u(this,p,d),this.anims.set(p,x),this.emit(r.ADD_ANIMATION,p,x))),x},fromJSON:function(d,p){p===void 0&&(p=!1),p&&this.anims.clear(),typeof d=="string"&&(d=JSON.parse(d));var x=[];if(d.hasOwnProperty("anims")&&Array.isArray(d.anims)){for(var S=0;S<d.anims.length;S++)x.push(this.create(d.anims[S]));d.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=d.globalTimeScale)}else d.hasOwnProperty("key")&&d.type==="frame"&&x.push(this.create(d));return x},generateFrameNames:function(d,p){var x=l(p,"prefix",""),S=l(p,"start",0),T=l(p,"end",0),C=l(p,"suffix",""),E=l(p,"zeroPad",0),P=l(p,"outputArray",[]),M=l(p,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),P;var L=this.textureManager.get(d);if(!L)return P;var R;if(p)for(M||(M=o(S,T)),R=0;R<M.length;R++){var w=x+f(M[R],E,"0",1)+C;L.has(w)?P.push({key:d,frame:w}):console.warn('Frame "%s" not found in texture "%s"',w,d)}else for(M=L.getFrameNames(),R=0;R<M.length;R++)P.push({key:d,frame:M[R]});return P},generateFrameNumbers:function(d,p){var x=l(p,"start",0),S=l(p,"end",-1),T=l(p,"first",!1),C=l(p,"outputArray",[]),E=l(p,"frames",!1);if(!this.textureManager.exists(d))return console.warn('Texture "%s" not found',d),C;var P=this.textureManager.get(d);if(!P)return C;T&&P.has(T)&&C.push({key:d,frame:T}),E||(S===-1&&(S=P.frameTotal-2),E=o(x,S));for(var M=0;M<E.length;M++){var L=E[M];P.has(L)?C.push({key:d,frame:L}):console.warn('Frame "%s" not found in texture "%s"',L,d)}return C},get:function(d){return this.anims.get(d)},getAnimsFromTexture:function(d){for(var p=this.textureManager.get(d),x=p.key,S=this.anims.getArray(),T=[],C=0;C<S.length;C++)for(var E=S[C],P=E.frames,M=0;M<P.length;M++)if(P[M].textureKey===x){T.push(E.key);break}return T},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(r.PAUSE_ALL)),this},play:function(d,p){Array.isArray(p)||(p=[p]);for(var x=0;x<p.length;x++)p[x].anims.play(d);return this},staggerPlay:function(d,p,x,S){x===void 0&&(x=0),S===void 0&&(S=!0),Array.isArray(p)||(p=[p]);var T=p.length;S||T--;for(var C=0;C<p.length;C++){var E=x<0?Math.abs(x)*(T-C):x*C;p[C].anims.playAfterDelay(d,E)}return this},remove:function(d){var p=this.get(d);return p&&(this.emit(r.REMOVE_ANIMATION,d,p),this.anims.delete(d),this.removeMix(d)),p},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(r.RESUME_ALL)),this},toJSON:function(d){var p={anims:[],globalTimeScale:this.globalTimeScale};return d!==void 0&&d!==""?p.anims.push(this.anims.get(d).toJSON()):this.anims.each(function(x,S){p.anims.push(S.toJSON())}),p},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});v.exports=h},16569:(v,y,t)=>{var u=t(56694),c=t(33885),a=t(72632),s=t(16938),r=t(85463),e=new u({initialize:function(l){this.parent=l,this.animationManager=l.scene.sys.anims,this.animationManager.on(s.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(i){var l=this.parent;if(i===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,l;Array.isArray(i)||(i=[i]);for(var n=0;n<i.length;n++){var o=i[n];this.nextAnim?this.nextAnimsQueue.push(o):this.nextAnim=o}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(i){this.isPlaying&&this.stop();var l=this.animationManager,n=typeof i=="string"?i:a(i,"key",null),o=this.exists(n)?this.get(n):l.get(n);if(!o)console.warn("Missing animation: "+n);else{this.currentAnim=o;var f=o.getTotalFrames(),h=a(i,"frameRate",o.frameRate),d=a(i,"duration",o.duration);o.calculateDuration(this,f,d,h),this.delay=a(i,"delay",o.delay),this.repeat=a(i,"repeat",o.repeat),this.repeatDelay=a(i,"repeatDelay",o.repeatDelay),this.yoyo=a(i,"yoyo",o.yoyo),this.showBeforeDelay=a(i,"showBeforeDelay",o.showBeforeDelay),this.showOnStart=a(i,"showOnStart",o.showOnStart),this.hideOnComplete=a(i,"hideOnComplete",o.hideOnComplete),this.skipMissedFrames=a(i,"skipMissedFrames",o.skipMissedFrames),this.timeScale=a(i,"timeScale",this.timeScale);var p=a(i,"startFrame",0);p>o.getTotalFrames()&&(p=0);var x=o.frames[p];p===0&&!this.forward&&(x=o.getLastFrame()),this.currentFrame=x}return this.parent},pause:function(i){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),i!==void 0&&this.setCurrentFrame(i),this.parent},resume:function(i){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),i!==void 0&&this.setCurrentFrame(i),this.parent},playAfterDelay:function(i,l){if(!this.isPlaying)this.delayCounter=l,this.play(i,!0);else{var n=this.nextAnim,o=this.nextAnimsQueue;n&&o.unshift(n),this.nextAnim=i,this._pendingStop=1,this._pendingStopValue=l}return this.parent},playAfterRepeat:function(i,l){if(l===void 0&&(l=1),!this.isPlaying)this.play(i);else{var n=this.nextAnim,o=this.nextAnimsQueue;n&&o.unshift(n),this.repeatCounter!==-1&&l>this.repeatCounter&&(l=this.repeatCounter),this.nextAnim=i,this._pendingStop=2,this._pendingStopValue=l}return this.parent},play:function(i,l){l===void 0&&(l=!1);var n=this.currentAnim,o=this.parent,f=typeof i=="string"?i:i.key;if(l&&this.isPlaying&&n.key===f)return o;if(n&&this.isPlaying){var h=this.animationManager.getMix(n.key,i);if(h>0)return this.playAfterDelay(i,h)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(i)},playReverse:function(i,l){l===void 0&&(l=!1);var n=typeof i=="string"?i:i.key;return l&&this.isPlaying&&this.currentAnim.key===n?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(i))},startAnimation:function(i){this.load(i);var l=this.currentAnim,n=this.parent;return l&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,l.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),n},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(s.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(s.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(s.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(s.ANIMATION_COMPLETE,s.ANIMATION_COMPLETE_KEY)},emitEvents:function(i,l){var n=this.currentAnim;if(n){var o=this.currentFrame,f=this.parent,h=o.textureFrame;f.emit(i,n,o,f,h),l&&f.emit(l+n.key,n,o,f,h)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var i=this.currentFrame;if(!i)return 0;var l=i.progress;return this.inReverse&&(l*=-1),l},setProgress:function(i){return this.forward||(i=1-i),this.setCurrentFrame(this.currentAnim.getFrameByProgress(i)),this.parent},setRepeat:function(i){return this.repeatCounter=i===-1?Number.MAX_VALUE:i,this.parent},globalRemove:function(i,l){l===void 0&&(l=this.currentAnim),this.isPlaying&&l.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(i,l){i===void 0&&(i=!1),l===void 0&&(l=!1);var n=this.currentAnim,o=this.parent;return n?(l&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),n.getFirstTick(this),this.emitEvents(s.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!i,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(n.frames[0]),this.parent):o},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var i=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(i)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var i=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(i)}return this.parent},stopAfterDelay:function(i){return this._pendingStop=1,this._pendingStopValue=i,this.parent},stopAfterRepeat:function(i){return i===void 0&&(i=1),this.repeatCounter!==-1&&i>this.repeatCounter&&(i=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=i,this.parent},stopOnFrame:function(i){return this._pendingStop=3,this._pendingStopValue=i,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(i,l){var n=this.currentAnim;if(!(!this.isPlaying||!n||n.paused)){if(this.accumulator+=l*this.timeScale,this._pendingStop===1&&(this._pendingStopValue-=l,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?n.nextFrame(this):n.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var o=0;do this.forward?n.nextFrame(this):n.previousFrame(this),o++;while(this.isPlaying&&this.accumulator>this.nextTick&&o<60)}}},setCurrentFrame:function(i){var l=this.parent;return this.currentFrame=i,l.texture=i.frame.texture,l.frame=i.frame,l.isCropped&&l.frame.updateCropUVs(l._crop,l.flipX,l.flipY),i.setAlpha&&(l.alpha=i.alpha),l.setSizeToFrame(),l._originComponent&&(i.frame.customPivot?l.setOrigin(i.frame.pivotX,i.frame.pivotY):l.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(s.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===i&&this.stop()),l},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(i){return this.anims?this.anims.get(i):null},exists:function(i){return this.anims?this.anims.has(i):!1},create:function(i){var l=i.key,n=!1;return l&&(n=this.get(l),n?console.warn("Animation key already exists: "+l):(n=new r(this,l,i),this.anims||(this.anims=new c),this.anims.set(l,n))),n},createFromAseprite:function(i,l){return this.animationManager.createFromAseprite(i,l,this.parent)},generateFrameNames:function(i,l){return this.animationManager.generateFrameNames(i,l)},generateFrameNumbers:function(i,l){return this.animationManager.generateFrameNumbers(i,l)},remove:function(i){var l=this.get(i);return l&&(this.currentAnim===l&&this.stop(),this.anims.delete(i)),l},destroy:function(){this.animationManager.off(s.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});v.exports=e},44509:v=>{v.exports="add"},84563:v=>{v.exports="animationcomplete"},61586:v=>{v.exports="animationcomplete-"},72175:v=>{v.exports="animationrepeat"},568:v=>{v.exports="animationrestart"},37690:v=>{v.exports="animationstart"},58525:v=>{v.exports="animationstop"},5243:v=>{v.exports="animationupdate"},10598:v=>{v.exports="pauseall"},4860:v=>{v.exports="remove"},31865:v=>{v.exports="resumeall"},16938:(v,y,t)=>{v.exports={ADD_ANIMATION:t(44509),ANIMATION_COMPLETE:t(84563),ANIMATION_COMPLETE_KEY:t(61586),ANIMATION_REPEAT:t(72175),ANIMATION_RESTART:t(568),ANIMATION_START:t(37690),ANIMATION_STOP:t(58525),ANIMATION_UPDATE:t(5243),PAUSE_ALL:t(10598),REMOVE_ANIMATION:t(4860),RESUME_ALL:t(31865)}},13517:(v,y,t)=>{v.exports={Animation:t(85463),AnimationFrame:t(71519),AnimationManager:t(90249),AnimationState:t(16569),Events:t(16938)}},23740:(v,y,t)=>{var u=t(56694),c=t(33885),a=t(6659),s=t(69773),r=new u({initialize:function(){this.entries=new c,this.events=new a},add:function(e,i){return this.entries.set(e,i),this.events.emit(s.ADD,this,e,i),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var i=this.get(e);return i&&(this.entries.delete(e),this.events.emit(s.REMOVE,this,e,i.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});v.exports=r},43474:(v,y,t)=>{var u=t(23740),c=t(56694),a=t(97081),s=new c({initialize:function(e){this.game=e,this.binary=new u,this.bitmapFont=new u,this.json=new u,this.physics=new u,this.shader=new u,this.audio=new u,this.video=new u,this.text=new u,this.html=new u,this.obj=new u,this.tilemap=new u,this.xml=new u,this.custom={},this.game.events.once(a.DESTROY,this.destroy,this)},addCustom:function(r){return this.custom.hasOwnProperty(r)||(this.custom[r]=new u),this.custom[r]},destroy:function(){for(var r=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<r.length;e++)this[r[e]].destroy(),this[r[e]]=null;for(var i in this.custom)this.custom[i].destroy();this.custom=null,this.game=null}});v.exports=s},94762:v=>{v.exports="add"},75968:v=>{v.exports="remove"},69773:(v,y,t)=>{v.exports={ADD:t(94762),REMOVE:t(75968)}},45820:(v,y,t)=>{v.exports={BaseCache:t(23740),CacheManager:t(43474),Events:t(69773)}},51052:(v,y,t)=>{var u=t(56694),c=t(64937),a=t(75606),s=t(6659),r=t(89787),e=t(74118),i=t(69360),l=t(93222),n=t(93736),o=new u({Extends:s,Mixins:[c.AlphaSingle,c.Visible],initialize:function(h,d,p,x){h===void 0&&(h=0),d===void 0&&(d=0),p===void 0&&(p=0),x===void 0&&(x=0),s.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new e,this.dirty=!0,this._x=h,this._y=d,this._width=p,this._height=x,this._bounds=new e,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new i,this.transparent=!0,this.backgroundColor=l("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new n(p/2,x/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(f){this.renderList.push(f)},setOrigin:function(f,h){return f===void 0&&(f=.5),h===void 0&&(h=f),this.originX=f,this.originY=h,this},getScroll:function(f,h,d){d===void 0&&(d=new n);var p=this.width*.5,x=this.height*.5;return d.x=f-p,d.y=h-x,this.useBounds&&(d.x=this.clampX(d.x),d.y=this.clampY(d.y)),d},centerOnX:function(f){var h=this.width*.5;return this.midPoint.x=f,this.scrollX=f-h,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(f){var h=this.height*.5;return this.midPoint.y=f,this.scrollY=f-h,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(f,h){return this.centerOnX(f),this.centerOnY(h),this},centerToBounds:function(){if(this.useBounds){var f=this._bounds,h=this.width*.5,d=this.height*.5;this.midPoint.set(f.centerX,f.centerY),this.scrollX=f.centerX-h,this.scrollY=f.centerY-d}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(f){if(this.disableCull)return f;var h=this.matrix.matrix,d=h[0],p=h[1],x=h[2],S=h[3],T=d*S-p*x;if(!T)return f;var C=h[4],E=h[5],P=this.scrollX,M=this.scrollY,L=this.width,R=this.height,w=this.y,D=w+R,B=this.x,z=B+L,V=this.culledObjects,Y=f.length;T=1/T,V.length=0;for(var H=0;H<Y;++H){var I=f[H];if(!I.hasOwnProperty("width")||I.parentContainer){V.push(I);continue}var U=I.width,O=I.height,N=I.x-P*I.scrollFactorX-U*I.originX,G=I.y-M*I.scrollFactorY-O*I.originY,X=N*d+G*x+C,W=N*p+G*S+E,b=(N+U)*d+(G+O)*x+C,K=(N+U)*p+(G+O)*S+E;b>B&&X<z&&K>w&&W<D&&V.push(I)}return V},getWorldPoint:function(f,h,d){d===void 0&&(d=new n);var p=this.matrix.matrix,x=p[0],S=p[1],T=p[2],C=p[3],E=p[4],P=p[5],M=x*C-S*T;if(!M)return d.x=f,d.y=h,d;M=1/M;var L=C*M,R=-S*M,w=-T*M,D=x*M,B=(T*P-C*E)*M,z=(S*E-x*P)*M,V=Math.cos(this.rotation),Y=Math.sin(this.rotation),H=this.zoomX,I=this.zoomY,U=this.scrollX,O=this.scrollY,N=f+(U*V-O*Y)*H,G=h+(U*Y+O*V)*I;return d.x=N*L+G*w+B,d.y=N*R+G*D+z,d},ignore:function(f){var h=this.id;Array.isArray(f)||(f=[f]);for(var d=0;d<f.length;d++){var p=f[d];Array.isArray(p)?this.ignore(p):p.isParent?this.ignore(p.getChildren()):p.cameraFilter|=h}return this},preRender:function(){this.renderList.length=0;var f=this.width,h=this.height,d=f*.5,p=h*.5,x=this.zoomX,S=this.zoomY,T=this.matrix,C=f*this.originX,E=h*this.originY,P=this.scrollX,M=this.scrollY;this.useBounds&&(P=this.clampX(P),M=this.clampY(M)),this.roundPixels&&(C=Math.round(C),E=Math.round(E)),this.scrollX=P,this.scrollY=M;var L=P+d,R=M+p;this.midPoint.set(L,R);var w=f/x,D=h/S;this.worldView.setTo(L-w/2,R-D/2,w,D),T.applyITRS(this.x+C,this.y+E,this.rotation,x,S),T.translate(-C,-E)},clampX:function(f){var h=this._bounds,d=this.displayWidth,p=h.x+(d-this.width)/2,x=Math.max(p,p+h.width-d);return f<p?f=p:f>x&&(f=x),f},clampY:function(f){var h=this._bounds,d=this.displayHeight,p=h.y+(d-this.height)/2,x=Math.max(p,p+h.height-d);return f<p?f=p:f>x&&(f=x),f},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(f){return f===void 0&&(f=0),this.rotation=a(f),this},setBackgroundColor:function(f){return f===void 0&&(f="rgba(0,0,0,0)"),this.backgroundColor=l(f),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(f,h,d,p,x){return x===void 0&&(x=!1),this._bounds.setTo(f,h,d,p),this.dirty=!0,this.useBounds=!0,x?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(f){f===void 0&&(f=new e);var h=this._bounds;return f.setTo(h.x,h.y,h.width,h.height),f},setName:function(f){return f===void 0&&(f=""),this.name=f,this},setPosition:function(f,h){return h===void 0&&(h=f),this.x=f,this.y=h,this},setRotation:function(f){return f===void 0&&(f=0),this.rotation=f,this},setRoundPixels:function(f){return this.roundPixels=f,this},setScene:function(f,h){h===void 0&&(h=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=f,this.isSceneCamera=h;var d=f.sys;return this.sceneManager=d.game.scene,this.scaleManager=d.scale,this.cameraManager=d.cameras,this.updateSystem(),this},setScroll:function(f,h){return h===void 0&&(h=f),this.scrollX=f,this.scrollY=h,this},setSize:function(f,h){return h===void 0&&(h=f),this.width=f,this.height=h,this},setViewport:function(f,h,d,p){return this.x=f,this.y=h,this.width=d,this.height=p,this},setZoom:function(f,h){return f===void 0&&(f=1),h===void 0&&(h=f),f===0&&(f=.001),h===0&&(h=.001),this.zoomX=f,this.zoomY=h,this},setMask:function(f,h){return h===void 0&&(h=!0),this.mask=f,this._maskCamera=h?this.cameraManager.default:this,this},clearMask:function(f){return f===void 0&&(f=!1),f&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var f={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(f.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),f},update:function(){},setIsSceneCamera:function(f){return this.isSceneCamera=f,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var f=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,h=this.sceneManager;f&&!this._customViewport?h.customViewports++:!f&&this._customViewport&&h.customViewports--,this.dirty=!0,this._customViewport=f}},destroy:function(){this.emit(r.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(f){this._x=f,this.updateSystem()}},y:{get:function(){return this._y},set:function(f){this._y=f,this.updateSystem()}},width:{get:function(){return this._width},set:function(f){this._width=f,this.updateSystem()}},height:{get:function(){return this._height},set:function(f){this._height=f,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(f){f!==this._scrollX&&(this._scrollX=f,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(f){f!==this._scrollY&&(this._scrollY=f,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(f){this._zoomX=f,this._zoomY=f,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(f){this._zoomX=f,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(f){this._zoomY=f,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});v.exports=o},47751:(v,y,t)=>{var u=t(51052),c=t(79993),a=t(82897),s=t(56694),r=t(64937),e=t(53030),i=t(89787),l=t(42798),n=t(74118),o=t(93736),f=new s({Extends:u,Mixins:[r.PostPipeline],initialize:function(d,p,x,S){u.call(this,d,p,x,S),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new o(1,1),this.followOffset=new o,this.deadzone=null,this._follow=null},setDeadzone:function(h,d){if(h===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=h,this.deadzone.height=d):this.deadzone=new n(0,0,h,d),this._follow){var p=this.width/2,x=this.height/2,S=this._follow.x-this.followOffset.x,T=this._follow.y-this.followOffset.y;this.midPoint.set(S,T),this.scrollX=S-p,this.scrollY=T-x}c(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(h,d,p,x,S,T){return this.fadeEffect.start(!1,h,d,p,x,!0,S,T)},fadeOut:function(h,d,p,x,S,T){return this.fadeEffect.start(!0,h,d,p,x,!0,S,T)},fadeFrom:function(h,d,p,x,S,T,C){return this.fadeEffect.start(!1,h,d,p,x,S,T,C)},fade:function(h,d,p,x,S,T,C){return this.fadeEffect.start(!0,h,d,p,x,S,T,C)},flash:function(h,d,p,x,S,T,C){return this.flashEffect.start(h,d,p,x,S,T,C)},shake:function(h,d,p,x,S){return this.shakeEffect.start(h,d,p,x,S)},pan:function(h,d,p,x,S,T,C){return this.panEffect.start(h,d,p,x,S,T,C)},rotateTo:function(h,d,p,x,S,T,C){return this.rotateToEffect.start(h,d,p,x,S,T,C)},zoomTo:function(h,d,p,x,S,T){return this.zoomEffect.start(h,d,p,x,S,T)},preRender:function(){this.renderList.length=0;var h=this.width,d=this.height,p=h*.5,x=d*.5,S=this.zoom,T=this.matrix,C=h*this.originX,E=d*this.originY,P=this._follow,M=this.deadzone,L=this.scrollX,R=this.scrollY;M&&c(M,this.midPoint.x,this.midPoint.y);var w=!1;if(this.roundPixels&&(C=Math.floor(C),E=Math.floor(E)),P&&!this.panEffect.isRunning){var D=this.lerp,B=P.x-this.followOffset.x,z=P.y-this.followOffset.y;this.roundPixels&&(B=Math.floor(B),z=Math.floor(z)),M?(B<M.x?L=l(L,L-(M.x-B),D.x):B>M.right&&(L=l(L,L+(B-M.right),D.x)),z<M.y?R=l(R,R-(M.y-z),D.y):z>M.bottom&&(R=l(R,R+(z-M.bottom),D.y))):(L=l(L,B-C,D.x),R=l(R,z-E,D.y)),w=!0}this.useBounds&&(L=this.clampX(L),R=this.clampY(R)),this.roundPixels&&(L=Math.floor(L),R=Math.floor(R)),this.scrollX=L,this.scrollY=R;var V=L+p,Y=R+x;this.midPoint.set(V,Y);var H=h/S,I=d/S,U=V-H/2,O=Y-I/2;this.roundPixels&&(U=Math.floor(U),O=Math.floor(O)),this.worldView.setTo(U,O,H,I),T.applyITRS(Math.floor(this.x+C),Math.floor(this.y+E),this.rotation,S,S),T.translate(-C,-E),this.shakeEffect.preRender(),w&&this.emit(i.FOLLOW_UPDATE,this,P)},setLerp:function(h,d){return h===void 0&&(h=1),d===void 0&&(d=h),this.lerp.set(h,d),this},setFollowOffset:function(h,d){return h===void 0&&(h=0),d===void 0&&(d=0),this.followOffset.set(h,d),this},startFollow:function(h,d,p,x,S,T){d===void 0&&(d=!1),p===void 0&&(p=1),x===void 0&&(x=p),S===void 0&&(S=0),T===void 0&&(T=S),this._follow=h,this.roundPixels=d,p=a(p,0,1),x=a(x,0,1),this.lerp.set(p,x),this.followOffset.set(S,T);var C=this.width/2,E=this.height/2,P=h.x-S,M=h.y-T;return this.midPoint.set(P,M),this.scrollX=P-C,this.scrollY=M-E,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(h,d){this.visible&&(this.rotateToEffect.update(h,d),this.panEffect.update(h,d),this.zoomEffect.update(h,d),this.shakeEffect.update(h,d),this.flashEffect.update(h,d),this.fadeEffect.update(h,d))},destroy:function(){this.resetFX(),u.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});v.exports=f},62382:(v,y,t)=>{var u=t(47751),c=t(56694),a=t(72632),s=t(91963),r=t(94287),e=t(40444),i=t(7599),l=new c({initialize:function(o){this.scene=o,this.systems=o.sys,this.roundPixels=o.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,o.sys.events.once(i.BOOT,this.boot,this),o.sys.events.on(i.START,this.start,this)},boot:function(){var n=this.systems;n.settings.cameras?this.fromJSON(n.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new u(0,0,n.scale.width,n.scale.height).setScene(this.scene),n.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(i.DESTROY,this.destroy,this)},start:function(){if(!this.main){var n=this.systems;n.settings.cameras?this.fromJSON(n.settings.cameras):this.add(),this.main=this.cameras[0]}var o=this.systems.events;o.on(i.UPDATE,this.update,this),o.once(i.SHUTDOWN,this.shutdown,this)},add:function(n,o,f,h,d,p){n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=this.scene.sys.scale.width),h===void 0&&(h=this.scene.sys.scale.height),d===void 0&&(d=!1),p===void 0&&(p="");var x=new u(n,o,f,h);return x.setName(p),x.setScene(this.scene),x.setRoundPixels(this.roundPixels),x.id=this.getNextID(),this.cameras.push(x),d&&(this.main=x),x},addExisting:function(n,o){o===void 0&&(o=!1);var f=this.cameras.indexOf(n);return f===-1?(n.id=this.getNextID(),n.setRoundPixels(this.roundPixels),this.cameras.push(n),o&&(this.main=n),n):null},getNextID:function(){for(var n=this.cameras,o=1,f=0;f<32;f++){for(var h=!1,d=0;d<n.length;d++){var p=n[d];if(p&&p.id===o){h=!0;continue}}if(h)o=o<<1;else return o}return 0},getTotal:function(n){n===void 0&&(n=!1);for(var o=0,f=this.cameras,h=0;h<f.length;h++){var d=f[h];(!n||n&&d.visible)&&o++}return o},fromJSON:function(n){Array.isArray(n)||(n=[n]);for(var o=this.scene.sys.scale.width,f=this.scene.sys.scale.height,h=0;h<n.length;h++){var d=n[h],p=a(d,"x",0),x=a(d,"y",0),S=a(d,"width",o),T=a(d,"height",f),C=this.add(p,x,S,T);C.name=a(d,"name",""),C.zoom=a(d,"zoom",1),C.rotation=a(d,"rotation",0),C.scrollX=a(d,"scrollX",0),C.scrollY=a(d,"scrollY",0),C.roundPixels=a(d,"roundPixels",!1),C.visible=a(d,"visible",!0);var E=a(d,"backgroundColor",!1);E&&C.setBackgroundColor(E);var P=a(d,"bounds",null);if(P){var M=a(P,"x",0),L=a(P,"y",0),R=a(P,"width",o),w=a(P,"height",f);C.setBounds(M,L,R,w)}}return this},getCamera:function(n){for(var o=this.cameras,f=0;f<o.length;f++)if(o[f].name===n)return o[f];return null},getCamerasBelowPointer:function(n){for(var o=this.cameras,f=n.x,h=n.y,d=[],p=0;p<o.length;p++){var x=o[p];x.visible&&x.inputEnabled&&r(x,f,h)&&d.unshift(x)}return d},remove:function(n,o){o===void 0&&(o=!0),Array.isArray(n)||(n=[n]);for(var f=0,h=this.cameras,d=0;d<n.length;d++){var p=h.indexOf(n[d]);p!==-1&&(o?h[p].destroy():h[p].renderList=[],h.splice(p,1),f++)}return!this.main&&h[0]&&(this.main=h[0]),f},render:function(n,o){for(var f=this.scene,h=this.cameras,d=0;d<h.length;d++){var p=h[d];if(p.visible&&p.alpha>0){p.preRender();var x=this.getVisibleChildren(o.getChildren(),p);n.render(f,x,p)}}},getVisibleChildren:function(n,o){return n.filter(function(f){return f.willRender(o)})},resetAll:function(){for(var n=0;n<this.cameras.length;n++)this.cameras[n].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(n,o){for(var f=0;f<this.cameras.length;f++)this.cameras[f].update(n,o)},onResize:function(n,o,f,h,d){for(var p=0;p<this.cameras.length;p++){var x=this.cameras[p];x._x===0&&x._y===0&&x._width===h&&x._height===d&&x.setSize(o.width,o.height)}},resize:function(n,o){for(var f=0;f<this.cameras.length;f++)this.cameras[f].setSize(n,o)},shutdown:function(){this.main=void 0;for(var n=0;n<this.cameras.length;n++)this.cameras[n].destroy();this.cameras=[];var o=this.systems.events;o.off(i.UPDATE,this.update,this),o.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(i.START,this.start,this),this.systems.events.off(i.DESTROY,this.destroy,this),this.systems.game.scale.off(e.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});s.register("CameraManager",l,"cameras"),v.exports=l},92522:(v,y,t)=>{var u=t(82897),c=t(56694),a=t(89787),s=new c({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,e,i,l,n,o,f,h){if(r===void 0&&(r=!0),e===void 0&&(e=1e3),i===void 0&&(i=0),l===void 0&&(l=0),n===void 0&&(n=0),o===void 0&&(o=!1),f===void 0&&(f=null),h===void 0&&(h=this.camera.scene),!o&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=r,this.progress=0,this.red=i,this.green=l,this.blue=n,this.alpha=r?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=f,this._onUpdateScope=h;var d=r?a.FADE_OUT_START:a.FADE_IN_START;return this.camera.emit(d,this.camera,this,e,i,l,n),this.camera},update:function(r,e){this.isRunning&&(this._elapsed+=e,this.progress=u(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(r){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(r,e){if(!this.isRunning&&!this.isComplete)return!1;var i=this.camera,l=this.red/255,n=this.green/255,o=this.blue/255;return r.drawFillRect(i.x,i.y,i.width,i.height,e(o,n,l,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var r=this.direction?a.FADE_OUT_COMPLETE:a.FADE_IN_COMPLETE;this.camera.emit(r,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});v.exports=s},22151:(v,y,t)=>{var u=t(82897),c=t(56694),a=t(89787),s=new c({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(r,e,i,l,n,o,f){return r===void 0&&(r=250),e===void 0&&(e=255),i===void 0&&(i=255),l===void 0&&(l=255),n===void 0&&(n=!1),o===void 0&&(o=null),f===void 0&&(f=this.camera.scene),!n&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=r,this.progress=0,this.red=e,this.green=i,this.blue=l,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=o,this._onUpdateScope=f,this.camera.emit(a.FLASH_START,this.camera,this,r,e,i,l),this.camera)},update:function(r,e){this.isRunning&&(this._elapsed+=e,this.progress=u(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(r){if(!this.isRunning)return!1;var e=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(r,e){if(!this.isRunning)return!1;var i=this.camera,l=this.red/255,n=this.green/255,o=this.blue/255;return r.drawFillRect(i.x,i.y,i.width,i.height,e(o,n,l,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});v.exports=s},37551:(v,y,t)=>{var u=t(82897),c=t(56694),a=t(35060),s=t(89787),r=t(93736),e=new c({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.source=new r,this.current=new r,this.destination=new r,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(i,l,n,o,f,h,d){n===void 0&&(n=1e3),o===void 0&&(o=a.Linear),f===void 0&&(f=!1),h===void 0&&(h=null),d===void 0&&(d=this.camera.scene);var p=this.camera;return!f&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,this.source.set(p.scrollX,p.scrollY),this.destination.set(i,l),p.getScroll(i,l,this.current),typeof o=="string"&&a.hasOwnProperty(o)?this.ease=a[o]:typeof o=="function"&&(this.ease=o),this._elapsed=0,this._onUpdate=h,this._onUpdateScope=d,this.camera.emit(s.PAN_START,this.camera,this,n,i,l)),p},update:function(i,l){if(this.isRunning){this._elapsed+=l;var n=u(this._elapsed/this.duration,0,1);this.progress=n;var o=this.camera;if(this._elapsed<this.duration){var f=this.ease(n);o.getScroll(this.destination.x,this.destination.y,this.current);var h=this.source.x+(this.current.x-this.source.x)*f,d=this.source.y+(this.current.y-this.source.y)*f;o.setScroll(h,d),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,n,h,d)}else o.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,n,o.scrollX,o.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});v.exports=e},1771:(v,y,t)=>{var u=t(82897),c=t(56694),a=t(89787),s=t(35060),r=new c({initialize:function(i){this.camera=i,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,i,l,n,o,f,h){l===void 0&&(l=1e3),n===void 0&&(n=s.Linear),o===void 0&&(o=!1),f===void 0&&(f=null),h===void 0&&(h=this.camera.scene),i===void 0&&(i=!1),this.shortestPath=i;var d=e;e<0?(d=-1*e,this.clockwise=!1):this.clockwise=!0;var p=360*Math.PI/180;d=d-Math.floor(d/p)*p;var x=this.camera;if(!o&&this.isRunning)return x;if(this.isRunning=!0,this.duration=l,this.progress=0,this.source=x.rotation,this.destination=d,typeof n=="string"&&s.hasOwnProperty(n)?this.ease=s[n]:typeof n=="function"&&(this.ease=n),this._elapsed=0,this._onUpdate=f,this._onUpdateScope=h,this.shortestPath){var S=0,T=0;this.destination>this.source?S=Math.abs(this.destination-this.source):S=Math.abs(this.destination+p)-this.source,this.source>this.destination?T=Math.abs(this.source-this.destination):T=Math.abs(this.source+p)-this.destination,S<T?this.clockwise=!0:S>T&&(this.clockwise=!1)}return this.camera.emit(a.ROTATE_START,this.camera,this,l,d),x},update:function(e,i){if(this.isRunning){this._elapsed+=i;var l=u(this._elapsed/this.duration,0,1);this.progress=l;var n=this.camera;if(this._elapsed<this.duration){var o=this.ease(l);this.current=n.rotation;var f=0,h=360*Math.PI/180,d=this.destination,p=this.current;this.clockwise===!1&&(d=this.current,p=this.destination),d>=p?f=Math.abs(d-p):f=Math.abs(d+h)-p;var x=0;this.clockwise?x=n.rotation+f*o:x=n.rotation-f*o,n.rotation=x,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,l,x)}else n.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,l,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});v.exports=r},3241:(v,y,t)=>{var u=t(82897),c=t(56694),a=t(89787),s=t(93736),r=new c({initialize:function(i){this.camera=i,this.isRunning=!1,this.duration=0,this.intensity=new s,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,i,l,n,o){return e===void 0&&(e=100),i===void 0&&(i=.05),l===void 0&&(l=!1),n===void 0&&(n=null),o===void 0&&(o=this.camera.scene),!l&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof i=="number"?this.intensity.set(i):this.intensity.set(i.x,i.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=n,this._onUpdateScope=o,this.camera.emit(a.SHAKE_START,this.camera,this,e,i),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,i){if(this.isRunning)if(this._elapsed+=i,this.progress=u(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var l=this.intensity,n=this.camera.width,o=this.camera.height,f=this.camera.zoom;this._offsetX=(Math.random()*l.x*n*2-l.x*n)*f,this._offsetY=(Math.random()*l.y*o*2-l.y*o)*f,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});v.exports=r},13383:(v,y,t)=>{var u=t(82897),c=t(56694),a=t(35060),s=t(89787),r=new c({initialize:function(i){this.camera=i,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,i,l,n,o,f){i===void 0&&(i=1e3),l===void 0&&(l=a.Linear),n===void 0&&(n=!1),o===void 0&&(o=null),f===void 0&&(f=this.camera.scene);var h=this.camera;return!n&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source=h.zoom,this.destination=e,typeof l=="string"&&a.hasOwnProperty(l)?this.ease=a[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=o,this._onUpdateScope=f,this.camera.emit(s.ZOOM_START,this.camera,this,i,e)),h},update:function(e,i){this.isRunning&&(this._elapsed+=i,this.progress=u(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});v.exports=r},53030:(v,y,t)=>{v.exports={Fade:t(92522),Flash:t(22151),Pan:t(37551),Shake:t(3241),RotateTo:t(1771),Zoom:t(13383)}},39577:v=>{v.exports="cameradestroy"},85373:v=>{v.exports="camerafadeincomplete"},92057:v=>{v.exports="camerafadeinstart"},1903:v=>{v.exports="camerafadeoutcomplete"},96131:v=>{v.exports="camerafadeoutstart"},85409:v=>{v.exports="cameraflashcomplete"},25500:v=>{v.exports="cameraflashstart"},44071:v=>{v.exports="followupdate"},19818:v=>{v.exports="camerapancomplete"},80002:v=>{v.exports="camerapanstart"},87966:v=>{v.exports="postrender"},74217:v=>{v.exports="prerender"},34805:v=>{v.exports="camerarotatecomplete"},30408:v=>{v.exports="camerarotatestart"},49856:v=>{v.exports="camerashakecomplete"},69189:v=>{v.exports="camerashakestart"},67657:v=>{v.exports="camerazoomcomplete"},14229:v=>{v.exports="camerazoomstart"},89787:(v,y,t)=>{v.exports={DESTROY:t(39577),FADE_IN_COMPLETE:t(85373),FADE_IN_START:t(92057),FADE_OUT_COMPLETE:t(1903),FADE_OUT_START:t(96131),FLASH_COMPLETE:t(85409),FLASH_START:t(25500),FOLLOW_UPDATE:t(44071),PAN_COMPLETE:t(19818),PAN_START:t(80002),POST_RENDER:t(87966),PRE_RENDER:t(74217),ROTATE_COMPLETE:t(34805),ROTATE_START:t(30408),SHAKE_COMPLETE:t(49856),SHAKE_START:t(69189),ZOOM_COMPLETE:t(67657),ZOOM_START:t(14229)}},32356:(v,y,t)=>{v.exports={Camera:t(47751),BaseCamera:t(51052),CameraManager:t(62382),Effects:t(53030),Events:t(89787)}},84219:(v,y,t)=>{var u=t(56694),c=t(10850),a=new u({initialize:function(r){this.camera=c(r,"camera",null),this.left=c(r,"left",null),this.right=c(r,"right",null),this.up=c(r,"up",null),this.down=c(r,"down",null),this.zoomIn=c(r,"zoomIn",null),this.zoomOut=c(r,"zoomOut",null),this.zoomSpeed=c(r,"zoomSpeed",.01),this.minZoom=c(r,"minZoom",.001),this.maxZoom=c(r,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=c(r,"speed",null);typeof e=="number"?(this.speedX=e,this.speedY=e):(this.speedX=c(r,"speed.x",0),this.speedY=c(r,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(s){return this.camera=s,this},update:function(s){if(this.active){s===void 0&&(s=1);var r=this.camera;this.up&&this.up.isDown?r.scrollY-=this.speedY*s|0:this.down&&this.down.isDown&&(r.scrollY+=this.speedY*s|0),this.left&&this.left.isDown?r.scrollX-=this.speedX*s|0:this.right&&this.right.isDown&&(r.scrollX+=this.speedX*s|0),this.zoomIn&&this.zoomIn.isDown?(r.zoom-=this.zoomSpeed,r.zoom<this.minZoom&&(r.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(r.zoom+=this.zoomSpeed,r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});v.exports=a},69370:(v,y,t)=>{var u=t(56694),c=t(10850),a=new u({initialize:function(r){this.camera=c(r,"camera",null),this.left=c(r,"left",null),this.right=c(r,"right",null),this.up=c(r,"up",null),this.down=c(r,"down",null),this.zoomIn=c(r,"zoomIn",null),this.zoomOut=c(r,"zoomOut",null),this.zoomSpeed=c(r,"zoomSpeed",.01),this.minZoom=c(r,"minZoom",.001),this.maxZoom=c(r,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=c(r,"acceleration",null);typeof e=="number"?(this.accelX=e,this.accelY=e):(this.accelX=c(r,"acceleration.x",0),this.accelY=c(r,"acceleration.y",0)),this.dragX=0,this.dragY=0;var i=c(r,"drag",null);typeof i=="number"?(this.dragX=i,this.dragY=i):(this.dragX=c(r,"drag.x",0),this.dragY=c(r,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var l=c(r,"maxSpeed",null);typeof l=="number"?(this.maxSpeedX=l,this.maxSpeedY=l):(this.maxSpeedX=c(r,"maxSpeed.x",0),this.maxSpeedY=c(r,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(s){return this.camera=s,this},update:function(s){if(this.active){s===void 0&&(s=1);var r=this.camera;this._speedX>0?(this._speedX-=this.dragX*s,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*s,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*s,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*s,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(r.scrollX-=this._speedX*s|0),this._speedY!==0&&(r.scrollY-=this._speedY*s|0),this._zoom!==0&&(r.zoom+=this._zoom,r.zoom<this.minZoom?r.zoom=this.minZoom:r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});v.exports=a},6524:(v,y,t)=>{v.exports={FixedKeyControl:t(84219),SmoothedKeyControl:t(69370)}},44143:(v,y,t)=>{v.exports={Controls:t(6524),Scene2D:t(32356)}},86459:(v,y,t)=>{var u={VERSION:"3.60.0",BlendModes:t(95723),ScaleModes:t(27394),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};v.exports=u},14033:(v,y,t)=>{var u=t(56694),c=t(86459),a=t(18360),s=t(77290),r=t(72632),e=t(10850),i=t(42911),l=t(72283),n=t(5923),o=t(65641),f=t(93222),h=new u({initialize:function(p){p===void 0&&(p={});var x=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],S="#ffffff",T=e(p,"scale",null);this.width=e(T,"width",1024,p),this.height=e(T,"height",768,p),this.zoom=e(T,"zoom",1,p),this.parent=e(T,"parent",void 0,p),this.scaleMode=e(T,T?"mode":"scaleMode",0,p),this.expandParent=e(T,"expandParent",!0,p),this.autoRound=e(T,"autoRound",!1,p),this.autoCenter=e(T,"autoCenter",0,p),this.resizeInterval=e(T,"resizeInterval",500,p),this.fullscreenTarget=e(T,"fullscreenTarget",null,p),this.minWidth=e(T,"minWidth",0,p),this.maxWidth=e(T,"maxWidth",0,p),this.minHeight=e(T,"minHeight",0,p),this.maxHeight=e(T,"maxHeight",0,p),this.renderType=e(p,"type",c.AUTO),this.canvas=e(p,"canvas",null),this.context=e(p,"context",null),this.canvasStyle=e(p,"canvasStyle",null),this.customEnvironment=e(p,"customEnvironment",!1),this.sceneConfig=e(p,"scene",null),this.seed=e(p,"seed",[(Date.now()*Math.random()).toString()]),n.RND=new n.RandomDataGenerator(this.seed),this.gameTitle=e(p,"title",""),this.gameURL=e(p,"url","https://phaser.io"),this.gameVersion=e(p,"version",""),this.autoFocus=e(p,"autoFocus",!0),this.stableSort=e(p,"stableSort",-1),this.stableSort===-1&&(this.stableSort=s.browser.es2019?1:0),s.features.stableSort=this.stableSort,this.domCreateContainer=e(p,"dom.createContainer",!1),this.domPointerEvents=e(p,"dom.pointerEvents","none"),this.inputKeyboard=e(p,"input.keyboard",!0),this.inputKeyboardEventTarget=e(p,"input.keyboard.target",window),this.inputKeyboardCapture=e(p,"input.keyboard.capture",[]),this.inputMouse=e(p,"input.mouse",!0),this.inputMouseEventTarget=e(p,"input.mouse.target",null),this.inputMousePreventDefaultDown=e(p,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=e(p,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=e(p,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=e(p,"input.mouse.preventDefaultWheel",!0),this.inputTouch=e(p,"input.touch",s.input.touch),this.inputTouchEventTarget=e(p,"input.touch.target",null),this.inputTouchCapture=e(p,"input.touch.capture",!0),this.inputActivePointers=e(p,"input.activePointers",1),this.inputSmoothFactor=e(p,"input.smoothFactor",0),this.inputWindowEvents=e(p,"input.windowEvents",!0),this.inputGamepad=e(p,"input.gamepad",!1),this.inputGamepadEventTarget=e(p,"input.gamepad.target",window),this.disableContextMenu=e(p,"disableContextMenu",!1),this.audio=e(p,"audio",{}),this.hideBanner=e(p,"banner",null)===!1,this.hidePhaser=e(p,"banner.hidePhaser",!1),this.bannerTextColor=e(p,"banner.text",S),this.bannerBackgroundColor=e(p,"banner.background",x),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=e(p,"fps",null);var C=e(p,"render",null);this.pipeline=e(C,"pipeline",null,p),this.autoMobilePipeline=e(C,"autoMobilePipeline",!0,p),this.defaultPipeline=e(C,"defaultPipeline",o.MULTI_PIPELINE,p),this.antialias=e(C,"antialias",!0,p),this.antialiasGL=e(C,"antialiasGL",!0,p),this.mipmapFilter=e(C,"mipmapFilter","",p),this.desynchronized=e(C,"desynchronized",!1,p),this.roundPixels=e(C,"roundPixels",!1,p),this.pixelArt=e(C,"pixelArt",this.zoom!==1,p),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=e(C,"transparent",!1,p),this.clearBeforeRender=e(C,"clearBeforeRender",!0,p),this.preserveDrawingBuffer=e(C,"preserveDrawingBuffer",!1,p),this.premultipliedAlpha=e(C,"premultipliedAlpha",!0,p),this.failIfMajorPerformanceCaveat=e(C,"failIfMajorPerformanceCaveat",!1,p),this.powerPreference=e(C,"powerPreference","default",p),this.batchSize=e(C,"batchSize",4096,p),this.maxTextures=e(C,"maxTextures",-1,p),this.maxLights=e(C,"maxLights",10,p);var E=e(p,"backgroundColor",0);this.backgroundColor=f(E),this.transparent&&(this.backgroundColor=f(0),this.backgroundColor.alpha=0),this.preBoot=e(p,"callbacks.preBoot",l),this.postBoot=e(p,"callbacks.postBoot",l),this.physics=e(p,"physics",{}),this.defaultPhysicsSystem=e(this.physics,"default",!1),this.loaderBaseURL=e(p,"loader.baseURL",""),this.loaderPath=e(p,"loader.path",""),this.loaderMaxParallelDownloads=e(p,"loader.maxParallelDownloads",s.os.android?6:32),this.loaderCrossOrigin=e(p,"loader.crossOrigin",void 0),this.loaderResponseType=e(p,"loader.responseType",""),this.loaderAsync=e(p,"loader.async",!0),this.loaderUser=e(p,"loader.user",""),this.loaderPassword=e(p,"loader.password",""),this.loaderTimeout=e(p,"loader.timeout",0),this.loaderWithCredentials=e(p,"loader.withCredentials",!1),this.loaderImageLoadType=e(p,"loader.imageLoadType","XHR"),this.loaderLocalScheme=e(p,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=e(p,"fx.glow.quality",.1),this.glowFXDistance=e(p,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var P=e(p,"plugins",null),M=a.DefaultScene;P&&(Array.isArray(P)?this.defaultPlugins=P:i(P)&&(this.installGlobalPlugins=r(P,"global",[]),this.installScenePlugins=r(P,"scene",[]),Array.isArray(P.default)?M=P.default:Array.isArray(P.defaultMerge)&&(M=M.concat(P.defaultMerge)))),this.defaultPlugins=M;var L="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=e(p,"images.default",L+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=e(p,"images.missing",L+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=e(p,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=c.WEBGL:window.FORCE_CANVAS&&(this.renderType=c.CANVAS))}});v.exports=h},50150:(v,y,t)=>{var u=t(70616),c=t(61068),a=t(86459),s=t(90185),r=function(e){var i=e.config;if((i.customEnvironment||i.canvas)&&i.renderType===a.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!i.customEnvironment&&!i.canvas&&i.renderType!==a.HEADLESS)if(i.renderType===a.AUTO&&(i.renderType=s.webGL?a.WEBGL:a.CANVAS),i.renderType===a.WEBGL){if(!s.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(i.renderType===a.CANVAS){if(!s.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+i.renderType);i.antialias||c.disableSmoothing();var l=e.scale.baseSize,n=l.width,o=l.height;if(i.canvas?(e.canvas=i.canvas,e.canvas.width=n,e.canvas.height=o):e.canvas=c.create(e,n,o,i.renderType),i.canvasStyle&&(e.canvas.style=i.canvasStyle),i.antialias||u.setCrisp(e.canvas),i.renderType!==a.HEADLESS){var f,h;f=t(91135),h=t(11857),i.renderType===a.WEBGL?e.renderer=new h(e):(e.renderer=new f(e),e.context=e.renderer.gameContext)}};v.exports=r},77291:(v,y,t)=>{var u=t(86459),c=function(a){var s=a.config;if(!s.hideBanner){var r="WebGL";s.renderType===u.CANVAS?r="Canvas":s.renderType===u.HEADLESS&&(r="Headless");var e=s.audio,i=a.device.audio,l;if(i.webAudio&&!e.disableWebAudio?l="Web Audio":e.noAudio||!i.webAudio&&!i.audioData?l="No Audio":l="HTML5 Audio",a.device.browser.ie)window.console&&console.log("Phaser v"+u.VERSION+" / https://phaser.io");else{var n="",o=[n];if(Array.isArray(s.bannerBackgroundColor)){var f;s.bannerBackgroundColor.forEach(function(d){n=n.concat("%c "),o.push("background: "+d),f=d}),o[o.length-1]="color: "+s.bannerTextColor+"; background: "+f}else n=n.concat("%c "),o.push("color: "+s.bannerTextColor+"; background: "+s.bannerBackgroundColor);o.push("background: transparent"),s.gameTitle&&(n=n.concat(s.gameTitle),s.gameVersion&&(n=n.concat(" v"+s.gameVersion)),s.hidePhaser||(n=n.concat(" / ")));var h="";s.hidePhaser||(n=n.concat("Phaser v"+u.VERSION+h+" ("+r+" | "+l+")")),n=n.concat(" %c "+s.gameURL),o[0]=n,console.log.apply(console,o)}}};v.exports=c},15213:(v,y,t)=>{var u=t(99584),c=t(90249),a=t(43474),s=t(61068),r=t(56694),e=t(14033),i=t(85178),l=t(50150),n=t(81078),o=t(77291),f=t(77290),h=t(21546),d=t(6659),p=t(97081),x=t(69898),S=t(91963),T=t(49274),C=t(756),E=t(13553),P=t(38203),M=t(6237),L=t(26617),R=t(26493),w=t(84191);if(!1)var D;var B=new r({initialize:function(V){this.config=new e(V),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new d,this.anims=new c(this),this.textures=new M(this),this.cache=new a(this),this.registry=new n(this,new d),this.input=new x(this,this.config),this.scene=new E(this,this.config.sceneConfig),this.device=f,this.scale=new C(this,this.config),this.sound=null,this.sound=w.create(this),this.loop=new L(this,this.config.fps),this.plugins=new T(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,h(this.boot.bind(this))},boot:function(){if(!S.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),l(this),i(this),o(this),u(this.canvas,this.config.parent),this.textures.once(P.READY,this.texturesReady,this),this.events.emit(p.BOOT)},texturesReady:function(){this.events.emit(p.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),R(this);var z=this.events;z.on(p.HIDDEN,this.onHidden,this),z.on(p.VISIBLE,this.onVisible,this),z.on(p.BLUR,this.onBlur,this),z.on(p.FOCUS,this.onFocus,this)},step:function(z,V){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var Y=this.events;Y.emit(p.PRE_STEP,z,V),Y.emit(p.STEP,z,V),this.scene.update(z,V),Y.emit(p.POST_STEP,z,V);var H=this.renderer;H.preRender(),Y.emit(p.PRE_RENDER,H,z,V),this.scene.render(H),H.postRender(),Y.emit(p.POST_RENDER,H,z,V)}},headlessStep:function(z,V){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var Y=this.events;Y.emit(p.PRE_STEP,z,V),Y.emit(p.STEP,z,V),this.scene.update(z,V),Y.emit(p.POST_STEP,z,V),this.scene.isProcessing=!1,Y.emit(p.PRE_RENDER,null,z,V),Y.emit(p.POST_RENDER,null,z,V)}},onHidden:function(){this.loop.pause(),this.events.emit(p.PAUSE)},pause:function(){var z=this.isPaused;this.isPaused=!0,z||this.events.emit(p.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(p.RESUME)},resume:function(){var z=this.isPaused;this.isPaused=!1,z&&this.events.emit(p.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(z,V){V===void 0&&(V=!1),this.pendingDestroy=!0,this.removeCanvas=z,this.noReturn=V},runDestroy:function(){this.scene.destroy(),this.events.emit(p.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(s.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});v.exports=B},26617:(v,y,t)=>{var u=t(56694),c=t(10850),a=t(72283),s=t(27385),r=new u({initialize:function(i,l){this.game=i,this.raf=new s,this.started=!1,this.running=!1,this.minFps=c(l,"min",5),this.targetFps=c(l,"target",60),this.fpsLimit=c(l,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=a,this.forceSetTimeOut=c(l,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=c(l,"deltaHistory",10),this.panicMax=c(l,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=c(l,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var i=0;i<this.deltaSmoothingMax;i++)this.deltaHistory[i]=Math.min(this._target,this.deltaHistory[i]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var i=0;i<this.deltaSmoothingMax;i++)this.deltaHistory[i]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var i=this.deltaIndex,l=this.deltaHistory,n=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=l[i],e=Math.min(e,this._min)),l[i]=e,this.deltaIndex++,this.deltaIndex>=n&&(this.deltaIndex=0);for(var o=0,f=0;f<n;f++)o+=l[f];return o/=n,o},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var i=Math.max(0,e-this.lastTime);this.rawDelta=i,this.time+=this.rawDelta,this.smoothStep&&(i=this.smoothDelta(i)),this.delta+=i,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var i=Math.max(0,e-this.lastTime);this.rawDelta=i,this.time+=this.rawDelta,this.smoothStep&&(i=this.smoothDelta(i)),this.delta=i,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,i),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){e===void 0&&(e=!1);var i=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+i));var l=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(l,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=i+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});v.exports=r},26493:(v,y,t)=>{var u=t(97081),c=function(a){var s,r=a.events;if(document.hidden!==void 0)s="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(l){document[l+"Hidden"]!==void 0&&(document.hidden=function(){return document[l+"Hidden"]},s=l+"visibilitychange")})}var i=function(l){document.hidden||l.type==="pause"?r.emit(u.HIDDEN):r.emit(u.VISIBLE)};s&&document.addEventListener(s,i,!1),window.onblur=function(){r.emit(u.BLUR)},window.onfocus=function(){r.emit(u.FOCUS)},window.focus&&a.config.autoFocus&&window.focus()};v.exports=c},41651:v=>{v.exports="blur"},5520:v=>{v.exports="boot"},51673:v=>{v.exports="contextlost"},25055:v=>{v.exports="destroy"},23767:v=>{v.exports="focus"},57564:v=>{v.exports="hidden"},38327:v=>{v.exports="pause"},43807:v=>{v.exports="postrender"},73652:v=>{v.exports="poststep"},780:v=>{v.exports="prerender"},13781:v=>{v.exports="prestep"},38247:v=>{v.exports="ready"},29129:v=>{v.exports="resume"},34994:v=>{v.exports="step"},98704:v=>{v.exports="visible"},97081:(v,y,t)=>{v.exports={BLUR:t(41651),BOOT:t(5520),CONTEXT_LOST:t(51673),DESTROY:t(25055),FOCUS:t(23767),HIDDEN:t(57564),PAUSE:t(38327),POST_RENDER:t(43807),POST_STEP:t(73652),PRE_RENDER:t(780),PRE_STEP:t(13781),READY:t(38247),RESUME:t(29129),STEP:t(34994),VISIBLE:t(98704)}},80293:(v,y,t)=>{v.exports={Config:t(14033),CreateRenderer:t(50150),DebugHeader:t(77291),Events:t(97081),TimeStep:t(26617),VisibilityHandler:t(26493)}},52780:(v,y,t)=>{var u=t(81543),c=t(61068),a=t(10850),s=function(r){var e=a(r,"data",[]),i=a(r,"canvas",null),l=a(r,"palette",u),n=a(r,"pixelWidth",1),o=a(r,"pixelHeight",n),f=a(r,"resizeCanvas",!0),h=a(r,"clearCanvas",!0),d=a(r,"preRender",null),p=a(r,"postRender",null),x=Math.floor(Math.abs(e[0].length*n)),S=Math.floor(Math.abs(e.length*o));i||(i=c.create2D(this,x,S),f=!1,h=!1),f&&(i.width=x,i.height=S);var T=i.getContext("2d",{willReadFrequently:!0});h&&T.clearRect(0,0,x,S),d&&d(i,T);for(var C=0;C<e.length;C++)for(var E=e[C],P=0;P<E.length;P++){var M=E[P];M!=="."&&M!==" "&&(T.fillStyle=l[M],T.fillRect(P*n,C*o,n,o))}return p&&p(i,T),i};v.exports=s},84106:(v,y,t)=>{v.exports={GenerateTexture:t(52780),Palettes:t(25235)}},81543:v=>{v.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},75846:v=>{v.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},83206:v=>{v.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},13194:v=>{v.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},50686:v=>{v.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},25235:(v,y,t)=>{v.exports={ARNE16:t(81543),C64:t(75846),CGA:t(83206),JMP:t(13194),MSX:t(50686)}},63120:(v,y,t)=>{var u=t(56694),c=t(34631),a=t(38517),s=t(93736),r=new u({Extends:a,initialize:function(i,l,n,o){a.call(this,"CubicBezierCurve"),Array.isArray(i)&&(o=new s(i[6],i[7]),n=new s(i[4],i[5]),l=new s(i[2],i[3]),i=new s(i[0],i[1])),this.p0=i,this.p1=l,this.p2=n,this.p3=o},getStartPoint:function(e){return e===void 0&&(e=new s),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,i){i===void 0&&(i=new s);var l=this.p0,n=this.p1,o=this.p2,f=this.p3;return i.set(c(e,l.x,n.x,o.x,f.x),c(e,l.y,n.y,o.y,f.y))},draw:function(e,i){i===void 0&&(i=32);var l=this.getPoints(i);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var n=1;n<l.length;n++)e.lineTo(l[n].x,l[n].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});r.fromJSON=function(e){var i=e.points,l=new s(i[0],i[1]),n=new s(i[2],i[3]),o=new s(i[4],i[5]),f=new s(i[6],i[7]);return new r(l,n,o,f)},v.exports=r},38517:(v,y,t)=>{var u=t(56694),c=t(80222),a=t(74118),s=t(93736),r=new u({initialize:function(i){this.type=i,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new s,this._tmpVec2B=new s},draw:function(e,i){return i===void 0&&(i=32),e.strokePoints(this.getPoints(i))},getBounds:function(e,i){e||(e=new a),i===void 0&&(i=16);var l=this.getLength();i>l&&(i=l/2);var n=Math.max(1,Math.round(l/i));return c(this.getSpacedPoints(n),e)},getDistancePoints:function(e){var i=this.getLength(),l=Math.max(1,i/e);return this.getSpacedPoints(l)},getEndPoint:function(e){return e===void 0&&(e=new s),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var i=[],l,n=this.getPoint(0,this._tmpVec2A),o=0;i.push(0);for(var f=1;f<=e;f++)l=this.getPoint(f/e,this._tmpVec2B),o+=l.distance(n),i.push(o),n.copy(l);return this.cacheArcLengths=i,i},getPointAt:function(e,i){var l=this.getUtoTmapping(e);return this.getPoint(l,i)},getPoints:function(e,i,l){l===void 0&&(l=[]),e||(i?e=this.getLength()/i:e=this.defaultDivisions);for(var n=0;n<=e;n++)l.push(this.getPoint(n/e));return l},getRandomPoint:function(e){return e===void 0&&(e=new s),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,i,l){l===void 0&&(l=[]),e||(i?e=this.getLength()/i:e=this.defaultDivisions);for(var n=0;n<=e;n++){var o=this.getUtoTmapping(n/e,null,e);l.push(this.getPoint(o))}return l},getStartPoint:function(e){return e===void 0&&(e=new s),this.getPointAt(0,e)},getTangent:function(e,i){i===void 0&&(i=new s);var l=1e-4,n=e-l,o=e+l;return n<0&&(n=0),o>1&&(o=1),this.getPoint(n,this._tmpVec2A),this.getPoint(o,i),i.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,i){var l=this.getUtoTmapping(e);return this.getTangent(l,i)},getTFromDistance:function(e,i){return e<=0?0:this.getUtoTmapping(0,e,i)},getUtoTmapping:function(e,i,l){var n=this.getLengths(l),o=0,f=n.length,h;i?h=Math.min(i,n[f-1]):h=e*n[f-1];for(var d=0,p=f-1,x;d<=p;)if(o=Math.floor(d+(p-d)/2),x=n[o]-h,x<0)d=o+1;else if(x>0)p=o-1;else{p=o;break}if(o=p,n[o]===h)return o/(f-1);var S=n[o],T=n[o+1],C=T-S,E=(h-S)/C;return(o+E)/(f-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});v.exports=r},48835:(v,y,t)=>{var u=t(56694),c=t(38517),a=t(75606),s=t(10850),r=t(23701),e=t(93736),i=new u({Extends:c,initialize:function(n,o,f,h,d,p,x,S){if(typeof n=="object"){var T=n;n=s(T,"x",0),o=s(T,"y",0),f=s(T,"xRadius",0),h=s(T,"yRadius",f),d=s(T,"startAngle",0),p=s(T,"endAngle",360),x=s(T,"clockwise",!1),S=s(T,"rotation",0)}else h===void 0&&(h=f),d===void 0&&(d=0),p===void 0&&(p=360),x===void 0&&(x=!1),S===void 0&&(S=0);c.call(this,"EllipseCurve"),this.p0=new e(n,o),this._xRadius=f,this._yRadius=h,this._startAngle=a(d),this._endAngle=a(p),this._clockwise=x,this._rotation=a(S)},getStartPoint:function(l){return l===void 0&&(l=new e),this.getPoint(0,l)},getResolution:function(l){return l*2},getPoint:function(l,n){n===void 0&&(n=new e);for(var o=Math.PI*2,f=this._endAngle-this._startAngle,h=Math.abs(f)<Number.EPSILON;f<0;)f+=o;for(;f>o;)f-=o;f<Number.EPSILON&&(h?f=0:f=o),this._clockwise&&!h&&(f===o?f=-o:f=f-o);var d=this._startAngle+l*f,p=this.p0.x+this._xRadius*Math.cos(d),x=this.p0.y+this._yRadius*Math.sin(d);if(this._rotation!==0){var S=Math.cos(this._rotation),T=Math.sin(this._rotation),C=p-this.p0.x,E=x-this.p0.y;p=C*S-E*T+this.p0.x,x=C*T+E*S+this.p0.y}return n.set(p,x)},setXRadius:function(l){return this.xRadius=l,this},setYRadius:function(l){return this.yRadius=l,this},setWidth:function(l){return this.xRadius=l/2,this},setHeight:function(l){return this.yRadius=l/2,this},setStartAngle:function(l){return this.startAngle=l,this},setEndAngle:function(l){return this.endAngle=l,this},setClockwise:function(l){return this.clockwise=l,this},setRotation:function(l){return this.rotation=l,this},x:{get:function(){return this.p0.x},set:function(l){this.p0.x=l}},y:{get:function(){return this.p0.y},set:function(l){this.p0.y=l}},xRadius:{get:function(){return this._xRadius},set:function(l){this._xRadius=l}},yRadius:{get:function(){return this._yRadius},set:function(l){this._yRadius=l}},startAngle:{get:function(){return r(this._startAngle)},set:function(l){this._startAngle=a(l)}},endAngle:{get:function(){return r(this._endAngle)},set:function(l){this._endAngle=a(l)}},clockwise:{get:function(){return this._clockwise},set:function(l){this._clockwise=l}},angle:{get:function(){return r(this._rotation)},set:function(l){this._rotation=a(l)}},rotation:{get:function(){return this._rotation},set:function(l){this._rotation=l}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:r(this._startAngle),endAngle:r(this._endAngle),clockwise:this._clockwise,rotation:r(this._rotation)}}});i.fromJSON=function(l){return new i(l)},v.exports=i},58084:(v,y,t)=>{var u=t(56694),c=t(38517),a=t(80222),s=t(74118),r=t(93736),e=new u({Extends:c,initialize:function(l,n){c.call(this,"LineCurve"),Array.isArray(l)&&(n=new r(l[2],l[3]),l=new r(l[0],l[1])),this.p0=l,this.p1=n,this.arcLengthDivisions=1},getBounds:function(i){return i===void 0&&(i=new s),a([this.p0,this.p1],i)},getStartPoint:function(i){return i===void 0&&(i=new r),i.copy(this.p0)},getResolution:function(i){return i===void 0&&(i=1),i},getPoint:function(i,l){return l===void 0&&(l=new r),i===1?l.copy(this.p1):(l.copy(this.p1).subtract(this.p0).scale(i).add(this.p0),l)},getPointAt:function(i,l){return this.getPoint(i,l)},getTangent:function(i,l){return l===void 0&&(l=new r),l.copy(this.p1).subtract(this.p0).normalize(),l},getUtoTmapping:function(i,l,n){var o;if(l){var f=this.getLengths(n),h=f[f.length-1],d=Math.min(l,h);o=d/h}else o=i;return o},draw:function(i){return i.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),i},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(i){var l=i.points,n=new r(l[0],l[1]),o=new r(l[2],l[3]);return new e(n,o)},v.exports=e},64761:(v,y,t)=>{var u=t(56694),c=t(38517),a=t(16252),s=t(93736),r=new u({Extends:c,initialize:function(i,l,n){c.call(this,"QuadraticBezierCurve"),Array.isArray(i)&&(n=new s(i[4],i[5]),l=new s(i[2],i[3]),i=new s(i[0],i[1])),this.p0=i,this.p1=l,this.p2=n},getStartPoint:function(e){return e===void 0&&(e=new s),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,i){i===void 0&&(i=new s);var l=this.p0,n=this.p1,o=this.p2;return i.set(a(e,l.x,n.x,o.x),a(e,l.y,n.y,o.y))},draw:function(e,i){i===void 0&&(i=32);var l=this.getPoints(i);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var n=1;n<l.length;n++)e.lineTo(l[n].x,l[n].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});r.fromJSON=function(e){var i=e.points,l=new s(i[0],i[1]),n=new s(i[2],i[3]),o=new s(i[4],i[5]);return new r(l,n,o)},v.exports=r},11956:(v,y,t)=>{var u=t(14976),c=t(56694),a=t(38517),s=t(93736),r=new c({Extends:a,initialize:function(i){i===void 0&&(i=[]),a.call(this,"SplineCurve"),this.points=[],this.addPoints(i)},addPoints:function(e){for(var i=0;i<e.length;i++){var l=new s;typeof e[i]=="number"?(l.x=e[i],l.y=e[i+1],i++):Array.isArray(e[i])?(l.x=e[i][0],l.y=e[i][1]):(l.x=e[i].x,l.y=e[i].y),this.points.push(l)}return this},addPoint:function(e,i){var l=new s(e,i);return this.points.push(l),l},getStartPoint:function(e){return e===void 0&&(e=new s),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,i){i===void 0&&(i=new s);var l=this.points,n=(l.length-1)*e,o=Math.floor(n),f=n-o,h=l[o===0?o:o-1],d=l[o],p=l[o>l.length-2?l.length-1:o+1],x=l[o>l.length-3?l.length-1:o+2];return i.set(u(f,h.x,d.x,p.x,x.x),u(f,h.y,d.y,p.y,x.y))},toJSON:function(){for(var e=[],i=0;i<this.points.length;i++)e.push(this.points[i].x),e.push(this.points[i].y);return{type:this.type,points:e}}});r.fromJSON=function(e){return new r(e.points)},v.exports=r},73962:(v,y,t)=>{v.exports={Path:t(12822),MoveTo:t(53639),CubicBezier:t(63120),Curve:t(38517),Ellipse:t(48835),Line:t(58084),QuadraticBezier:t(64761),Spline:t(11956)}},53639:(v,y,t)=>{var u=t(56694),c=t(93736),a=new u({initialize:function(r,e){this.active=!1,this.p0=new c(r,e)},getPoint:function(s,r){return r===void 0&&(r=new c),r.copy(this.p0)},getPointAt:function(s,r){return this.getPoint(s,r)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});v.exports=a},12822:(v,y,t)=>{var u=t(56694),c=t(63120),a=t(48835),s=t(61286),r=t(58084),e=t(53639),i=t(64761),l=t(74118),n=t(11956),o=t(93736),f=t(83392),h=new u({initialize:function(p,x){p===void 0&&(p=0),x===void 0&&(x=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new o,this._tmpVec2A=new o,this._tmpVec2B=new o,typeof p=="object"?this.fromJSON(p):this.startPoint.set(p,x)},add:function(d){return this.curves.push(d),this},circleTo:function(d,p,x){return p===void 0&&(p=!1),this.ellipseTo(d,d,0,360,p,x)},closePath:function(){var d=this.curves[0].getPoint(0),p=this.curves[this.curves.length-1].getPoint(1);return d.equals(p)||this.curves.push(new r(p,d)),this},cubicBezierTo:function(d,p,x,S,T,C){var E=this.getEndPoint(),P,M,L;return d instanceof o?(P=d,M=p,L=x):(P=new o(x,S),M=new o(T,C),L=new o(d,p)),this.add(new c(E,P,M,L))},quadraticBezierTo:function(d,p,x,S){var T=this.getEndPoint(),C,E;return d instanceof o?(C=d,E=p):(C=new o(x,S),E=new o(d,p)),this.add(new i(T,C,E))},draw:function(d,p){for(var x=0;x<this.curves.length;x++){var S=this.curves[x];S.active&&S.draw(d,p)}return d},ellipseTo:function(d,p,x,S,T,C){var E=new a(0,0,d,p,x,S,T,C),P=this.getEndPoint(this._tmpVec2A),M=E.getStartPoint(this._tmpVec2B);return P.subtract(M),E.x=P.x,E.y=P.y,this.add(E)},fromJSON:function(d){this.curves=[],this.cacheLengths=[],this.startPoint.set(d.x,d.y),this.autoClose=d.autoClose;for(var p=0;p<d.curves.length;p++){var x=d.curves[p];switch(x.type){case"LineCurve":this.add(r.fromJSON(x));break;case"EllipseCurve":this.add(a.fromJSON(x));break;case"SplineCurve":this.add(n.fromJSON(x));break;case"CubicBezierCurve":this.add(c.fromJSON(x));break;case"QuadraticBezierCurve":this.add(i.fromJSON(x));break}}return this},getBounds:function(d,p){d===void 0&&(d=new l),p===void 0&&(p=16),d.x=Number.MAX_VALUE,d.y=Number.MAX_VALUE;for(var x=new l,S=f.MIN_SAFE_INTEGER,T=f.MIN_SAFE_INTEGER,C=0;C<this.curves.length;C++){var E=this.curves[C];E.active&&(E.getBounds(x,p),d.x=Math.min(d.x,x.x),d.y=Math.min(d.y,x.y),S=Math.max(S,x.right),T=Math.max(T,x.bottom))}return d.right=S,d.bottom=T,d},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var d=[],p=0,x=0;x<this.curves.length;x++)p+=this.curves[x].getLength(),d.push(p);return this.cacheLengths=d,d},getCurveAt:function(d){for(var p=d*this.getLength(),x=this.getCurveLengths(),S=0;S<x.length;){if(x[S]>=p)return this.curves[S];S++}return null},getEndPoint:function(d){return d===void 0&&(d=new o),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,d):d.copy(this.startPoint),d},getLength:function(){var d=this.getCurveLengths();return d[d.length-1]},getPoint:function(d,p){p===void 0&&(p=new o);for(var x=d*this.getLength(),S=this.getCurveLengths(),T=0;T<S.length;){if(S[T]>=x){var C=S[T]-x,E=this.curves[T],P=E.getLength(),M=P===0?0:1-C/P;return E.getPointAt(M,p)}T++}return null},getPoints:function(d){d===void 0&&(d=12);for(var p=[],x,S=0;S<this.curves.length;S++){var T=this.curves[S];if(T.active)for(var C=T.getResolution(d),E=T.getPoints(C),P=0;P<E.length;P++){var M=E[P];x&&x.equals(M)||(p.push(M),x=M)}}return this.autoClose&&p.length>1&&!p[p.length-1].equals(p[0])&&p.push(p[0]),p},getRandomPoint:function(d){return d===void 0&&(d=new o),this.getPoint(Math.random(),d)},getSpacedPoints:function(d){d===void 0&&(d=40);for(var p=[],x=0;x<=d;x++)p.push(this.getPoint(x/d));return this.autoClose&&p.push(p[0]),p},getStartPoint:function(d){return d===void 0&&(d=new o),d.copy(this.startPoint)},getTangent:function(d,p){p===void 0&&(p=new o);for(var x=d*this.getLength(),S=this.getCurveLengths(),T=0;T<S.length;){if(S[T]>=x){var C=S[T]-x,E=this.curves[T],P=E.getLength(),M=P===0?0:1-C/P;return E.getTangentAt(M,p)}T++}return null},lineTo:function(d,p){d instanceof o?this._tmpVec2B.copy(d):this._tmpVec2B.set(d,p);var x=this.getEndPoint(this._tmpVec2A);return this.add(new r([x.x,x.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(d){return d.unshift(this.getEndPoint()),this.add(new n(d))},moveTo:function(d,p){return d instanceof o?this.add(new e(d.x,d.y)):this.add(new e(d,p))},toJSON:function(){for(var d=[],p=0;p<this.curves.length;p++)d.push(this.curves[p].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:d}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});s.register("path",function(d,p){return new h(d,p)}),v.exports=h},81078:(v,y,t)=>{var u=t(56694),c=t(35026),a=new u({initialize:function(r,e){this.parent=r,this.events=e,e||(this.events=r.events?r.events:r),this.list={},this.values={},this._frozen=!1,!r.hasOwnProperty("sys")&&this.events&&this.events.once(c.DESTROY,this.destroy,this)},get:function(s){var r=this.list;if(Array.isArray(s)){for(var e=[],i=0;i<s.length;i++)e.push(r[s[i]]);return e}else return r[s]},getAll:function(){var s={};for(var r in this.list)this.list.hasOwnProperty(r)&&(s[r]=this.list[r]);return s},query:function(s){var r={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(s)&&(r[e]=this.list[e]);return r},set:function(s,r){if(this._frozen)return this;if(typeof s=="string")return this.setValue(s,r);for(var e in s)this.setValue(e,s[e]);return this},inc:function(s,r){if(this._frozen)return this;r===void 0&&(r=1);var e=this.get(s);return e===void 0&&(e=0),this.set(s,e+r),this},toggle:function(s){return this._frozen?this:(this.set(s,!this.get(s)),this)},setValue:function(s,r){if(this._frozen)return this;if(this.has(s))this.values[s]=r;else{var e=this,i=this.list,l=this.events,n=this.parent;Object.defineProperty(this.values,s,{enumerable:!0,configurable:!0,get:function(){return i[s]},set:function(o){if(!e._frozen){var f=i[s];i[s]=o,l.emit(c.CHANGE_DATA,n,s,o,f),l.emit(c.CHANGE_DATA_KEY+s,n,o,f)}}}),i[s]=r,l.emit(c.SET_DATA,n,s,r)}return this},each:function(s,r){for(var e=[this.parent,null,void 0],i=1;i<arguments.length;i++)e.push(arguments[i]);for(var l in this.list)e[1]=l,e[2]=this.list[l],s.apply(r,e);return this},merge:function(s,r){r===void 0&&(r=!0);for(var e in s)s.hasOwnProperty(e)&&(r||!r&&!this.has(e))&&this.setValue(e,s[e]);return this},remove:function(s){if(this._frozen)return this;if(Array.isArray(s))for(var r=0;r<s.length;r++)this.removeValue(s[r]);else return this.removeValue(s);return this},removeValue:function(s){if(this.has(s)){var r=this.list[s];delete this.list[s],delete this.values[s],this.events.emit(c.REMOVE_DATA,this.parent,s,r)}return this},pop:function(s){var r=void 0;return!this._frozen&&this.has(s)&&(r=this.list[s],delete this.list[s],delete this.values[s],this.events.emit(c.REMOVE_DATA,this.parent,s,r)),r},has:function(s){return this.list.hasOwnProperty(s)},setFreeze:function(s){return this._frozen=s,this},reset:function(){for(var s in this.list)delete this.list[s],delete this.values[s];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(c.CHANGE_DATA),this.events.off(c.SET_DATA),this.events.off(c.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(s){this._frozen=!!s}},count:{get:function(){var s=0;for(var r in this.list)this.list[r]!==void 0&&s++;return s}}});v.exports=a},76508:(v,y,t)=>{var u=t(56694),c=t(81078),a=t(91963),s=t(7599),r=new u({Extends:c,initialize:function(i){c.call(this,i,i.sys.events),this.scene=i,this.systems=i.sys,i.sys.events.once(s.BOOT,this.boot,this),i.sys.events.on(s.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){c.prototype.destroy.call(this),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});a.register("DataManagerPlugin",r,"data"),v.exports=r},73569:v=>{v.exports="changedata"},15590:v=>{v.exports="changedata-"},37669:v=>{v.exports="destroy"},87090:v=>{v.exports="removedata"},90142:v=>{v.exports="setdata"},35026:(v,y,t)=>{v.exports={CHANGE_DATA:t(73569),CHANGE_DATA_KEY:t(15590),DESTROY:t(37669),REMOVE_DATA:t(87090),SET_DATA:t(90142)}},1999:(v,y,t)=>{v.exports={DataManager:t(81078),DataManagerPlugin:t(76508),Events:t(35026)}},10720:(v,y,t)=>{var u=t(1350),c={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function a(){if(typeof importScripts=="function")return c;c.audioData=!!window.Audio,c.webAudio=!!(window.AudioContext||window.webkitAudioContext);var s=document.createElement("audio"),r=!!s.canPlayType;try{if(r){var e=function(n,o){var f=s.canPlayType("audio/"+n).replace(/^no$/,"");return o?!!(f||s.canPlayType("audio/"+o).replace(/^no$/,"")):!!f};if(c.ogg=e('ogg; codecs="vorbis"'),c.opus=e('ogg; codecs="opus"',"opus"),c.mp3=e("mpeg"),c.wav=e("wav"),c.m4a=e("x-m4a"),c.aac=e("aac"),c.flac=e("flac","x-flac"),c.webm=e('webm; codecs="vorbis"'),s.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(u.edge)c.dolby=!0;else if(u.safari&&u.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var i=parseInt(RegExp.$1,10),l=parseInt(RegExp.$2,10);(i===10&&l>=11||i>10)&&(c.dolby=!0)}}}}catch{}return c}v.exports=a()},1350:(v,y,t)=>{var u=t(36580),c={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function a(){var s=navigator.userAgent;return/Edg\/\d+/.test(s)?(c.edge=!0,c.es2019=!0):/OPR/.test(s)?(c.opera=!0,c.es2019=!0):/Chrome\/(\d+)/.test(s)&&!u.windowsPhone?(c.chrome=!0,c.chromeVersion=parseInt(RegExp.$1,10),c.es2019=c.chromeVersion>69):/Firefox\D+(\d+)/.test(s)?(c.firefox=!0,c.firefoxVersion=parseInt(RegExp.$1,10),c.es2019=c.firefoxVersion>10):/AppleWebKit/.test(s)&&u.iOS?c.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(s)?(c.ie=!0,c.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+) Safari/.test(s)&&!u.windowsPhone?(c.safari=!0,c.safariVersion=parseInt(RegExp.$1,10),c.es2019=c.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(s)&&(c.ie=!0,c.trident=!0,c.tridentVersion=parseInt(RegExp.$1,10),c.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(s)&&(c.silk=!0),c}v.exports=a()},98581:(v,y,t)=>{var u=t(61068),c={supportInverseAlpha:!1,supportNewBlendModes:!1};function a(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",i="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",l=new Image;return l.onload=function(){var n=new Image;n.onload=function(){var o=u.create2D(n,6),f=o.getContext("2d",{willReadFrequently:!0});if(f.globalCompositeOperation="multiply",f.drawImage(l,0,0),f.drawImage(n,2,0),!f.getImageData(2,0,1,1))return!1;var h=f.getImageData(2,0,1,1).data;u.remove(n),c.supportNewBlendModes=h[0]===255&&h[1]===0&&h[2]===0},n.src=e+"/wCKxvRF"+i},l.src=e+"AP804Oa6"+i,!1}function s(){var e=u.create2D(this,2),i=e.getContext("2d",{willReadFrequently:!0});i.fillStyle="rgba(10, 20, 30, 0.5)",i.fillRect(0,0,1,1);var l=i.getImageData(0,0,1,1);if(l===null)return!1;i.putImageData(l,1,0);var n=i.getImageData(1,0,1,1),o=n.data[0]===l.data[0]&&n.data[1]===l.data[1]&&n.data[2]===l.data[2]&&n.data[3]===l.data[3];return u.remove(this),o}function r(){return typeof importScripts!="function"&&document!==void 0&&(c.supportNewBlendModes=a(),c.supportInverseAlpha=s()),c}v.exports=r()},90185:(v,y,t)=>{var u=t(36580),c=t(1350),a=t(61068),s={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function r(){var i=new ArrayBuffer(4),l=new Uint8Array(i),n=new Uint32Array(i);return l[0]=161,l[1]=178,l[2]=195,l[3]=212,n[0]===3569595041?!0:n[0]===2712847316?!1:null}function e(){if(typeof importScripts=="function")return s;s.canvas=!!window.CanvasRenderingContext2D;try{s.localStorage=!!localStorage.getItem}catch{s.localStorage=!1}s.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,s.fileSystem=!!window.requestFileSystem;var i=!1,l=function(){if(window.WebGLRenderingContext)try{var n=a.createWebGL(this),o=n.getContext("webgl")||n.getContext("experimental-webgl"),f=a.create2D(this),h=f.getContext("2d",{willReadFrequently:!0}),d=h.createImageData(1,1);return i=d.data instanceof Uint8ClampedArray,a.remove(n),a.remove(f),!!o}catch{return!1}return!1};return s.webGL=l(),s.worker=!!window.Worker,s.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,s.getUserMedia=s.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,c.firefox&&c.firefoxVersion<21&&(s.getUserMedia=!1),!u.iOS&&(c.ie||c.firefox||c.chrome)&&(s.canvasBitBltShift=!0),(c.safari||c.mobileSafari)&&(s.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(s.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(s.littleEndian=r()),s.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&s.littleEndian!==null&&i,s}v.exports=e()},33553:v=>{var y={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return y;var u,c="Fullscreen",a="FullScreen",s=["request"+c,"request"+a,"webkitRequest"+c,"webkitRequest"+a,"msRequest"+c,"msRequest"+a,"mozRequest"+a,"mozRequest"+c];for(u=0;u<s.length;u++)if(document.documentElement[s[u]]){y.available=!0,y.request=s[u];break}var r=["cancel"+a,"exit"+c,"webkitCancel"+a,"webkitExit"+c,"msCancel"+a,"msExit"+c,"mozCancel"+a,"mozExit"+c];if(y.available){for(u=0;u<r.length;u++)if(document[r[u]]){y.cancel=r[u];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(y.keyboard=!0),Object.defineProperty(y,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),y}v.exports=t()},95872:(v,y,t)=>{var u=t(1350),c={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function a(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(c.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(c.mspointer=!0),navigator.getGamepads&&(c.gamepads=!0),"onwheel"in window||u.ie&&"WheelEvent"in window?c.wheelEvent="wheel":"onmousewheel"in window?c.wheelEvent="mousewheel":u.firefox&&"MouseScrollEvent"in window&&(c.wheelEvent="DOMMouseScroll")),c}v.exports=a()},36580:v=>{var y={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return y;var u=navigator.userAgent;/Windows/.test(u)?y.windows=!0:/Mac OS/.test(u)&&!/like Mac OS/.test(u)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(y.iOS=!0,y.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),y.iOSVersion=parseInt(RegExp.$1,10)):y.macOS=!0:/Android/.test(u)?y.android=!0:/Linux/.test(u)?y.linux=!0:/iP[ao]d|iPhone/i.test(u)?(y.iOS=!0,navigator.appVersion.match(/OS (\d+)/),y.iOSVersion=parseInt(RegExp.$1,10),y.iPhone=u.toLowerCase().indexOf("iphone")!==-1,y.iPad=u.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(u)||/\bKF[A-Z][A-Z]+/.test(u)||/Silk.*Mobile Safari/.test(u)?y.kindle=!0:/CrOS/.test(u)&&(y.chromeOS=!0),(/Windows Phone/i.test(u)||/IEMobile/i.test(u))&&(y.android=!1,y.iOS=!1,y.macOS=!1,y.windows=!0,y.windowsPhone=!0);var c=/Silk/.test(u);return(y.windows||y.macOS||y.linux&&!c||y.chromeOS)&&(y.desktop=!0),(y.windowsPhone||/Windows NT/i.test(u)&&/Touch/i.test(u))&&(y.desktop=!1),navigator.standalone&&(y.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(y.cordova=!0),window.ejecta!==void 0&&(y.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(y.node=!0),y.node&&typeof process.versions=="object"&&(y.nodeWebkit=!!process.versions["node-webkit"],y.electron=!!process.versions.electron),/Crosswalk/.test(u)&&(y.crosswalk=!0),y.pixelRatio=window.devicePixelRatio||1,y}v.exports=t()},53861:(v,y,t)=>{var u=t(72632),c={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function a(){if(typeof importScripts=="function")return c;var s=document.createElement("video"),r=!!s.canPlayType,e=/^no$/;try{r&&(s.canPlayType('video/ogg; codecs="theora"').replace(e,"")&&(c.ogg=!0),s.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(e,"")&&(c.h264=!0,c.mp4=!0),s.canPlayType("video/x-m4v").replace(e,"")&&(c.m4v=!0),s.canPlayType('video/webm; codecs="vp8, vorbis"').replace(e,"")&&(c.webm=!0),s.canPlayType('video/webm; codecs="vp9"').replace(e,"")&&(c.vp9=!0),s.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(e,"")&&(c.hls=!0))}catch{}return s.parentNode&&s.parentNode.removeChild(s),c.getVideoURL=function(i){Array.isArray(i)||(i=[i]);for(var l=0;l<i.length;l++){var n=u(i[l],"url",i[l]);if(n.indexOf("blob:")===0)return{url:n,type:""};var o;if(n.indexOf("data:")===0?o=n.split(",")[0].match(/\/(.*?);/):o=n.match(/\.([a-zA-Z0-9]+)($|\?)/),o=u(i[l],"type",o?o[1]:"").toLowerCase(),c[o])return{url:n,type:o}}return null},c}v.exports=a()},77290:(v,y,t)=>{v.exports={os:t(36580),browser:t(1350),features:t(90185),input:t(95872),audio:t(10720),video:t(53861),fullscreen:t(33553),canvasFeatures:t(98581)}},65246:(v,y,t)=>{var u=t(56694),c=new Float32Array(20),a=new u({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(s){return this._matrix.set(s),this._dirty=!0,this},reset:function(){var s=this._matrix;return s.fill(0),s[0]=1,s[6]=1,s[12]=1,s[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var s=this._data;return this._dirty&&(s.set(this._matrix),s[4]/=255,s[9]/=255,s[14]/=255,s[19]/=255,this._dirty=!1),s},brightness:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1);var e=s;return this.multiply([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],r)},saturate:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1);var e=s*2/3+1,i=(e-1)*-.5;return this.multiply([e,i,i,0,0,i,e,i,0,0,i,i,e,0,0,0,0,0,1,0],r)},desaturate:function(s){return s===void 0&&(s=!1),this.saturate(-1,s)},hue:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1),s=s/180*Math.PI;var e=Math.cos(s),i=Math.sin(s),l=.213,n=.715,o=.072;return this.multiply([l+e*(1-l)+i*-l,n+e*-n+i*-n,o+e*-o+i*(1-o),0,0,l+e*-l+i*.143,n+e*(1-n)+i*.14,o+e*-o+i*-.283,0,0,l+e*-l+i*-(1-l),n+e*-n+i*n,o+e*(1-o)+i*o,0,0,0,0,0,1,0],r)},grayscale:function(s,r){return s===void 0&&(s=1),r===void 0&&(r=!1),this.saturate(-s,r)},blackWhite:function(s){return s===void 0&&(s=!1),this.multiply(a.BLACK_WHITE,s)},contrast:function(s,r){s===void 0&&(s=0),r===void 0&&(r=!1);var e=s+1,i=-.5*(e-1);return this.multiply([e,0,0,0,i,0,e,0,0,i,0,0,e,0,i,0,0,0,1,0],r)},negative:function(s){return s===void 0&&(s=!1),this.multiply(a.NEGATIVE,s)},desaturateLuminance:function(s){return s===void 0&&(s=!1),this.multiply(a.DESATURATE_LUMINANCE,s)},sepia:function(s){return s===void 0&&(s=!1),this.multiply(a.SEPIA,s)},night:function(s,r){return s===void 0&&(s=.1),r===void 0&&(r=!1),this.multiply([s*-2,-s,0,0,0,-s,0,s,0,0,0,s,s*2,0,0,0,0,0,1,0],r)},lsd:function(s){return s===void 0&&(s=!1),this.multiply(a.LSD,s)},brown:function(s){return s===void 0&&(s=!1),this.multiply(a.BROWN,s)},vintagePinhole:function(s){return s===void 0&&(s=!1),this.multiply(a.VINTAGE,s)},kodachrome:function(s){return s===void 0&&(s=!1),this.multiply(a.KODACHROME,s)},technicolor:function(s){return s===void 0&&(s=!1),this.multiply(a.TECHNICOLOR,s)},polaroid:function(s){return s===void 0&&(s=!1),this.multiply(a.POLAROID,s)},shiftToBGR:function(s){return s===void 0&&(s=!1),this.multiply(a.SHIFT_BGR,s)},multiply:function(s,r){r===void 0&&(r=!1),r||this.reset();var e=this._matrix,i=c;return i.set(e),e.set([i[0]*s[0]+i[1]*s[5]+i[2]*s[10]+i[3]*s[15],i[0]*s[1]+i[1]*s[6]+i[2]*s[11]+i[3]*s[16],i[0]*s[2]+i[1]*s[7]+i[2]*s[12]+i[3]*s[17],i[0]*s[3]+i[1]*s[8]+i[2]*s[13]+i[3]*s[18],i[0]*s[4]+i[1]*s[9]+i[2]*s[14]+i[3]*s[19]+i[4],i[5]*s[0]+i[6]*s[5]+i[7]*s[10]+i[8]*s[15],i[5]*s[1]+i[6]*s[6]+i[7]*s[11]+i[8]*s[16],i[5]*s[2]+i[6]*s[7]+i[7]*s[12]+i[8]*s[17],i[5]*s[3]+i[6]*s[8]+i[7]*s[13]+i[8]*s[18],i[5]*s[4]+i[6]*s[9]+i[7]*s[14]+i[8]*s[19]+i[9],i[10]*s[0]+i[11]*s[5]+i[12]*s[10]+i[13]*s[15],i[10]*s[1]+i[11]*s[6]+i[12]*s[11]+i[13]*s[16],i[10]*s[2]+i[11]*s[7]+i[12]*s[12]+i[13]*s[17],i[10]*s[3]+i[11]*s[8]+i[12]*s[13]+i[13]*s[18],i[10]*s[4]+i[11]*s[9]+i[12]*s[14]+i[13]*s[19]+i[14],i[15]*s[0]+i[16]*s[5]+i[17]*s[10]+i[18]*s[15],i[15]*s[1]+i[16]*s[6]+i[17]*s[11]+i[18]*s[16],i[15]*s[2]+i[16]*s[7]+i[17]*s[12]+i[18]*s[17],i[15]*s[3]+i[16]*s[8]+i[17]*s[13]+i[18]*s[18],i[15]*s[4]+i[16]*s[9]+i[17]*s[14]+i[18]*s[19]+i[19]]),this._dirty=!0,this}});a.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],a.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],a.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],a.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],a.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],a.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],a.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],a.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],a.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],a.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],a.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],v.exports=a},39298:(v,y,t)=>{var u=t(56694),c=t(72283),a=new u({initialize:function(r,e,i){this._rgb=[0,0,0],this.onChangeCallback=c,this.dirty=!1,this.set(r,e,i)},set:function(s,r,e){return s===void 0&&(s=0),r===void 0&&(r=0),e===void 0&&(e=0),this._rgb=[s,r,e],this.onChange(),this},equals:function(s,r,e){var i=this._rgb;return i[0]===s&&i[1]===r&&i[2]===e},onChange:function(){this.dirty=!0;var s=this._rgb;this.onChangeCallback.call(this,s[0],s[1],s[2])},r:{get:function(){return this._rgb[0]},set:function(s){this._rgb[0]=s,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(s){this._rgb[1]=s,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(s){this._rgb[2]=s,this.onChange()}},destroy:function(){this.onChangeCallback=null}});v.exports=a},84093:v=>{var y={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};v.exports=y},32058:(v,y,t)=>{var u=t(97328),c=t(59994),a=t(73174),s=t(28417),r=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),s(e,c(i)+l),a(e,u(i)+n),e};v.exports=r},85535:(v,y,t)=>{var u=t(97328),c=t(40163),a=t(73174),s=t(74465),r=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),s(e,c(i)-l),a(e,u(i)+n),e};v.exports=r},9605:(v,y,t)=>{var u=t(97328),c=t(70271),a=t(73174),s=t(19298),r=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),s(e,c(i)+l),a(e,u(i)+n),e};v.exports=r},22529:(v,y,t)=>{var u=t(21843),c=t(59994),a=t(29568),s=function(r,e,i,l){return i===void 0&&(i=0),l===void 0&&(l=0),u(r,c(e)+i,a(e)+l),r};v.exports=s},5739:(v,y,t)=>{var u=t(29568),c=t(40163),a=t(81711),s=t(74465),r=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),s(e,c(i)-l),a(e,u(i)+n),e};v.exports=r},40327:(v,y,t)=>{var u=t(84093),c=[];c[u.BOTTOM_CENTER]=t(32058),c[u.BOTTOM_LEFT]=t(85535),c[u.BOTTOM_RIGHT]=t(9605),c[u.CENTER]=t(22529),c[u.LEFT_CENTER]=t(5739),c[u.RIGHT_CENTER]=t(27683),c[u.TOP_CENTER]=t(96439),c[u.TOP_LEFT]=t(81447),c[u.TOP_RIGHT]=t(47888),c[u.LEFT_BOTTOM]=c[u.BOTTOM_LEFT],c[u.LEFT_TOP]=c[u.TOP_LEFT],c[u.RIGHT_BOTTOM]=c[u.BOTTOM_RIGHT],c[u.RIGHT_TOP]=c[u.TOP_RIGHT];var a=function(s,r,e,i,l){return c[e](s,r,i,l)};v.exports=a},27683:(v,y,t)=>{var u=t(29568),c=t(70271),a=t(81711),s=t(19298),r=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),s(e,c(i)+l),a(e,u(i)+n),e};v.exports=r},96439:(v,y,t)=>{var u=t(59994),c=t(47196),a=t(28417),s=t(84349),r=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),a(e,u(i)+l),s(e,c(i)-n),e};v.exports=r},81447:(v,y,t)=>{var u=t(40163),c=t(47196),a=t(74465),s=t(84349),r=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),a(e,u(i)-l),s(e,c(i)-n),e};v.exports=r},47888:(v,y,t)=>{var u=t(70271),c=t(47196),a=t(19298),s=t(84349),r=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),a(e,u(i)+l),s(e,c(i)-n),e};v.exports=r},46997:(v,y,t)=>{v.exports={BottomCenter:t(32058),BottomLeft:t(85535),BottomRight:t(9605),Center:t(22529),LeftCenter:t(5739),QuickSet:t(40327),RightCenter:t(27683),TopCenter:t(96439),TopLeft:t(81447),TopRight:t(47888)}},93545:(v,y,t)=>{var u=t(84093),c=t(98611),a={In:t(46997),To:t(86639)};a=c(!1,a,u),v.exports=a},27118:(v,y,t)=>{var u=t(97328),c=t(59994),a=t(28417),s=t(84349),r=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),a(e,c(i)+l),s(e,u(i)+n),e};v.exports=r},84469:(v,y,t)=>{var u=t(97328),c=t(40163),a=t(74465),s=t(84349),r=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),a(e,c(i)-l),s(e,u(i)+n),e};v.exports=r},51577:(v,y,t)=>{var u=t(97328),c=t(70271),a=t(19298),s=t(84349),r=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),a(e,c(i)+l),s(e,u(i)+n),e};v.exports=r},90271:(v,y,t)=>{var u=t(97328),c=t(40163),a=t(73174),s=t(19298),r=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),s(e,c(i)-l),a(e,u(i)+n),e};v.exports=r},30466:(v,y,t)=>{var u=t(29568),c=t(40163),a=t(81711),s=t(19298),r=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),s(e,c(i)-l),a(e,u(i)+n),e};v.exports=r},50087:(v,y,t)=>{var u=t(40163),c=t(47196),a=t(19298),s=t(84349),r=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),a(e,u(i)-l),s(e,c(i)-n),e};v.exports=r},82590:(v,y,t)=>{var u=t(84093),c=[];c[u.BOTTOM_CENTER]=t(27118),c[u.BOTTOM_LEFT]=t(84469),c[u.BOTTOM_RIGHT]=t(51577),c[u.LEFT_BOTTOM]=t(90271),c[u.LEFT_CENTER]=t(30466),c[u.LEFT_TOP]=t(50087),c[u.RIGHT_BOTTOM]=t(13555),c[u.RIGHT_CENTER]=t(99049),c[u.RIGHT_TOP]=t(67788),c[u.TOP_CENTER]=t(78170),c[u.TOP_LEFT]=t(54145),c[u.TOP_RIGHT]=t(75548);var a=function(s,r,e,i,l){return c[e](s,r,i,l)};v.exports=a},13555:(v,y,t)=>{var u=t(97328),c=t(70271),a=t(73174),s=t(74465),r=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),s(e,c(i)+l),a(e,u(i)+n),e};v.exports=r},99049:(v,y,t)=>{var u=t(29568),c=t(70271),a=t(81711),s=t(74465),r=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),s(e,c(i)+l),a(e,u(i)+n),e};v.exports=r},67788:(v,y,t)=>{var u=t(70271),c=t(47196),a=t(74465),s=t(84349),r=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),a(e,u(i)+l),s(e,c(i)-n),e};v.exports=r},78170:(v,y,t)=>{var u=t(59994),c=t(47196),a=t(73174),s=t(28417),r=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),s(e,u(i)+l),a(e,c(i)-n),e};v.exports=r},54145:(v,y,t)=>{var u=t(40163),c=t(47196),a=t(73174),s=t(74465),r=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),s(e,u(i)-l),a(e,c(i)-n),e};v.exports=r},75548:(v,y,t)=>{var u=t(70271),c=t(47196),a=t(73174),s=t(19298),r=function(e,i,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),s(e,u(i)+l),a(e,c(i)-n),e};v.exports=r},86639:(v,y,t)=>{v.exports={BottomCenter:t(27118),BottomLeft:t(84469),BottomRight:t(51577),LeftBottom:t(90271),LeftCenter:t(30466),LeftTop:t(50087),QuickSet:t(82590),RightBottom:t(13555),RightCenter:t(99049),RightTop:t(67788),TopCenter:t(78170),TopLeft:t(54145),TopRight:t(75548)}},21843:(v,y,t)=>{var u=t(28417),c=t(81711),a=function(s,r,e){return u(s,r),c(s,e)};v.exports=a},97328:v=>{var y=function(t){return t.y+t.height-t.height*t.originY};v.exports=y},7126:(v,y,t)=>{var u=t(97328),c=t(40163),a=t(70271),s=t(47196),r=t(74118),e=function(i,l){l===void 0&&(l=new r);var n=c(i),o=s(i);return l.x=n,l.y=o,l.width=a(i)-n,l.height=u(i)-o,l};v.exports=e},59994:v=>{var y=function(t){return t.x-t.width*t.originX+t.width*.5};v.exports=y},29568:v=>{var y=function(t){return t.y-t.height*t.originY+t.height*.5};v.exports=y},40163:v=>{var y=function(t){return t.x-t.width*t.originX};v.exports=y},52088:v=>{var y=function(t){return t.width*t.originX};v.exports=y},23379:v=>{var y=function(t){return t.height*t.originY};v.exports=y},70271:v=>{var y=function(t){return t.x+t.width-t.width*t.originX};v.exports=y},47196:v=>{var y=function(t){return t.y-t.height*t.originY};v.exports=y},73174:v=>{var y=function(t,u){return t.y=u-t.height+t.height*t.originY,t};v.exports=y},28417:v=>{var y=function(t,u){var c=t.width*t.originX;return t.x=u+c-t.width*.5,t};v.exports=y},81711:v=>{var y=function(t,u){var c=t.height*t.originY;return t.y=u+c-t.height*.5,t};v.exports=y},74465:v=>{var y=function(t,u){return t.x=u+t.width*t.originX,t};v.exports=y},19298:v=>{var y=function(t,u){return t.x=u-t.width+t.width*t.originX,t};v.exports=y},84349:v=>{var y=function(t,u){return t.y=u+t.height*t.originY,t};v.exports=y},15252:(v,y,t)=>{v.exports={CenterOn:t(21843),GetBottom:t(97328),GetBounds:t(7126),GetCenterX:t(59994),GetCenterY:t(29568),GetLeft:t(40163),GetOffsetX:t(52088),GetOffsetY:t(23379),GetRight:t(70271),GetTop:t(47196),SetBottom:t(73174),SetCenterX:t(28417),SetCenterY:t(81711),SetLeft:t(74465),SetRight:t(19298),SetTop:t(84349)}},70616:v=>{var y={setCrisp:function(t){var u=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return u.forEach(function(c){t.style["image-rendering"]=c}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};v.exports=y},61068:(v,y,t)=>{var u=t(86459),c=t(8213),a=[],s=!1,r=function(){var e=function(x,S,T,C,E){S===void 0&&(S=1),T===void 0&&(T=1),C===void 0&&(C=u.CANVAS),E===void 0&&(E=!1);var P,M=n(C);return M===null?(M={parent:x,canvas:document.createElement("canvas"),type:C},C===u.CANVAS&&a.push(M),P=M.canvas):(M.parent=x,P=M.canvas),E&&(M.parent=P),P.width=S,P.height=T,s&&C===u.CANVAS&&c.disable(P.getContext("2d",{willReadFrequently:!1})),P},i=function(x,S,T){return e(x,S,T,u.CANVAS)},l=function(x,S,T){return e(x,S,T,u.WEBGL)},n=function(x){if(x===void 0&&(x=u.CANVAS),x===u.WEBGL)return null;for(var S=0;S<a.length;S++){var T=a[S];if(!T.parent&&T.type===x)return T}return null},o=function(x){var S=x instanceof HTMLCanvasElement;a.forEach(function(T){(S&&T.canvas===x||!S&&T.parent===x)&&(T.parent=null,T.canvas.width=1,T.canvas.height=1)})},f=function(){var x=0;return a.forEach(function(S){S.parent&&x++}),x},h=function(){return a.length-f()},d=function(){s=!0},p=function(){s=!1};return{create2D:i,create:e,createWebGL:l,disableSmoothing:d,enableSmoothing:p,first:n,free:h,pool:a,remove:o,total:f}};v.exports=r()},8213:v=>{var y="",t=function(){var u=function(r){for(var e=["i","webkitI","msI","mozI","oI"],i=0;i<e.length;i++){var l=e[i]+"mageSmoothingEnabled";if(l in r)return l}return null},c=function(r){return y===""&&(y=u(r)),y&&(r[y]=!0),r},a=function(r){return y===""&&(y=u(r)),y&&(r[y]=!1),r},s=function(r){return y!==null?r[y]:null};return{disable:a,enable:c,getPrefix:u,isEnabled:s}};v.exports=t()},59271:v=>{var y=function(t,u){return u===void 0&&(u="none"),t.style.msTouchAction=u,t.style["ms-touch-action"]=u,t.style["touch-action"]=u,t};v.exports=y},36505:v=>{var y=function(t,u){u===void 0&&(u="none");var c=["-webkit-","-khtml-","-moz-","-ms-",""];return c.forEach(function(a){t.style[a+"user-select"]=u}),t.style["-webkit-touch-callout"]=u,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};v.exports=y},23514:(v,y,t)=>{v.exports={CanvasInterpolation:t(70616),CanvasPool:t(61068),Smoothing:t(8213),TouchAction:t(59271),UserSelect:t(36505)}},27119:(v,y,t)=>{var u=t(56694),c=t(22946),a=t(5657),s=t(24650),r=t(68033),e=new u({initialize:function(l,n,o,f){l===void 0&&(l=0),n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(l,n,o,f)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(i,l,n,o,f){return o===void 0&&(o=255),f===void 0&&(f=!0),this._locked=!0,this.red=i,this.green=l,this.blue=n,this.alpha=o,this._locked=!1,this.update(f)},setGLTo:function(i,l,n,o){return o===void 0&&(o=1),this._locked=!0,this.redGL=i,this.greenGL=l,this.blueGL=n,this.alphaGL=o,this._locked=!1,this.update(!0)},setFromRGB:function(i){return this._locked=!0,this.red=i.r,this.green=i.g,this.blue=i.b,i.hasOwnProperty("a")&&(this.alpha=i.a),this._locked=!1,this.update(!0)},setFromHSV:function(i,l,n){return s(i,l,n,this)},update:function(i){if(i===void 0&&(i=!1),this._locked)return this;var l=this.r,n=this.g,o=this.b,f=this.a;return this._color=c(l,n,o),this._color32=a(l,n,o,f),this._rgba="rgba("+l+","+n+","+o+","+f/255+")",i&&r(l,n,o,this),this},updateHSV:function(){var i=this.r,l=this.g,n=this.b;return r(i,l,n,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(i){return this.setTo(i,i,i)},random:function(i,l){i===void 0&&(i=0),l===void 0&&(l=255);var n=Math.floor(i+Math.random()*(l-i)),o=Math.floor(i+Math.random()*(l-i)),f=Math.floor(i+Math.random()*(l-i));return this.setTo(n,o,f)},randomGray:function(i,l){i===void 0&&(i=0),l===void 0&&(l=255);var n=Math.floor(i+Math.random()*(l-i));return this.setTo(n,n,n)},saturate:function(i){return this.s+=i/100,this},desaturate:function(i){return this.s-=i/100,this},lighten:function(i){return this.v+=i/100,this},darken:function(i){return this.v-=i/100,this},brighten:function(i){var l=this.r,n=this.g,o=this.b;return l=Math.max(0,Math.min(255,l-Math.round(255*-(i/100)))),n=Math.max(0,Math.min(255,n-Math.round(255*-(i/100)))),o=Math.max(0,Math.min(255,o-Math.round(255*-(i/100)))),this.setTo(l,n,o)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(i){this.gl[0]=Math.min(Math.abs(i),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(i){this.gl[1]=Math.min(Math.abs(i),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(i){this.gl[2]=Math.min(Math.abs(i),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(i){this.gl[3]=Math.min(Math.abs(i),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(i){i=Math.floor(Math.abs(i)),this.r=Math.min(i,255),this.gl[0]=i/255,this.update(!0)}},green:{get:function(){return this.g},set:function(i){i=Math.floor(Math.abs(i)),this.g=Math.min(i,255),this.gl[1]=i/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(i){i=Math.floor(Math.abs(i)),this.b=Math.min(i,255),this.gl[2]=i/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(i){i=Math.floor(Math.abs(i)),this.a=Math.min(i,255),this.gl[3]=i/255,this.update()}},h:{get:function(){return this._h},set:function(i){this._h=i,s(i,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(i){this._s=i,s(this._h,i,this._v,this)}},v:{get:function(){return this._v},set:function(i){this._v=i,s(this._h,this._s,i,this)}}});v.exports=e},30245:(v,y,t)=>{var u=t(22946),c=function(a){a===void 0&&(a=1024);var s=[],r=255,e,i=255,l=0,n=0;for(e=0;e<=r;e++)s.push({r:i,g:e,b:n,color:u(i,e,n)});for(l=255,e=r;e>=0;e--)s.push({r:e,g:l,b:n,color:u(e,l,n)});for(i=0,e=0;e<=r;e++,l--)s.push({r:i,g:l,b:e,color:u(i,l,e)});for(l=0,n=255,e=0;e<=r;e++,n--,i++)s.push({r:i,g:l,b:n,color:u(i,l,n)});if(a===1024)return s;var o=[],f=0,h=1024/a;for(e=0;e<a;e++)o.push(s[Math.floor(f)]),f+=h;return o};v.exports=c},86672:v=>{var y=function(t){var u={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(u.a=t>>>24),u};v.exports=y},25409:v=>{var y=function(t){var u=t.toString(16);return u.length===1?"0"+u:u};v.exports=y},22946:v=>{var y=function(t,u,c){return t<<16|u<<8|c};v.exports=y},5657:v=>{var y=function(t,u,c,a){return a<<24|t<<16|u<<8|c};v.exports=y},74777:(v,y,t)=>{var u=t(27119),c=t(59998),a=function(s,r,e){var i=e,l=e,n=e;if(r!==0){var o=e<.5?e*(1+r):e+r-e*r,f=2*e-o;i=c(f,o,s+1/3),l=c(f,o,s),n=c(f,o,s-1/3)}var h=new u;return h.setGLTo(i,l,n,1)};v.exports=a},89263:(v,y,t)=>{var u=t(24650),c=function(a,s){a===void 0&&(a=1),s===void 0&&(s=1);for(var r=[],e=0;e<=359;e++)r.push(u(e/359,a,s));return r};v.exports=c},24650:(v,y,t)=>{var u=t(22946);function c(s,r,e,i){var l=(s+r*6)%6,n=Math.min(l,4-l,1);return Math.round(255*(i-i*e*Math.max(0,n)))}var a=function(s,r,e,i){r===void 0&&(r=1),e===void 0&&(e=1);var l=c(5,s,r,e),n=c(3,s,r,e),o=c(1,s,r,e);return i?i.setTo?i.setTo(l,n,o,i.alpha,!0):(i.r=l,i.g=n,i.b=o,i.color=u(l,n,o),i):{r:l,g:n,b:o,color:u(l,n,o)}};v.exports=a},91487:(v,y,t)=>{var u=t(27119),c=function(a){var s=new u;a=a.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,o,f,h){return o+o+f+f+h+h});var r=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);if(r){var e=parseInt(r[1],16),i=parseInt(r[2],16),l=parseInt(r[3],16);s.setTo(e,i,l)}return s};v.exports=c},59998:v=>{var y=function(t,u,c){return c<0&&(c+=1),c>1&&(c-=1),c<.16666666666666666?t+(u-t)*6*c:c<.5?u:c<.6666666666666666?t+(u-t)*(.6666666666666666-c)*6:t};v.exports=y},74853:(v,y,t)=>{var u=t(27119),c=t(15978),a=function(s){var r=c(s);return new u(r.r,r.g,r.b,r.a)};v.exports=a},15978:v=>{var y=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};v.exports=y},53756:(v,y,t)=>{var u=t(42798),c=function(r,e,i,l,n,o,f,h){f===void 0&&(f=100),h===void 0&&(h=0);var d=h/f;return{r:u(r,l,d),g:u(e,n,d),b:u(i,o,d)}},a=function(r,e,i,l){return i===void 0&&(i=100),l===void 0&&(l=0),c(r.r,r.g,r.b,e.r,e.g,e.b,i,l)},s=function(r,e,i,l,n,o){return n===void 0&&(n=100),o===void 0&&(o=0),c(r.r,r.g,r.b,e,i,l,n,o)};v.exports={RGBWithRGB:c,ColorWithRGB:s,ColorWithColor:a}},73904:(v,y,t)=>{var u=t(27119),c=function(a){return new u(a.r,a.g,a.b,a.a)};v.exports=c},26841:(v,y,t)=>{var u=t(27119),c=function(a){var s=new u,r=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(a.toLowerCase());if(r){var e=parseInt(r[1],10),i=parseInt(r[2],10),l=parseInt(r[3],10),n=r[4]!==void 0?parseFloat(r[4]):1;s.setTo(e,i,l,n*255)}return s};v.exports=c},68033:v=>{var y=function(t,u,c,a){a===void 0&&(a={h:0,s:0,v:0}),t/=255,u/=255,c/=255;var s=Math.min(t,u,c),r=Math.max(t,u,c),e=r-s,i=0,l=r===0?0:e/r,n=r;return r!==s&&(r===t?i=(u-c)/e+(u<c?6:0):r===u?i=(c-t)/e+2:r===c&&(i=(t-u)/e+4),i/=6),a.hasOwnProperty("_h")?(a._h=i,a._s=l,a._v=n):(a.h=i,a.s=l,a.v=n),a};v.exports=y},4880:(v,y,t)=>{var u=t(25409),c=function(a,s,r,e,i){return e===void 0&&(e=255),i===void 0&&(i="#"),i==="#"?"#"+((1<<24)+(a<<16)+(s<<8)+r).toString(16).slice(1,7):"0x"+u(e)+u(a)+u(s)+u(r)};v.exports=c},37243:(v,y,t)=>{var u=t(17489),c=t(27119),a=function(s,r){return s===void 0&&(s=0),r===void 0&&(r=255),new c(u(s,r),u(s,r),u(s,r))};v.exports=a},93222:(v,y,t)=>{var u=t(91487),c=t(74853),a=t(73904),s=t(26841),r=function(e){var i=typeof e;switch(i){case"string":return e.substr(0,3).toLowerCase()==="rgb"?s(e):u(e);case"number":return c(e);case"object":return a(e)}};v.exports=r},95509:(v,y,t)=>{var u=t(27119);u.ColorSpectrum=t(30245),u.ColorToRGBA=t(86672),u.ComponentToHex=t(25409),u.GetColor=t(22946),u.GetColor32=t(5657),u.HexStringToColor=t(91487),u.HSLToColor=t(74777),u.HSVColorWheel=t(89263),u.HSVToRGB=t(24650),u.HueToComponent=t(59998),u.IntegerToColor=t(74853),u.IntegerToRGB=t(15978),u.Interpolate=t(53756),u.ObjectToColor=t(73904),u.RandomRGB=t(37243),u.RGBStringToColor=t(26841),u.RGBToHSV=t(68033),u.RGBToString=t(4880),u.ValueToColor=t(93222),v.exports=u},24816:(v,y,t)=>{v.exports={Align:t(93545),BaseShader:t(31053),Bounds:t(15252),Canvas:t(23514),Color:t(95509),ColorMatrix:t(65246),Masks:t(93310),RGB:t(39298)}},76756:(v,y,t)=>{var u=t(56694),c=t(61286),a=new u({initialize:function(r,e,i,l,n,o){e||(e=r.sys.make.image({x:i,y:l,key:n,frame:o,add:!1})),this.bitmapMask=e,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(s){this.bitmapMask=s},preRenderWebGL:function(s,r,e){s.pipelines.BITMAPMASK_PIPELINE.beginMask(this,r,e)},postRenderWebGL:function(s,r,e){s.pipelines.BITMAPMASK_PIPELINE.endMask(this,r,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});c.register("bitmapMask",function(s,r,e,i,l){return new a(this.scene,s,r,e,i,l)}),v.exports=a},63037:(v,y,t)=>{var u=t(56694),c=new u({initialize:function(s,r){this.geometryMask=r,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(a){return this.geometryMask=a,this},setInvertAlpha:function(a){return a===void 0&&(a=!0),this.invertAlpha=a,this},preRenderWebGL:function(a,s,r){var e=a.gl;a.flush(),a.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),a.maskCount=0),a.currentCameraMask.mask!==this&&(a.currentMask.mask=this),a.maskStack.push({mask:this,camera:r}),this.applyStencil(a,r,!0),a.maskCount++},applyStencil:function(a,s,r){var e=a.gl,i=this.geometryMask,l=a.maskCount,n=255;e.colorMask(!1,!1,!1,!1),r?(e.stencilFunc(e.EQUAL,l,n),e.stencilOp(e.KEEP,e.KEEP,e.INCR),l++):(e.stencilFunc(e.EQUAL,l+1,n),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),this.level=l,i.renderWebGL(a,i,s),a.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),this.invertAlpha?e.stencilFunc(e.NOTEQUAL,l,n):e.stencilFunc(e.EQUAL,l,n)},postRenderWebGL:function(a){var s=a.gl;a.maskStack.pop(),a.maskCount--,a.flush();var r=a.currentMask;if(a.maskStack.length===0)r.mask=null,s.disable(s.STENCIL_TEST);else{var e=a.maskStack[a.maskStack.length-1];e.mask.applyStencil(a,e.camera,!1),a.currentCameraMask.mask!==e.mask?(r.mask=e.mask,r.camera=e.camera):r.mask=null}},preRenderCanvas:function(a,s,r){var e=this.geometryMask;a.currentContext.save(),e.renderCanvas(a,e,r,null,null,!0),a.currentContext.clip()},postRenderCanvas:function(a){a.currentContext.restore()},destroy:function(){this.geometryMask=null}});v.exports=c},93310:(v,y,t)=>{v.exports={BitmapMask:t(76756),GeometryMask:t(63037)}},31053:(v,y,t)=>{var u=t(56694),c=new u({initialize:function(s,r,e,i){(!r||r==="")&&(r=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),i===void 0&&(i=null),this.key=s,this.fragmentSrc=r,this.vertexSrc=e,this.uniforms=i}});v.exports=c},99584:v=>{var y=function(t,u){var c;if(u)typeof u=="string"?c=document.getElementById(u):typeof u=="object"&&u.nodeType===1&&(c=u);else if(t.parentElement||u===null)return t;return c||(c=document.body),c.appendChild(t),t};v.exports=y},85178:(v,y,t)=>{var u=t(99584),c=function(a){var s=a.config;if(!(!s.parent||!s.domCreateContainer)){var r=document.createElement("div");r.style.cssText=["display: block;","width: "+a.scale.width+"px;","height: "+a.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+s.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),a.domContainer=r,u(r,s.parent)}};v.exports=c},21546:(v,y,t)=>{var u=t(36580),c=function(a){if(document.readyState==="complete"||document.readyState==="interactive"){a();return}var s=function(){document.removeEventListener("deviceready",s,!0),document.removeEventListener("DOMContentLoaded",s,!0),window.removeEventListener("load",s,!0),a()};document.body?u.cordova?document.addEventListener("deviceready",s,!1):(document.addEventListener("DOMContentLoaded",s,!0),window.addEventListener("load",s,!0)):window.setTimeout(s,20)};v.exports=c},74181:v=>{var y=function(t){if(!t)return window.innerHeight;var u=Math.abs(window.orientation),c={w:0,h:0},a=document.createElement("div");return a.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(a),c.w=u===90?a.offsetHeight:window.innerWidth,c.h=u===90?window.innerWidth:a.offsetHeight,document.documentElement.removeChild(a),a=null,Math.abs(window.orientation)!==90?c.h:c.w};v.exports=y},9229:(v,y,t)=>{var u=t(55301),c=function(a,s){var r=window.screen,e=r?r.orientation||r.mozOrientation||r.msOrientation:!1;if(e&&typeof e.type=="string")return e.type;if(typeof e=="string")return e;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?u.ORIENTATION.PORTRAIT:u.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return u.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return u.ORIENTATION.LANDSCAPE}else return s>a?u.ORIENTATION.PORTRAIT:u.ORIENTATION.LANDSCAPE};v.exports=c},2893:v=>{var y=function(t){var u;return t!==""&&(typeof t=="string"?u=document.getElementById(t):t&&t.nodeType===1&&(u=t)),u||(u=document.body),u};v.exports=y},89200:v=>{var y=function(t){var u="";try{if(window.DOMParser){var c=new DOMParser;u=c.parseFromString(t,"text/xml")}else u=new ActiveXObject("Microsoft.XMLDOM"),u.loadXML(t)}catch{u=null}return!u||!u.documentElement||u.getElementsByTagName("parsererror").length?null:u};v.exports=y},55638:v=>{var y=function(t){t.parentNode&&t.parentNode.removeChild(t)};v.exports=y},27385:(v,y,t)=>{var u=t(56694),c=t(72283),a=new u({initialize:function(){this.isRunning=!1,this.callback=c,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var r=this;this.step=function e(i){r.callback(i),r.isRunning&&(r.timeOutID=window.requestAnimationFrame(e))},this.stepTimeout=function e(){r.isRunning&&(r.timeOutID=window.setTimeout(e,r.delay)),r.callback(window.performance.now())}},start:function(s,r,e){this.isRunning||(this.callback=s,this.isSetTimeOut=r,this.delay=e,this.isRunning=!0,this.timeOutID=r?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=c}});v.exports=a},3590:(v,y,t)=>{var u={AddToDOM:t(99584),DOMContentLoaded:t(21546),GetInnerHeight:t(74181),GetScreenOrientation:t(9229),GetTarget:t(2893),ParseXML:t(89200),RemoveFromDOM:t(55638),RequestAnimationFrame:t(27385)};v.exports=u},78491:(v,y,t)=>{var u=t(56694),c=t(6659),a=t(91963),s=new u({Extends:c,initialize:function(){c.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});a.register("EventEmitter",s,"events"),v.exports=s},95146:(v,y,t)=>{v.exports={EventEmitter:t(78491)}},20170:(v,y,t)=>{var u=t(56694),c=t(47551),a=t(47406),s=new u({Extends:c,initialize:function(e,i){i===void 0&&(i=1),c.call(this,a.BARREL,e),this.amount=i}});v.exports=s},51182:(v,y,t)=>{var u=t(56694),c=t(47551),a=t(47406),s=new u({Extends:c,initialize:function(e,i,l,n,o,f,h){l===void 0&&(l=1),n===void 0&&(n=1),o===void 0&&(o=1),f===void 0&&(f=1),h===void 0&&(h=4),c.call(this,a.BLOOM,e),this.steps=h,this.offsetX=l,this.offsetY=n,this.blurStrength=o,this.strength=f,this.glcolor=[1,1,1],i!=null&&(this.color=i)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});v.exports=s},51498:(v,y,t)=>{var u=t(56694),c=t(47551),a=t(47406),s=new u({Extends:c,initialize:function(e,i,l,n,o,f,h){i===void 0&&(i=0),l===void 0&&(l=2),n===void 0&&(n=2),o===void 0&&(o=1),h===void 0&&(h=4),c.call(this,a.BLUR,e),this.quality=0,this.x=l,this.y=n,this.steps=h,this.strength=o,this.glcolor=[1,1,1],f!=null&&(this.color=f)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});v.exports=s},12042:(v,y,t)=>{var u=t(56694),c=t(47551),a=t(47406),s=new u({Extends:c,initialize:function(e,i,l,n,o,f,h,d){i===void 0&&(i=.5),l===void 0&&(l=1),n===void 0&&(n=.2),o===void 0&&(o=!1),f===void 0&&(f=1),h===void 0&&(h=1),d===void 0&&(d=1),c.call(this,a.BOKEH,e),this.radius=i,this.amount=l,this.contrast=n,this.isTiltShift=o,this.strength=d,this.blurX=f,this.blurY=h}});v.exports=s},69900:(v,y,t)=>{var u=t(56694),c=t(47551),a=t(47406),s=new u({Extends:c,initialize:function(e,i,l,n,o,f){i===void 0&&(i=8),o===void 0&&(o=1),f===void 0&&(f=.005),c.call(this,a.CIRCLE,e),this.scale=o,this.feather=f,this.thickness=i,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],l!=null&&(this.color=l),n!=null&&(this.backgroundColor=n)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}},backgroundColor:{get:function(){var r=this.glcolor2;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor2;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});v.exports=s},48991:(v,y,t)=>{var u=t(56694),c=t(65246),a=t(47406),s=new u({Extends:c,initialize:function(e){c.call(this),this.type=a.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});v.exports=s},47551:(v,y,t)=>{var u=t(56694),c=new u({initialize:function(s,r){this.type=s,this.gameObject=r,this.active=!0},setActive:function(a){return this.active=a,this},destroy:function(){this.gameObject=null,this.active=!1}});v.exports=c},47909:(v,y,t)=>{var u=t(56694),c=t(47551),a=t(47406),s=new u({Extends:c,initialize:function(e,i,l,n){i===void 0&&(i="__WHITE"),l===void 0&&(l=.005),n===void 0&&(n=.005),c.call(this,a.DISPLACEMENT,e),this.x=l,this.y=n,this.glTexture,this.setTexture(i)},setTexture:function(r){var e=this.gameObject.scene.sys.textures.getFrame(r);return e&&(this.glTexture=e.glTexture),this}});v.exports=s},18919:(v,y,t)=>{var u=t(56694),c=t(47551),a=t(47406),s=new u({Extends:c,initialize:function(e,i,l,n,o){l===void 0&&(l=4),n===void 0&&(n=0),o===void 0&&(o=!1),c.call(this,a.GLOW,e),this.outerStrength=l,this.innerStrength=n,this.knockout=o,this.glcolor=[1,1,1,1],i!==void 0&&(this.color=i)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});v.exports=s},62494:(v,y,t)=>{var u=t(56694),c=t(47551),a=t(47406),s=new u({Extends:c,initialize:function(e,i,l,n,o,f,h,d,p){n===void 0&&(n=.2),o===void 0&&(o=0),f===void 0&&(f=0),h===void 0&&(h=0),d===void 0&&(d=1),p===void 0&&(p=0),c.call(this,a.GRADIENT,e),this.alpha=n,this.size=p,this.fromX=o,this.fromY=f,this.toX=h,this.toY=d,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],i!=null&&(this.color1=i),l!=null&&(this.color2=l)},color1:{get:function(){var r=this.glcolor1;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var e=this.glcolor1;e[0]=r>>16&255,e[1]=r>>8&255,e[2]=r&255}},color2:{get:function(){var r=this.glcolor2;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var e=this.glcolor2;e[0]=r>>16&255,e[1]=r>>8&255,e[2]=r&255}}});v.exports=s},68897:(v,y,t)=>{var u=t(56694),c=t(47551),a=t(47406),s=new u({Extends:c,initialize:function(e,i){i===void 0&&(i=1),c.call(this,a.PIXELATE,e),this.amount=i}});v.exports=s},58575:(v,y,t)=>{var u=t(56694),c=t(47551),a=t(47406),s=new u({Extends:c,initialize:function(e,i,l,n,o,f,h,d){i===void 0&&(i=0),l===void 0&&(l=0),n===void 0&&(n=.1),o===void 0&&(o=1),h===void 0&&(h=6),d===void 0&&(d=1),c.call(this,a.SHADOW,e),this.x=i,this.y=l,this.decay=n,this.power=o,this.glcolor=[0,0,0,1],this.samples=h,this.intensity=d,f!==void 0&&(this.color=f)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var e=this.glcolor;e[0]=(r>>16&255)/255,e[1]=(r>>8&255)/255,e[2]=(r&255)/255}}});v.exports=s},33755:(v,y,t)=>{var u=t(56694),c=t(47551),a=t(47406),s=new u({Extends:c,initialize:function(e,i,l,n,o){i===void 0&&(i=.5),l===void 0&&(l=.5),n===void 0&&(n=3),o===void 0&&(o=!1),c.call(this,a.SHINE,e),this.speed=i,this.lineWidth=l,this.gradient=n,this.reveal=o}});v.exports=s},24949:(v,y,t)=>{var u=t(56694),c=t(47551),a=t(47406),s=new u({Extends:c,initialize:function(e,i,l,n,o){i===void 0&&(i=.5),l===void 0&&(l=.5),n===void 0&&(n=.5),o===void 0&&(o=.5),c.call(this,a.VIGNETTE,e),this.x=i,this.y=l,this.radius=n,this.strength=o}});v.exports=s},66241:(v,y,t)=>{var u=t(56694),c=t(47551),a=t(47406),s=new u({Extends:c,initialize:function(e,i,l,n,o){i===void 0&&(i=.1),l===void 0&&(l=0),n===void 0&&(n=0),o===void 0&&(o=!1),c.call(this,a.WIPE,e),this.progress=0,this.wipeWidth=i,this.direction=l,this.axis=n,this.reveal=o}});v.exports=s},47406:v=>{var y={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};v.exports=y},96910:(v,y,t)=>{var u=t(98611),c=t(47406),a={Barrel:t(20170),Controller:t(47551),Bloom:t(51182),Blur:t(51498),Bokeh:t(12042),Circle:t(69900),ColorMatrix:t(48991),Displacement:t(47909),Glow:t(18919),Gradient:t(62494),Pixelate:t(68897),Shadow:t(58575),Shine:t(33755),Vignette:t(24949),Wipe:t(66241)};a=u(!1,a,c),v.exports=a},88933:(v,y,t)=>{var u=t(95723),c=t(20494),a=function(s,r,e){r.x=c(e,"x",0),r.y=c(e,"y",0),r.depth=c(e,"depth",0),r.flipX=c(e,"flipX",!1),r.flipY=c(e,"flipY",!1);var i=c(e,"scale",null);typeof i=="number"?r.setScale(i):i!==null&&(r.scaleX=c(i,"x",1),r.scaleY=c(i,"y",1));var l=c(e,"scrollFactor",null);typeof l=="number"?r.setScrollFactor(l):l!==null&&(r.scrollFactorX=c(l,"x",1),r.scrollFactorY=c(l,"y",1)),r.rotation=c(e,"rotation",0);var n=c(e,"angle",null);n!==null&&(r.angle=n),r.alpha=c(e,"alpha",1);var o=c(e,"origin",null);if(typeof o=="number")r.setOrigin(o);else if(o!==null){var f=c(o,"x",.5),h=c(o,"y",.5);r.setOrigin(f,h)}r.blendMode=c(e,"blendMode",u.NORMAL),r.visible=c(e,"visible",!0);var d=c(e,"add",!0);return d&&s.sys.displayList.add(r),r.preUpdate&&s.sys.updateList.add(r),r};v.exports=a},32291:(v,y,t)=>{var u=t(20494),c=function(a,s){var r=u(s,"anims",null);if(r===null)return a;if(typeof r=="string")a.anims.play(r);else if(typeof r=="object"){var e=a.anims,i=u(r,"key",void 0);if(i){var l=u(r,"startFrame",void 0),n=u(r,"delay",0),o=u(r,"repeat",0),f=u(r,"repeatDelay",0),h=u(r,"yoyo",!1),d=u(r,"play",!1),p=u(r,"delayedPlay",0),x={key:i,delay:n,repeat:o,repeatDelay:f,yoyo:h,startFrame:l};d?e.play(x):p>0?e.playAfterDelay(x,p):e.load(x)}}return a};v.exports=c},91713:(v,y,t)=>{var u=t(56694),c=t(71207),a=t(91963),s=t(56631),r=t(7599),e=t(17922),i=new u({Extends:c,initialize:function(n){c.call(this,n),this.sortChildrenFlag=!1,this.scene=n,this.systems=n.sys,this.events=n.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(r.BOOT,this.boot,this),this.events.on(r.START,this.start,this)},boot:function(){this.events.once(r.DESTROY,this.destroy,this)},addChildCallback:function(l){l.displayList&&l.displayList!==this&&l.removeFromDisplayList(),l.parentContainer&&l.parentContainer.remove(l),l.displayList||(this.queueDepthSort(),l.displayList=this,l.emit(s.ADDED_TO_SCENE,l,this.scene),this.events.emit(r.ADDED_TO_SCENE,l,this.scene))},removeChildCallback:function(l){this.queueDepthSort(),l.displayList=null,l.emit(s.REMOVED_FROM_SCENE,l,this.scene),this.events.emit(r.REMOVED_FROM_SCENE,l,this.scene)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(l,n){return l._depth-n._depth},getChildren:function(){return this.list},shutdown:function(){for(var l=this.list;l.length;)l[0].destroy(!0);this.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});a.register("DisplayList",i,"displayList"),v.exports=i},89980:(v,y,t)=>{var u=t(56694),c=t(48129),a=t(81078),s=t(6659),r=t(56631),e=t(7599),i=new u({Extends:s,initialize:function(n,o){s.call(this),this.scene=n,this.displayList=null,this.type=o,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(r.ADDED_TO_SCENE,this.addedToScene,this),this.on(r.REMOVED_FROM_SCENE,this.removedFromScene,this),n.sys.queueDepthSort()},setActive:function(l){return this.active=l,this},setName:function(l){return this.name=l,this},setState:function(l){return this.state=l,this},setDataEnabled:function(){return this.data||(this.data=new a(this)),this},setData:function(l,n){return this.data||(this.data=new a(this)),this.data.set(l,n),this},incData:function(l,n){return this.data||(this.data=new a(this)),this.data.inc(l,n),this},toggleData:function(l){return this.data||(this.data=new a(this)),this.data.toggle(l),this},getData:function(l){return this.data||(this.data=new a(this)),this.data.get(l)},setInteractive:function(l,n,o){return this.scene.sys.input.enable(this,l,n,o),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return c(this)},willRender:function(l){var n=this.displayList&&this.displayList.active?this.displayList.willRender(l):!0;return!(!n||i.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&l.id)},getIndexList:function(){for(var l=this,n=this.parentContainer,o=[];n&&(o.unshift(n.getIndex(l)),l=n,n.parentContainer);)n=n.parentContainer;return this.displayList?o.unshift(this.displayList.getIndex(l)):o.unshift(this.scene.sys.displayList.getIndex(l)),o},addToDisplayList:function(l){return l===void 0&&(l=this.scene.sys.displayList),this.displayList&&this.displayList!==l&&this.removeFromDisplayList(),l.exists(this)||(this.displayList=l,l.add(this,!0),l.queueDepthSort(),this.emit(r.ADDED_TO_SCENE,this,this.scene),l.events.emit(e.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var l=this.displayList||this.scene.sys.displayList;return l&&l.exists(this)&&(l.remove(this,!0),l.queueDepthSort(),this.displayList=null,this.emit(r.REMOVED_FROM_SCENE,this,this.scene),l.events.emit(e.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(l){!this.scene||this.ignoreDestroy||(l===void 0&&(l=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(r.DESTROY,this,l),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});i.RENDER_MASK=15,v.exports=i},99325:(v,y,t)=>{var u=t(56694),c=t(91963),a=t(7599),s=new u({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});s.register=function(r,e){s.prototype.hasOwnProperty(r)||(s.prototype[r]=e)},s.remove=function(r){s.prototype.hasOwnProperty(r)&&delete s.prototype[r]},c.register("GameObjectCreator",s,"make"),v.exports=s},61286:(v,y,t)=>{var u=t(56694),c=t(91963),a=t(7599),s=new u({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},existing:function(r){return(r.renderCanvas||r.renderWebGL)&&this.displayList.add(r),r.preUpdate&&this.updateList.add(r),r},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});s.register=function(r,e){s.prototype.hasOwnProperty(r)||(s.prototype[r]=e)},s.remove=function(r){s.prototype.hasOwnProperty(r)&&delete s.prototype[r]},c.register("GameObjectFactory",s,"add"),v.exports=s},73329:(v,y,t)=>{var u=t(69360),c=new u,a=new u,s=new u,r={camera:c,sprite:a,calc:s},e=function(i,l,n){var o=c,f=a,h=s;return f.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),o.copyFrom(l.matrix),n?(o.multiplyWithOffset(n,-l.scrollX*i.scrollFactorX,-l.scrollY*i.scrollFactorY),f.e=i.x,f.f=i.y):(f.e-=l.scrollX*i.scrollFactorX,f.f-=l.scrollY*i.scrollFactorY),o.multiply(f,h),r};v.exports=e},92034:(v,y,t)=>{var u=t(56694),c=t(74623),a=t(91963),s=t(7599),r=new u({Extends:c,initialize:function(i){c.call(this),this.checkQueue=!0,this.scene=i,this.systems=i.sys,i.sys.events.once(s.BOOT,this.boot,this),i.sys.events.on(s.START,this.start,this)},boot:function(){this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(s.PRE_UPDATE,this.update,this),e.on(s.UPDATE,this.sceneUpdate,this),e.once(s.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,i){for(var l=this._active,n=l.length,o=0;o<n;o++){var f=l[o];f.active&&f.preUpdate.call(f,e,i)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var i=this.systems.events;i.off(s.PRE_UPDATE,this.update,this),i.off(s.UPDATE,this.sceneUpdate,this),i.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});a.register("UpdateList",r,"updateList"),v.exports=r},8810:v=>{var y=function(t,u,c,a,s,r,e,i,l,n,o,f,h,d,p){var x=c.x-u.displayOriginX+s,S=c.y-u.displayOriginY+r,T=x+c.w,C=S+c.h,E=e.getXRound(x,S,i),P=e.getYRound(x,S,i),M=e.getXRound(x,C,i),L=e.getYRound(x,C,i),R=e.getXRound(T,C,i),w=e.getYRound(T,C,i),D=e.getXRound(T,S,i),B=e.getYRound(T,S,i);t.batchQuad(u,E,P,M,L,R,w,D,B,a.u0,a.v0,a.u1,a.v1,l,n,o,f,h,d,p)};v.exports=y},82173:v=>{var y=function(t,u,c,a){if(c===void 0&&(c=!1),a===void 0)return a={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},a;var s=t.text,r=s.length,e=t.maxWidth,i=t.wordWrapCharCode,l=Number.MAX_VALUE,n=Number.MAX_VALUE,o=0,f=0,h=t.fontData.chars,d=t.fontData.lineHeight,p=t.letterSpacing,x=t.lineSpacing,S=0,T=0,C=0,E=null,P=t._align,M=0,L=0,R=t.fontSize/t.fontData.size,w=R*t.scaleX,D=R*t.scaleY,B=null,z=0,V=[],Y=Number.MAX_VALUE,H=0,I=0,U=0,O,N=[],G=[],X=null;if(e>0){for(O=0;O<r;O++){if(C=s.charCodeAt(O),C===10){X!==null&&(N.push({word:X.word,i:X.i,x:X.x*w,y:X.y*D,w:X.w*w,h:X.h*D,cr:!0}),X=null),S=0,T+=d+x,B=null;continue}if(E=h[C],!!E){if(B!==null)var W=E.kerning[z];C===i?X!==null&&(N.push({word:X.word,i:X.i,x:X.x*w,y:X.y*D,w:X.w*w,h:X.h*D,cr:!1}),X=null):(X===null&&(X={word:"",i:O,x:S,y:T,w:0,h:d,cr:!1}),X.word=X.word.concat(s[O]),X.w+=E.xOffset+E.xAdvance+(W!==void 0?W:0)),S+=E.xAdvance+p,B=E,z=C}}X!==null&&N.push({word:X.word,i:X.i,x:X.x*w,y:X.y*D,w:X.w*w,h:X.h*D,cr:!1}),S=0,T=0,B=null,z=0;var b,K=0,Z=[];for(O=0;O<N.length;O++){var Q=N[O],J=Q.x,j=Q.x+Q.w;if(b){var k=J-(b.x+b.w);K=J-(k+b.w),b=null}var $=J-K,_=j-K;$>e||_>e?(Z.push(Q.i-1),Q.cr?(Z.push(Q.i+Q.word.length),K=0,b=null):b=Q):Q.cr&&(Z.push(Q.i+Q.word.length),K=0,b=null)}var nt=function(Dt,Nt,Xt){return Dt.substr(0,Nt)+Xt+Dt.substr(Nt+1)};for(O=Z.length-1;O>=0;O--)s=nt(s,Z[O],`
`);a.wrappedText=s,r=s.length,N=[],X=null}var at=0;for(O=0;O<r;O++){if(C=s.charCodeAt(O),C===10){X!==null&&(N.push({word:X.word,i:X.i,x:X.x*w,y:X.y*D,w:X.w*w,h:X.h*D}),X=null),S=0,T+=d+x,B=null,V[I]=U,U>H&&(H=U),U<Y&&(Y=U),I++,U=0;continue}if(E=h[C],!!E){if(M=S,L=T,B!==null){var st=E.kerning[z];M+=st!==void 0?st:0}l>M&&(l=M),n>L&&(n=L);var q=M+E.xAdvance,it=L+d;o<q&&(o=q),f<it&&(f=it);var et=E.xOffset+E.xAdvance+(st!==void 0?st:0);C===i?X!==null&&(N.push({word:X.word,i:X.i,x:X.x*w,y:X.y*D,w:X.w*w,h:X.h*D}),X=null):(X===null&&(X={word:"",i:at,x:S,y:T,w:0,h:d}),X.word=X.word.concat(s[O]),X.w+=et),G.push({i:at,idx:O,char:s[O],code:C,x:(E.xOffset+M)*R,y:(E.yOffset+T)*R,w:E.width*R,h:E.height*R,t:T*R,r:q*R,b:d*R,line:I,glyph:E}),S+=E.xAdvance+p+(st!==void 0?st:0),B=E,z=C,U=q*R,at++}}if(X!==null&&N.push({word:X.word,i:X.i,x:X.x*w,y:X.y*D,w:X.w*w,h:X.h*D}),V[I]=U,U>H&&(H=U),U<Y&&(Y=U),P>0)for(var lt=0;lt<G.length;lt++){var ot=G[lt];if(P===1){var At=(H-V[ot.line])/2;ot.x+=At,ot.r+=At}else if(P===2){var mt=H-V[ot.line];ot.x+=mt,ot.r+=mt}}var ft=a.local,ht=a.global,gt=a.lines;return ft.x=l*R,ft.y=n*R,ft.width=o*R,ft.height=f*R,ht.x=t.x-t._displayOriginX+l*w,ht.y=t.y-t._displayOriginY+n*D,ht.width=o*w,ht.height=f*D,gt.shortest=Y,gt.longest=H,gt.lengths=V,u&&(ft.x=Math.ceil(ft.x),ft.y=Math.ceil(ft.y),ft.width=Math.ceil(ft.width),ft.height=Math.ceil(ft.height),ht.x=Math.ceil(ht.x),ht.y=Math.ceil(ht.y),ht.width=Math.ceil(ht.width),ht.height=Math.ceil(ht.height),gt.shortest=Math.ceil(Y),gt.longest=Math.ceil(H)),c&&(t._displayOriginX=t.originX*ft.width,t._displayOriginY=t.originY*ft.height,ht.x=t.x-t._displayOriginX*t.scaleX,ht.y=t.y-t._displayOriginY*t.scaleY,u&&(ht.x=Math.ceil(ht.x),ht.y=Math.ceil(ht.y))),a.words=N,a.characters=G,a.lines.height=d,a.scale=R,a.scaleX=t.scaleX,a.scaleY=t.scaleY,a};v.exports=y},68298:(v,y,t)=>{var u=t(31476),c=function(a,s,r,e,i,l,n){var o=a.sys.textures.get(r),f=o.get(e),h=a.sys.cache.xml.get(i);if(f&&h){var d=u(h,f,l,n,o);return a.sys.cache.bitmapFont.add(s,{data:d,texture:r,frame:e,fromAtlas:!0}),!0}else return!1};v.exports=c},39860:(v,y,t)=>{var u=t(10850),c=function(a,s){var r=s.width,e=s.height,i=Math.floor(r/2),l=Math.floor(e/2),n=u(s,"chars","");if(n!==""){var o=u(s,"image",""),f=a.sys.textures.getFrame(o),h=f.cutX,d=f.cutY,p=f.source.width,x=f.source.height,S=u(s,"offset.x",0),T=u(s,"offset.y",0),C=u(s,"spacing.x",0),E=u(s,"spacing.y",0),P=u(s,"lineSpacing",0),M=u(s,"charsPerRow",null);M===null&&(M=p/r,M>n.length&&(M=n.length));for(var L=S,R=T,w={retroFont:!0,font:o,size:r,lineHeight:e+P,chars:{}},D=0,B=0;B<n.length;B++){var z=n.charCodeAt(B),V=(h+L)/p,Y=(d+R)/x,H=(h+L+r)/p,I=(d+R+e)/x;w.chars[z]={x:L,y:R,width:r,height:e,centerX:i,centerY:l,xOffset:0,yOffset:0,xAdvance:r,data:{},kerning:{},u0:V,v0:Y,u1:H,v1:I},D++,D===M?(D=0,L=S,R+=e+E):L+=r+C}var U={data:w,frame:null,texture:o};return U}};v.exports=c},31476:v=>{function y(u,c){return parseInt(u.getAttribute(c),10)}var t=function(u,c,a,s,r){a===void 0&&(a=0),s===void 0&&(s=0);var e=c.cutX,i=c.cutY,l=c.source.width,n=c.source.height,o=c.sourceIndex,f={},h=u.getElementsByTagName("info")[0],d=u.getElementsByTagName("common")[0];f.font=h.getAttribute("face"),f.size=y(h,"size"),f.lineHeight=y(d,"lineHeight")+s,f.chars={};var p=u.getElementsByTagName("char"),x=c!==void 0&&c.trimmed;if(x)var S=c.height,T=c.width;for(var C=0;C<p.length;C++){var E=p[C],P=y(E,"id"),M=String.fromCharCode(P),L=y(E,"x"),R=y(E,"y"),w=y(E,"width"),D=y(E,"height");x&&(L<T&&(T=L),R<S&&(S=R)),x&&S!==0&&T!==0&&(L-=c.x,R-=c.y);var B=(e+L)/l,z=(i+R)/n,V=(e+L+w)/l,Y=(i+R+D)/n;if(f.chars[P]={x:L,y:R,width:w,height:D,centerX:Math.floor(w/2),centerY:Math.floor(D/2),xOffset:y(E,"xoffset"),yOffset:y(E,"yoffset"),xAdvance:y(E,"xadvance")+a,data:{},kerning:{},u0:B,v0:z,u1:V,v1:Y},r&&w!==0&&D!==0){var H=r.add(M,o,L,R,w,D);H&&H.setUVs(w,D,B,z,V,Y)}}var I=u.getElementsByTagName("kerning");for(C=0;C<I.length;C++){var U=I[C],O=y(U,"first"),N=y(U,"second"),G=y(U,"amount");f.chars[N].kerning[O]=G}return f};v.exports=t},55873:(v,y,t)=>{var u=t(66863),c=t(98611),a={Parse:t(39860)};a=c(!1,a,u),v.exports=a},66863:v=>{var y={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};v.exports=y},13468:(v,y,t)=>{var u=t(44616),c=t(56694),a=t(88899),s=new c({Extends:u,Mixins:[a],initialize:function(e,i,l,n,o,f,h){u.call(this,e,i,l,n,o,f,h),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(r,e){return this.cropWidth=r,this.cropHeight=e,this},setDisplayCallback:function(r){return this.displayCallback=r,this},setScrollX:function(r){return this.scrollX=r,this},setScrollY:function(r){return this.scrollY=r,this}});v.exports=s},93438:(v,y,t)=>{var u=t(49584),c=function(a,s,r,e){var i=s._text,l=i.length,n=a.currentContext;if(!(l===0||!u(a,n,s,r,e))){r.addToRenderList(s);var o=s.fromAtlas?s.frame:s.texture.frames.__BASE,f=s.displayCallback,h=s.callbackData,d=s.fontData.chars,p=s.fontData.lineHeight,x=s._letterSpacing,S=0,T=0,C=0,E=null,P=0,M=0,L=0,R=0,w=0,D=0,B=null,z=0,V=s.frame.source.image,Y=o.cutX,H=o.cutY,I=0,U=0,O=s._fontSize/s.fontData.size,N=s._align,G=0,X=0;s.getTextBounds(!1);var W=s._bounds.lines;N===1?X=(W.longest-W.lengths[0])/2:N===2&&(X=W.longest-W.lengths[0]),n.translate(-s.displayOriginX,-s.displayOriginY);var b=r.roundPixels;s.cropWidth>0&&s.cropHeight>0&&(n.beginPath(),n.rect(0,0,s.cropWidth,s.cropHeight),n.clip());for(var K=0;K<l;K++){if(U=O,I=0,C=i.charCodeAt(K),C===10){G++,N===1?X=(W.longest-W.lengths[G])/2:N===2&&(X=W.longest-W.lengths[G]),S=0,T+=p,B=null;continue}if(E=d[C],!!E){if(P=Y+E.x,M=H+E.y,L=E.width,R=E.height,w=E.xOffset+S-s.scrollX,D=E.yOffset+T-s.scrollY,B!==null){var Z=E.kerning[z];w+=Z!==void 0?Z:0}if(f){h.index=K,h.charCode=C,h.x=w,h.y=D,h.scale=U,h.rotation=I,h.data=E.data;var Q=f(h);w=Q.x,D=Q.y,U=Q.scale,I=Q.rotation}w*=U,D*=U,w+=X,S+=E.xAdvance+x+(Z!==void 0?Z:0),B=E,z=C,!(L===0||R===0||C===32)&&(b&&(w=Math.round(w),D=Math.round(D)),n.save(),n.translate(w,D),n.rotate(I),n.scale(U,U),n.drawImage(V,P,M,L,R,0,0,L,R),n.restore())}}n.restore()}};v.exports=c},67513:(v,y,t)=>{var u=t(13468),c=t(88933),a=t(99325),s=t(20494);a.register("dynamicBitmapText",function(r,e){r===void 0&&(r={});var i=s(r,"font",""),l=s(r,"text",""),n=s(r,"size",!1),o=new u(this.scene,0,0,i,l,n);return e!==void 0&&(r.add=e),c(this.scene,o,r),o})},94145:(v,y,t)=>{var u=t(13468),c=t(61286);c.register("dynamicBitmapText",function(a,s,r,e,i){return this.displayList.add(new u(this.scene,a,s,r,e,i))})},88899:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(16873),a=t(93438),v.exports={renderWebGL:c,renderCanvas:a}},16873:(v,y,t)=>{var u=t(73329),c=t(69360),a=t(75512),s=new c,r=function(e,i,l,n){var o=i.text,f=o.length;if(f!==0){l.addToRenderList(i);var h=e.pipelines.set(i.pipeline,i),d=u(i,l,n);e.pipelines.preBatch(i);var p=d.sprite,x=d.calc,S=s,T=i.cropWidth>0||i.cropHeight>0;T&&(h.flush(),e.pushScissor(x.tx,x.ty,i.cropWidth*x.scaleX,i.cropHeight*x.scaleY));var C=i.frame,E=C.glTexture,P=i.tintFill,M=a.getTintAppendFloatAlpha(i.tintTopLeft,l.alpha*i._alphaTL),L=a.getTintAppendFloatAlpha(i.tintTopRight,l.alpha*i._alphaTR),R=a.getTintAppendFloatAlpha(i.tintBottomLeft,l.alpha*i._alphaBL),w=a.getTintAppendFloatAlpha(i.tintBottomRight,l.alpha*i._alphaBR),D=h.setGameObject(i),B=0,z=0,V=0,Y=0,H=i.letterSpacing,I,U=0,O=0,N,G=i.scrollX,X=i.scrollY,W=i.fontData,b=W.chars,K=W.lineHeight,Z=i.fontSize/W.size,Q=0,J=i._align,j=0,k=0,$=i.getTextBounds(!1);i.maxWidth>0&&(o=$.wrappedText,f=o.length);var _=i._bounds.lines;J===1?k=(_.longest-_.lengths[0])/2:J===2&&(k=_.longest-_.lengths[0]);for(var nt=l.roundPixels,at=i.displayCallback,st=i.callbackData,q=0;q<f;q++){if(V=o.charCodeAt(q),V===10){j++,J===1?k=(_.longest-_.lengths[j])/2:J===2&&(k=_.longest-_.lengths[j]),B=0,z+=K,N=null;continue}if(I=b[V],!!I){U=I.width,O=I.height;var it=I.xOffset+B-G,et=I.yOffset+z-X;if(N!==null){var lt=I.kerning[Y];it+=lt!==void 0?lt:0}if(B+=I.xAdvance+H,N=I,Y=V,!(U===0||O===0||V===32)){if(Z=i.fontSize/i.fontData.size,Q=0,at){st.color=0,st.tint.topLeft=M,st.tint.topRight=L,st.tint.bottomLeft=R,st.tint.bottomRight=w,st.index=q,st.charCode=V,st.x=it,st.y=et,st.scale=Z,st.rotation=Q,st.data=I.data;var ot=at(st);it=ot.x,et=ot.y,Z=ot.scale,Q=ot.rotation,ot.color?(M=ot.color,L=ot.color,R=ot.color,w=ot.color):(M=ot.tint.topLeft,L=ot.tint.topRight,R=ot.tint.bottomLeft,w=ot.tint.bottomRight),M=a.getTintAppendFloatAlpha(M,l.alpha*i._alphaTL),L=a.getTintAppendFloatAlpha(L,l.alpha*i._alphaTR),R=a.getTintAppendFloatAlpha(R,l.alpha*i._alphaBL),w=a.getTintAppendFloatAlpha(w,l.alpha*i._alphaBR)}it*=Z,et*=Z,it-=i.displayOriginX,et-=i.displayOriginY,it+=k,S.applyITRS(it,et,Q,Z,Z),x.multiply(S,p);var At=I.u0,mt=I.v0,ft=I.u1,ht=I.v1,gt=U,Dt=O,Nt=p.e,Xt=p.f,he=Dt*p.c+p.e,wi=Dt*p.d+p.f,Di=gt*p.a+Dt*p.c+p.e,Ii=gt*p.b+Dt*p.d+p.f,Bi=gt*p.a+p.e,Ni=gt*p.b+p.f;nt&&(Nt=Math.round(Nt),Xt=Math.round(Xt),he=Math.round(he),wi=Math.round(wi),Di=Math.round(Di),Ii=Math.round(Ii),Bi=Math.round(Bi),Ni=Math.round(Ni)),h.batchQuad(i,Nt,Xt,he,wi,Di,Ii,Bi,Ni,At,mt,ft,ht,M,L,R,w,P,E,D)}}}T&&(h.flush(),e.popScissor()),e.pipelines.postBatch(i)}};v.exports=r},44616:(v,y,t)=>{var u=t(56694),c=t(82897),a=t(64937),s=t(89980),r=t(82173),e=t(68298),i=t(31476),l=t(74118),n=t(84557),o=new u({Extends:s,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Texture,a.Tint,a.Transform,a.Visible,n],initialize:function(h,d,p,x,S,T,C){S===void 0&&(S=""),C===void 0&&(C=0),s.call(this,h,"BitmapText"),this.font=x;var E=this.scene.sys.cache.bitmapFont.get(x);E||console.warn("Invalid BitmapText key: "+x),this.fontData=E.data,this._text="",this._fontSize=T||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=C,this._bounds=r(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=E.fromAtlas,this.setTexture(E.texture,E.frame),this.setPosition(d,p),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(S)},setLeftAlign:function(){return this._align=o.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=o.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=o.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(f){return this._fontSize=f,this._dirty=!0,this},setLetterSpacing:function(f){return f===void 0&&(f=0),this._letterSpacing=f,this._dirty=!0,this},setLineSpacing:function(f){return f===void 0&&(f=0),this.lineSpacing=f,this},setText:function(f){return!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f!==this.text&&(this._text=f.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(f,h,d,p){return f===void 0&&(f=0),h===void 0&&(h=0),d===void 0&&(d=0),p===void 0&&(p=.5),this.dropShadowX=f,this.dropShadowY=h,this.dropShadowColor=d,this.dropShadowAlpha=p,this},setCharacterTint:function(f,h,d,p,x,S,T){f===void 0&&(f=0),h===void 0&&(h=1),d===void 0&&(d=!1),p===void 0&&(p=-1),x===void 0&&(x=p,S=p,T=p);var C=this.text.length;h===-1&&(h=C),f<0&&(f=C+f),f=c(f,0,C-1);for(var E=c(f+h,f,C),P=this.charColors,M=f;M<E;M++){var L=P[M];if(p===-1)P[M]=null;else{var R=d?1:0;L?(L.tintEffect=R,L.tintTL=p,L.tintTR=x,L.tintBL=S,L.tintBR=T):P[M]={tintEffect:R,tintTL:p,tintTR:x,tintBL:S,tintBR:T}}}return this},setWordTint:function(f,h,d,p,x,S,T){h===void 0&&(h=1);for(var C=this.getTextBounds(),E=C.words,P=typeof f=="number",M=0,L=0;L<E.length;L++){var R=E[L];if((P&&L===f||!P&&R.word===f)&&(this.setCharacterTint(R.i,R.word.length,d,p,x,S,T),M++,M===h))return this}return this},getTextBounds:function(f){var h=this._bounds;return(this._dirty||f||this.scaleX!==h.scaleX||this.scaleY!==h.scaleY)&&(r(this,f,!0,h),this._dirty=!1),h},getCharacterAt:function(f,h,d){for(var p=this.getLocalPoint(f,h,null,d),x=this.getTextBounds(),S=x.characters,T=new l,C=0;C<S.length;C++){var E=S[C];if(T.setTo(E.x,E.t,E.r-E.x,E.b),T.contains(p.x,p.y))return E}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(f,h,d){if(h===void 0&&(h=this._fontSize),d===void 0&&(d=this._align),f!==this.font){var p=this.scene.sys.cache.bitmapFont.get(f);p&&(this.font=f,this.fontData=p.data,this._fontSize=h,this._align=d,this.fromAtlas=p.fromAtlas===!0,this.setTexture(p.texture,p.frame),r(this,!1,!0,this._bounds))}return this},setMaxWidth:function(f,h){return this._maxWidth=f,this._dirty=!0,h!==void 0&&(this.wordWrapCharCode=h),this},align:{set:function(f){this._align=f,this._dirty=!0},get:function(){return this._align}},text:{set:function(f){this.setText(f)},get:function(){return this._text}},fontSize:{set:function(f){this._fontSize=f,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(f){this._letterSpacing=f,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(f){this._lineSpacing=f,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(f){this._maxWidth=f,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var f=a.ToJSON(this),h={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return f.data=h,f},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});o.ALIGN_LEFT=0,o.ALIGN_CENTER=1,o.ALIGN_RIGHT=2,o.ParseFromAtlas=e,o.ParseXMLBitmapFont=i,v.exports=o},97545:(v,y,t)=>{var u=t(49584),c=function(a,s,r,e){var i=s._text,l=i.length,n=a.currentContext;if(!(l===0||!u(a,n,s,r,e))){r.addToRenderList(s);var o=s.fromAtlas?s.frame:s.texture.frames.__BASE,f=s.fontData.chars,h=s.fontData.lineHeight,d=s._letterSpacing,p=s._lineSpacing,x=0,S=0,T=0,C=null,E=0,P=0,M=0,L=0,R=0,w=0,D=null,B=0,z=o.source.image,V=o.cutX,Y=o.cutY,H=s._fontSize/s.fontData.size,I=s._align,U=0,O=0,N=s.getTextBounds(!1);s.maxWidth>0&&(i=N.wrappedText,l=i.length);var G=s._bounds.lines;I===1?O=(G.longest-G.lengths[0])/2:I===2&&(O=G.longest-G.lengths[0]),n.translate(-s.displayOriginX,-s.displayOriginY);for(var X=r.roundPixels,W=0;W<l;W++){if(T=i.charCodeAt(W),T===10){U++,I===1?O=(G.longest-G.lengths[U])/2:I===2&&(O=G.longest-G.lengths[U]),x=0,S+=h+p,D=null;continue}if(C=f[T],!!C){if(E=V+C.x,P=Y+C.y,M=C.width,L=C.height,R=C.xOffset+x,w=C.yOffset+S,D!==null){var b=C.kerning[B];R+=b!==void 0?b:0}R*=H,w*=H,R+=O,x+=C.xAdvance+d+(b!==void 0?b:0),D=C,B=T,!(M===0||L===0||T===32)&&(X&&(R=Math.round(R),w=Math.round(w)),n.save(),n.translate(R,w),n.scale(H,H),n.drawImage(z,E,P,M,L,0,0,M,L),n.restore())}}n.restore()}};v.exports=c},95499:(v,y,t)=>{var u=t(44616),c=t(88933),a=t(99325),s=t(20494),r=t(10850);a.register("bitmapText",function(e,i){e===void 0&&(e={});var l=r(e,"font",""),n=s(e,"text",""),o=s(e,"size",!1),f=r(e,"align",0),h=new u(this.scene,0,0,l,n,o,f);return i!==void 0&&(e.add=i),c(this.scene,h,e),h})},21797:(v,y,t)=>{var u=t(44616),c=t(61286);c.register("bitmapText",function(a,s,r,e,i,l){return this.displayList.add(new u(this.scene,a,s,r,e,i,l))})},84557:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(26372),a=t(97545),v.exports={renderWebGL:c,renderCanvas:a}},26372:(v,y,t)=>{var u=t(8810),c=t(73329),a=t(75512),s=function(r,e,i,l){var n=e._text,o=n.length;if(o!==0){i.addToRenderList(e);var f=r.pipelines.set(e.pipeline,e),h=c(e,i,l).calc;r.pipelines.preBatch(e);var d=i.roundPixels,p=i.alpha,x=e.charColors,S=e.tintFill,T=a.getTintAppendFloatAlpha,C=T(e.tintTopLeft,p*e._alphaTL),E=T(e.tintTopRight,p*e._alphaTR),P=T(e.tintBottomLeft,p*e._alphaBL),M=T(e.tintBottomRight,p*e._alphaBR),L=e.frame.glTexture,R=f.setGameObject(e),w=e.getTextBounds(!1),D,B,z,V=w.characters,Y=e.dropShadowX,H=e.dropShadowY,I=Y!==0||H!==0;if(I){var U=e.dropShadowColor,O=e.dropShadowAlpha,N=T(U,p*O*e._alphaTL),G=T(U,p*O*e._alphaTR),X=T(U,p*O*e._alphaBL),W=T(U,p*O*e._alphaBR);for(D=0;D<V.length;D++)B=V[D],z=B.glyph,!(B.code===32||z.width===0||z.height===0)&&u(f,e,B,z,Y,H,h,d,N,G,X,W,1,L,R)}for(D=0;D<V.length;D++)if(B=V[D],z=B.glyph,!(B.code===32||z.width===0||z.height===0))if(x[B.i]){var b=x[B.i],K=b.tintEffect,Z=T(b.tintTL,p*e._alphaTL),Q=T(b.tintTR,p*e._alphaTR),J=T(b.tintBL,p*e._alphaBL),j=T(b.tintBR,p*e._alphaBR);u(f,e,B,z,0,0,h,d,Z,Q,J,j,K,L,R)}else u(f,e,B,z,0,0,h,d,C,E,P,M,S,L,R);r.pipelines.postBatch(e)}};v.exports=s},52816:(v,y,t)=>{var u=t(92246),c=t(41664),a=t(56694),s=t(64937),r=t(82047),e=t(89980),i=t(71207),l=new a({Extends:e,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Mask,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Size,s.Texture,s.Transform,s.Visible,u],initialize:function(o,f,h,d,p){e.call(this,o,"Blitter"),this.setTexture(d,p),this.setPosition(f,h),this.initPipeline(),this.initPostPipeline(),this.children=new i,this.renderList=[],this.dirty=!1},create:function(n,o,f,h,d){h===void 0&&(h=!0),d===void 0&&(d=this.children.length),f===void 0?f=this.frame:f instanceof r||(f=this.texture.get(f));var p=new c(this,n,o,f,h);return this.children.addAt(p,d,!1),this.dirty=!0,p},createFromCallback:function(n,o,f,h){for(var d=this.createMultiple(o,f,h),p=0;p<d.length;p++){var x=d[p];n.call(this,x,p)}return d},createMultiple:function(n,o,f){o===void 0&&(o=this.frame.name),f===void 0&&(f=!0),Array.isArray(o)||(o=[o]);var h=[],d=this;return o.forEach(function(p){for(var x=0;x<n;x++)h.push(d.create(0,0,p,f))}),h},childCanRender:function(n){return n.visible&&n.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});v.exports=l},33177:v=>{var y=function(t,u,c,a){var s=u.getRenderList();if(s.length!==0){var r=t.currentContext,e=c.alpha*u.alpha;if(e!==0){c.addToRenderList(u),r.globalCompositeOperation=t.blendModes[u.blendMode],r.imageSmoothingEnabled=!u.frame.source.scaleMode;var i=u.x-c.scrollX*u.scrollFactorX,l=u.y-c.scrollY*u.scrollFactorY;r.save(),a&&a.copyToContext(r);for(var n=c.roundPixels,o=0;o<s.length;o++){var f=s[o],h=f.flipX||f.flipY,d=f.frame,p=d.canvasData,x=d.x,S=d.y,T=1,C=1,E=f.alpha*e;E!==0&&(r.globalAlpha=E,h?(f.flipX&&(T=-1,x-=p.width),f.flipY&&(C=-1,S-=p.height),p.width>0&&p.height>0&&(r.save(),r.translate(f.x+i,f.y+l),r.scale(T,C),r.drawImage(d.source.image,p.x,p.y,p.width,p.height,x,S,p.width,p.height),r.restore())):(n&&(x=Math.round(x),S=Math.round(S)),p.width>0&&p.height>0&&r.drawImage(d.source.image,p.x,p.y,p.width,p.height,x+f.x+i,S+f.y+l,p.width,p.height)))}r.restore()}}};v.exports=y},68452:(v,y,t)=>{var u=t(52816),c=t(88933),a=t(99325),s=t(20494);a.register("blitter",function(r,e){r===void 0&&(r={});var i=s(r,"key",null),l=s(r,"frame",null),n=new u(this.scene,0,0,i,l);return e!==void 0&&(r.add=e),c(this.scene,n,r),n})},38906:(v,y,t)=>{var u=t(52816),c=t(61286);c.register("blitter",function(a,s,r,e){return this.displayList.add(new u(this.scene,a,s,r,e))})},92246:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(89165),a=t(33177),v.exports={renderWebGL:c,renderCanvas:a}},89165:(v,y,t)=>{var u=t(69360),c=t(75512),a=new u,s=function(r,e,i,l){var n=e.getRenderList(),o=i.alpha*e.alpha;if(!(n.length===0||o===0)){i.addToRenderList(e);var f=r.pipelines.set(this.pipeline,e),h=i.scrollX*e.scrollFactorX,d=i.scrollY*e.scrollFactorY,p=a.copyFrom(i.matrix);l&&(p.multiplyWithOffset(l,-h,-d),h=0,d=0);var x=e.x-h,S=e.y-d,T=-1,C=!1,E=i.roundPixels;r.pipelines.preBatch(e);for(var P=0;P<n.length;P++){var M=n[P],L=M.frame,R=M.alpha*o;if(R!==0){var w=L.width,D=L.height,B=x+M.x+L.x,z=S+M.y+L.y;M.flipX&&(w*=-1,B+=L.width),M.flipY&&(D*=-1,z+=L.height);var V=p.setQuad(B,z,B+w,z+D,E),Y=c.getTintAppendFloatAlpha(M.tint,R);if(L.sourceIndex!==T){var H=f.setGameObject(e,L);T=L.sourceIndex}f.batchQuad(e,V[0],V[1],V[2],V[3],V[4],V[5],V[6],V[7],L.u0,L.v0,L.u1,L.v1,Y,Y,Y,Y,C,L.glTexture,H)&&(T=-1)}}r.pipelines.postBatch(e)}};v.exports=s},41664:(v,y,t)=>{var u=t(56694),c=t(82047),a=new u({initialize:function(r,e,i,l,n){this.parent=r,this.x=e,this.y=i,this.frame=l,this.data={},this.tint=16777215,this._visible=n,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(s){return s===void 0?this.frame=this.parent.frame:s instanceof c&&s.texture===this.parent.texture?this.frame=s:this.frame=this.parent.texture.get(s),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(s,r,e){return this.x=s,this.y=r,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(s,r){return this.x=s,this.y=r,this},setFlipX:function(s){return this.flipX=s,this},setFlipY:function(s){return this.flipY=s,this},setFlip:function(s,r){return this.flipX=s,this.flipY=r,this},setVisible:function(s){return this.visible=s,this},setAlpha:function(s){return this.alpha=s,this},setTint:function(s){return this.tint=s,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(s){this.parent.dirty|=this._visible!==s,this._visible=s}},alpha:{get:function(){return this._alpha},set:function(s){this.parent.dirty|=this._alpha>0!=s>0,this._alpha=s}}});v.exports=a},97123:(v,y,t)=>{var u=t(82897),c=2,a={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(s,r,e,i){return s===void 0&&(s=1),r===void 0?this.alpha=s:(this._alphaTL=u(s,0,1),this._alphaTR=u(r,0,1),this._alphaBL=u(e,0,1),this._alphaBR=u(i,0,1)),this},alpha:{get:function(){return this._alpha},set:function(s){var r=u(s,0,1);this._alpha=r,this._alphaTL=r,this._alphaTR=r,this._alphaBL=r,this._alphaBR=r,r===0?this.renderFlags&=~c:this.renderFlags|=c}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(s){var r=u(s,0,1);this._alphaTL=r,r!==0&&(this.renderFlags|=c)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(s){var r=u(s,0,1);this._alphaTR=r,r!==0&&(this.renderFlags|=c)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(s){var r=u(s,0,1);this._alphaBL=r,r!==0&&(this.renderFlags|=c)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(s){var r=u(s,0,1);this._alphaBR=r,r!==0&&(this.renderFlags|=c)}}};v.exports=a},15720:(v,y,t)=>{var u=t(82897),c=2,a={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(s){return s===void 0&&(s=1),this.alpha=s,this},alpha:{get:function(){return this._alpha},set:function(s){var r=u(s,0,1);this._alpha=r,r===0?this.renderFlags&=~c:this.renderFlags|=c}}};v.exports=a},69732:(v,y,t)=>{var u=t(95723),c={_blendMode:u.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(a){typeof a=="string"&&(a=u[a]),a|=0,a>=-1&&(this._blendMode=a)}},setBlendMode:function(a){return this.blendMode=a,this}};v.exports=c},28284:v=>{var y={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,u){return this.width=t,this.height=u,this},setDisplaySize:function(t,u){return this.displayWidth=t,this.displayHeight=u,this}};v.exports=y},85293:v=>{var y={texture:null,frame:null,isCropped:!1,setCrop:function(t,u,c,a){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,u,c,a,this.flipX,this.flipY);else{var s=t;this.frame.setCropUVs(this._crop,s.x,s.y,s.width,s.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};v.exports=y},14975:v=>{var y={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.displayList&&this.displayList.queueDepthSort(),this._depth=t}},setDepth:function(t){return t===void 0&&(t=0),this.depth=t,this}};v.exports=y},88677:(v,y,t)=>{var u=t(56694),c=t(96910),a=t(72677),s=new u({initialize:function(e,i){this.gameObject=e,this.isPost=i,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(r){return r===void 0&&(r=0),this.padding=r,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(r){if(!this.isPost){var e=this.gameObject.scene.sys.renderer;e&&e.pipelines?(this.gameObject.pipeline=e.pipelines.FX_PIPELINE,r!==void 0&&(this.padding=r),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var r=this.list,e=0;e<r.length;e++)r[e].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(r){var e;if(this.isPost){var i=this.gameObject.getPostPipeline(String(r.type));for(Array.isArray(i)||(i=[i]),e=0;e<i.length;e++){var l=i[e];if(l.controller===r){this.gameObject.removePostPipeline(l),r.destroy();break}}}else{var n=this.list;for(e=0;e<n.length;e++)n[e]===r&&(a(n,e),r.destroy())}return this.gameObject},disable:function(r){return r===void 0&&(r=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,r&&this.clear(),this.gameObject},add:function(r,e){if(this.isPost){var i=String(r.type);this.gameObject.setPostPipeline(i,e);var l=this.gameObject.getPostPipeline(i);if(l)return Array.isArray(l)&&(l=l.pop()),l.controller=r,r}else return this.enabled||this.enable(),this.list.push(r),r},addGlow:function(r,e,i,l,n,o){return this.add(new c.Glow(this.gameObject,r,e,i,l),{quality:n,distance:o})},addShadow:function(r,e,i,l,n,o,f){return this.add(new c.Shadow(this.gameObject,r,e,i,l,n,o,f))},addPixelate:function(r){return this.add(new c.Pixelate(this.gameObject,r))},addVignette:function(r,e,i,l){return this.add(new c.Vignette(this.gameObject,r,e,i,l))},addShine:function(r,e,i,l){return this.add(new c.Shine(this.gameObject,r,e,i,l))},addBlur:function(r,e,i,l,n,o){return this.add(new c.Blur(this.gameObject,r,e,i,l,n,o))},addGradient:function(r,e,i,l,n,o,f,h){return this.add(new c.Gradient(this.gameObject,r,e,i,l,n,o,f,h))},addBloom:function(r,e,i,l,n,o){return this.add(new c.Bloom(this.gameObject,r,e,i,l,n,o))},addColorMatrix:function(){return this.add(new c.ColorMatrix(this.gameObject))},addCircle:function(r,e,i,l,n){return this.add(new c.Circle(this.gameObject,r,e,i,l,n))},addBarrel:function(r){return this.add(new c.Barrel(this.gameObject,r))},addDisplacement:function(r,e,i){return this.add(new c.Displacement(this.gameObject,r,e,i))},addWipe:function(r,e,i){return this.add(new c.Wipe(this.gameObject,r,e,i))},addReveal:function(r,e,i){return this.add(new c.Wipe(this.gameObject,r,e,i,!0))},addBokeh:function(r,e,i){return this.add(new c.Bokeh(this.gameObject,r,e,i))},addTiltShift:function(r,e,i,l,n,o){return this.add(new c.Bokeh(this.gameObject,r,e,i,!0,l,n,o))},destroy:function(){this.clear(),this.gameObject=null}});v.exports=s},92972:v=>{var y={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,u){return this.flipX=t,this.flipY=u,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};v.exports=y},80693:(v,y,t)=>{var u=t(74118),c=t(2386),a=t(93736),s={prepareBoundsOutput:function(r,e){if(e===void 0&&(e=!1),this.rotation!==0&&c(r,this.x,this.y,this.rotation),e&&this.parentContainer){var i=this.parentContainer.getBoundsTransformMatrix();i.transformPoint(r.x,r.y,r)}return r},getCenter:function(r,e){return r===void 0&&(r=new a),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,e)},getTopLeft:function(r,e){return r||(r=new a),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,e)},getTopCenter:function(r,e){return r||(r=new a),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,e)},getTopRight:function(r,e){return r||(r=new a),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,e)},getLeftCenter:function(r,e){return r||(r=new a),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,e)},getRightCenter:function(r,e){return r||(r=new a),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,e)},getBottomLeft:function(r,e){return r||(r=new a),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,e)},getBottomCenter:function(r,e){return r||(r=new a),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,e)},getBottomRight:function(r,e){return r||(r=new a),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,e)},getBounds:function(r){r===void 0&&(r=new u);var e,i,l,n,o,f,h,d;if(this.parentContainer){var p=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(r),p.transformPoint(r.x,r.y,r),e=r.x,i=r.y,this.getTopRight(r),p.transformPoint(r.x,r.y,r),l=r.x,n=r.y,this.getBottomLeft(r),p.transformPoint(r.x,r.y,r),o=r.x,f=r.y,this.getBottomRight(r),p.transformPoint(r.x,r.y,r),h=r.x,d=r.y}else this.getTopLeft(r),e=r.x,i=r.y,this.getTopRight(r),l=r.x,n=r.y,this.getBottomLeft(r),o=r.x,f=r.y,this.getBottomRight(r),h=r.x,d=r.y;return r.x=Math.min(e,l,o,h),r.y=Math.min(i,n,f,d),r.width=Math.max(e,l,o,h)-r.x,r.height=Math.max(i,n,f,d)-r.y,r}};v.exports=s},39171:(v,y,t)=>{var u=t(76756),c=t(63037),a={mask:null,setMask:function(s){return this.mask=s,this},clearMask:function(s){return s===void 0&&(s=!1),s&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(s,r,e,i,l){return s===void 0&&(this.texture||this.shader||this.geom)&&(s=this),new u(this.scene,s,r,e,i,l)},createGeometryMask:function(s){return s===void 0&&(this.type==="Graphics"||this.geom)&&(s=this),new c(this.scene,s)}};v.exports=a},28072:v=>{var y={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,u){return t===void 0&&(t=.5),u===void 0&&(u=t),this.originX=t,this.originY=u,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,u){return t===void 0&&(t=0),u===void 0&&(u=t),this.displayOriginX=t,this.displayOriginY=u,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};v.exports=y},54211:(v,y,t)=>{var u=t(75606),c=t(63130),a=t(10850),s=t(55303),r=t(93736),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:s.PLAYING_FORWARD,setPath:function(i,l){l===void 0&&(l=this.pathConfig);var n=this.pathTween;return n&&n.isPlaying()&&n.stop(),this.path=i,l&&this.startFollow(l),this},setRotateToPath:function(i,l){return l===void 0&&(l=0),this.rotateToPath=i,this.pathRotationOffset=l,this},isFollowing:function(){var i=this.pathTween;return i&&i.isPlaying()},startFollow:function(i,l){i===void 0&&(i={}),l===void 0&&(l=0);var n=this.pathTween;n&&n.isPlaying()&&n.stop(),typeof i=="number"&&(i={duration:i}),i.from=a(i,"from",0),i.to=a(i,"to",1);var o=c(i,"positionOnPath",!1);this.rotateToPath=c(i,"rotateToPath",!1),this.pathRotationOffset=a(i,"rotationOffset",0);var f=a(i,"startAt",l);if(f&&(i.onStart=function(d){var p=d.data[0];p.progress=f,p.elapsed=p.duration*f;var x=p.ease(p.progress);p.current=p.start+(p.end-p.start)*x,p.setTargetValue()}),this.pathOffset||(this.pathOffset=new r(this.x,this.y)),this.pathVector||(this.pathVector=new r),this.pathDelta||(this.pathDelta=new r),this.pathDelta.reset(),i.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(i),this.path.getStartPoint(this.pathOffset),o&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=s.PLAYING_FORWARD,this.rotateToPath){var h=this.path.getPoint(.1);this.rotation=Math.atan2(h.y-this.y,h.x-this.x)+u(this.pathRotationOffset)}return this.pathConfig=i,this},pauseFollow:function(){var i=this.pathTween;return i&&i.isPlaying()&&i.pause(),this},resumeFollow:function(){var i=this.pathTween;return i&&i.isPaused()&&i.resume(),this},stopFollow:function(){var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this},pathUpdate:function(){var i=this.pathTween;if(i){var l=i.data[0],n=this.pathDelta,o=this.pathVector;if(n.copy(o).negate(),l.state===s.COMPLETE){this.path.getPoint(l.end,o),n.add(o),o.add(this.pathOffset),this.setPosition(o.x,o.y);return}else if(l.state!==s.PLAYING_FORWARD&&l.state!==s.PLAYING_BACKWARD)return;this.path.getPoint(i.getValue(),o),n.add(o),o.add(this.pathOffset);var f=this.x,h=this.y;this.setPosition(o.x,o.y);var d=this.x-f,p=this.y-h;if(d===0&&p===0)return;if(l.state!==this._prevDirection){this._prevDirection=l.state;return}this.rotateToPath&&(this.rotation=Math.atan2(p,d)+u(this.pathRotationOffset))}}};v.exports=e},58210:(v,y,t)=>{var u=t(28699),c={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(a){this.pipelineData={};var s=this.scene.sys.renderer;if(!s)return!1;var r=s.pipelines;if(r){a===void 0&&(a=r.default);var e=r.get(a);if(e)return this.defaultPipeline=e,this.pipeline=e,!0}return!1},setPipeline:function(a,s,r){var e=this.scene.sys.renderer;if(!e)return this;var i=e.pipelines;if(i){var l=i.get(a);l&&(this.pipeline=l),s&&(this.pipelineData=r?u(s):s)}return this},setPipelineData:function(a,s){var r=this.pipelineData;return s===void 0?delete r[a]:r[a]=s,this},resetPipeline:function(a){return a===void 0&&(a=!1),this.pipeline=this.defaultPipeline,a&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};v.exports=c},44086:(v,y,t)=>{var u=t(28699),c=t(88677),a=t(72677),s={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(r){this.postPipelines=[],this.postPipelineData={},this.postFX=new c(this,!0),r&&(this.preFX=new c(this,!1))},setPostPipeline:function(r,e,i){var l=this.scene.sys.renderer;if(!l)return this;var n=l.pipelines;if(n){Array.isArray(r)||(r=[r]);for(var o=0;o<r.length;o++){var f=n.getPostPipeline(r[o],this,e);f&&this.postPipelines.push(f)}e&&(this.postPipelineData=i?u(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(r,e){var i=this.postPipelineData;return e===void 0?delete i[r]:i[r]=e,this},getPostPipeline:function(r){for(var e=typeof r=="string",i=this.postPipelines,l=[],n=0;n<i.length;n++){var o=i[n];(e&&o.name===r||!e&&o instanceof r)&&l.push(o)}return l.length===1?l[0]:l},resetPostPipeline:function(r){r===void 0&&(r=!1);for(var e=this.postPipelines,i=0;i<e.length;i++)e[i].destroy();this.postPipelines=[],this.hasPostPipeline=!1,r&&(this.postPipelineData={})},removePostPipeline:function(r){for(var e=typeof r=="string",i=this.postPipelines,l=i.length-1;l>=0;l--){var n=i[l];(e&&n.name===r||!e&&n===r)&&(n.destroy(),a(i,l))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};v.exports=s},45900:v=>{var y={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,u){return u===void 0&&(u=t),this.scrollFactorX=t,this.scrollFactorY=u,this}};v.exports=y},31654:v=>{var y={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=this.width,u.hitArea.height=this.height),this},setSize:function(t,u){return this.width=t,this.height=u,this},setDisplaySize:function(t,u){return this.displayWidth=t,this.displayHeight=u,this}};v.exports=y},82081:(v,y,t)=>{var u=t(82047),c=8,a={texture:null,frame:null,isCropped:!1,setTexture:function(s,r){return this.texture=this.scene.sys.textures.get(s),this.setFrame(r)},setFrame:function(s,r,e){return r===void 0&&(r=!0),e===void 0&&(e=!0),s instanceof u?(this.texture=this.scene.sys.textures.get(s.texture.key),this.frame=s):this.frame=this.texture.get(s),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~c:this.renderFlags|=c,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};v.exports=a},21850:(v,y,t)=>{var u=t(82047),c=8,a={texture:null,frame:null,isCropped:!1,setCrop:function(s,r,e,i){if(s===void 0)this.isCropped=!1;else if(this.frame){if(typeof s=="number")this.frame.setCropUVs(this._crop,s,r,e,i,this.flipX,this.flipY);else{var l=s;this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(s,r){return this.texture=this.scene.sys.textures.get(s),this.setFrame(r)},setFrame:function(s,r,e){return r===void 0&&(r=!0),e===void 0&&(e=!0),s instanceof u?(this.texture=this.scene.sys.textures.get(s.texture.key),this.frame=s):this.frame=this.texture.get(s),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~c:this.renderFlags|=c,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};v.exports=a},58072:v=>{var y={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,u,c,a){return t===void 0&&(t=16777215),u===void 0&&(u=t,c=t,a=t),this.tintTopLeft=t,this.tintTopRight=u,this.tintBottomLeft=c,this.tintBottomRight=a,this.tintFill=!1,this},setTintFill:function(t,u,c,a){return this.setTint(t,u,c,a),this.tintFill=!0,this},tint:{set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};v.exports=y},48129:v=>{var y=function(t){var u={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(u.textureKey=t.texture.key,u.frameKey=t.frame.name),u};v.exports=y},56584:(v,y,t)=>{var u=t(83392),c=t(69360),a=t(64462),s=t(35786),r=t(62138),e=t(93736),i=4,l={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(n){this._scaleX=n,this._scaleY=n,n===0?this.renderFlags&=~i:this.renderFlags|=i}},scaleX:{get:function(){return this._scaleX},set:function(n){this._scaleX=n,n===0?this.renderFlags&=~i:this._scaleY!==0&&(this.renderFlags|=i)}},scaleY:{get:function(){return this._scaleY},set:function(n){this._scaleY=n,n===0?this.renderFlags&=~i:this._scaleX!==0&&(this.renderFlags|=i)}},angle:{get:function(){return r(this._rotation*u.RAD_TO_DEG)},set:function(n){this.rotation=r(n)*u.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(n){this._rotation=s(n)}},setPosition:function(n,o,f,h){return n===void 0&&(n=0),o===void 0&&(o=n),f===void 0&&(f=0),h===void 0&&(h=0),this.x=n,this.y=o,this.z=f,this.w=h,this},copyPosition:function(n){return n.x!==void 0&&(this.x=n.x),n.y!==void 0&&(this.y=n.y),n.z!==void 0&&(this.z=n.z),n.w!==void 0&&(this.w=n.w),this},setRandomPosition:function(n,o,f,h){return n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=this.scene.sys.scale.width),h===void 0&&(h=this.scene.sys.scale.height),this.x=n+Math.random()*f,this.y=o+Math.random()*h,this},setRotation:function(n){return n===void 0&&(n=0),this.rotation=n,this},setAngle:function(n){return n===void 0&&(n=0),this.angle=n,this},setScale:function(n,o){return n===void 0&&(n=1),o===void 0&&(o=n),this.scaleX=n,this.scaleY=o,this},setX:function(n){return n===void 0&&(n=0),this.x=n,this},setY:function(n){return n===void 0&&(n=0),this.y=n,this},setZ:function(n){return n===void 0&&(n=0),this.z=n,this},setW:function(n){return n===void 0&&(n=0),this.w=n,this},getLocalTransformMatrix:function(n){return n===void 0&&(n=new c),n.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(n,o){n===void 0&&(n=new c);var f=this.parentContainer;if(!f)return this.getLocalTransformMatrix(n);for(o||(o=new c),n.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);f;)o.applyITRS(f.x,f.y,f._rotation,f._scaleX,f._scaleY),o.multiply(n,n),f=f.parentContainer;return n},getLocalPoint:function(n,o,f,h){f||(f=new e),h||(h=this.scene.sys.cameras.main);var d=h.scrollX,p=h.scrollY,x=n+d*this.scrollFactorX-d,S=o+p*this.scrollFactorY-p;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(x,S,f):a(x,S,this.x,this.y,this.rotation,this.scaleX,this.scaleY,f),this._originComponent&&(f.x+=this._displayOriginX,f.y+=this._displayOriginY),f},getParentRotation:function(){for(var n=0,o=this.parentContainer;o;)n+=o.rotation,o=o.parentContainer;return n}};v.exports=l},69360:(v,y,t)=>{var u=t(56694),c=t(83392),a=t(93736),s=new u({initialize:function(e,i,l,n,o,f){e===void 0&&(e=1),i===void 0&&(i=0),l===void 0&&(l=0),n===void 0&&(n=1),o===void 0&&(o=0),f===void 0&&(f=0),this.matrix=new Float32Array([e,i,l,n,o,f,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(r){this.matrix[0]=r}},b:{get:function(){return this.matrix[1]},set:function(r){this.matrix[1]=r}},c:{get:function(){return this.matrix[2]},set:function(r){this.matrix[2]=r}},d:{get:function(){return this.matrix[3]},set:function(r){this.matrix[3]=r}},e:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},f:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},tx:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},ty:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var r=this.matrix,e=r[0],i=r[1],l=r[2],n=r[3];return e||i?i>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):l||n?c.TAU-(n>0?Math.acos(-l/this.scaleY):-Math.acos(l/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var r=this.matrix;return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,this},translate:function(r,e){var i=this.matrix;return i[4]=i[0]*r+i[2]*e+i[4],i[5]=i[1]*r+i[3]*e+i[5],this},scale:function(r,e){var i=this.matrix;return i[0]*=r,i[1]*=r,i[2]*=e,i[3]*=e,this},rotate:function(r){var e=Math.sin(r),i=Math.cos(r),l=this.matrix,n=l[0],o=l[1],f=l[2],h=l[3];return l[0]=n*i+f*e,l[1]=o*i+h*e,l[2]=n*-e+f*i,l[3]=o*-e+h*i,this},multiply:function(r,e){var i=this.matrix,l=r.matrix,n=i[0],o=i[1],f=i[2],h=i[3],d=i[4],p=i[5],x=l[0],S=l[1],T=l[2],C=l[3],E=l[4],P=l[5],M=e===void 0?i:e.matrix;return M[0]=x*n+S*f,M[1]=x*o+S*h,M[2]=T*n+C*f,M[3]=T*o+C*h,M[4]=E*n+P*f+d,M[5]=E*o+P*h+p,M},multiplyWithOffset:function(r,e,i){var l=this.matrix,n=r.matrix,o=l[0],f=l[1],h=l[2],d=l[3],p=l[4],x=l[5],S=e*o+i*h+p,T=e*f+i*d+x,C=n[0],E=n[1],P=n[2],M=n[3],L=n[4],R=n[5];return l[0]=C*o+E*h,l[1]=C*f+E*d,l[2]=P*o+M*h,l[3]=P*f+M*d,l[4]=L*o+R*h+S,l[5]=L*f+R*d+T,this},transform:function(r,e,i,l,n,o){var f=this.matrix,h=f[0],d=f[1],p=f[2],x=f[3],S=f[4],T=f[5];return f[0]=r*h+e*p,f[1]=r*d+e*x,f[2]=i*h+l*p,f[3]=i*d+l*x,f[4]=n*h+o*p+S,f[5]=n*d+o*x+T,this},transformPoint:function(r,e,i){i===void 0&&(i={x:0,y:0});var l=this.matrix,n=l[0],o=l[1],f=l[2],h=l[3],d=l[4],p=l[5];return i.x=r*n+e*f+d,i.y=r*o+e*h+p,i},invert:function(){var r=this.matrix,e=r[0],i=r[1],l=r[2],n=r[3],o=r[4],f=r[5],h=e*n-i*l;return r[0]=n/h,r[1]=-i/h,r[2]=-l/h,r[3]=e/h,r[4]=(l*f-n*o)/h,r[5]=-(e*f-i*o)/h,this},copyFrom:function(r){var e=this.matrix;return e[0]=r.a,e[1]=r.b,e[2]=r.c,e[3]=r.d,e[4]=r.e,e[5]=r.f,this},copyFromArray:function(r){var e=this.matrix;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],this},copyToContext:function(r){var e=this.matrix;return r.transform(e[0],e[1],e[2],e[3],e[4],e[5]),r},setToContext:function(r){var e=this.matrix;return r.setTransform(e[0],e[1],e[2],e[3],e[4],e[5]),r},copyToArray:function(r){var e=this.matrix;return r===void 0?r=[e[0],e[1],e[2],e[3],e[4],e[5]]:(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5]),r},setTransform:function(r,e,i,l,n,o){var f=this.matrix;return f[0]=r,f[1]=e,f[2]=i,f[3]=l,f[4]=n,f[5]=o,this},decomposeMatrix:function(){var r=this.decomposedMatrix,e=this.matrix,i=e[0],l=e[1],n=e[2],o=e[3],f=i*o-l*n;if(r.translateX=e[4],r.translateY=e[5],i||l){var h=Math.sqrt(i*i+l*l);r.rotation=l>0?Math.acos(i/h):-Math.acos(i/h),r.scaleX=h,r.scaleY=f/h}else if(n||o){var d=Math.sqrt(n*n+o*o);r.rotation=Math.PI*.5-(o>0?Math.acos(-n/d):-Math.acos(n/d)),r.scaleX=f/d,r.scaleY=d}else r.rotation=0,r.scaleX=0,r.scaleY=0;return r},applyITRS:function(r,e,i,l,n){var o=this.matrix,f=Math.sin(i),h=Math.cos(i);return o[4]=r,o[5]=e,o[0]=h*l,o[1]=f*l,o[2]=-f*n,o[3]=h*n,this},applyInverse:function(r,e,i){i===void 0&&(i=new a);var l=this.matrix,n=l[0],o=l[1],f=l[2],h=l[3],d=l[4],p=l[5],x=1/(n*h+f*-o);return i.x=h*x*r+-f*x*e+(p*f-d*h)*x,i.y=n*x*e+-o*x*r+(-p*n+d*o)*x,i},setQuad:function(r,e,i,l,n,o){o===void 0&&(o=this.quad);var f=this.matrix,h=f[0],d=f[1],p=f[2],x=f[3],S=f[4],T=f[5];return o[0]=r*h+e*p+S,o[1]=r*d+e*x+T,o[2]=r*h+l*p+S,o[3]=r*d+l*x+T,o[4]=i*h+l*p+S,o[5]=i*d+l*x+T,o[6]=i*h+e*p+S,o[7]=i*d+e*x+T,n&&o.forEach(function(C,E){o[E]=Math.round(C)}),o},getX:function(r,e){return r*this.a+e*this.c+this.e},getY:function(r,e){return r*this.b+e*this.d+this.f},getXRound:function(r,e,i){var l=this.getX(r,e);return i&&(l=Math.round(l)),l},getYRound:function(r,e,i){var l=this.getY(r,e);return i&&(l=Math.round(l)),l},getCSSMatrix:function(){var r=this.matrix;return"matrix("+r[0]+","+r[1]+","+r[2]+","+r[3]+","+r[4]+","+r[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});v.exports=s},59694:v=>{var y=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(u){u?(this._visible=!0,this.renderFlags|=y):(this._visible=!1,this.renderFlags&=~y)}},setVisible:function(u){return this.visible=u,this}};v.exports=t},64937:(v,y,t)=>{v.exports={Alpha:t(97123),AlphaSingle:t(15720),BlendMode:t(69732),ComputedSize:t(28284),Crop:t(85293),Depth:t(14975),Flip:t(92972),FX:t(88677),GetBounds:t(80693),Mask:t(39171),Origin:t(28072),PathFollower:t(54211),Pipeline:t(58210),PostPipeline:t(44086),ScrollFactor:t(45900),Size:t(31654),Texture:t(82081),TextureCrop:t(21850),Tint:t(58072),ToJSON:t(48129),Transform:t(56584),TransformMatrix:t(69360),Visible:t(59694)}},70339:(v,y,t)=>{var u=t(59959),c=t(95723),a=t(56694),s=t(64937),r=t(56631),e=t(89980),i=t(74118),l=t(98524),n=t(58795),o=t(93736),f=new a({Extends:e,Mixins:[s.AlphaSingle,s.BlendMode,s.ComputedSize,s.Depth,s.Mask,s.PostPipeline,s.Transform,s.Visible,l],initialize:function(d,p,x,S){e.call(this,d,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new s.TransformMatrix,this.tempTransformMatrix=new s.TransformMatrix,this._sortKey="",this._sysEvents=d.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(p,x),this.setBlendMode(c.SKIP_CHECK),S&&this.add(S)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(h){return h===void 0&&(h=!0),this.exclusive=h,this},getBounds:function(h){if(h===void 0&&(h=new i),h.setTo(this.x,this.y,0,0),this.parentContainer){var d=this.parentContainer.getBoundsTransformMatrix(),p=d.transformPoint(this.x,this.y);h.setTo(p.x,p.y,0,0)}if(this.list.length>0){var x=this.list,S=new i,T=!1;h.setEmpty();for(var C=0;C<x.length;C++){var E=x[C];E.getBounds&&(E.getBounds(S),T?n(S,h,h):(h.setTo(S.x,S.y,S.width,S.height),T=!0))}}return h},addHandler:function(h){h.once(r.DESTROY,this.remove,this),this.exclusive&&(h.parentContainer&&h.parentContainer.remove(h),h.parentContainer=this,h.removeFromDisplayList(),h.addedToScene())},removeHandler:function(h){h.off(r.DESTROY,this.remove,this),this.exclusive&&(h.parentContainer=null,h.removedFromScene(),h.addToDisplayList())},pointToContainer:function(h,d){d===void 0&&(d=new o),this.parentContainer?this.parentContainer.pointToContainer(h,d):(d.x=h.x,d.y=h.y);var p=this.tempTransformMatrix;return p.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),p.invert(),p.transformPoint(h.x,h.y,d),d},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(h){return u.Add(this.list,h,this.maxSize,this.addHandler,this),this},addAt:function(h,d){return u.AddAt(this.list,h,d,this.maxSize,this.addHandler,this),this},getAt:function(h){return this.list[h]},getIndex:function(h){return this.list.indexOf(h)},sort:function(h,d){return h?(d===void 0&&(d=function(p,x){return p[h]-x[h]}),u.StableSort(this.list,d),this):this},getByName:function(h){return u.GetFirst(this.list,"name",h)},getRandom:function(h,d){return u.GetRandom(this.list,h,d)},getFirst:function(h,d,p,x){return u.GetFirst(this.list,h,d,p,x)},getAll:function(h,d,p,x){return u.GetAll(this.list,h,d,p,x)},count:function(h,d,p,x){return u.CountAllMatching(this.list,h,d,p,x)},swap:function(h,d){return u.Swap(this.list,h,d),this},moveTo:function(h,d){return u.MoveTo(this.list,h,d),this},moveAbove:function(h,d){return u.MoveAbove(this.list,h,d),this},moveBelow:function(h,d){return u.MoveBelow(this.list,h,d),this},remove:function(h,d){var p=u.Remove(this.list,h,this.removeHandler,this);if(d&&p){Array.isArray(p)||(p=[p]);for(var x=0;x<p.length;x++)p[x].destroy()}return this},removeAt:function(h,d){var p=u.RemoveAt(this.list,h,this.removeHandler,this);return d&&p&&p.destroy(),this},removeBetween:function(h,d,p){var x=u.RemoveBetween(this.list,h,d,this.removeHandler,this);if(p)for(var S=0;S<x.length;S++)x[S].destroy();return this},removeAll:function(h){var d=this.list;if(h){for(var p=0;p<d.length;p++)d[p]&&d[p].scene&&(d[p].off(r.DESTROY,this.remove,this),d[p].destroy());this.list=[]}else u.RemoveBetween(d,0,d.length,this.removeHandler,this);return this},bringToTop:function(h){return u.BringToTop(this.list,h),this},sendToBack:function(h){return u.SendToBack(this.list,h),this},moveUp:function(h){return u.MoveUp(this.list,h),this},moveDown:function(h){return u.MoveDown(this.list,h),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return u.Shuffle(this.list),this},replace:function(h,d,p){var x=u.Replace(this.list,h,d);return x&&(this.addHandler(d),this.removeHandler(h),p&&h.destroy()),this},exists:function(h){return this.list.indexOf(h)>-1},setAll:function(h,d,p,x){return u.SetAll(this.list,h,d,p,x),this},each:function(h,d){var p=[null],x,S=this.list.slice(),T=S.length;for(x=2;x<arguments.length;x++)p.push(arguments[x]);for(x=0;x<T;x++)p[0]=S[x],h.apply(d,p);return this},iterate:function(h,d){var p=[null],x;for(x=2;x<arguments.length;x++)p.push(arguments[x]);for(x=0;x<this.list.length;x++)p[0]=this.list[x],h.apply(d,p);return this},setScrollFactor:function(h,d,p){return d===void 0&&(d=h),p===void 0&&(p=!1),this.scrollFactorX=h,this.scrollFactorY=d,p&&(u.SetAll(this.list,"scrollFactorX",h),u.SetAll(this.list,"scrollFactorY",d)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});v.exports=f},13916:v=>{var y=function(t,u,c,a){c.addToRenderList(u);var s=u.list;if(s.length!==0){var r=u.localTransform;a?(r.loadIdentity(),r.multiply(a),r.translate(u.x,u.y),r.rotate(u.rotation),r.scale(u.scaleX,u.scaleY)):r.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);var e=u.blendMode!==-1;e||t.setBlendMode(0);var i=u._alpha,l=u.scrollFactorX,n=u.scrollFactorY;u.mask&&u.mask.preRenderCanvas(t,null,c);for(var o=0;o<s.length;o++){var f=s[o];if(f.willRender(c)){var h=f.alpha,d=f.scrollFactorX,p=f.scrollFactorY;!e&&f.blendMode!==t.currentBlendMode&&t.setBlendMode(f.blendMode),f.setScrollFactor(d*l,p*n),f.setAlpha(h*i),f.renderCanvas(t,f,c,r),f.setAlpha(h),f.setScrollFactor(d,p)}}u.mask&&u.mask.postRenderCanvas(t)}};v.exports=y},44516:(v,y,t)=>{var u=t(88933),c=t(70339),a=t(99325),s=t(20494);a.register("container",function(r,e){r===void 0&&(r={});var i=s(r,"x",0),l=s(r,"y",0),n=s(r,"children",null),o=new c(this.scene,i,l,n);return e!==void 0&&(r.add=e),u(this.scene,o,r),o})},23400:(v,y,t)=>{var u=t(70339),c=t(61286);c.register("container",function(a,s,r){return this.displayList.add(new u(this.scene,a,s,r))})},98524:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(36934),a=t(13916),v.exports={renderWebGL:c,renderCanvas:a}},36934:v=>{var y=function(t,u,c,a){c.addToRenderList(u);var s=u.list,r=s.length;if(r!==0){var e=u.localTransform;a?(e.loadIdentity(),e.multiply(a),e.translate(u.x,u.y),e.rotate(u.rotation),e.scale(u.scaleX,u.scaleY)):e.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),t.pipelines.preBatch(u);var i=u.blendMode!==-1;i||t.setBlendMode(0);for(var l=u.alpha,n=u.scrollFactorX,o=u.scrollFactorY,f=0;f<r;f++){var h=s[f];if(h.willRender(c)){var d,p,x,S;if(h.alphaTopLeft!==void 0)d=h.alphaTopLeft,p=h.alphaTopRight,x=h.alphaBottomLeft,S=h.alphaBottomRight;else{var T=h.alpha;d=T,p=T,x=T,S=T}var C=h.scrollFactorX,E=h.scrollFactorY;!i&&h.blendMode!==t.currentBlendMode&&t.setBlendMode(h.blendMode);var P=h.mask;P&&P.preRenderWebGL(t,h,c);var M=h.type;M!==t.currentType&&(t.newType=!0,t.currentType=M),t.nextTypeMatch=f<r-1?s[f+1].type===t.currentType:!1,h.setScrollFactor(C*n,E*o),h.setAlpha(d*l,p*l,x*l,S*l),h.renderWebGL(t,h,c,e,u),h.setAlpha(d,p,x,S),h.setScrollFactor(C,E),P&&P.postRenderWebGL(t,c),t.newType=!1}}t.pipelines.postBatch(u)}};v.exports=y},2452:v=>{v.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},38943:(v,y,t)=>{var u=t(56694),c=t(64937),a=t(11603),s=t(89980),r=t(42911),e=t(55638),i=t(7599),l=t(51729),n=new u({Extends:s,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Origin,c.ScrollFactor,c.Transform,c.Visible,a],initialize:function(f,h,d,p,x,S){s.call(this,f,"DOMElement"),this.parent=f.sys.game.domContainer,this.cache=f.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new l,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(h,d),typeof p=="string"?p[0]==="#"?this.setElement(p.substr(1),x,S):this.createElement(p,x,S):p&&this.setElement(p,x,S),f.sys.events.on(i.SLEEP,this.handleSceneEvent,this),f.sys.events.on(i.WAKE,this.handleSceneEvent,this),f.sys.events.on(i.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(o){var f=this.node,h=f.style;f&&(h.display=o.settings.visible?"block":"none")},setSkew:function(o,f){return o===void 0&&(o=0),f===void 0&&(f=o),this.skewX=o,this.skewY=f,this},setPerspective:function(o){return this.parent.style.perspective=o+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(o){this.parent.style.perspective=o+"px"}},addListener:function(o){if(this.node){o=o.split(" ");for(var f=0;f<o.length;f++)this.node.addEventListener(o[f],this.handler,!1)}return this},removeListener:function(o){if(this.node){o=o.split(" ");for(var f=0;f<o.length;f++)this.node.removeEventListener(o[f],this.handler)}return this},dispatchNativeEvent:function(o){this.emit(o.type,o)},createElement:function(o,f,h){return this.setElement(document.createElement(o),f,h)},setElement:function(o,f,h){this.removeElement();var d;if(typeof o=="string"?(o[0]==="#"&&(o=o.substr(1)),d=document.getElementById(o)):typeof o=="object"&&o.nodeType===1&&(d=o),!d)return this;if(this.node=d,f&&r(f))for(var p in f)d.style[p]=f[p];else typeof f=="string"&&(d.style=f);return d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent&&this.parent.appendChild(d),h&&(d.innerText=h),this.updateSize()},createFromCache:function(o,f){var h=this.cache.get(o);return h&&this.createFromHTML(h,f),this},createFromHTML:function(o,f){f===void 0&&(f="div"),this.removeElement();var h=document.createElement(f);return this.node=h,h.style.zIndex="0",h.style.display="inline",h.style.position="absolute",h.phaser=this,this.parent&&this.parent.appendChild(h),h.innerHTML=o,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var o=this.node,f=o.getBoundingClientRect();return this.width=o.clientWidth,this.height=o.clientHeight,this.displayWidth=f.width||0,this.displayHeight=f.height||0,this},getChildByProperty:function(o,f){if(this.node){for(var h=this.node.querySelectorAll("*"),d=0;d<h.length;d++)if(h[d][o]===f)return h[d]}return null},getChildByID:function(o){return this.getChildByProperty("id",o)},getChildByName:function(o){return this.getChildByProperty("name",o)},setClassName:function(o){return this.node&&(this.node.className=o,this.updateSize()),this},setText:function(o){return this.node&&(this.node.innerText=o,this.updateSize()),this},setHTML:function(o){return this.node&&(this.node.innerHTML=o,this.updateSize()),this},preRender:function(){var o=this.parentContainer,f=this.node;f&&o&&!o.willRender()&&(f.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(i.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(i.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(i.PRE_RENDER,this.preRender,this)}});v.exports=n},66070:(v,y,t)=>{var u=t(2452),c=t(89980),a=t(69360),s=new a,r=new a,e=new a,i=function(l,n,o,f){if(n.node){var h=n.node.style,d=n.scene.sys.settings;if(!h||!d.visible||c.RENDER_MASK!==n.renderFlags||n.cameraFilter!==0&&n.cameraFilter&o.id||n.parentContainer&&!n.parentContainer.willRender()){h.display="none";return}var p=n.parentContainer,x=o.alpha*n.alpha;p&&(x*=p.alpha);var S=s,T=r,C=e,E=0,P=0,M="0%",L="0%";f?(E=n.width*n.scaleX*n.originX,P=n.height*n.scaleY*n.originY,T.applyITRS(n.x-E,n.y-P,n.rotation,n.scaleX,n.scaleY),S.copyFrom(o.matrix),S.multiplyWithOffset(f,-o.scrollX*n.scrollFactorX,-o.scrollY*n.scrollFactorY),T.e=n.x-E,T.f=n.y-P,S.multiply(T,C)):(E=n.width*n.originX,P=n.height*n.originY,T.applyITRS(n.x-E,n.y-P,n.rotation,n.scaleX,n.scaleY),S.copyFrom(o.matrix),M=100*n.originX+"%",L=100*n.originY+"%",T.e-=o.scrollX*n.scrollFactorX,T.f-=o.scrollY*n.scrollFactorY,S.multiply(T,C)),n.transformOnly||(h.display="block",h.opacity=x,h.zIndex=n._depth,h.pointerEvents=n.pointerEvents,h.mixBlendMode=u[n._blendMode]),h.transform=C.getCSSMatrix()+" skew("+n.skewX+"rad, "+n.skewY+"rad) rotate3d("+n.rotate3d.x+","+n.rotate3d.y+","+n.rotate3d.z+","+n.rotate3d.w+n.rotate3dAngle+")",h.transformOrigin=M+" "+L}};v.exports=i},66788:(v,y,t)=>{var u=t(38943),c=t(61286);c.register("dom",function(a,s,r,e,i){var l=new u(this.scene,a,s,r,e,i);return this.displayList.add(l),l})},11603:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(66070),a=t(66070),v.exports={renderWebGL:c,renderCanvas:a}},65492:v=>{v.exports="addedtoscene"},98398:v=>{v.exports="destroy"},40239:v=>{v.exports="removedfromscene"},17286:v=>{v.exports="complete"},31496:v=>{v.exports="created"},89587:v=>{v.exports="error"},59792:v=>{v.exports="locked"},96342:v=>{v.exports="loop"},6017:v=>{v.exports="playing"},49614:v=>{v.exports="play"},24418:v=>{v.exports="seeked"},87318:v=>{v.exports="seeking"},50009:v=>{v.exports="stalled"},61922:v=>{v.exports="stop"},79501:v=>{v.exports="textureready"},4052:v=>{v.exports="unlocked"},54857:v=>{v.exports="unsupported"},56631:(v,y,t)=>{v.exports={ADDED_TO_SCENE:t(65492),DESTROY:t(98398),REMOVED_FROM_SCENE:t(40239),VIDEO_COMPLETE:t(17286),VIDEO_CREATED:t(31496),VIDEO_ERROR:t(89587),VIDEO_LOCKED:t(59792),VIDEO_LOOP:t(96342),VIDEO_PLAY:t(49614),VIDEO_PLAYING:t(6017),VIDEO_SEEKED:t(24418),VIDEO_SEEKING:t(87318),VIDEO_STALLED:t(50009),VIDEO_STOP:t(61922),VIDEO_TEXTURE:t(79501),VIDEO_UNLOCKED:t(4052),VIDEO_UNSUPPORTED:t(54857)}},39419:(v,y,t)=>{var u=t(56694),c=t(64937),a=t(89980),s=t(79394),r=new u({Extends:a,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.Flip,c.Origin,c.ScrollFactor,c.Size,c.Texture,c.Tint,c.Transform,c.Visible,s],initialize:function(i){a.call(this,i,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});v.exports=r},96699:()=>{},41155:(v,y,t)=>{var u=t(39419),c=t(61286);c.register("extern",function(){var a=new u(this.scene);return this.displayList.add(a),a})},79394:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(81410),a=t(96699),v.exports={renderWebGL:c,renderCanvas:a}},81410:(v,y,t)=>{var u=t(73329),c=function(a,s,r,e){a.pipelines.clear();var i=u(s,r,e).calc;s.render.call(s,a,r,i),a.pipelines.rebind()};v.exports=c},36266:v=>{v.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},33182:(v,y,t)=>{var u=t(51052),c=t(56694),a=t(36266),s=t(64937),r=t(95669),e=t(89980),i=t(72632),l=t(10850),n=t(83392),o=t(60898),f=new c({Extends:e,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Mask,s.Pipeline,s.PostPipeline,s.Transform,s.Visible,s.ScrollFactor,o],initialize:function(d,p){var x=l(p,"x",0),S=l(p,"y",0);e.call(this,d,"Graphics"),this.setPosition(x,S),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(p)},setDefaultStyles:function(h){return l(h,"lineStyle",null)&&(this.defaultStrokeWidth=l(h,"lineStyle.width",1),this.defaultStrokeColor=l(h,"lineStyle.color",16777215),this.defaultStrokeAlpha=l(h,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),l(h,"fillStyle",null)&&(this.defaultFillColor=l(h,"fillStyle.color",16777215),this.defaultFillAlpha=l(h,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(h,d,p){return p===void 0&&(p=1),this.commandBuffer.push(a.LINE_STYLE,h,d,p),this._lineWidth=h,this},fillStyle:function(h,d){return d===void 0&&(d=1),this.commandBuffer.push(a.FILL_STYLE,h,d),this},fillGradientStyle:function(h,d,p,x,S,T,C,E){return S===void 0&&(S=1),T===void 0&&(T=S),C===void 0&&(C=S),E===void 0&&(E=S),this.commandBuffer.push(a.GRADIENT_FILL_STYLE,S,T,C,E,h,d,p,x),this},lineGradientStyle:function(h,d,p,x,S,T){return T===void 0&&(T=1),this.commandBuffer.push(a.GRADIENT_LINE_STYLE,h,T,d,p,x,S),this},beginPath:function(){return this.commandBuffer.push(a.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(a.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(a.FILL_PATH),this},fill:function(){return this.commandBuffer.push(a.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(a.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(a.STROKE_PATH),this},fillCircleShape:function(h){return this.fillCircle(h.x,h.y,h.radius)},strokeCircleShape:function(h){return this.strokeCircle(h.x,h.y,h.radius)},fillCircle:function(h,d,p){return this.beginPath(),this.arc(h,d,p,0,n.PI2),this.fillPath(),this},strokeCircle:function(h,d,p){return this.beginPath(),this.arc(h,d,p,0,n.PI2),this.strokePath(),this},fillRectShape:function(h){return this.fillRect(h.x,h.y,h.width,h.height)},strokeRectShape:function(h){return this.strokeRect(h.x,h.y,h.width,h.height)},fillRect:function(h,d,p,x){return this.commandBuffer.push(a.FILL_RECT,h,d,p,x),this},strokeRect:function(h,d,p,x){var S=this._lineWidth/2,T=h-S,C=h+S;return this.beginPath(),this.moveTo(h,d),this.lineTo(h,d+x),this.strokePath(),this.beginPath(),this.moveTo(h+p,d),this.lineTo(h+p,d+x),this.strokePath(),this.beginPath(),this.moveTo(T,d),this.lineTo(C+p,d),this.strokePath(),this.beginPath(),this.moveTo(T,d+x),this.lineTo(C+p,d+x),this.strokePath(),this},fillRoundedRect:function(h,d,p,x,S){S===void 0&&(S=20);var T=S,C=S,E=S,P=S;typeof S!="number"&&(T=i(S,"tl",20),C=i(S,"tr",20),E=i(S,"bl",20),P=i(S,"br",20));var M=T>=0,L=C>=0,R=E>=0,w=P>=0;return T=Math.abs(T),C=Math.abs(C),E=Math.abs(E),P=Math.abs(P),this.beginPath(),this.moveTo(h+T,d),this.lineTo(h+p-C,d),L?this.arc(h+p-C,d+C,C,-n.TAU,0):this.arc(h+p,d,C,Math.PI,n.TAU,!0),this.lineTo(h+p,d+x-P),w?this.arc(h+p-P,d+x-P,P,0,n.TAU):this.arc(h+p,d+x,P,-n.TAU,Math.PI,!0),this.lineTo(h+E,d+x),R?this.arc(h+E,d+x-E,E,n.TAU,Math.PI):this.arc(h,d+x,E,0,-n.TAU,!0),this.lineTo(h,d+T),M?this.arc(h+T,d+T,T,-Math.PI,-n.TAU):this.arc(h,d,T,n.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(h,d,p,x,S){S===void 0&&(S=20);var T=S,C=S,E=S,P=S,M=Math.min(p,x)/2;typeof S!="number"&&(T=i(S,"tl",20),C=i(S,"tr",20),E=i(S,"bl",20),P=i(S,"br",20));var L=T>=0,R=C>=0,w=E>=0,D=P>=0;return T=Math.min(Math.abs(T),M),C=Math.min(Math.abs(C),M),E=Math.min(Math.abs(E),M),P=Math.min(Math.abs(P),M),this.beginPath(),this.moveTo(h+T,d),this.lineTo(h+p-C,d),this.moveTo(h+p-C,d),R?this.arc(h+p-C,d+C,C,-n.TAU,0):this.arc(h+p,d,C,Math.PI,n.TAU,!0),this.lineTo(h+p,d+x-P),this.moveTo(h+p,d+x-P),D?this.arc(h+p-P,d+x-P,P,0,n.TAU):this.arc(h+p,d+x,P,-n.TAU,Math.PI,!0),this.lineTo(h+E,d+x),this.moveTo(h+E,d+x),w?this.arc(h+E,d+x-E,E,n.TAU,Math.PI):this.arc(h,d+x,E,0,-n.TAU,!0),this.lineTo(h,d+T),this.moveTo(h,d+T),L?this.arc(h+T,d+T,T,-Math.PI,-n.TAU):this.arc(h,d,T,n.TAU,0,!0),this.strokePath(),this},fillPointShape:function(h,d){return this.fillPoint(h.x,h.y,d)},fillPoint:function(h,d,p){return!p||p<1?p=1:(h-=p/2,d-=p/2),this.commandBuffer.push(a.FILL_RECT,h,d,p,p),this},fillTriangleShape:function(h){return this.fillTriangle(h.x1,h.y1,h.x2,h.y2,h.x3,h.y3)},strokeTriangleShape:function(h){return this.strokeTriangle(h.x1,h.y1,h.x2,h.y2,h.x3,h.y3)},fillTriangle:function(h,d,p,x,S,T){return this.commandBuffer.push(a.FILL_TRIANGLE,h,d,p,x,S,T),this},strokeTriangle:function(h,d,p,x,S,T){return this.commandBuffer.push(a.STROKE_TRIANGLE,h,d,p,x,S,T),this},strokeLineShape:function(h){return this.lineBetween(h.x1,h.y1,h.x2,h.y2)},lineBetween:function(h,d,p,x){return this.beginPath(),this.moveTo(h,d),this.lineTo(p,x),this.strokePath(),this},lineTo:function(h,d){return this.commandBuffer.push(a.LINE_TO,h,d),this},moveTo:function(h,d){return this.commandBuffer.push(a.MOVE_TO,h,d),this},strokePoints:function(h,d,p,x){d===void 0&&(d=!1),p===void 0&&(p=!1),x===void 0&&(x=h.length),this.beginPath(),this.moveTo(h[0].x,h[0].y);for(var S=1;S<x;S++)this.lineTo(h[S].x,h[S].y);return d&&this.lineTo(h[0].x,h[0].y),p&&this.closePath(),this.strokePath(),this},fillPoints:function(h,d,p,x){d===void 0&&(d=!1),p===void 0&&(p=!1),x===void 0&&(x=h.length),this.beginPath(),this.moveTo(h[0].x,h[0].y);for(var S=1;S<x;S++)this.lineTo(h[S].x,h[S].y);return d&&this.lineTo(h[0].x,h[0].y),p&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(h,d){d===void 0&&(d=32);var p=h.getPoints(d);return this.strokePoints(p,!0)},strokeEllipse:function(h,d,p,x,S){S===void 0&&(S=32);var T=new r(h,d,p,x),C=T.getPoints(S);return this.strokePoints(C,!0)},fillEllipseShape:function(h,d){d===void 0&&(d=32);var p=h.getPoints(d);return this.fillPoints(p,!0)},fillEllipse:function(h,d,p,x,S){S===void 0&&(S=32);var T=new r(h,d,p,x),C=T.getPoints(S);return this.fillPoints(C,!0)},arc:function(h,d,p,x,S,T,C){return T===void 0&&(T=!1),C===void 0&&(C=0),this.commandBuffer.push(a.ARC,h,d,p,x,S,T,C),this},slice:function(h,d,p,x,S,T,C){return T===void 0&&(T=!1),C===void 0&&(C=0),this.commandBuffer.push(a.BEGIN_PATH),this.commandBuffer.push(a.MOVE_TO,h,d),this.commandBuffer.push(a.ARC,h,d,p,x,S,T,C),this.commandBuffer.push(a.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(a.SAVE),this},restore:function(){return this.commandBuffer.push(a.RESTORE),this},translateCanvas:function(h,d){return this.commandBuffer.push(a.TRANSLATE,h,d),this},scaleCanvas:function(h,d){return this.commandBuffer.push(a.SCALE,h,d),this},rotateCanvas:function(h){return this.commandBuffer.push(a.ROTATE,h),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(h,d,p){var x=this.scene.sys,S=x.game.renderer;d===void 0&&(d=x.scale.width),p===void 0&&(p=x.scale.height),f.TargetCamera.setScene(this.scene),f.TargetCamera.setViewport(0,0,d,p),f.TargetCamera.scrollX=this.x,f.TargetCamera.scrollY=this.y;var T,C,E={willReadFrequently:!0};if(typeof h=="string")if(x.textures.exists(h)){T=x.textures.get(h);var P=T.getSourceImage();P instanceof HTMLCanvasElement&&(C=P.getContext("2d",E))}else T=x.textures.createCanvas(h,d,p),C=T.getSourceImage().getContext("2d",E);else h instanceof HTMLCanvasElement&&(C=h.getContext("2d",E));return C&&(this.renderCanvas(S,this,f.TargetCamera,null,C,!1),T&&T.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});f.TargetCamera=new u,v.exports=f},91543:(v,y,t)=>{var u=t(36266),c=t(49584),a=function(s,r,e,i,l,n){var o=r.commandBuffer,f=o.length,h=l||s.currentContext;if(!(f===0||!c(s,h,r,e,i))){e.addToRenderList(r);var d=1,p=1,x=0,S=0,T=1,C=0,E=0,P=0;h.beginPath();for(var M=0;M<f;++M){var L=o[M];switch(L){case u.ARC:h.arc(o[M+1],o[M+2],o[M+3],o[M+4],o[M+5],o[M+6]),M+=7;break;case u.LINE_STYLE:T=o[M+1],x=o[M+2],d=o[M+3],C=(x&16711680)>>>16,E=(x&65280)>>>8,P=x&255,h.strokeStyle="rgba("+C+","+E+","+P+","+d+")",h.lineWidth=T,M+=3;break;case u.FILL_STYLE:S=o[M+1],p=o[M+2],C=(S&16711680)>>>16,E=(S&65280)>>>8,P=S&255,h.fillStyle="rgba("+C+","+E+","+P+","+p+")",M+=2;break;case u.BEGIN_PATH:h.beginPath();break;case u.CLOSE_PATH:h.closePath();break;case u.FILL_PATH:n||h.fill();break;case u.STROKE_PATH:n||h.stroke();break;case u.FILL_RECT:n?h.rect(o[M+1],o[M+2],o[M+3],o[M+4]):h.fillRect(o[M+1],o[M+2],o[M+3],o[M+4]),M+=4;break;case u.FILL_TRIANGLE:h.beginPath(),h.moveTo(o[M+1],o[M+2]),h.lineTo(o[M+3],o[M+4]),h.lineTo(o[M+5],o[M+6]),h.closePath(),n||h.fill(),M+=6;break;case u.STROKE_TRIANGLE:h.beginPath(),h.moveTo(o[M+1],o[M+2]),h.lineTo(o[M+3],o[M+4]),h.lineTo(o[M+5],o[M+6]),h.closePath(),n||h.stroke(),M+=6;break;case u.LINE_TO:h.lineTo(o[M+1],o[M+2]),M+=2;break;case u.MOVE_TO:h.moveTo(o[M+1],o[M+2]),M+=2;break;case u.LINE_FX_TO:h.lineTo(o[M+1],o[M+2]),M+=5;break;case u.MOVE_FX_TO:h.moveTo(o[M+1],o[M+2]),M+=5;break;case u.SAVE:h.save();break;case u.RESTORE:h.restore();break;case u.TRANSLATE:h.translate(o[M+1],o[M+2]),M+=2;break;case u.SCALE:h.scale(o[M+1],o[M+2]),M+=2;break;case u.ROTATE:h.rotate(o[M+1]),M+=1;break;case u.GRADIENT_FILL_STYLE:M+=5;break;case u.GRADIENT_LINE_STYLE:M+=6;break}}h.restore()}};v.exports=a},41286:(v,y,t)=>{var u=t(99325),c=t(33182);u.register("graphics",function(a,s){a===void 0&&(a={}),s!==void 0&&(a.add=s);var r=new c(this.scene,a);return a.add&&this.scene.sys.displayList.add(r),r})},13122:(v,y,t)=>{var u=t(33182),c=t(61286);c.register("graphics",function(a){return this.displayList.add(new u(this.scene,a))})},60898:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(34429),a=t(91543),a=t(91543),v.exports={renderWebGL:c,renderCanvas:a}},34429:(v,y,t)=>{var u=t(36266),c=t(73329),a=t(69360),s=t(75512),r=function(o,f,h){this.x=o,this.y=f,this.width=h},e=function(o,f,h){this.points=[],this.pointsLength=1,this.points[0]=new r(o,f,h)},i=[],l=new a,n=function(o,f,h,d){if(f.commandBuffer.length!==0){h.addToRenderList(f);var p=o.pipelines.set(f.pipeline,f);o.pipelines.preBatch(f);for(var x=c(f,h,d).calc,S=l.loadIdentity(),T=f.commandBuffer,C=h.alpha*f.alpha,E=1,P=p.fillTint,M=p.strokeTint,L=0,R=0,w=0,D=.01,B=Math.PI*2,z,V=[],Y=0,H=!0,I=null,U=s.getTintAppendFloatAlpha,O=0;O<T.length;O++)switch(z=T[O],z){case u.BEGIN_PATH:{V.length=0,I=null,H=!0;break}case u.CLOSE_PATH:{H=!1,I&&I.points.length&&I.points.push(I.points[0]);break}case u.FILL_PATH:{for(Y=0;Y<V.length;Y++)p.batchFillPath(V[Y].points,S,x);break}case u.STROKE_PATH:{for(Y=0;Y<V.length;Y++)p.batchStrokePath(V[Y].points,E,H,S,x);break}case u.LINE_STYLE:{E=T[++O];var N=T[++O],G=T[++O]*C,X=U(N,G);M.TL=X,M.TR=X,M.BL=X,M.BR=X;break}case u.FILL_STYLE:{var W=T[++O],b=T[++O]*C,K=U(W,b);P.TL=K,P.TR=K,P.BL=K,P.BR=K;break}case u.GRADIENT_FILL_STYLE:{var Z=T[++O]*C,Q=T[++O]*C,J=T[++O]*C,j=T[++O]*C;P.TL=U(T[++O],Z),P.TR=U(T[++O],Q),P.BL=U(T[++O],J),P.BR=U(T[++O],j);break}case u.GRADIENT_LINE_STYLE:{E=T[++O];var k=T[++O]*C;M.TL=U(T[++O],k),M.TR=U(T[++O],k),M.BL=U(T[++O],k),M.BR=U(T[++O],k);break}case u.ARC:{var $=0,_=T[++O],nt=T[++O],at=T[++O],st=T[++O],q=T[++O],it=T[++O],et=T[++O];for(q-=st,it?q<-B?q=-B:q>0&&(q=-B+q%B):q>B?q=B:q<0&&(q=B+q%B),I===null&&(I=new e(_+Math.cos(st)*at,nt+Math.sin(st)*at,E),V.push(I),$+=D);$<1+et;)w=q*$+st,L=_+Math.cos(w)*at,R=nt+Math.sin(w)*at,I.points.push(new r(L,R,E)),$+=D;w=q+st,L=_+Math.cos(w)*at,R=nt+Math.sin(w)*at,I.points.push(new r(L,R,E));break}case u.FILL_RECT:{p.batchFillRect(T[++O],T[++O],T[++O],T[++O],S,x);break}case u.FILL_TRIANGLE:{p.batchFillTriangle(T[++O],T[++O],T[++O],T[++O],T[++O],T[++O],S,x);break}case u.STROKE_TRIANGLE:{p.batchStrokeTriangle(T[++O],T[++O],T[++O],T[++O],T[++O],T[++O],E,S,x);break}case u.LINE_TO:{I!==null?I.points.push(new r(T[++O],T[++O],E)):(I=new e(T[++O],T[++O],E),V.push(I));break}case u.MOVE_TO:{I=new e(T[++O],T[++O],E),V.push(I);break}case u.SAVE:{i.push(S.copyToArray());break}case u.RESTORE:{S.copyFromArray(i.pop());break}case u.TRANSLATE:{_=T[++O],nt=T[++O],S.translate(_,nt);break}case u.SCALE:{_=T[++O],nt=T[++O],S.scale(_,nt);break}case u.ROTATE:{S.rotate(T[++O]);break}}o.pipelines.postBatch(f)}};v.exports=n},59192:(v,y,t)=>{var u=t(83979),c=t(56694),a=t(56631),s=t(6659),r=t(71608),e=t(72632),i=t(10850),l=t(19256),n=t(42911),o=t(75757),f=t(58403),h=t(13747),d=new c({Extends:s,initialize:function(x,S,T){s.call(this),T?S&&!Array.isArray(S)&&(S=[S]):Array.isArray(S)?n(S[0])&&(T=S,S=null):n(S)&&(T=S,S=null),this.scene=x,this.children=new f,this.isParent=!0,this.type="Group",this.classType=e(T,"classType",h),this.name=e(T,"name",""),this.active=e(T,"active",!0),this.maxSize=e(T,"maxSize",-1),this.defaultKey=e(T,"defaultKey",null),this.defaultFrame=e(T,"defaultFrame",null),this.runChildUpdate=e(T,"runChildUpdate",!1),this.createCallback=e(T,"createCallback",null),this.removeCallback=e(T,"removeCallback",null),this.createMultipleCallback=e(T,"createMultipleCallback",null),this.internalCreateCallback=e(T,"internalCreateCallback",null),this.internalRemoveCallback=e(T,"internalRemoveCallback",null),S&&this.addMultiple(S),T&&this.createMultiple(T),this.on(a.ADDED_TO_SCENE,this.addedToScene,this),this.on(a.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(p,x,S,T,C,E){if(p===void 0&&(p=0),x===void 0&&(x=0),S===void 0&&(S=this.defaultKey),T===void 0&&(T=this.defaultFrame),C===void 0&&(C=!0),E===void 0&&(E=!0),this.isFull())return null;var P=new this.classType(this.scene,p,x,S,T);return P.addToDisplayList(this.scene.sys.displayList),P.addToUpdateList(),P.visible=C,P.setActive(E),this.add(P),P},createMultiple:function(p){if(this.isFull())return[];Array.isArray(p)||(p=[p]);var x=[];if(p[0].key)for(var S=0;S<p.length;S++){var T=this.createFromConfig(p[S]);x=x.concat(T)}return x},createFromConfig:function(p){if(this.isFull())return[];this.classType=e(p,"classType",this.classType);var x=e(p,"key",void 0),S=e(p,"frame",null),T=e(p,"visible",!0),C=e(p,"active",!0),E=[];if(x===void 0)return E;Array.isArray(x)||(x=[x]),Array.isArray(S)||(S=[S]);var P=e(p,"repeat",0),M=e(p,"randomKey",!1),L=e(p,"randomFrame",!1),R=e(p,"yoyo",!1),w=e(p,"quantity",!1),D=e(p,"frameQuantity",1),B=e(p,"max",0),z=o(x,S,{max:B,qty:w||D,random:M,randomB:L,repeat:P,yoyo:R});p.createCallback&&(this.createCallback=p.createCallback),p.removeCallback&&(this.removeCallback=p.removeCallback);for(var V=0;V<z.length;V++){var Y=this.create(0,0,z[V].a,z[V].b,T,C);if(!Y)break;E.push(Y)}if(l(p,"setXY")){var H=i(p,"setXY.x",0),I=i(p,"setXY.y",0),U=i(p,"setXY.stepX",0),O=i(p,"setXY.stepY",0);u.SetXY(E,H,I,U,O)}if(l(p,"setRotation")){var N=i(p,"setRotation.value",0),G=i(p,"setRotation.step",0);u.SetRotation(E,N,G)}if(l(p,"setScale")){var X=i(p,"setScale.x",1),W=i(p,"setScale.y",X),b=i(p,"setScale.stepX",0),K=i(p,"setScale.stepY",0);u.SetScale(E,X,W,b,K)}if(l(p,"setOrigin")){var Z=i(p,"setOrigin.x",.5),Q=i(p,"setOrigin.y",Z),J=i(p,"setOrigin.stepX",0),j=i(p,"setOrigin.stepY",0);u.SetOrigin(E,Z,Q,J,j)}if(l(p,"setAlpha")){var k=i(p,"setAlpha.value",1),$=i(p,"setAlpha.step",0);u.SetAlpha(E,k,$)}if(l(p,"setDepth")){var _=i(p,"setDepth.value",0),nt=i(p,"setDepth.step",0);u.SetDepth(E,_,nt)}if(l(p,"setScrollFactor")){var at=i(p,"setScrollFactor.x",1),st=i(p,"setScrollFactor.y",at),q=i(p,"setScrollFactor.stepX",0),it=i(p,"setScrollFactor.stepY",0);u.SetScrollFactor(E,at,st,q,it)}var et=e(p,"hitArea",null),lt=e(p,"hitAreaCallback",null);et&&u.SetHitArea(E,et,lt);var ot=e(p,"gridAlign",!1);return ot&&u.GridAlign(E,ot),this.createMultipleCallback&&this.createMultipleCallback.call(this,E),E},preUpdate:function(p,x){if(!(!this.runChildUpdate||this.children.size===0))for(var S=this.children.entries.slice(),T=0;T<S.length;T++){var C=S[T];C.active&&C.update(p,x)}},add:function(p,x){return x===void 0&&(x=!1),this.isFull()?this:(this.children.set(p),this.internalCreateCallback&&this.internalCreateCallback.call(this,p),this.createCallback&&this.createCallback.call(this,p),x&&(p.addToDisplayList(this.scene.sys.displayList),p.addToUpdateList()),p.on(a.DESTROY,this.remove,this),this)},addMultiple:function(p,x){if(x===void 0&&(x=!1),Array.isArray(p))for(var S=0;S<p.length;S++)this.add(p[S],x);return this},remove:function(p,x,S){return x===void 0&&(x=!1),S===void 0&&(S=!1),this.children.contains(p)?(this.children.delete(p),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,p),this.removeCallback&&this.removeCallback.call(this,p),p.off(a.DESTROY,this.remove,this),S?p.destroy():x&&(p.removeFromDisplayList(),p.removeFromUpdateList()),this):this},clear:function(p,x){p===void 0&&(p=!1),x===void 0&&(x=!1);for(var S=this.children,T=0;T<S.size;T++){var C=S.entries[T];C.off(a.DESTROY,this.remove,this),x?C.destroy():p&&(C.removeFromDisplayList(),C.removeFromUpdateList())}return this.children.clear(),this},contains:function(p){return this.children.contains(p)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(p,x,S,T){return r(this.children.entries,p,x,S,T)},getFirst:function(p,x,S,T,C,E,P){return this.getHandler(!0,1,p,x,S,T,C,E,P)},getFirstNth:function(p,x,S,T,C,E,P,M){return this.getHandler(!0,p,x,S,T,C,E,P,M)},getLast:function(p,x,S,T,C,E,P){return this.getHandler(!1,1,p,x,S,T,C,E,P)},getLastNth:function(p,x,S,T,C,E,P,M){return this.getHandler(!1,p,x,S,T,C,E,P,M)},getHandler:function(p,x,S,T,C,E,P,M,L){S===void 0&&(S=!1),T===void 0&&(T=!1);var R,w,D=0,B=this.children.entries;if(p)for(w=0;w<B.length;w++)if(R=B[w],R.active===S){if(D++,D===x)break}else R=null;else for(w=B.length-1;w>=0;w--)if(R=B[w],R.active===S){if(D++,D===x)break}else R=null;return R?(typeof C=="number"&&(R.x=C),typeof E=="number"&&(R.y=E),R):T?this.create(C,E,P,M,L):null},get:function(p,x,S,T,C){return this.getFirst(!1,!0,p,x,S,T,C)},getFirstAlive:function(p,x,S,T,C,E){return this.getFirst(!0,p,x,S,T,C,E)},getFirstDead:function(p,x,S,T,C,E){return this.getFirst(!1,p,x,S,T,C,E)},playAnimation:function(p,x){return u.PlayAnimation(this.children.entries,p,x),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(p){p===void 0&&(p=!0);for(var x=0,S=0;S<this.children.size;S++)this.children.entries[S].active===p&&x++;return x},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var p=this.getTotalUsed(),x=this.maxSize===-1?999999999999:this.maxSize;return x-p},setActive:function(p){return this.active=p,this},setName:function(p){return this.name=p,this},propertyValueSet:function(p,x,S,T,C){return u.PropertyValueSet(this.children.entries,p,x,S,T,C),this},propertyValueInc:function(p,x,S,T,C){return u.PropertyValueInc(this.children.entries,p,x,S,T,C),this},setX:function(p,x){return u.SetX(this.children.entries,p,x),this},setY:function(p,x){return u.SetY(this.children.entries,p,x),this},setXY:function(p,x,S,T){return u.SetXY(this.children.entries,p,x,S,T),this},incX:function(p,x){return u.IncX(this.children.entries,p,x),this},incY:function(p,x){return u.IncY(this.children.entries,p,x),this},incXY:function(p,x,S,T){return u.IncXY(this.children.entries,p,x,S,T),this},shiftPosition:function(p,x,S){return u.ShiftPosition(this.children.entries,p,x,S),this},angle:function(p,x){return u.Angle(this.children.entries,p,x),this},rotate:function(p,x){return u.Rotate(this.children.entries,p,x),this},rotateAround:function(p,x){return u.RotateAround(this.children.entries,p,x),this},rotateAroundDistance:function(p,x,S){return u.RotateAroundDistance(this.children.entries,p,x,S),this},setAlpha:function(p,x){return u.SetAlpha(this.children.entries,p,x),this},setTint:function(p,x,S,T){return u.SetTint(this.children.entries,p,x,S,T),this},setOrigin:function(p,x,S,T){return u.SetOrigin(this.children.entries,p,x,S,T),this},scaleX:function(p,x){return u.ScaleX(this.children.entries,p,x),this},scaleY:function(p,x){return u.ScaleY(this.children.entries,p,x),this},scaleXY:function(p,x,S,T){return u.ScaleXY(this.children.entries,p,x,S,T),this},setDepth:function(p,x){return u.SetDepth(this.children.entries,p,x),this},setBlendMode:function(p){return u.SetBlendMode(this.children.entries,p),this},setHitArea:function(p,x){return u.SetHitArea(this.children.entries,p,x),this},shuffle:function(){return u.Shuffle(this.children.entries),this},kill:function(p){this.children.contains(p)&&p.setActive(!1)},killAndHide:function(p){this.children.contains(p)&&(p.setActive(!1),p.setVisible(!1))},setVisible:function(p,x,S){return u.SetVisible(this.children.entries,p,x,S),this},toggleVisible:function(){return u.ToggleVisible(this.children.entries),this},destroy:function(p,x){p===void 0&&(p=!1),x===void 0&&(x=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(a.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(x,p),this.scene=void 0,this.children=void 0)}});v.exports=d},61295:(v,y,t)=>{var u=t(99325),c=t(59192);u.register("group",function(a){return new c(this.scene,null,a)})},62598:(v,y,t)=>{var u=t(59192),c=t(61286);c.register("group",function(a,s){return this.updateList.add(new u(this.scene,a,s))})},1539:(v,y,t)=>{var u=t(56694),c=t(64937),a=t(89980),s=t(57322),r=new u({Extends:a,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Size,c.TextureCrop,c.Tint,c.Transform,c.Visible,s],initialize:function(i,l,n,o,f){a.call(this,i,"Image"),this._crop=this.resetCropObject(),this.setTexture(o,f),this.setPosition(l,n),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});v.exports=r},57786:v=>{var y=function(t,u,c,a){c.addToRenderList(u),t.batchSprite(u,u.frame,c,a)};v.exports=y},83556:(v,y,t)=>{var u=t(88933),c=t(99325),a=t(20494),s=t(1539);c.register("image",function(r,e){r===void 0&&(r={});var i=a(r,"key",null),l=a(r,"frame",null),n=new s(this.scene,0,0,i,l);return e!==void 0&&(r.add=e),u(this.scene,n,r),n})},20927:(v,y,t)=>{var u=t(1539),c=t(61286);c.register("image",function(a,s,r,e){return this.displayList.add(new u(this.scene,a,s,r,e))})},57322:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(59390),a=t(57786),v.exports={renderWebGL:c,renderCanvas:a}},59390:v=>{var y=function(t,u,c,a){c.addToRenderList(u),this.pipeline.batchSprite(u,c,a)};v.exports=y},48013:(v,y,t)=>{var u={Events:t(56631),DisplayList:t(91713),GameObjectCreator:t(99325),GameObjectFactory:t(61286),UpdateList:t(92034),Components:t(64937),GetCalcMatrix:t(73329),BuildGameObject:t(88933),BuildGameObjectAnimation:t(32291),GameObject:t(89980),BitmapText:t(44616),Blitter:t(52816),Bob:t(41664),Container:t(70339),DOMElement:t(38943),DynamicBitmapText:t(13468),Extern:t(39419),Graphics:t(33182),Group:t(59192),Image:t(1539),Layer:t(85305),Particles:t(27684),PathFollower:t(29598),RenderTexture:t(15996),RetroFont:t(55873),Rope:t(79968),Sprite:t(13747),Text:t(76555),GetTextSize:t(32979),MeasureText:t(27030),TextStyle:t(74744),TileSprite:t(35856),Zone:t(71030),Video:t(8630),Shape:t(91461),Arc:t(28593),Curve:t(15220),Ellipse:t(28591),Grid:t(39169),IsoBox:t(4415),IsoTriangle:t(65159),Line:t(579),Polygon:t(91249),Rectangle:t(517),Star:t(77843),Triangle:t(21873),Factories:{Blitter:t(38906),Container:t(23400),DOMElement:t(66788),DynamicBitmapText:t(94145),Extern:t(41155),Graphics:t(13122),Group:t(62598),Image:t(20927),Layer:t(17676),Particles:t(81212),PathFollower:t(19626),RenderTexture:t(29599),Rope:t(31982),Sprite:t(66135),StaticBitmapText:t(21797),Text:t(94627),TileSprite:t(20509),Zone:t(34546),Video:t(215),Arc:t(10369),Curve:t(10147),Ellipse:t(99869),Grid:t(9326),IsoBox:t(88154),IsoTriangle:t(67765),Line:t(85665),Polygon:t(88203),Rectangle:t(94355),Star:t(23962),Triangle:t(79296)},Creators:{Blitter:t(68452),Container:t(44516),DynamicBitmapText:t(67513),Graphics:t(41286),Group:t(61295),Image:t(83556),Layer:t(56378),Particles:t(765),RenderTexture:t(85692),Rope:t(96027),Sprite:t(89219),StaticBitmapText:t(95499),Text:t(75397),TileSprite:t(63950),Zone:t(24067),Video:t(65601)}};u.Shader=t(27902),u.Mesh=t(83321),u.NineSlice=t(44139),u.PointLight=t(13171),u.Plane=t(33412),u.Factories.Shader=t(51979),u.Factories.Mesh=t(8767),u.Factories.NineSlice=t(53778),u.Factories.PointLight=t(91201),u.Factories.Plane=t(58322),u.Creators.Shader=t(13908),u.Creators.Mesh=t(41839),u.Creators.NineSlice=t(40964),u.Creators.PointLight=t(162),u.Creators.Plane=t(10912),u.Light=t(14455),u.LightsManager=t(26193),u.LightsPlugin=t(50296),v.exports=u},85305:(v,y,t)=>{var u=t(95723),c=t(56694),a=t(64937),s=t(48129),r=t(81078),e=t(6659),i=t(56631),l=t(71207),n=t(58010),o=t(7599),f=t(17922),h=new c({Extends:l,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Mask,a.PostPipeline,a.Visible,e,n],initialize:function(p,x){l.call(this,p),e.call(this),this.scene=p,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=p.sys,this.events=p.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(u.SKIP_CHECK),x&&this.add(x),p.sys.queueDepthSort()},setActive:function(d){return this.active=d,this},setName:function(d){return this.name=d,this},setState:function(d){return this.state=d,this},setDataEnabled:function(){return this.data||(this.data=new r(this)),this},setData:function(d,p){return this.data||(this.data=new r(this)),this.data.set(d,p),this},incData:function(d,p){return this.data||(this.data=new r(this)),this.data.inc(d,p),this},toggleData:function(d){return this.data||(this.data=new r(this)),this.data.toggle(d),this},getData:function(d){return this.data||(this.data=new r(this)),this.data.get(d)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return s(this)},willRender:function(d){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&d.id)},getIndexList:function(){for(var d=this,p=this.parentContainer,x=[];p&&(x.unshift(p.getIndex(d)),d=p,p.parentContainer);)p=p.parentContainer;return x.unshift(this.displayList.getIndex(d)),x},addChildCallback:function(d){d.displayList&&d.displayList!==this&&d.removeFromDisplayList(),d.displayList||(this.queueDepthSort(),d.displayList=this,d.emit(i.ADDED_TO_SCENE,d,this.scene),this.events.emit(o.ADDED_TO_SCENE,d,this.scene))},removeChildCallback:function(d){this.queueDepthSort(),d.displayList=null,d.emit(i.REMOVED_FROM_SCENE,d,this.scene),this.events.emit(o.REMOVED_FROM_SCENE,d,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(f(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(d,p){return d._depth-p._depth},getChildren:function(){return this.list},addToDisplayList:function(d){return d===void 0&&(d=this.scene.sys.displayList),this.displayList&&this.displayList!==d&&this.removeFromDisplayList(),d.exists(this)||(this.displayList=d,d.add(this,!0),d.queueDepthSort(),this.emit(i.ADDED_TO_SCENE,this,this.scene),d.events.emit(o.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var d=this.displayList||this.scene.sys.displayList;return d.exists(this)&&(d.remove(this,!0),d.queueDepthSort(),this.displayList=null,this.emit(i.REMOVED_FROM_SCENE,this,this.scene),d.events.emit(o.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(d){if(!(!this.scene||this.ignoreDestroy)){this.emit(i.DESTROY,this);for(var p=this.list;p.length;)p[0].destroy(d);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});v.exports=h},834:v=>{var y=function(t,u,c){var a=u.list;if(a.length!==0){u.depthSort();var s=u.blendMode!==-1;s||t.setBlendMode(0);var r=u._alpha;u.mask&&u.mask.preRenderCanvas(t,null,c);for(var e=0;e<a.length;e++){var i=a[e];if(i.willRender(c)){var l=i.alpha;!s&&i.blendMode!==t.currentBlendMode&&t.setBlendMode(i.blendMode),i.setAlpha(l*r),i.renderCanvas(t,i,c),i.setAlpha(l)}}u.mask&&u.mask.postRenderCanvas(t)}};v.exports=y},56378:(v,y,t)=>{var u=t(88933),c=t(85305),a=t(99325),s=t(20494);a.register("layer",function(r,e){r===void 0&&(r={});var i=s(r,"children",null),l=new c(this.scene,i);return e!==void 0&&(r.add=e),u(this.scene,l,r),l})},17676:(v,y,t)=>{var u=t(85305),c=t(61286);c.register("layer",function(a){return this.displayList.add(new u(this.scene,a))})},58010:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(17576),a=t(834),v.exports={renderWebGL:c,renderCanvas:a}},17576:v=>{var y=function(t,u,c){var a=u.list,s=a.length;if(s!==0){u.depthSort(),t.pipelines.preBatch(u);var r=u.blendMode!==-1;r||t.setBlendMode(0);for(var e=u.alpha,i=0;i<s;i++){var l=a[i];if(l.willRender(c)){var n,o,f,h;if(l.alphaTopLeft!==void 0)n=l.alphaTopLeft,o=l.alphaTopRight,f=l.alphaBottomLeft,h=l.alphaBottomRight;else{var d=l.alpha;n=d,o=d,f=d,h=d}!r&&l.blendMode!==t.currentBlendMode&&t.setBlendMode(l.blendMode);var p=l.mask;p&&p.preRenderWebGL(t,l,c);var x=l.type;x!==t.currentType&&(t.newType=!0,t.currentType=x),t.nextTypeMatch=i<s-1?a[i+1].type===t.currentType:!1,l.setAlpha(n*e,o*e,f*e,h*e),l.renderWebGL(t,l,c),l.setAlpha(n,o,f,h),p&&p.postRenderWebGL(t,c),t.newType=!1}}t.pipelines.postBatch(u)}};v.exports=y},14455:(v,y,t)=>{var u=t(26673),c=t(56694),a=t(64937),s=t(39298),r=t(75512),e=new c({Extends:u,Mixins:[a.Origin,a.ScrollFactor,a.Transform,a.Visible],initialize:function(l,n,o,f,h,d,p){u.call(this,l,n,o),this.color=new s(f,h,d),this.intensity=p,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(o)},displayWidth:{get:function(){return this.diameter},set:function(i){this.diameter=i}},displayHeight:{get:function(){return this.diameter},set:function(i){this.diameter=i}},width:{get:function(){return this.diameter},set:function(i){this.diameter=i}},height:{get:function(){return this.diameter},set:function(i){this.diameter=i}},willRender:function(i){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&i.id)},setColor:function(i){var l=r.getFloatsFromUintRGB(i);return this.color.set(l[0],l[1],l[2]),this},setIntensity:function(i){return this.intensity=i,this},setRadius:function(i){return this.radius=i,this}});e.RENDER_MASK=15,v.exports=e},26193:(v,y,t)=>{var u=t(26535),c=t(56694),a=t(53996),s=t(14455),r=t(13171),e=t(39298),i=t(72677),l=t(17922),n=t(75512),o=new c({initialize:function(){this.lights=[],this.ambientColor=new e(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(f,h,d,p,x,S){return this.systems.displayList.add(new r(this.scene,f,h,d,p,x,S))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(f){for(var h=this.lights,d=f.worldView,p=[],x=0;x<h.length;x++){var S=h[x];S.willRender(f)&&u(S,d)&&p.push({light:S,distance:a(S.x,S.y,d.centerX,d.centerY)})}return p.length>this.maxLights&&(l(p,this.sortByDistance),p=p.slice(0,this.maxLights)),this.visibleLights=p.length,p},sortByDistance:function(f,h){return f.distance>=h.distance},setAmbientColor:function(f){var h=n.getFloatsFromUintRGB(f);return this.ambientColor.set(h[0],h[1],h[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(f,h,d,p,x){f===void 0&&(f=0),h===void 0&&(h=0),d===void 0&&(d=128),p===void 0&&(p=16777215),x===void 0&&(x=1);var S=n.getFloatsFromUintRGB(p),T=new s(f,h,d,S[0],S[1],S[2],x);return this.lights.push(T),T},removeLight:function(f){var h=this.lights.indexOf(f);return h>=0&&i(this.lights,h),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});v.exports=o},50296:(v,y,t)=>{var u=t(56694),c=t(26193),a=t(91963),s=t(7599),r=new u({Extends:c,initialize:function(i){this.scene=i,this.systems=i.sys,i.sys.settings.isBooted||i.sys.events.once(s.BOOT,this.boot,this),c.call(this)},boot:function(){var e=this.systems.events;e.on(s.SHUTDOWN,this.shutdown,this),e.on(s.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});a.register("LightsPlugin",r,"lights"),v.exports=r},83321:(v,y,t)=>{var u=t(56694),c=t(64937),a=t(75606),s=t(18693),r=t(89980),e=t(53267),i=t(67623),l=t(73329),n=t(16650),o=t(23464),f=t(23701),h=t(17922),d=t(70015),p=t(85769),x=new u({Extends:r,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Size,c.Texture,c.Transform,c.Visible,o],initialize:function(T,C,E,P,M,L,R,w,D,B,z,V){C===void 0&&(C=0),E===void 0&&(E=0),P===void 0&&(P="__WHITE"),r.call(this,T,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new d,this.modelScale=new d(1,1,1),this.modelRotation=new d,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new n,this.viewPosition=new d,this.viewMatrix=new n,this.projectionMatrix=new n,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var Y=T.sys.renderer;this.setPosition(C,E),this.setTexture(P,M),this.setSize(Y.width,Y.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(Y.width,Y.height),L&&this.addVertices(L,R,w,D,B,z,V)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(S){return this.viewPosition.addScale(d.LEFT,S),this.dirtyCache[10]=1,this},panY:function(S){return this.viewPosition.y+=d.DOWN.y*S,this.dirtyCache[10]=1,this},panZ:function(S){return this.viewPosition.z+=S,this.dirtyCache[10]=1,this},setPerspective:function(S,T,C,E,P){return C===void 0&&(C=45),E===void 0&&(E=.01),P===void 0&&(P=1e3),this.fov=C,this.projectionMatrix.perspective(a(C),S/T,E,P),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(S,T,C,E){return S===void 0&&(S=this.scene.sys.renderer.getAspectRatio()),T===void 0&&(T=1),C===void 0&&(C=-1e3),E===void 0&&(E=1e3),this.fov=0,this.projectionMatrix.ortho(-S,S,-T,T,C,E),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(S){S.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(S,T,C,E,P,M,L,R,w){var D=this.scene.sys.cache.obj.get(S),B;return D&&(B=e(D,this,T,C,E,P,M,L,R,w)),(!B||B.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",S),this},sortByDepth:function(S,T){return S.depth-T.depth},depthSort:function(){return h(this.faces,this.sortByDepth),this},addVertex:function(S,T,C,E,P,M,L){var R=new p(S,T,C,E,P,M,L);return this.vertices.push(R),R},addFace:function(S,T,C){var E=new s(S,T,C);return this.faces.push(E),this.dirtyCache[9]=-1,E},addVertices:function(S,T,C,E,P,M,L){var R=i(S,T,C,E,P,M,L);return R?(this.faces=this.faces.concat(R.faces),this.vertices=this.vertices.concat(R.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(S){return this.faces[S]},hasFaceAt:function(S,T,C){C===void 0&&(C=this.scene.sys.cameras.main);for(var E=l(this,C).calc,P=this.faces,M=0;M<P.length;M++){var L=P[M];if(L.contains(S,T,E))return!0}return!1},getFaceAt:function(S,T,C){C===void 0&&(C=this.scene.sys.cameras.main);for(var E=l(this,C).calc,P=this.faces,M=[],L=0;L<P.length;L++){var R=P[L];R.contains(S,T,E)&&M.push(R)}return h(M,this.sortByDepth)},setDebug:function(S,T){return this.debugGraphic=S,!S&&!T?this.debugCallback=null:T?this.debugCallback=T:this.debugCallback=this.renderDebug,this},isDirty:function(){var S=this.modelPosition,T=this.modelRotation,C=this.modelScale,E=this.dirtyCache,P=S.x,M=S.y,L=S.z,R=T.x,w=T.y,D=T.z,B=C.x,z=C.y,V=C.z,Y=this.getFaceCount(),H=E[0],I=E[1],U=E[2],O=E[3],N=E[4],G=E[5],X=E[6],W=E[7],b=E[8],K=E[9];return E[0]=P,E[1]=M,E[2]=L,E[3]=R,E[4]=w,E[5]=D,E[6]=B,E[7]=z,E[8]=V,E[9]=Y,H!==P||I!==M||U!==L||O!==R||N!==w||G!==D||X!==B||W!==z||b!==V||K!==Y},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var S=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!S[10]&&!this.isDirty())){var T=this.width,C=this.height,E=this.viewMatrix,P=this.viewPosition;S[10]&&(E.identity(),E.translate(P),E.invert(),S[10]=0);var M=this.transformMatrix;M.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var L=P.z,R=this.faces,w=0;w<R.length;w++)R[w].transformCoordinatesLocal(M,T,C,L);this.depthSort()}},renderDebug:function(S,T){for(var C=S.debugGraphic,E=0;E<T.length;E++){var P=T[E],M=P.vertex1.tx,L=P.vertex1.ty,R=P.vertex2.tx,w=P.vertex2.ty,D=P.vertex3.tx,B=P.vertex3.ty;C.strokeTriangle(M,L,R,w,D,B)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(){var S=this.faces,T=function(C,E,P){for(var M=0;M<S.length;M++){var L=S[M];if(L.contains(E,P))return!0}return!1};return this.scene.sys.input.enable(this,T),this},setTint:function(S){S===void 0&&(S=16777215);for(var T=this.vertices,C=0;C<T.length;C++)T[C].color=S;return this},uvScroll:function(S,T){for(var C=this.faces,E=0;E<C.length;E++)C[E].scrollUV(S,T);return this},uvScale:function(S,T){for(var C=this.faces,E=0;E<C.length;E++)C[E].scaleUV(S,T);return this},tint:{set:function(S){this.setTint(S)}},rotateX:{get:function(){return f(this.modelRotation.x)},set:function(S){this.modelRotation.x=a(S)}},rotateY:{get:function(){return f(this.modelRotation.y)},set:function(S){this.modelRotation.y=a(S)}},rotateZ:{get:function(){return f(this.modelRotation.z)},set:function(S){this.modelRotation.z=a(S)}}});v.exports=x},6317:v=>{var y=function(){};v.exports=y},41839:(v,y,t)=>{var u=t(88933),c=t(99325),a=t(20494),s=t(10850),r=t(83321);c.register("mesh",function(e,i){e===void 0&&(e={});var l=a(e,"key",null),n=a(e,"frame",null),o=s(e,"vertices",[]),f=s(e,"uvs",[]),h=s(e,"indicies",[]),d=s(e,"containsZ",!1),p=s(e,"normals",[]),x=s(e,"colors",16777215),S=s(e,"alphas",1),T=new r(this.scene,0,0,l,n,o,f,h,d,p,x,S);return i!==void 0&&(e.add=i),u(this.scene,T,e),T})},8767:(v,y,t)=>{var u=t(83321),c=t(61286);c.register("mesh",function(a,s,r,e,i,l,n,o,f,h,d){return this.displayList.add(new u(this.scene,a,s,r,e,i,l,n,o,f,h,d))})},23464:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(57410),a=t(6317),v.exports={renderWebGL:c,renderCanvas:a}},57410:(v,y,t)=>{var u=t(73329),c=function(a,s,r,e){var i=s.faces,l=i.length;if(l!==0){r.addToRenderList(s);var n=a.pipelines.set(s.pipeline,s),o=u(s,r,e).calc;a.pipelines.preBatch(s);for(var f=n.setGameObject(s),h=n.vertexViewF32,d=n.vertexViewU32,p=n.vertexCount*n.currentShader.vertexComponentCount-1,x=s.tintFill,S=[],T=s.debugCallback,C=o.a,E=o.b,P=o.c,M=o.d,L=o.e,R=o.f,w=s.viewPosition.z,D=s.hideCCW,B=r.roundPixels,z=r.alpha*s.alpha,V=0,Y=0;Y<l;Y++){var H=i[Y];H.isInView(r,D,w,z,C,E,P,M,L,R,B)&&(n.shouldFlush(3)&&(n.flush(),f=n.setGameObject(s),p=0),p=H.load(h,d,p,f,x),V++,n.vertexCount+=3,n.currentBatch.count=n.vertexCount-n.currentBatch.start,T&&S.push(H))}s.totalFrame+=V,T&&T.call(s,s,S),a.pipelines.postBatch(s)}};v.exports=c},44139:(v,y,t)=>{var u=t(56694),c=t(64937),a=t(89980),s=t(94456),r=t(85769),e=new u({Extends:a,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Texture,c.Transform,c.Visible,s],initialize:function(l,n,o,f,h,d,p,x,S,T,C){d===void 0&&(d=256),p===void 0&&(p=256),x===void 0&&(x=10),S===void 0&&(S=10),T===void 0&&(T=0),C===void 0&&(C=0),a.call(this,l,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1,this.is3Slice=T===0&&C===0;for(var E=this.is3Slice?18:54,P=0;P<E;P++)this.vertices.push(new r);this.setPosition(n,o),this.setTexture(f,h),this.setSlices(d,p,x,S,T,C),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline()},setSlices:function(i,l,n,o,f,h){i===void 0&&(i=256),l===void 0&&(l=256),n===void 0&&(n=10),o===void 0&&(o=10),f===void 0&&(f=0),h===void 0&&(h=0);var d=f===0&&h===0;return this.is3Slice!==d?console.warn("Cannot change 9 slice to 3 slice"):(this._width=i,this._height=l,this.leftWidth=n,this.rightWidth=o,this.topHeight=f,this.bottomHeight=h,this.is3Slice&&(l=this.frame.height,this._height=l,this.topHeight=l,this.bottomHeight=0),this.updateVertices(),this.updateUVs()),this},updateUVs:function(){var i=this.leftWidth,l=this.rightWidth,n=this.topHeight,o=this.bottomHeight,f=this.frame.width,h=this.frame.height;this.updateQuadUVs(0,0,0,i/f,n/h),this.updateQuadUVs(6,i/f,0,1-l/f,n/h),this.updateQuadUVs(12,1-l/f,0,1,n/h),this.is3Slice||(this.updateQuadUVs(18,0,n/h,i/f,1-o/h),this.updateQuadUVs(24,i/f,n/h,1-l/f,1-o/h),this.updateQuadUVs(30,1-l/f,n/h,1,1-o/h),this.updateQuadUVs(36,0,1-o/h,i/f,1),this.updateQuadUVs(42,i/f,1-o/h,1-l/f,1),this.updateQuadUVs(48,1-l/f,1-o/h,1,1))},updateVertices:function(){var i=this.leftWidth,l=this.rightWidth,n=this.topHeight,o=this.bottomHeight,f=this.width,h=this.height;this.updateQuad(0,-.5,.5,-.5+i/f,.5-n/h),this.updateQuad(6,-.5+i/f,.5,.5-l/f,.5-n/h),this.updateQuad(12,.5-l/f,.5,.5,.5-n/h),this.is3Slice||(this.updateQuad(18,-.5,.5-n/h,-.5+i/f,-.5+o/h),this.updateQuad(24,-.5+i/f,.5-n/h,.5-l/f,-.5+o/h),this.updateQuad(30,.5-l/f,.5-n/h,.5,-.5+o/h),this.updateQuad(36,-.5,-.5+o/h,-.5+i/f,-.5),this.updateQuad(42,-.5+i/f,-.5+o/h,.5-l/f,-.5),this.updateQuad(48,.5-l/f,-.5+o/h,.5,-.5))},updateQuad:function(i,l,n,o,f){var h=this.width,d=this.height,p=this.originX,x=this.originY,S=this.vertices;S[i+0].resize(l,n,h,d,p,x),S[i+1].resize(l,f,h,d,p,x),S[i+2].resize(o,n,h,d,p,x),S[i+3].resize(l,f,h,d,p,x),S[i+4].resize(o,f,h,d,p,x),S[i+5].resize(o,n,h,d,p,x)},updateQuadUVs:function(i,l,n,o,f){var h=this.vertices,d=this.frame,p=d.u0,x=d.v0,S=d.u1,T=d.v1;if(p!==0||S!==1){var C=S-p;l=p+l*C,o=p+o*C}if(x!==0||T!==1){var E=T-x;n=x+n*E,f=x+f*E}h[i+0].setUVs(l,n),h[i+1].setUVs(l,f),h[i+2].setUVs(o,n),h[i+3].setUVs(l,f),h[i+4].setUVs(o,f),h[i+5].setUVs(o,n)},clearTint:function(){return this.setTint(16777215),this},setTint:function(i){return i===void 0&&(i=16777215),this.tint=i,this.tintFill=!1,this},setTintFill:function(i){return this.setTint(i),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(i){this._width=Math.max(i,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(i){this.is3Slice||(this._height=Math.max(i,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(i){this.scaleX=i/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(i){this.scaleY=i/this.height}},setSize:function(i,l){this.width=i,this.height=l;var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=this.width,n.hitArea.height=this.height),this},setDisplaySize:function(i,l){return this.displayWidth=i,this.displayHeight=l,this},originX:{get:function(){return this._originX},set:function(i){this._originX=i,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(i){this._originY=i,this.updateVertices()}},setOrigin:function(i,l){return i===void 0&&(i=.5),l===void 0&&(l=i),this._originX=i,this._originY=l,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var i=this.frame.height;this._height=i,this.topHeight=i,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});v.exports=e},40964:(v,y,t)=>{var u=t(88933),c=t(99325),a=t(20494),s=t(10850),r=t(44139);c.register("nineslice",function(e,i){e===void 0&&(e={});var l=a(e,"key",null),n=a(e,"frame",null),o=s(e,"width",256),f=s(e,"height",256),h=s(e,"leftWidth",10),d=s(e,"rightWidth",10),p=s(e,"topHeight",0),x=s(e,"bottomHeight",0),S=new r(this.scene,0,0,l,n,o,f,h,d,p,x);return i!==void 0&&(e.add=i),u(this.scene,S,e),S})},53778:(v,y,t)=>{var u=t(44139),c=t(61286);c.register("nineslice",function(a,s,r,e,i,l,n,o,f,h){return this.displayList.add(new u(this.scene,a,s,r,e,i,l,n,o,f,h))})},94456:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(27420),v.exports={renderWebGL:c,renderCanvas:a}},27420:(v,y,t)=>{var u=t(73329),c=t(75512),a=function(s,r,e,i){var l=r.vertices,n=l.length;if(n!==0){e.addToRenderList(r);var o=s.pipelines.set(r.pipeline,r),f=u(r,e,i,!1).calc;s.pipelines.preBatch(r);var h=o.setGameObject(r),d=o.vertexViewF32,p=o.vertexViewU32,x=o.vertexCount*o.currentShader.vertexComponentCount-1,S=e.roundPixels,T=r.tintFill,C=e.alpha*r.alpha,E=c.getTintAppendFloatAlpha(r.tint,C),P=o.vertexAvailable(),M=-1;P<n&&(M=P);for(var L=0;L<n;L++){var R=l[L];L===M&&(o.flush(),h=o.setGameObject(r),x=0),d[++x]=f.getXRound(R.vx,R.vy,S),d[++x]=f.getYRound(R.vx,R.vy,S),d[++x]=R.u,d[++x]=R.v,d[++x]=h,d[++x]=T,p[++x]=E,o.vertexCount++,o.currentBatch.count=o.vertexCount-o.currentBatch.start}s.pipelines.postBatch(r)}};v.exports=a},19737:(v,y,t)=>{var u=t(56694),c=t(93025),a=t(22946),s=t(21902),r=t(4840),e=t(15978),i=new u({Extends:c,initialize:function(n){c.call(this,n,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var l=this.propertyValue,n=l,o=this.defaultEmit,f=this.defaultUpdate;if(this.method===9){this.start=l[0],this.ease=s("Linear"),this.interpolation=r("linear"),o=this.easedValueEmit,f=this.easeValueUpdate,n=l[0],this.active=!0;for(var h=0;h<l.length;h++){var d=e(l[h]);this.r.push(d.r),this.g.push(d.g),this.b.push(d.b)}}return this.onEmit=o,this.onUpdate=f,this.current=n,this},setEase:function(l){this.easeName=l,this.ease=s(l)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(l,n,o){var f=this.ease(o),h=this.interpolation(this.r,f),d=this.interpolation(this.g,f),p=this.interpolation(this.b,f),x=a(h,d,p);return this.current=x,x}});v.exports=i},93025:(v,y,t)=>{var u=t(17489),c=t(82897),a=t(56694),s=t(61616),r=t(21902),e=t(72632),i=t(4840),l=t(88462),n=t(1071),o=new a({initialize:function(h,d,p){p===void 0&&(p=!1),this.propertyKey=h,this.propertyValue=d,this.defaultValue=d,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=p,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(f,h){f===void 0&&(f={}),h&&(this.propertyKey=h),this.propertyValue=e(f,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(f){var h;switch(this.method){case 1:case 3:case 8:h=f;break;case 2:this.propertyValue.indexOf(f)>=0&&(h=f);break;case 4:var d=(this.end-this.start)/this.steps;h=l(f,d),this.counter=h;break;case 5:case 6:case 7:h=c(f,this.start,this.end);break;case 9:h=this.start[0];break}return this.current=h,this},getMethod:function(){var f=this.propertyValue;if(f===null)return 0;var h=typeof f;if(h==="number")return 1;if(Array.isArray(f))return 2;if(h==="function")return 3;if(h==="object"){if(this.hasBoth(f,"start","end"))return this.has(f,"steps")?4:5;if(this.hasBoth(f,"min","max"))return 6;if(this.has(f,"random"))return 7;if(this.hasEither(f,"onEmit","onUpdate"))return 8;if(this.has(f,"interpolation"))return 9}return 0},setMethods:function(){var f=this.propertyValue,h=f,d=this.defaultEmit,p=this.defaultUpdate;switch(this.method){case 1:d=this.staticValueEmit;break;case 2:d=this.randomStaticValueEmit,h=f[0];break;case 3:this._onEmit=f,d=this.proxyEmit;break;case 4:this.start=f.start,this.end=f.end,this.steps=f.steps,this.counter=this.start,this.yoyo=this.has(f,"yoyo")?f.yoyo:!1,this.direction=0,d=this.steppedEmit,h=this.start;break;case 5:this.start=f.start,this.end=f.end;var x=this.has(f,"ease")?f.ease:"Linear";this.ease=r(x,f.easeParams),d=this.has(f,"random")&&f.random?this.randomRangedValueEmit:this.easedValueEmit,p=this.easeValueUpdate,h=this.start;break;case 6:this.start=f.min,this.end=f.max,d=this.has(f,"int")&&f.int?this.randomRangedIntEmit:this.randomRangedValueEmit,h=this.start;break;case 7:var S=f.random;Array.isArray(S)&&(this.start=S[0],this.end=S[1]),d=this.randomRangedIntEmit,h=this.start;break;case 8:this._onEmit=this.has(f,"onEmit")?f.onEmit:this.defaultEmit,this._onUpdate=this.has(f,"onUpdate")?f.onUpdate:this.defaultUpdate,d=this.proxyEmit,p=this.proxyUpdate;break;case 9:this.start=f.values;var T=this.has(f,"ease")?f.ease:"Linear";this.ease=r(T,f.easeParams),this.interpolation=i(f.interpolation),d=this.easedValueEmit,p=this.easeValueUpdate,h=this.start[0];break}return this.onEmit=d,this.onUpdate=p,this.current=h,this},has:function(f,h){return f.hasOwnProperty(h)},hasBoth:function(f,h,d){return f.hasOwnProperty(h)&&f.hasOwnProperty(d)},hasEither:function(f,h,d){return f.hasOwnProperty(h)||f.hasOwnProperty(d)},defaultEmit:function(f,h,d){return d},defaultUpdate:function(f,h,d,p){return p},proxyEmit:function(f,h,d){var p=this._onEmit(f,h,d);return this.current=p,p},proxyUpdate:function(f,h,d,p){var x=this._onUpdate(f,h,d,p);return this.current=x,x},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var f=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[f],this.current},randomRangedValueEmit:function(f,h){var d=s(this.start,this.end);return f&&f.data[h]&&(f.data[h].min=d,f.data[h].max=this.end),this.current=d,d},randomRangedIntEmit:function(f,h){var d=u(this.start,this.end);return f&&f.data[h]&&(f.data[h].min=d,f.data[h].max=this.end),this.current=d,d},steppedEmit:function(){var f=this.counter,h=f,d=(this.end-this.start)/this.steps;if(this.yoyo){var p;this.direction===0?(h+=d,h>=this.end&&(p=h-this.end,h=this.end-p,this.direction=1)):(h-=d,h<=this.start&&(p=this.start-h,h=this.start+p,this.direction=0)),this.counter=h}else this.counter=n(h+d,this.start,this.end);return this.current=f,f},easedValueEmit:function(f,h){if(f&&f.data[h]){var d=f.data[h];d.min=this.start,d.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(f,h,d){var p=f.data[h],x,S=this.ease(d);return this.interpolation?x=this.interpolation(this.start,S):x=(p.max-p.min)*S+p.min,this.current=x,x},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});v.exports=o},87811:(v,y,t)=>{var u=t(56694),c=t(72632),a=t(30891),s=new u({Extends:a,initialize:function(e,i,l,n,o){if(typeof e=="object"){var f=e;e=c(f,"x",0),i=c(f,"y",0),l=c(f,"power",0),n=c(f,"epsilon",100),o=c(f,"gravity",50)}else e===void 0&&(e=0),i===void 0&&(i=0),l===void 0&&(l=0),n===void 0&&(n=100),o===void 0&&(o=50);a.call(this,e,i,!0),this._gravity=o,this._power=l*o,this._epsilon=n*n},update:function(r,e){var i=this.x-r.x,l=this.y-r.y,n=i*i+l*l;if(n!==0){var o=Math.sqrt(n);n<this._epsilon&&(n=this._epsilon);var f=this._power*e/(n*o)*100;r.velocityX+=i*f,r.velocityY+=l*f}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(r){this._epsilon=r*r}},power:{get:function(){return this._power/this._gravity},set:function(r){this._power=r*this._gravity}},gravity:{get:function(){return this._gravity},set:function(r){var e=this.power;this._gravity=r,this.power=e}}});v.exports=s},14909:(v,y,t)=>{var u=t(16569),c=t(82897),a=t(56694),s=t(75606),r=t(74118),e=t(2386),i=t(93736),l=new a({initialize:function(o){this.emitter=o,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new i,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=o.scene,this.anims=new u(this),this.bounds=new r},emit:function(n,o,f,h,d,p){return this.emitter.emit(n,o,f,h,d,p)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(n,o){n===void 0&&(n=0),o===void 0&&(o=0),this.x=n,this.y=o},fire:function(n,o){var f=this.emitter,h=f.ops,d=f.getAnim();if(d?this.anims.play(d):(this.frame=f.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(f.getEmitZone(this),n===void 0?this.x+=h.x.onEmit(this,"x"):h.x.steps>0?this.x+=n+h.x.onEmit(this,"x"):this.x+=n,o===void 0?this.y+=h.y.onEmit(this,"y"):h.y.steps>0?this.y+=o+h.y.onEmit(this,"y"):this.y+=o,this.life=h.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=h.delay.onEmit(this,"delay"),this.holdCurrent=h.hold.onEmit(this,"hold"),this.scaleX=h.scaleX.onEmit(this,"scaleX"),this.scaleY=h.scaleY.active?h.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=h.rotate.onEmit(this,"rotate"),this.rotation=s(this.angle),f.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&f.getDeathZone(this))return this.lifeCurrent=0,!1;var p=h.speedX.onEmit(this,"speedX"),x=h.speedY.active?h.speedY.onEmit(this,"speedY"):p;if(f.radial){var S=s(h.angle.onEmit(this,"angle"));this.velocityX=Math.cos(S)*Math.abs(p),this.velocityY=Math.sin(S)*Math.abs(x)}else if(f.moveTo){var T=h.moveToX.onEmit(this,"moveToX"),C=h.moveToY.onEmit(this,"moveToY"),E=this.life/1e3;this.velocityX=(T-this.x)/E,this.velocityY=(C-this.y)/E}else this.velocityX=p,this.velocityY=x;return f.acceleration&&(this.accelerationX=h.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=h.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=h.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=h.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=h.bounce.onEmit(this,"bounce"),this.alpha=h.alpha.onEmit(this,"alpha"),h.color.active?this.tint=h.color.onEmit(this,"tint"):this.tint=h.tint.onEmit(this,"tint"),!0},update:function(n,o,f){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=n,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=n,!1;this.anims.update(0,n);var h=this.emitter,d=h.ops,p=1-this.lifeCurrent/this.life;if(this.lifeT=p,this.x=d.x.onUpdate(this,"x",p,this.x),this.y=d.y.onUpdate(this,"y",p,this.y),h.moveTo){var x=d.moveToX.onUpdate(this,"moveToX",p,h.moveToX),S=d.moveToY.onUpdate(this,"moveToY",p,h.moveToY),T=this.lifeCurrent/1e3;this.velocityX=(x-this.x)/T,this.velocityY=(S-this.y)/T}return this.computeVelocity(h,n,o,f,p),this.scaleX=d.scaleX.onUpdate(this,"scaleX",p,this.scaleX),this.scaleY=this.scaleX,d.scaleY.active&&(this.scaleY=d.scaleY.onUpdate(this,"scaleY",p,this.scaleY)),this.angle=d.rotate.onUpdate(this,"rotate",p,this.angle),this.rotation=s(this.angle),h.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=d.alpha.onUpdate(this,"alpha",p,this.alpha),d.color.active?this.tint=d.color.onUpdate(this,"color",p,this.tint):this.tint=d.tint.onUpdate(this,"tint",p,this.tint),this.lifeCurrent-=n,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(n,o,f,h,d){var p=n.ops,x=this.velocityX,S=this.velocityY,T=p.accelerationX.onUpdate(this,"accelerationX",d,this.accelerationX),C=p.accelerationY.onUpdate(this,"accelerationY",d,this.accelerationY),E=p.maxVelocityX.onUpdate(this,"maxVelocityX",d,this.maxVelocityX),P=p.maxVelocityY.onUpdate(this,"maxVelocityY",d,this.maxVelocityY);this.bounce=p.bounce.onUpdate(this,"bounce",d,this.bounce),x+=n.gravityX*f+T*f,S+=n.gravityY*f+C*f,x=c(x,-E,E),S=c(S,-P,P),this.velocityX=x,this.velocityY=S,this.x+=x*f,this.y+=S*f,n.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var M=0;M<h.length;M++){var L=h[M];L.active&&L.update(this,o,f,d)}},setSizeToFrame:function(){},getBounds:function(n){n===void 0&&(n=this.emitter.getWorldTransformMatrix());var o=Math.abs(n.scaleX)*this.scaleX,f=Math.abs(n.scaleY)*this.scaleY,h=this.x,d=this.y,p=this.rotation,x=this.frame.width*o/2,S=this.frame.height*f/2,T=this.bounds,C=new i(h-x,d-S),E=new i(h+x,d-S),P=new i(h-x,d+S),M=new i(h+x,d+S);return p!==0&&(e(C,h,d,p),e(E,h,d,p),e(P,h,d,p),e(M,h,d,p)),n.transformPoint(C.x,C.y,C),n.transformPoint(E.x,E.y,E),n.transformPoint(P.x,P.y,P),n.transformPoint(M.x,M.y,M),T.x=Math.min(C.x,E.x,P.x,M.x),T.y=Math.min(C.y,E.y,P.y,M.y),T.width=Math.max(C.x,E.x,P.x,M.x)-T.x,T.height=Math.max(C.y,E.y,P.y,M.y)-T.y,T},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});v.exports=l},73106:(v,y,t)=>{var u=t(56694),c=t(30891),a=t(74118),s=new u({Extends:c,initialize:function(e,i,l,n,o,f,h,d){o===void 0&&(o=!0),f===void 0&&(f=!0),h===void 0&&(h=!0),d===void 0&&(d=!0),c.call(this,e,i,!0),this.bounds=new a(e,i,l,n),this.collideLeft=o,this.collideRight=f,this.collideTop=h,this.collideBottom=d},update:function(r){var e=this.bounds,i=-r.bounce,l=r.worldPosition;l.x<e.x&&this.collideLeft?(r.x+=e.x-l.x,r.velocityX*=i):l.x>e.right&&this.collideRight&&(r.x-=l.x-e.right,r.velocityX*=i),l.y<e.y&&this.collideTop?(r.y+=e.y-l.y,r.velocityY*=i):l.y>e.bottom&&this.collideBottom&&(r.y-=l.y-e.bottom,r.velocityY*=i)}});v.exports=s},9216:(v,y,t)=>{var u=t(56694),c=t(64937),a=t(48129),s=t(29538),r=t(69361),e=t(54213),i=t(19737),l=t(93025),n=t(40629),o=t(89980),f=t(72632),h=t(72861),d=t(87811),p=t(53523),x=t(19256),S=t(7782),T=t(71207),C=t(14655),E=t(14909),P=t(68433),M=t(74118),L=t(90205),R=t(66458),w=t(69116),D=t(17922),B=t(69360),z=t(93736),V=t(1071),Y=t(73106),H=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],I=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],U=new u({Extends:o,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Texture,c.Transform,c.Visible,w],initialize:function(N,G,X,W,b){o.call(this,N,"ParticleEmitter"),this.particleClass=E,this.ops={accelerationX:new l("accelerationX",0),accelerationY:new l("accelerationY",0),alpha:new l("alpha",1),angle:new l("angle",{min:0,max:360},!0),bounce:new l("bounce",0),color:new i("color"),delay:new l("delay",0,!0),hold:new l("hold",0,!0),lifespan:new l("lifespan",1e3,!0),maxVelocityX:new l("maxVelocityX",1e4),maxVelocityY:new l("maxVelocityY",1e4),moveToX:new l("moveToX",0),moveToY:new l("moveToY",0),quantity:new l("quantity",1,!0),rotate:new l("rotate",0),scaleX:new l("scaleX",1),scaleY:new l("scaleY",1),speedX:new l("speedX",0,!0),speedY:new l("speedY",0,!0),tint:new l("tint",16777215),x:new l("x",0),y:new l("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new z,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new B,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new T(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(G,X),this.setTexture(W),b&&this.setConfig(b)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(O){if(!O)return this;var N=0,G="",X=this.ops;for(N=0;N<I.length;N++)G=I[N],X[G].loadConfig(O);for(N=0;N<H.length;N++)G=H[N],x(O,G)&&(this[G]=f(O,G));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,x(O,"speed")&&(X.speedX.loadConfig(O,"speed"),X.speedY.active=!1),(p(O,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),x(O,"scale")&&(X.scaleX.loadConfig(O,"scale"),X.scaleY.active=!1),x(O,"callbackScope")){var W=f(O,"callbackScope",null);this.emitCallbackScope=W,this.deathCallbackScope=W}if(x(O,"emitZone")&&this.addEmitZone(O.emitZone),x(O,"deathZone")&&this.addDeathZone(O.deathZone),x(O,"bounds")){var b=this.addParticleBounds(O.bounds);b.collideLeft=f(O,"collideLeft",!0),b.collideRight=f(O,"collideRight",!0),b.collideTop=f(O,"collideTop",!0),b.collideBottom=f(O,"collideBottom",!0)}return x(O,"followOffset")&&this.followOffset.setFromObject(f(O,"followOffset",0)),x(O,"texture")&&this.setTexture(O.texture),x(O,"frame")?this.setEmitterFrame(O.frame):x(O,"anim")&&this.setAnim(O.anim),x(O,"reserve")&&this.reserve(O.reserve),x(O,"advance")&&this.fastForward(O.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(n.START,this),this},toJSON:function(){var O=a(this),N=0,G="";for(N=0;N<H.length;N++)G=H[N],O[G]=this[G];var X=this.ops;for(N=0;N<I.length;N++)G=I[N],X[G]&&(O[G]=X[G].toJSON());return X.speedY.active||(delete O.speedX,O.speed=X.speedX.toJSON()),this.scaleX===this.scaleY&&(delete O.scaleX,delete O.scaleY,O.scale=X.scaleX.toJSON()),O},resetCounters:function(O,N){var G=this.counters;G.fill(0),G[0]=O,N&&(G[5]=1)},startFollow:function(O,N,G,X){return N===void 0&&(N=0),G===void 0&&(G=0),X===void 0&&(X=!1),this.follow=O,this.followOffset.set(N,G),this.trackVisible=X,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var O=this.frames,N=O.length,G;return N===1?G=O[0]:this.randomFrame?G=h(O):(G=O[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===N&&(this.currentFrame=0))),this.texture.get(G)},setEmitterFrame:function(O,N,G){N===void 0&&(N=!0),G===void 0&&(G=1),this.randomFrame=N,this.frameQuantity=G,this.currentFrame=0;var X=typeof O;if(this.frames.length=0,Array.isArray(O))this.frames=this.frames.concat(O);else if(X==="string"||X==="number")this.frames.push(O);else if(X==="object"){var W=O;O=f(W,"frames",null),O&&(this.frames=this.frames.concat(O));var b=f(W,"cycle",!1);this.randomFrame=!b,this.frameQuantity=f(W,"quantity",G)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var O=this.anims,N=O.length;if(N===0)return null;if(N===1)return O[0];if(this.randomAnim)return h(O);var G=O[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=V(this.currentAnim+1,0,N-1)),G},setAnim:function(O,N,G){N===void 0&&(N=!0),G===void 0&&(G=1),this.randomAnim=N,this.animQuantity=G,this.currentAnim=0;var X=typeof O;if(this.anims.length=0,Array.isArray(O))this.anims=this.anims.concat(O);else if(X==="string")this.anims.push(O);else if(X==="object"){var W=O;O=f(W,"anims",null),O&&(this.anims=this.anims.concat(O));var b=f(W,"cycle",!1);this.randomAnim=!b,this.animQuantity=f(W,"quantity",G)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(O){return O===void 0&&(O=!0),this.radial=O,this},addParticleBounds:function(O,N,G,X,W,b,K,Z){if(typeof O=="object"){var Q=O;O=Q.x,N=Q.y,G=x(Q,"w")?Q.w:Q.width,X=x(Q,"h")?Q.h:Q.height}return this.addParticleProcessor(new Y(O,N,G,X,W,b,K,Z))},setParticleSpeed:function(O,N){return N===void 0&&(N=O),this.ops.speedX.onChange(O),O===N?this.ops.speedY.active=!1:this.ops.speedY.onChange(N),this.radial=!0,this},setParticleScale:function(O,N){return O===void 0&&(O=1),N===void 0&&(N=O),this.ops.scaleX.onChange(O),this.ops.scaleY.onChange(N),this},setParticleGravity:function(O,N){return this.gravityX=O,this.gravityY=N,this},setParticleAlpha:function(O){return this.ops.alpha.onChange(O),this},setParticleTint:function(O){return this.ops.tint.onChange(O),this},setEmitterAngle:function(O){return this.ops.angle.onChange(O),this},setParticleLifespan:function(O){return this.ops.lifespan.onChange(O),this},setQuantity:function(O){return this.quantity=O,this},setFrequency:function(O,N){return this.frequency=O,this.flowCounter=O>0?O:0,N&&(this.quantity=N),this},addDeathZone:function(O){Array.isArray(O)||(O=[O]);for(var N,G=this.deathZones,X=0;X<O.length;X++)if(N=O[X],N instanceof r)G.push(N);else if(typeof N.contains=="function")N=new r(N,!0),G.push(N);else{var W=f(N,"type","onEnter"),b=f(N,"source",null);if(b&&typeof b.contains=="function"){var K=W==="onEnter";N=new r(b,K),G.push(N)}}return N},removeDeathZone:function(O){return R(this.deathZones,O),this},addEmitZone:function(O){Array.isArray(O)||(O=[O]);for(var N,G=this.emitZones,X=[],W=0;W<O.length;W++){if(N=O[W],N instanceof P||N instanceof e)G.push(N);else{var b=f(N,"type","random"),K=f(N,"source",null);if(b==="random")N=new P(K);else if(b==="edge"){var Z=f(N,"quantity",1),Q=f(N,"stepRate",0),J=f(N,"yoyo",!1),j=f(N,"seamless",!0),k=f(N,"total",-1);N=new e(K,Z,Q,J,j,k)}N&&G.push(N)}X.push(N)}return X},removeEmitZone:function(O){return R(this.emitZones,O),this.zoneIndex=0,this},getEmitZone:function(O){var N=this.emitZones,G=N.length;if(G!==0){var X=N[this.zoneIndex];X.getPoint(O),X.total>-1&&(this.zoneTotal++,this.zoneTotal===X.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===G&&(this.zoneIndex=0)))}},getDeathZone:function(O){for(var N=this.deathZones,G=0;G<N.length;G++){var X=N[G];if(X.willKill(O))return this.emit(n.DEATH_ZONE,this,O,X),!0}return!1},setEmitZone:function(O){var N;return isFinite(O)?N=O:N=this.emitZones.indexOf(O),N>=0&&(this.zoneIndex=N),this},addParticleProcessor:function(O){return this.processors.exists(O)||(O.emitter&&O.emitter.removeParticleProcessor(O),this.processors.add(O),O.emitter=this),O},removeParticleProcessor:function(O){return this.processors.exists(O)&&(this.processors.remove(O,!0),O.emitter=null),O},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(O){return this.addParticleProcessor(new d(O))},reserve:function(O){var N=this.dead;if(this.maxParticles>0){var G=this.getParticleCount();G+O>this.maxParticles&&(O=this.maxParticles-(G+O))}for(var X=0;X<O;X++)N.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(O,N){return O===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof O=="function"&&(this.emitCallback=O,N&&(this.emitCallbackScope=N)),this},onParticleDeath:function(O,N){return O===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof O=="function"&&(this.deathCallback=O,N&&(this.deathCallbackScope=N)),this},killAll:function(){for(var O=this.dead,N=this.alive;N.length>0;)O.push(N.pop());return this},forEachAlive:function(O,N){for(var G=this.alive,X=G.length,W=0;W<X;W++)O.call(N,G[W],this);return this},forEachDead:function(O,N){for(var G=this.dead,X=G.length,W=0;W<X;W++)O.call(N,G[W],this);return this},start:function(O,N){return O===void 0&&(O=0),this.emitting||(O>0&&this.fastForward(O),this.emitting=!0,this.resetCounters(this.frequency,!0),N!==void 0&&(this.duration=Math.abs(N)),this.emit(n.START,this)),this},stop:function(O){return O===void 0&&(O=!1),this.emitting&&(this.emitting=!1,O&&this.killAll(),this.emit(n.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(O,N){return O===void 0&&(O=""),N===void 0&&(N=this.true),this.sortProperty=O,this.sortOrderAsc=N,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(O){return this.sortProperty!==""?O=this.depthSortCallback:O=null,this.sortCallback=O,this},depthSort:function(){return D(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(O,N){var G=this.sortProperty;return this.sortOrderAsc?O[G]-N[G]:N[G]-O[G]},flow:function(O,N,G){return N===void 0&&(N=1),this.emitting=!1,this.frequency=O,this.quantity=N,G!==void 0&&(this.stopAfter=G),this.start()},explode:function(O,N,G){this.frequency=-1,this.resetCounters(-1,!0);var X=this.emitParticle(O,N,G);return this.emit(n.EXPLODE,this,X),X},emitParticleAt:function(O,N,G){return this.emitParticle(G,O,N)},emitParticle:function(O,N,G){if(!this.atLimit()){O===void 0&&(O=this.ops.quantity.onEmit());for(var X=this.dead,W=this.stopAfter,b=this.follow?this.follow.x+this.followOffset.x:N,K=this.follow?this.follow.y+this.followOffset.y:G,Z=0;Z<O;Z++){var Q=X.pop();if(Q||(Q=new this.particleClass(this)),Q.fire(b,K)?(this.particleBringToTop?this.alive.push(Q):this.alive.unshift(Q),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,Q,this)):this.dead.push(Q),W>0&&(this.stopCounter++,this.stopCounter>=W)||this.atLimit())break}return Q}},fastForward:function(O,N){N===void 0&&(N=1e3/60);var G=0;for(this.skipping=!0;G<Math.abs(O);)this.preUpdate(0,N),G+=N;return this.skipping=!1,this},preUpdate:function(O,N){N*=this.timeScale;var G=N/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var X=this.getProcessors(),W=this.alive,b=this.dead,K=0,Z=[],Q=W.length;for(K=0;K<Q;K++){var J=W[K];J.update(N,G,X)&&Z.push({index:K,particle:J})}if(Q=Z.length,Q>0){var j=this.deathCallback,k=this.deathCallbackScope;for(K=Q-1;K>=0;K--){var $=Z[K];W.splice($.index,1),b.push($.particle),j&&j.call(k,$.particle),$.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&W.length===0&&(this.completeFlag=0,this.emit(n.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=N;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=N,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(O){for(var N=this.getWorldTransformMatrix(),G=this.alive,X=G.length,W=[],b=0;b<X;b++){var K=G[b];L(O,K.getBounds(N))&&W.push(K)}return W},getBounds:function(O,N,G,X){O===void 0&&(O=0),N===void 0&&(N=0),G===void 0&&(G=1e3/60),X===void 0&&(X=new M);var W=this.getWorldTransformMatrix(),b,K,Z=this.alive,Q=!1;if(X.setTo(0,0,0,0),N>0){var J=0;for(this.skipping=!0;J<Math.abs(N);){for(this.preUpdate(0,G),b=0;b<Z.length;b++)K=Z[b].getBounds(W),Q?C(X,K):(Q=!0,s(K,X));J+=G}this.skipping=!1}else for(b=0;b<Z.length;b++)K=Z[b].getBounds(W),Q?C(X,K):(Q=!0,s(K,X));return O>0&&S(X,O,O),X},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(O){this.ops.x.onChange(O)}},particleY:{get:function(){return this.ops.y.current},set:function(O){this.ops.y.onChange(O)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(O){this.ops.accelerationX.onChange(O)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(O){this.ops.accelerationY.onChange(O)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(O){this.ops.maxVelocityX.onChange(O)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(O){this.ops.maxVelocityY.onChange(O)}},speed:{get:function(){return this.ops.speedX.current},set:function(O){this.ops.speedX.onChange(O),this.ops.speedY.onChange(O)}},speedX:{get:function(){return this.ops.speedX.current},set:function(O){this.ops.speedX.onChange(O)}},speedY:{get:function(){return this.ops.speedY.current},set:function(O){this.ops.speedY.onChange(O)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(O){this.ops.moveToX.onChange(O)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(O){this.ops.moveToY.onChange(O)}},bounce:{get:function(){return this.ops.bounce.current},set:function(O){this.ops.bounce.onChange(O)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(O){this.ops.scaleX.onChange(O)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(O){this.ops.scaleY.onChange(O)}},particleColor:{get:function(){return this.ops.color.current},set:function(O){this.ops.color.onChange(O)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(O){this.ops.color.setEase(O)}},particleTint:{get:function(){return this.ops.tint.current},set:function(O){this.ops.tint.onChange(O)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(O){this.ops.alpha.onChange(O)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(O){this.ops.lifespan.onChange(O)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(O){this.ops.angle.onChange(O)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(O){this.ops.rotate.onChange(O)}},quantity:{get:function(){return this.ops.quantity.current},set:function(O){this.ops.quantity.onChange(O)}},delay:{get:function(){return this.ops.delay.current},set:function(O){this.ops.delay.onChange(O)}},hold:{get:function(){return this.ops.hold.current},set:function(O){this.ops.hold.onChange(O)}},flowCounter:{get:function(){return this.counters[0]},set:function(O){this.counters[0]=O}},frameCounter:{get:function(){return this.counters[1]},set:function(O){this.counters[1]=O}},animCounter:{get:function(){return this.counters[2]},set:function(O){this.counters[2]=O}},elapsed:{get:function(){return this.counters[3]},set:function(O){this.counters[3]=O}},stopCounter:{get:function(){return this.counters[4]},set:function(O){this.counters[4]=O}},completeFlag:{get:function(){return this.counters[5]},set:function(O){this.counters[5]=O}},zoneIndex:{get:function(){return this.counters[6]},set:function(O){this.counters[6]=O}},zoneTotal:{get:function(){return this.counters[7]},set:function(O){this.counters[7]=O}},currentFrame:{get:function(){return this.counters[8]},set:function(O){this.counters[8]=O}},currentAnim:{get:function(){return this.counters[9]},set:function(O){this.counters[9]=O}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var O,N=this.ops;for(O=0;O<I.length;O++){var G=I[O];N[G].destroy()}for(O=0;O<this.alive.length;O++)this.alive[O].destroy();for(O=0;O<this.dead.length;O++)this.dead[O].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});v.exports=U},10456:(v,y,t)=>{var u=t(90205),c=t(69360),a=new c,s=new c,r=new c,e=new c,i=function(l,n,o,f){var h=a,d=s,p=r,x=e;f?(x.loadIdentity(),x.multiply(f),x.translate(n.x,n.y),x.rotate(n.rotation),x.scale(n.scaleX,n.scaleY)):x.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY);var S=l.currentContext,T=o.roundPixels,C=o.alpha,E=n.alpha,P=n.alive,M=P.length,L=n.viewBounds;if(!(!n.visible||M===0||L&&!u(L,o.worldView))){n.sortCallback&&n.depthSort(),o.addToRenderList(n);var R=n.scrollFactorX,w=n.scrollFactorY;S.save(),S.globalCompositeOperation=l.blendModes[n.blendMode];for(var D=0;D<M;D++){var B=P[D],z=B.alpha*E*C;if(!(z<=0||B.scaleX===0||B.scaleY===0)){p.applyITRS(B.x,B.y,B.rotation,B.scaleX,B.scaleY),h.copyFrom(o.matrix),h.multiplyWithOffset(x,-o.scrollX*R,-o.scrollY*w),p.e=B.x,p.f=B.y,h.multiply(p,d);var V=B.frame,Y=V.canvasData;if(Y.width>0&&Y.height>0){var H=-V.halfWidth,I=-V.halfHeight;S.globalAlpha=z,S.save(),d.setToContext(S),T&&(H=Math.round(H),I=Math.round(I)),S.imageSmoothingEnabled=!V.source.scaleMode,S.drawImage(V.source.image,Y.x,Y.y,Y.width,Y.height,H,I,Y.width,Y.height),S.restore()}}}S.restore()}};v.exports=i},765:(v,y,t)=>{var u=t(88933),c=t(99325),a=t(20494),s=t(72632),r=t(9216);c.register("particles",function(e,i){e===void 0&&(e={});var l=a(e,"key",null),n=s(e,"config",null),o=new r(this.scene,0,0,l);return i!==void 0&&(e.add=i),u(this.scene,o,e),n&&o.setConfig(n),o})},81212:(v,y,t)=>{var u=t(61286),c=t(9216);u.register("particles",function(a,s,r,e){return a!==void 0&&typeof a=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new c(this.scene,a,s,r,e))})},69116:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(10275),a=t(10456),v.exports={renderWebGL:c,renderCanvas:a}},10275:(v,y,t)=>{var u=t(90205),c=t(69360),a=t(75512),s=new c,r=new c,e=new c,i=new c,l=function(n,o,f,h){var d=n.pipelines.set(o.pipeline),p=s,x=r,S=e,T=i;h?(T.loadIdentity(),T.multiply(h),T.translate(o.x,o.y),T.rotate(o.rotation),T.scale(o.scaleX,o.scaleY)):T.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var C=f.roundPixels,E=a.getTintAppendFloatAlpha,P=f.alpha,M=o.alpha,L=o.frame.glTexture;n.pipelines.preBatch(o);var R=o.alive,w=R.length,D=o.viewBounds;if(!(w===0||D&&!u(D,f.worldView))){o.sortCallback&&o.depthSort();var B=d.setGameObject(o,o.frame);f.addToRenderList(o),p.copyFrom(f.matrix),p.multiplyWithOffset(T,-f.scrollX*o.scrollFactorX,-f.scrollY*o.scrollFactorY),n.setBlendMode(o.blendMode),o.mask&&(o.mask.preRenderWebGL(n,o,f),n.pipelines.set(o.pipeline));for(var z=o.tintFill,V=0;V<w;V++){var Y=R[V],H=Y.alpha*M*P;if(!(H<=0||Y.scaleX===0||Y.scaleY===0)){S.applyITRS(Y.x,Y.y,Y.rotation,Y.scaleX,Y.scaleY),S.e=Y.x,S.f=Y.y,p.multiply(S,x);var I=Y.frame,U=-I.halfWidth,O=-I.halfHeight,N=x.setQuad(U,O,U+I.width,O+I.height,C),G=E(Y.tint,H);d.shouldFlush(6)&&(d.flush(),B=d.setGameObject(o,o.frame)),d.batchQuad(o,N[0],N[1],N[2],N[3],N[4],N[5],N[6],N[7],I.u0,I.v0,I.u1,I.v1,G,G,G,G,z,L,B)}}o.mask&&o.mask.postRenderWebGL(n,f),n.pipelines.postBatch(o)}};v.exports=l},30891:(v,y,t)=>{var u=t(56694),c=new u({initialize:function(s,r,e){s===void 0&&(s=0),r===void 0&&(r=0),e===void 0&&(e=!0),this.emitter,this.x=s,this.y=r,this.active=e},update:function(){},destroy:function(){this.emitter=null}});v.exports=c},76100:v=>{v.exports="complete"},26677:v=>{v.exports="deathzone"},62736:v=>{v.exports="explode"},56490:v=>{v.exports="start"},85715:v=>{v.exports="stop"},40629:(v,y,t)=>{v.exports={COMPLETE:t(76100),DEATH_ZONE:t(26677),EXPLODE:t(62736),START:t(56490),STOP:t(85715)}},27684:(v,y,t)=>{v.exports={EmitterColorOp:t(19737),EmitterOp:t(93025),Events:t(40629),GravityWell:t(87811),Particle:t(14909),ParticleBounds:t(73106),ParticleEmitter:t(9216),ParticleProcessor:t(30891),Zones:t(25962)}},69361:(v,y,t)=>{var u=t(56694),c=new u({initialize:function(s,r){this.source=s,this.killOnEnter=r},willKill:function(a){var s=a.worldPosition,r=this.source.contains(s.x,s.y);return r&&this.killOnEnter||!r&&!this.killOnEnter}});v.exports=c},54213:(v,y,t)=>{var u=t(56694),c=new u({initialize:function(s,r,e,i,l,n){i===void 0&&(i=!1),l===void 0&&(l=!0),n===void 0&&(n=-1),this.source=s,this.points=[],this.quantity=r,this.stepRate=e,this.yoyo=i,this.counter=-1,this.seamless=l,this._length=0,this._direction=0,this.total=n,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var a=this.points[0],s=this.points[this.points.length-1];a.x===s.x&&a.y===s.y&&this.points.pop()}var r=this._length;return this._length=this.points.length,this._length<r&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(a){return this.source=a,this.updateSource()},getPoint:function(a){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var s=this.points[this.counter];s&&(a.x=s.x,a.y=s.y)}});v.exports=c},68433:(v,y,t)=>{var u=t(56694),c=t(93736),a=new u({initialize:function(r){this.source=r,this._tempVec=new c,this.total=-1},getPoint:function(s){var r=this._tempVec;this.source.getRandomPoint(r),s.x=r.x,s.y=r.y}});v.exports=a},25962:(v,y,t)=>{v.exports={DeathZone:t(69361),EdgeZone:t(54213),RandomZone:t(68433)}},29598:(v,y,t)=>{var u=t(56694),c=t(64937),a=t(13747),s=new u({Extends:a,Mixins:[c.PathFollower],initialize:function(e,i,l,n,o,f){a.call(this,e,l,n,o,f),this.path=i},preUpdate:function(r,e){this.anims.update(r,e),this.pathUpdate(r)}});v.exports=s},19626:(v,y,t)=>{var u=t(61286),c=t(29598);u.register("follower",function(a,s,r,e,i){var l=new c(this.scene,a,s,r,e,i);return this.displayList.add(l),this.updateList.add(l),l})},33412:(v,y,t)=>{var u=t(16569),c=t(56694),a=t(99425),s=t(15978),r=t(83321),e=t(76583),i=new c({Extends:r,initialize:function(n,o,f,h,d,p,x,S){h||(h="__DEFAULT"),r.call(this,n,o,f,h,d),this.type="Plane",this.anims=new u(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(p,x,S),this.setSizeToFrame(!1),this.setViewHeight()},setGridSize:function(l,n,o){l===void 0&&(l=8),n===void 0&&(n=8),o===void 0&&(o=!1);var f=!1;return o&&(f=!0),this.gridWidth=l,this.gridHeight=n,this.isTiled=o,this.clear(),a({mesh:this,widthSegments:l,heightSegments:n,isOrtho:!1,tile:o,flipY:f}),this},setSizeToFrame:function(l){l===void 0&&(l=!0);var n=this.frame;if(this.setPerspective(this.width/n.width,this.height/n.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!l)return this;var o=this.gridWidth,f=this.gridHeight,h=this.vertices,d=n.u0,p=n.u1,x=n.v0,S=n.v1,T,C,E=0;if(this.isTiled)for(x=n.v1,S=n.v0,C=0;C<f;C++)for(T=0;T<o;T++)h[E++].setUVs(d,S),h[E++].setUVs(d,x),h[E++].setUVs(p,S),h[E++].setUVs(d,x),h[E++].setUVs(p,x),h[E++].setUVs(p,S);else{var P=o+1,M=f+1,L=p-d,R=S-x,w=[];for(C=0;C<M;C++)for(T=0;T<P;T++){var D=d+L*(T/o),B=x+R*(C/f);w.push(D,B)}for(C=0;C<f;C++)for(T=0;T<o;T++){var z=(T+P*C)*2,V=(T+P*(C+1))*2,Y=(T+1+P*(C+1))*2,H=(T+1+P*C)*2;h[E++].setUVs(w[z],w[z+1]),h[E++].setUVs(w[V],w[V+1]),h[E++].setUVs(w[H],w[H+1]),h[E++].setUVs(w[V],w[V+1]),h[E++].setUVs(w[Y],w[Y+1]),h[E++].setUVs(w[H],w[H+1])}}return this},setViewHeight:function(l){l===void 0&&(l=this.frame.height);var n=this.fov*(Math.PI/180);this.viewPosition.z=this.height/l/Math.tan(n/2),this.dirtyCache[10]=1},createCheckerboard:function(l,n,o,f,h){l===void 0&&(l=16777215),n===void 0&&(n=255),o===void 0&&(o=255),f===void 0&&(f=255),h===void 0&&(h=128);var d=this.scene.sys.renderer.gl,p=d.createTexture();d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,p),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST);for(var x=s(l),S=s(n),T=[],C=0;C<16;C++)for(var E=0;E<16;E++)C<8&&E<8||C>7&&E>7?T.push(x.r,x.g,x.b,o):T.push(S.r,S.g,S.b,f);d.texImage2D(d.TEXTURE_2D,0,d.RGBA,16,16,0,d.RGBA,d.UNSIGNED_BYTE,new Uint8Array(T)),p.isAlphaPremultiplied=!0,p.isRenderTexture=!1,p.width=16,p.height=16;var P=this.scene.sys.textures.addGLTexture(e(),p,16,16);return this.removeCheckerboard(),this._checkerboard=P,d.bindTexture(d.TEXTURE_2D,null),this.setTexture(P),this.setSizeToFrame(),this.setViewHeight(h),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(l,n){return this.anims.play(l,n)},playReverse:function(l,n){return this.anims.playReverse(l,n)},playAfterDelay:function(l,n){return this.anims.playAfterDelay(l,n)},playAfterRepeat:function(l,n){return this.anims.playAfterRepeat(l,n)},stop:function(){return this.anims.stop()},stopAfterDelay:function(l){return this.anims.stopAfterDelay(l)},stopAfterRepeat:function(l){return this.anims.stopAfterRepeat(l)},stopOnFrame:function(l){return this.anims.stopOnFrame(l)},preUpdate:function(l,n){r.prototype.preUpdate.call(this,l,n),this.anims.update(l,n)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});v.exports=i},10912:(v,y,t)=>{var u=t(88933),c=t(32291),a=t(99325),s=t(20494),r=t(10850),e=t(33412);a.register("plane",function(i,l){i===void 0&&(i={});var n=s(i,"key",null),o=s(i,"frame",null),f=r(i,"width",8),h=r(i,"height",8),d=r(i,"tile",!1),p=new e(this.scene,0,0,n,o,f,h,d);l!==void 0&&(i.add=l);var x=r(i,"checkerboard",null);if(x){var S=r(x,"color1",16777215),T=r(x,"color2",255),C=r(x,"alpha1",255),E=r(x,"alpha2",255),P=r(x,"height",128);p.createCheckerboard(S,T,C,E,P)}return u(this.scene,p,i),c(p,i),p})},58322:(v,y,t)=>{var u=t(33412),c=t(61286);c.register("plane",function(a,s,r,e,i,l,n){return this.displayList.add(new u(this.scene,a,s,r,e,i,l,n))})},13171:(v,y,t)=>{var u=t(56694),c=t(64937),a=t(89980),s=t(74853),r=t(65641),e=t(71606),i=new u({Extends:a,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Transform,c.Visible,e],initialize:function(n,o,f,h,d,p,x){h===void 0&&(h=16777215),d===void 0&&(d=128),p===void 0&&(p=1),x===void 0&&(x=.1),a.call(this,n,"PointLight"),this.initPipeline(r.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(o,f),this.color=s(h),this.intensity=p,this.attenuation=x,this.width=d*2,this.height=d*2,this._radius=d},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this.width=l*2,this.height=l*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});v.exports=i},162:(v,y,t)=>{var u=t(88933),c=t(99325),a=t(20494),s=t(13171);c.register("pointlight",function(r,e){r===void 0&&(r={});var i=a(r,"color",16777215),l=a(r,"radius",128),n=a(r,"intensity",1),o=a(r,"attenuation",.1),f=new s(this.scene,0,0,i,l,n,o);return e!==void 0&&(r.add=e),u(this.scene,f,r),f})},91201:(v,y,t)=>{var u=t(61286),c=t(13171);u.register("pointlight",function(a,s,r,e,i,l){return this.displayList.add(new c(this.scene,a,s,r,e,i,l))})},71606:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(80590),v.exports={renderWebGL:c,renderCanvas:a}},80590:(v,y,t)=>{var u=t(73329),c=function(a,s,r,e){r.addToRenderList(s);var i=a.pipelines.set(s.pipeline),l=u(s,r,e).calc,n=s.width,o=s.height,f=-s._radius,h=-s._radius,d=f+n,p=h+o,x=l.getX(0,0),S=l.getY(0,0),T=l.getX(f,h),C=l.getY(f,h),E=l.getX(f,p),P=l.getY(f,p),M=l.getX(d,p),L=l.getY(d,p),R=l.getX(d,h),w=l.getY(d,h);a.pipelines.preBatch(s),i.batchPointLight(s,r,T,C,E,P,M,L,R,w,x,S),a.pipelines.postBatch(s)};v.exports=c},15996:(v,y,t)=>{var u=t(56694),c=t(845),a=t(1539),s=new u({Extends:a,initialize:function(e,i,l,n,o){i===void 0&&(i=0),l===void 0&&(l=0),n===void 0&&(n=32),o===void 0&&(o=32);var f=new c(e.sys.textures,"",n,o);a.call(this,e,i,l,f),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(r,e){this.width=r,this.height=e,this.texture.setSize(r,e),this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=r,i.hitArea.height=e),this},resize:function(r,e){return this.setSize(r,e),this},saveTexture:function(r){var e=this.texture;return e.key=r,e.manager.addDynamicTexture(e)&&(this._saved=!0),e},fill:function(r,e,i,l,n,o){return this.texture.fill(r,e,i,l,n,o),this},clear:function(){return this.texture.clear(),this},stamp:function(r,e,i,l,n){return this.texture.stamp(r,e,i,l,n),this},erase:function(r,e,i){return this.texture.erase(r,e,i),this},draw:function(r,e,i,l,n){return this.texture.draw(r,e,i,l,n),this},drawFrame:function(r,e,i,l,n,o){return this.texture.drawFrame(r,e,i,l,n,o),this},repeat:function(r,e,i,l,n,o,f,h,d){return this.texture.repeat(r,e,i,l,n,o,f,h,d),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(r,e,i,l,n){return this.texture.batchDraw(r,e,i,l,n),this},batchDrawFrame:function(r,e,i,l,n,o){return this.texture.batchDrawFrame(r,e,i,l,n,o),this},endDraw:function(r){return this.texture.endDraw(r),this},snapshotArea:function(r,e,i,l,n,o,f){return this.texture.snapshotArea(r,e,i,l,n,o,f),this},snapshot:function(r,e,i){return this.snapshotArea(0,0,this.width,this.height,r,e,i)},snapshotPixel:function(r,e,i){return this.snapshotArea(r,e,1,1,i,"pixel")},preDestroy:function(){this._saved||this.texture.destroy()}});v.exports=s},85692:(v,y,t)=>{var u=t(88933),c=t(99325),a=t(20494),s=t(15996);c.register("renderTexture",function(r,e){r===void 0&&(r={});var i=a(r,"x",0),l=a(r,"y",0),n=a(r,"width",32),o=a(r,"height",32),f=new s(this.scene,i,l,n,o);return e!==void 0&&(r.add=e),u(this.scene,f,r),f})},29599:(v,y,t)=>{var u=t(61286),c=t(15996);u.register("renderTexture",function(a,s,r,e){return this.displayList.add(new c(this.scene,a,s,r,e))})},79968:(v,y,t)=>{var u=t(16569),c=t(56694),a=t(64937),s=t(89980),r=t(65641),e=t(58912),i=t(93736),l=new c({Extends:s,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Flip,a.Mask,a.Pipeline,a.PostPipeline,a.Size,a.Texture,a.Transform,a.Visible,a.ScrollFactor,e],initialize:function(o,f,h,d,p,x,S,T,C){d===void 0&&(d="__DEFAULT"),x===void 0&&(x=2),S===void 0&&(S=!0),s.call(this,o,"Rope"),this.anims=new u(this),this.points=x,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=d==="__DEFAULT",this.dirty=!1,this.horizontal=S,this._flipX=!1,this._flipY=!1,this._perp=new i,this.debugCallback=null,this.debugGraphic=null,this.setTexture(d,p),this.setPosition(f,h),this.setSizeToFrame(),this.initPipeline(r.ROPE_PIPELINE),Array.isArray(x)&&this.resizeArrays(x.length),this.setPoints(x,T,C),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(n,o){var f=this.anims.currentFrame;this.anims.update(n,o),this.anims.currentFrame!==f&&(this.updateUVs(),this.updateVertices())},play:function(n,o,f){return this.anims.play(n,o,f),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(n,o,f){return n===void 0&&(n=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(n,o,f))},setVertical:function(n,o,f){return n===void 0&&(n=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(n,o,f)):this},setTintFill:function(n){return n===void 0&&(n=!1),this.tintFill=n,this},setAlphas:function(n,o){var f=this.points.length;if(f<1)return this;var h=this.alphas;n===void 0?n=[1]:!Array.isArray(n)&&o===void 0&&(n=[n]);var d,p=0;if(o!==void 0)for(d=0;d<f;d++)p=d*2,h[p]=n,h[p+1]=o;else if(n.length===f)for(d=0;d<f;d++)p=d*2,h[p]=n[d],h[p+1]=n[d];else{var x=n[0];for(d=0;d<f;d++)p=d*2,n.length>p&&(x=n[p]),h[p]=x,n.length>p+1&&(x=n[p+1]),h[p+1]=x}return this},setColors:function(n){var o=this.points.length;if(o<1)return this;var f=this.colors;n===void 0?n=[16777215]:Array.isArray(n)||(n=[n]);var h,d=0;if(n.length===o)for(h=0;h<o;h++)d=h*2,f[d]=n[h],f[d+1]=n[h];else{var p=n[0];for(h=0;h<o;h++)d=h*2,n.length>d&&(p=n[d]),f[d]=p,n.length>d+1&&(p=n[d+1]),f[d+1]=p}return this},setPoints:function(n,o,f){if(n===void 0&&(n=2),typeof n=="number"){var h=n;h<2&&(h=2),n=[];var d,p,x;if(this.horizontal)for(x=-this.frame.halfWidth,p=this.frame.width/(h-1),d=0;d<h;d++)n.push({x:x+d*p,y:0});else for(x=-this.frame.halfHeight,p=this.frame.height/(h-1),d=0;d<h;d++)n.push({x:0,y:x+d*p})}var S=n.length,T=this.points.length;return S<1?(console.warn("Rope: Not enough points given"),this):(S===1&&(n.unshift({x:0,y:0}),S++),T!==S&&this.resizeArrays(S),this.dirty=!0,this.points=n,this.updateUVs(),o!=null&&this.setColors(o),f!=null&&this.setAlphas(f),this)},updateUVs:function(){for(var n=this.uv,o=this.points.length,f=this.frame.u0,h=this.frame.v0,d=this.frame.u1,p=this.frame.v1,x=(d-f)/(o-1),S=(p-h)/(o-1),T=0;T<o;T++){var C=T*4,E,P,M,L;this.horizontal?(this._flipX?(E=d-T*x,M=d-T*x):(E=f+T*x,M=f+T*x),this._flipY?(P=p,L=h):(P=h,L=p)):(this._flipX?(E=f,M=d):(E=d,M=f),this._flipY?(P=p-T*S,L=p-T*S):(P=h+T*S,L=h+T*S)),n[C+0]=E,n[C+1]=P,n[C+2]=M,n[C+3]=L}return this},resizeArrays:function(n){var o=this.colors,f=this.alphas;this.vertices=new Float32Array(n*4),this.uv=new Float32Array(n*4),o=new Uint32Array(n*2),f=new Float32Array(n*2);for(var h=0;h<n*2;h++)o[h]=16777215,f[h]=1;return this.colors=o,this.alphas=f,this.dirty=!0,this},updateVertices:function(){var n=this._perp,o=this.points,f=this.vertices,h=o.length;if(this.dirty=!1,!(h<1)){for(var d,p=o[0],x=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,S=0;S<h;S++){var T=o[S],C=S*4;S<h-1?d=o[S+1]:d=T,n.x=d.y-p.y,n.y=-(d.x-p.x);var E=n.length();n.x/=E,n.y/=E,n.x*=x,n.y*=x,f[C]=T.x+n.x,f[C+1]=T.y+n.y,f[C+2]=T.x-n.x,f[C+3]=T.y-n.y,p=T}return this}},setDebug:function(n,o){return this.debugGraphic=n,!n&&!o?this.debugCallback=null:o?this.debugCallback=o:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(n,o,f){var h=n.debugGraphic,d=f[0],p=f[1],x=f[2],S=f[3];h.lineBetween(d,p,x,S);for(var T=4;T<o;T+=4){var C=f[T+0],E=f[T+1],P=f[T+2],M=f[T+3];h.lineBetween(d,p,C,E),h.lineBetween(x,S,P,M),h.lineBetween(x,S,C,E),h.lineBetween(C,E,P,M),d=C,p=E,x=P,S=M}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(n){return this._flipX=n,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(n){return this._flipY=n,this.updateUVs()}}});v.exports=l},44598:v=>{var y=function(){};v.exports=y},96027:(v,y,t)=>{var u=t(88933),c=t(99325),a=t(20494),s=t(10850),r=t(79968);c.register("rope",function(e,i){e===void 0&&(e={});var l=a(e,"key",null),n=a(e,"frame",null),o=a(e,"horizontal",!0),f=s(e,"points",void 0),h=s(e,"colors",void 0),d=s(e,"alphas",void 0),p=new r(this.scene,0,0,l,n,f,o,h,d);return i!==void 0&&(e.add=i),u(this.scene,p,e),p})},31982:(v,y,t)=>{var u=t(79968),c=t(61286);c.register("rope",function(a,s,r,e,i,l,n,o){return this.displayList.add(new u(this.scene,a,s,r,e,i,l,n,o))})},58912:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(49489),a=t(44598),v.exports={renderWebGL:c,renderCanvas:a}},49489:(v,y,t)=>{var u=t(73329),c=t(75512),a=function(s,r,e,i){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline,r),n=u(r,e,i).calc,o=r.vertices,f=r.uv,h=r.colors,d=r.alphas,p=r.alpha,x=c.getTintAppendFloatAlpha,S=e.roundPixels,T=o.length,C=Math.floor(T*.5);l.flush(),s.pipelines.preBatch(r);var E=l.setGameObject(r),P=l.vertexViewF32,M=l.vertexViewU32,L=l.vertexCount*l.currentShader.vertexComponentCount-1,R=0,w=r.tintFill;r.dirty&&r.updateVertices();for(var D=r.debugCallback,B=[],z=0;z<T;z+=2){var V=o[z+0],Y=o[z+1],H=V*n.a+Y*n.c+n.e,I=V*n.b+Y*n.d+n.f;S&&(H=Math.round(H),I=Math.round(I)),P[++L]=H,P[++L]=I,P[++L]=f[z+0],P[++L]=f[z+1],P[++L]=E,P[++L]=w,M[++L]=x(h[R],e.alpha*(d[R]*p)),R++,D&&(B[z+0]=H,B[z+1]=I)}D&&D.call(r,r,T,B),l.vertexCount+=C,l.currentBatch.count=l.vertexCount-l.currentBatch.start,s.pipelines.postBatch(r)};v.exports=a},27902:(v,y,t)=>{var u=t(56694),c=t(64937),a=t(89980),s=t(72632),r=t(98611),e=t(22440),i=t(24252),l=t(69360),n=new u({Extends:a,Mixins:[c.ComputedSize,c.Depth,c.GetBounds,c.Mask,c.Origin,c.ScrollFactor,c.Transform,c.Visible,i],initialize:function(f,h,d,p,x,S,T,C){d===void 0&&(d=0),p===void 0&&(p=0),x===void 0&&(x=128),S===void 0&&(S=128),a.call(this,f,"Shader"),this.blendMode=-1,this.shader;var E=f.sys.renderer;this.renderer=E,this.gl=E.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=E.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=E.width,this._rendererHeight=E.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(d,p),this.setSize(x,S),this.setOrigin(.5,.5),this.setShader(h,T,C)},willRender:function(o){return this.renderToTexture?!0:!(a.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&o.id)},setRenderToTexture:function(o,f){if(f===void 0&&(f=!1),!this.renderToTexture){var h=this.width,d=this.height,p=this.renderer;this.glTexture=p.createTextureFromSource(null,h,d,0),this.glTexture.flipY=f,this.framebuffer=p.createFramebuffer(h,d,this.glTexture,!1),this._rendererWidth=h,this._rendererHeight=d,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),o&&(this.texture=this.scene.sys.textures.addGLTexture(o,this.glTexture,h,d))}return this.shader&&(p.pipelines.clear(),this.load(),this.flush(),p.pipelines.rebind()),this},setShader:function(o,f,h){if(f===void 0&&(f=[]),typeof o=="string"){var d=this.scene.sys.cache.shader;if(!d.has(o))return console.warn("Shader missing: "+o),this;this.shader=d.get(o)}else this.shader=o;var p=this.gl,x=this.renderer;this.program&&p.deleteProgram(this.program);var S=x.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);p.uniformMatrix4fv(p.getUniformLocation(S,"uViewMatrix"),!1,this.viewMatrix),p.uniformMatrix4fv(p.getUniformLocation(S,"uProjectionMatrix"),!1,this.projectionMatrix),p.uniform2f(p.getUniformLocation(S,"uResolution"),this.width,this.height),this.program=S;var T=new Date,C={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[T.getFullYear(),T.getMonth(),T.getDate(),T.getHours()*60*60+T.getMinutes()*60+T.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=r(!0,{},this.shader.uniforms,C):this.uniforms=C;for(var E=0;E<4;E++)f[E]&&this.setSampler2D("iChannel"+E,f[E],E,h);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(o){return this.pointer=o,this},projOrtho:function(o,f,h,d){var p=-1e3,x=1e3,S=1/(o-f),T=1/(h-d),C=1/(p-x),E=this.projectionMatrix;E[0]=-2*S,E[5]=-2*T,E[10]=2*C,E[12]=(o+f)*S,E[13]=(d+h)*T,E[14]=(x+p)*C;var P=this.program,M=this.gl,L=this.renderer;L.setProgram(P),M.uniformMatrix4fv(M.getUniformLocation(P,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=f,this._rendererHeight=h},initUniforms:function(){var o=this.gl,f=this.renderer.glFuncMap,h=this.program;this._textureCount=0;for(var d in this.uniforms){var p=this.uniforms[d],x=p.type,S=f[x];p.uniformLocation=o.getUniformLocation(h,d),x!=="sampler2D"&&(p.glMatrix=S.matrix,p.glValueLength=S.length,p.glFunc=S.func)}},setSampler2DBuffer:function(o,f,h,d,p,x){p===void 0&&(p=0),x===void 0&&(x={});var S=this.uniforms[o];return S.value=f,x.width=h,x.height=d,S.textureData=x,this._textureCount=p,this.initSampler2D(S),this},setSampler2D:function(o,f,h,d){h===void 0&&(h=0);var p=this.scene.sys.textures;if(p.exists(f)){var x=p.getFrame(f);if(x.glTexture&&x.glTexture.isRenderTexture)return this.setSampler2DBuffer(o,x.glTexture,x.width,x.height,h,d);var S=this.uniforms[o],T=x.source;S.textureKey=f,S.source=T.image,S.value=x.glTexture,T.isGLTexture&&(d||(d={}),d.width=T.width,d.height=T.height),d&&(S.textureData=d),this._textureCount=h,this.initSampler2D(S)}return this},setUniform:function(o,f){return e(this.uniforms,o,f),this},getUniform:function(o){return s(this.uniforms,o,null)},setChannel0:function(o,f){return this.setSampler2D("iChannel0",o,0,f)},setChannel1:function(o,f){return this.setSampler2D("iChannel1",o,1,f)},setChannel2:function(o,f){return this.setSampler2D("iChannel2",o,2,f)},setChannel3:function(o,f){return this.setSampler2D("iChannel3",o,3,f)},initSampler2D:function(o){if(o.value){var f=this.gl;f.activeTexture(f.TEXTURE0+this._textureCount),f.bindTexture(f.TEXTURE_2D,o.value);var h=o.textureData;if(h&&!o.value.isRenderTexture){var d=f[s(h,"magFilter","linear").toUpperCase()],p=f[s(h,"minFilter","linear").toUpperCase()],x=f[s(h,"wrapS","repeat").toUpperCase()],S=f[s(h,"wrapT","repeat").toUpperCase()],T=f[s(h,"format","rgba").toUpperCase()];if(h.repeat&&(x=f.REPEAT,S=f.REPEAT),f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,!!h.flipY),h.width){var C=s(h,"width",512),E=s(h,"height",2),P=s(h,"border",0);f.texImage2D(f.TEXTURE_2D,0,T,C,E,P,T,f.UNSIGNED_BYTE,null)}else f.texImage2D(f.TEXTURE_2D,0,T,f.RGBA,f.UNSIGNED_BYTE,o.source);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,d),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,p),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,x),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,S)}this.renderer.setProgram(this.program),f.uniform1i(o.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var o=this.gl,f=this.uniforms,h,d,p,x,S,T=0;for(var C in f)h=f[C],p=h.glFunc,d=h.glValueLength,x=h.uniformLocation,S=h.value,S!==null&&(d===1?h.glMatrix?p.call(o,x,h.transpose,S):p.call(o,x,S):d===2?p.call(o,x,S.x,S.y):d===3?p.call(o,x,S.x,S.y,S.z):d===4?p.call(o,x,S.x,S.y,S.z,S.w):h.type==="sampler2D"&&(o.activeTexture(o.TEXTURE0+T),o.bindTexture(o.TEXTURE_2D,S),o.uniform1i(x,T),T++))},load:function(o){var f=this.gl,h=this.width,d=this.height,p=this.renderer,x=this.program,S=this.viewMatrix;if(!this.renderToTexture){var T=-this._displayOriginX,C=-this._displayOriginY;S[0]=o[0],S[1]=o[1],S[4]=o[2],S[5]=o[3],S[8]=o[4],S[9]=o[5],S[12]=S[0]*T+S[4]*C,S[13]=S[1]*T+S[5]*C}f.useProgram(x),f.uniformMatrix4fv(f.getUniformLocation(x,"uViewMatrix"),!1,S),f.uniform2f(f.getUniformLocation(x,"uResolution"),this.width,this.height);var E=this.uniforms,P=E.resolution;P.value.x=h,P.value.y=d,E.time.value=p.game.loop.getDuration();var M=this.pointer;if(M){var L=E.mouse,R=M.x/h,w=1-M.y/d;L.value.x=R.toFixed(2),L.value.y=w.toFixed(2)}this.syncUniforms()},flush:function(){var o=this.width,f=this.height,h=this.program,d=this.gl,p=this.vertexBuffer,x=this.renderer,S=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(x.setFramebuffer(this.framebuffer),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT)),d.bindBuffer(d.ARRAY_BUFFER,p);var T=d.getAttribLocation(h,"inPosition");T!==-1&&(d.enableVertexAttribArray(T),d.vertexAttribPointer(T,2,d.FLOAT,!1,S,0));var C=this.vertexViewF32;C[3]=f,C[4]=o,C[5]=f,C[8]=o,C[9]=f,C[10]=o;var E=6;d.bufferSubData(d.ARRAY_BUFFER,0,this.bytes.subarray(0,E*S)),d.drawArrays(d.TRIANGLES,0,E),this.renderToTexture&&x.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var o=this.gl;o.deleteProgram(this.program),o.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});v.exports=n},10612:v=>{var y=function(){};v.exports=y},13908:(v,y,t)=>{var u=t(88933),c=t(99325),a=t(20494),s=t(27902);c.register("shader",function(r,e){r===void 0&&(r={});var i=a(r,"key",null),l=a(r,"x",0),n=a(r,"y",0),o=a(r,"width",128),f=a(r,"height",128),h=new s(this.scene,i,l,n,o,f);return e!==void 0&&(r.add=e),u(this.scene,h,r),h})},51979:(v,y,t)=>{var u=t(27902),c=t(61286);c.register("shader",function(a,s,r,e,i,l,n){return this.displayList.add(new u(this.scene,a,s,r,e,i,l,n))})},24252:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(19782),a=t(10612),v.exports={renderWebGL:c,renderCanvas:a}},19782:(v,y,t)=>{var u=t(73329),c=function(a,s,r,e){if(s.shader){if(r.addToRenderList(s),a.pipelines.clear(),s.renderToTexture)s.load(),s.flush();else{var i=u(s,r,e).calc;(a.width!==s._rendererWidth||a.height!==s._rendererHeight)&&s.projOrtho(0,a.width,a.height,0),s.load(i.matrix),s.flush()}a.pipelines.rebind()}};v.exports=c},19543:(v,y,t)=>{var u=t(75512),c=function(a,s,r,e,i,l){for(var n=u.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*e),o=r.pathData,f=r.pathIndexes,h=0;h<f.length;h+=3){var d=f[h]*2,p=f[h+1]*2,x=f[h+2]*2,S=o[d+0]-i,T=o[d+1]-l,C=o[p+0]-i,E=o[p+1]-l,P=o[x+0]-i,M=o[x+1]-l,L=s.getX(S,T),R=s.getY(S,T),w=s.getX(C,E),D=s.getY(C,E),B=s.getX(P,M),z=s.getY(P,M);a.batchTri(r,L,R,w,D,B,z,0,0,1,1,n,n,n,2)}};v.exports=c},15608:v=>{var y=function(t,u,c,a){var s=c||u.fillColor,r=a||u.fillAlpha,e=(s&16711680)>>>16,i=(s&65280)>>>8,l=s&255;t.fillStyle="rgba("+e+","+i+","+l+","+r+")"};v.exports=y},17876:v=>{var y=function(t,u,c,a){var s=c||u.strokeColor,r=a||u.strokeAlpha,e=(s&16711680)>>>16,i=(s&65280)>>>8,l=s&255;t.strokeStyle="rgba("+e+","+i+","+l+","+r+")",t.lineWidth=u.lineWidth};v.exports=y},91461:(v,y,t)=>{var u=t(56694),c=t(64937),a=t(89980),s=t(88829),r=new u({Extends:a,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Transform,c.Visible],initialize:function(i,l,n){l===void 0&&(l="Shape"),a.call(this,i,l),this.geom=n,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new s,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,i){return i===void 0&&(i=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=i,this.isFilled=!0),this},setStrokeStyle:function(e,i,l){return l===void 0&&(l=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=i,this.strokeAlpha=l,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,i){return this.width=e,this.height=i,this},setDisplaySize:function(e,i){return this.displayWidth=e,this.displayHeight=i,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});v.exports=r},50262:(v,y,t)=>{var u=t(75512),c=function(a,s,r,e,i){var l=a.strokeTint,n=u.getTintAppendFloatAlpha(s.strokeColor,s.strokeAlpha*r);l.TL=n,l.TR=n,l.BL=n,l.BR=n;var o=s.pathData,f=o.length-1,h=s.lineWidth,d=h/2,p=o[0]-e,x=o[1]-i;s.closePath||(f-=2);for(var S=2;S<f;S+=2){var T=o[S]-e,C=o[S+1]-i;a.batchLine(p,x,T,C,d,d,h,S-2,s.closePath?S===f-1:!1),p=T,x=C}};v.exports=c},28593:(v,y,t)=>{var u=t(2213),c=t(56694),a=t(75606),s=t(11117),r=t(26673),e=t(83392),i=t(91461),l=new c({Extends:i,Mixins:[u],initialize:function(o,f,h,d,p,x,S,T,C){f===void 0&&(f=0),h===void 0&&(h=0),d===void 0&&(d=128),p===void 0&&(p=0),x===void 0&&(x=360),S===void 0&&(S=!1),i.call(this,o,"Arc",new r(0,0,d)),this._startAngle=p,this._endAngle=x,this._anticlockwise=S,this._iterations=.01,this.setPosition(f,h);var E=this.geom.radius*2;this.setSize(E,E),T!==void 0&&this.setFillStyle(T,C),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(n){this._iterations=n,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(n){this.geom.radius=n;var o=n*2;this.setSize(o,o),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(n){this._startAngle=n,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(n){this._endAngle=n,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(n){this._anticlockwise=n,this.updateData()}},setRadius:function(n){return this.radius=n,this},setIterations:function(n){return n===void 0&&(n=.01),this.iterations=n,this},setStartAngle:function(n,o){return this._startAngle=n,o!==void 0&&(this._anticlockwise=o),this.updateData()},setEndAngle:function(n,o){return this._endAngle=n,o!==void 0&&(this._anticlockwise=o),this.updateData()},updateData:function(){var n=this._iterations,o=n,f=this.geom.radius,h=a(this._startAngle),d=a(this._endAngle),p=this._anticlockwise,x=f,S=f;d-=h,p?d<-e.PI2?d=-e.PI2:d>0&&(d=-e.PI2+d%e.PI2):d>e.PI2?d=e.PI2:d<0&&(d=e.PI2+d%e.PI2);for(var T=[x+Math.cos(h)*f,S+Math.sin(h)*f],C;o<1;)C=d*o+h,T.push(x+Math.cos(C)*f,S+Math.sin(C)*f),o+=n;return C=d+h,T.push(x+Math.cos(C)*f,S+Math.sin(C)*f),T.push(x+Math.cos(h)*f,S+Math.sin(h)*f),this.pathIndexes=s(T),this.pathData=T,this}});v.exports=l},23560:(v,y,t)=>{var u=t(75606),c=t(15608),a=t(17876),s=t(49584),r=function(e,i,l,n){l.addToRenderList(i);var o=e.currentContext;if(s(e,o,i,l,n)){var f=i.radius;o.beginPath(),o.arc(f-i.originX*(f*2),f-i.originY*(f*2),f,u(i._startAngle),u(i._endAngle),i.anticlockwise),i.closePath&&o.closePath(),i.isFilled&&(c(o,i),o.fill()),i.isStroked&&(a(o,i),o.stroke()),o.restore()}};v.exports=r},10369:(v,y,t)=>{var u=t(28593),c=t(61286);c.register("arc",function(a,s,r,e,i,l,n,o){return this.displayList.add(new u(this.scene,a,s,r,e,i,l,n,o))}),c.register("circle",function(a,s,r,e,i){return this.displayList.add(new u(this.scene,a,s,r,0,360,!1,e,i))})},2213:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(58356),a=t(23560),v.exports={renderWebGL:c,renderCanvas:a}},58356:(v,y,t)=>{var u=t(73329),c=t(19543),a=t(50262),s=function(r,e,i,l){i.addToRenderList(e);var n=r.pipelines.set(e.pipeline),o=u(e,i,l),f=n.calcMatrix.copyFrom(o.calc),h=e._displayOriginX,d=e._displayOriginY,p=i.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&c(n,f,e,p,h,d),e.isStroked&&a(n,e,p,h,d),r.pipelines.postBatch(e)};v.exports=s},15220:(v,y,t)=>{var u=t(56694),c=t(87203),a=t(11117),s=t(74118),r=t(91461),e=new u({Extends:r,Mixins:[c],initialize:function(l,n,o,f,h,d){n===void 0&&(n=0),o===void 0&&(o=0),r.call(this,l,"Curve",f),this._smoothness=32,this._curveBounds=new s,this.closePath=!1,this.setPosition(n,o),h!==void 0&&this.setFillStyle(h,d),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(i){this._smoothness=i,this.updateData()}},setSmoothness:function(i){return this._smoothness=i,this.updateData()},updateData:function(){var i=this._curveBounds,l=this._smoothness;this.geom.getBounds(i,l),this.setSize(i.width,i.height),this.updateDisplayOrigin();for(var n=[],o=this.geom.getPoints(l),f=0;f<o.length;f++)n.push(o[f].x,o[f].y);return n.push(o[0].x,o[0].y),this.pathIndexes=a(n),this.pathData=n,this}});v.exports=e},4024:(v,y,t)=>{var u=t(15608),c=t(17876),a=t(49584),s=function(r,e,i,l){i.addToRenderList(e);var n=r.currentContext;if(a(r,n,e,i,l)){var o=e._displayOriginX+e._curveBounds.x,f=e._displayOriginY+e._curveBounds.y,h=e.pathData,d=h.length-1,p=h[0]-o,x=h[1]-f;n.beginPath(),n.moveTo(p,x),e.closePath||(d-=2);for(var S=2;S<d;S+=2){var T=h[S]-o,C=h[S+1]-f;n.lineTo(T,C)}e.closePath&&n.closePath(),e.isFilled&&(u(n,e),n.fill()),e.isStroked&&(c(n,e),n.stroke()),n.restore()}};v.exports=s},10147:(v,y,t)=>{var u=t(61286),c=t(15220);u.register("curve",function(a,s,r,e,i){return this.displayList.add(new c(this.scene,a,s,r,e,i))})},87203:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(82958),a=t(4024),v.exports={renderWebGL:c,renderCanvas:a}},82958:(v,y,t)=>{var u=t(19543),c=t(73329),a=t(50262),s=function(r,e,i,l){i.addToRenderList(e);var n=r.pipelines.set(e.pipeline),o=c(e,i,l),f=n.calcMatrix.copyFrom(o.calc),h=e._displayOriginX+e._curveBounds.x,d=e._displayOriginY+e._curveBounds.y,p=i.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&u(n,f,e,p,h,d),e.isStroked&&a(n,e,p,h,d),r.pipelines.postBatch(e)};v.exports=s},28591:(v,y,t)=>{var u=t(56694),c=t(11117),a=t(84171),s=t(95669),r=t(91461),e=new u({Extends:r,Mixins:[a],initialize:function(l,n,o,f,h,d,p){n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=128),h===void 0&&(h=128),r.call(this,l,"Ellipse",new s(f/2,h/2,f,h)),this._smoothness=64,this.setPosition(n,o),this.width=f,this.height=h,d!==void 0&&this.setFillStyle(d,p),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(i){this._smoothness=i,this.updateData()}},setSize:function(i,l){return this.width=i,this.height=l,this.geom.setPosition(i/2,l/2),this.geom.setSize(i,l),this.updateData()},setSmoothness:function(i){return this._smoothness=i,this.updateData()},updateData:function(){for(var i=[],l=this.geom.getPoints(this._smoothness),n=0;n<l.length;n++)i.push(l[n].x,l[n].y);return i.push(l[0].x,l[0].y),this.pathIndexes=c(i),this.pathData=i,this}});v.exports=e},55881:(v,y,t)=>{var u=t(15608),c=t(17876),a=t(49584),s=function(r,e,i,l){i.addToRenderList(e);var n=r.currentContext;if(a(r,n,e,i,l)){var o=e._displayOriginX,f=e._displayOriginY,h=e.pathData,d=h.length-1,p=h[0]-o,x=h[1]-f;n.beginPath(),n.moveTo(p,x),e.closePath||(d-=2);for(var S=2;S<d;S+=2){var T=h[S]-o,C=h[S+1]-f;n.lineTo(T,C)}n.closePath(),e.isFilled&&(u(n,e),n.fill()),e.isStroked&&(c(n,e),n.stroke()),n.restore()}};v.exports=s},99869:(v,y,t)=>{var u=t(28591),c=t(61286);c.register("ellipse",function(a,s,r,e,i,l){return this.displayList.add(new u(this.scene,a,s,r,e,i,l))})},84171:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(17554),a=t(55881),v.exports={renderWebGL:c,renderCanvas:a}},17554:(v,y,t)=>{var u=t(19543),c=t(73329),a=t(50262),s=function(r,e,i,l){i.addToRenderList(e);var n=r.pipelines.set(e.pipeline),o=c(e,i,l),f=n.calcMatrix.copyFrom(o.calc),h=e._displayOriginX,d=e._displayOriginY,p=i.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&u(n,f,e,p,h,d),e.isStroked&&a(n,e,p,h,d),r.pipelines.postBatch(e)};v.exports=s},39169:(v,y,t)=>{var u=t(56694),c=t(91461),a=t(88059),s=new u({Extends:c,Mixins:[a],initialize:function(e,i,l,n,o,f,h,d,p,x,S){i===void 0&&(i=0),l===void 0&&(l=0),n===void 0&&(n=128),o===void 0&&(o=128),f===void 0&&(f=32),h===void 0&&(h=32),c.call(this,e,"Grid",null),this.cellWidth=f,this.cellHeight=h,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(i,l),this.setSize(n,o),this.setFillStyle(d,p),x!==void 0&&this.setOutlineStyle(x,S),this.updateDisplayOrigin()},setFillStyle:function(r,e){return e===void 0&&(e=1),r===void 0?this.showCells=!1:(this.fillColor=r,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(r,e){return e===void 0&&(e=1),r===void 0?this.showAltCells=!1:(this.altFillColor=r,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(r,e){return e===void 0&&(e=1),r===void 0?this.showOutline=!1:(this.outlineFillColor=r,this.outlineFillAlpha=e,this.showOutline=!0),this}});v.exports=s},95525:(v,y,t)=>{var u=t(15608),c=t(17876),a=t(49584),s=function(r,e,i,l){i.addToRenderList(e);var n=r.currentContext;if(a(r,n,e,i,l)){var o=-e._displayOriginX,f=-e._displayOriginY,h=i.alpha*e.alpha,d=e.width,p=e.height,x=e.cellWidth,S=e.cellHeight,T=Math.ceil(d/x),C=Math.ceil(p/S),E=x,P=S,M=x-(T*x-d),L=S-(C*S-p),R=e.showCells,w=e.showAltCells,D=e.showOutline,B=0,z=0,V=0,Y=0,H=0;if(D&&(E--,P--,M===x&&M--,L===S&&L--),R&&e.fillAlpha>0)for(u(n,e),z=0;z<C;z++)for(w&&(V=z%2),B=0;B<T;B++){if(w&&V){V=0;continue}V++,Y=B<T-1?E:M,H=z<C-1?P:L,n.fillRect(o+B*x,f+z*S,Y,H)}if(w&&e.altFillAlpha>0)for(u(n,e,e.altFillColor,e.altFillAlpha*h),z=0;z<C;z++)for(w&&(V=z%2),B=0;B<T;B++){if(w&&!V){V=1;continue}V=0,Y=B<T-1?E:M,H=z<C-1?P:L,n.fillRect(o+B*x,f+z*S,Y,H)}if(D&&e.outlineFillAlpha>0){for(c(n,e,e.outlineFillColor,e.outlineFillAlpha*h),B=1;B<T;B++){var I=B*x;n.beginPath(),n.moveTo(I+o,f),n.lineTo(I+o,p+f),n.stroke()}for(z=1;z<C;z++){var U=z*S;n.beginPath(),n.moveTo(o,U+f),n.lineTo(o+d,U+f),n.stroke()}}n.restore()}};v.exports=s},9326:(v,y,t)=>{var u=t(61286),c=t(39169);u.register("grid",function(a,s,r,e,i,l,n,o,f,h){return this.displayList.add(new c(this.scene,a,s,r,e,i,l,n,o,f,h))})},88059:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(50639),a=t(95525),v.exports={renderWebGL:c,renderCanvas:a}},50639:(v,y,t)=>{var u=t(73329),c=t(75512),a=function(s,r,e,i){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline),n=u(r,e,i),o=l.calcMatrix.copyFrom(n.calc);o.translate(-r._displayOriginX,-r._displayOriginY);var f=e.alpha*r.alpha,h=r.width,d=r.height,p=r.cellWidth,x=r.cellHeight,S=Math.ceil(h/p),T=Math.ceil(d/x),C=p,E=x,P=p-(S*p-h),M=x-(T*x-d),L,R,w=r.showCells,D=r.showAltCells,B=r.showOutline,z=0,V=0,Y=0,H=0,I=0;if(B&&(C--,E--,P===p&&P--,M===x&&M--),s.pipelines.preBatch(r),w&&r.fillAlpha>0)for(L=l.fillTint,R=c.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*f),L.TL=R,L.TR=R,L.BL=R,L.BR=R,V=0;V<T;V++)for(D&&(Y=V%2),z=0;z<S;z++){if(D&&Y){Y=0;continue}Y++,H=z<S-1?C:P,I=V<T-1?E:M,l.batchFillRect(z*p,V*x,H,I)}if(D&&r.altFillAlpha>0)for(L=l.fillTint,R=c.getTintAppendFloatAlpha(r.altFillColor,r.altFillAlpha*f),L.TL=R,L.TR=R,L.BL=R,L.BR=R,V=0;V<T;V++)for(D&&(Y=V%2),z=0;z<S;z++){if(D&&!Y){Y=1;continue}Y=0,H=z<S-1?C:P,I=V<T-1?E:M,l.batchFillRect(z*p,V*x,H,I)}if(B&&r.outlineFillAlpha>0){var U=l.strokeTint,O=c.getTintAppendFloatAlpha(r.outlineFillColor,r.outlineFillAlpha*f);for(U.TL=O,U.TR=O,U.BL=O,U.BR=O,z=1;z<S;z++){var N=z*p;l.batchLine(N,0,N,d,1,1,1,0,!1)}for(V=1;V<T;V++){var G=V*x;l.batchLine(0,G,h,G,1,1,1,0,!1)}}s.pipelines.postBatch(r)};v.exports=a},4415:(v,y,t)=>{var u=t(72296),c=t(56694),a=t(91461),s=new c({Extends:a,Mixins:[u],initialize:function(e,i,l,n,o,f,h,d){i===void 0&&(i=0),l===void 0&&(l=0),n===void 0&&(n=48),o===void 0&&(o=32),f===void 0&&(f=15658734),h===void 0&&(h=10066329),d===void 0&&(d=13421772),a.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=f,this.fillLeft=h,this.fillRight=d,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(i,l),this.setSize(n,o),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setFaces:function(r,e,i){return r===void 0&&(r=!0),e===void 0&&(e=!0),i===void 0&&(i=!0),this.showTop=r,this.showLeft=e,this.showRight=i,this},setFillStyle:function(r,e,i){return this.fillTop=r,this.fillLeft=e,this.fillRight=i,this.isFilled=!0,this}});v.exports=s},32884:(v,y,t)=>{var u=t(15608),c=t(49584),a=function(s,r,e,i){e.addToRenderList(r);var l=s.currentContext;if(c(s,l,r,e,i)&&r.isFilled){var n=r.width,o=r.height,f=n/2,h=n/r.projection;r.showTop&&(u(l,r,r.fillTop),l.beginPath(),l.moveTo(-f,-o),l.lineTo(0,-h-o),l.lineTo(f,-o),l.lineTo(f,-1),l.lineTo(0,h-1),l.lineTo(-f,-1),l.lineTo(-f,-o),l.fill()),r.showLeft&&(u(l,r,r.fillLeft),l.beginPath(),l.moveTo(-f,0),l.lineTo(0,h),l.lineTo(0,h-o),l.lineTo(-f,-o),l.lineTo(-f,0),l.fill()),r.showRight&&(u(l,r,r.fillRight),l.beginPath(),l.moveTo(f,0),l.lineTo(0,h),l.lineTo(0,h-o),l.lineTo(f,-o),l.lineTo(f,0),l.fill()),l.restore()}};v.exports=a},88154:(v,y,t)=>{var u=t(61286),c=t(4415);u.register("isobox",function(a,s,r,e,i,l,n){return this.displayList.add(new c(this.scene,a,s,r,e,i,l,n))})},72296:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(33101),a=t(32884),v.exports={renderWebGL:c,renderCanvas:a}},33101:(v,y,t)=>{var u=t(73329),c=t(75512),a=function(s,r,e,i){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline),n=u(r,e,i),o=l.calcMatrix.copyFrom(n.calc),f=r.width,h=r.height,d=f/2,p=f/r.projection,x=e.alpha*r.alpha;if(r.isFilled){var S,T,C,E,P,M,L,R,w;s.pipelines.preBatch(r),r.showTop&&(S=c.getTintAppendFloatAlpha(r.fillTop,x),T=o.getX(-d,-h),C=o.getY(-d,-h),E=o.getX(0,-p-h),P=o.getY(0,-p-h),M=o.getX(d,-h),L=o.getY(d,-h),R=o.getX(0,p-h),w=o.getY(0,p-h),l.batchQuad(r,T,C,E,P,M,L,R,w,0,0,1,1,S,S,S,S,2)),r.showLeft&&(S=c.getTintAppendFloatAlpha(r.fillLeft,x),T=o.getX(-d,0),C=o.getY(-d,0),E=o.getX(0,p),P=o.getY(0,p),M=o.getX(0,p-h),L=o.getY(0,p-h),R=o.getX(-d,-h),w=o.getY(-d,-h),l.batchQuad(r,T,C,E,P,M,L,R,w,0,0,1,1,S,S,S,S,2)),r.showRight&&(S=c.getTintAppendFloatAlpha(r.fillRight,x),T=o.getX(d,0),C=o.getY(d,0),E=o.getX(0,p),P=o.getY(0,p),M=o.getX(0,p-h),L=o.getY(0,p-h),R=o.getX(d,-h),w=o.getY(d,-h),l.batchQuad(r,T,C,E,P,M,L,R,w,0,0,1,1,S,S,S,S,2)),s.pipelines.postBatch(r)}};v.exports=a},65159:(v,y,t)=>{var u=t(56694),c=t(93387),a=t(91461),s=new u({Extends:a,Mixins:[c],initialize:function(e,i,l,n,o,f,h,d,p){i===void 0&&(i=0),l===void 0&&(l=0),n===void 0&&(n=48),o===void 0&&(o=32),f===void 0&&(f=!1),h===void 0&&(h=15658734),d===void 0&&(d=10066329),p===void 0&&(p=13421772),a.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=h,this.fillLeft=d,this.fillRight=p,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=f,this.isFilled=!0,this.setPosition(i,l),this.setSize(n,o),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setReversed:function(r){return this.isReversed=r,this},setFaces:function(r,e,i){return r===void 0&&(r=!0),e===void 0&&(e=!0),i===void 0&&(i=!0),this.showTop=r,this.showLeft=e,this.showRight=i,this},setFillStyle:function(r,e,i){return this.fillTop=r,this.fillLeft=e,this.fillRight=i,this.isFilled=!0,this}});v.exports=s},9923:(v,y,t)=>{var u=t(15608),c=t(49584),a=function(s,r,e,i){e.addToRenderList(r);var l=s.currentContext;if(c(s,l,r,e,i)&&r.isFilled){var n=r.width,o=r.height,f=n/2,h=n/r.projection,d=r.isReversed;r.showTop&&d&&(u(l,r,r.fillTop),l.beginPath(),l.moveTo(-f,-o),l.lineTo(0,-h-o),l.lineTo(f,-o),l.lineTo(0,h-o),l.fill()),r.showLeft&&(u(l,r,r.fillLeft),l.beginPath(),d?(l.moveTo(-f,-o),l.lineTo(0,h),l.lineTo(0,h-o)):(l.moveTo(-f,0),l.lineTo(0,h),l.lineTo(0,h-o)),l.fill()),r.showRight&&(u(l,r,r.fillRight),l.beginPath(),d?(l.moveTo(f,-o),l.lineTo(0,h),l.lineTo(0,h-o)):(l.moveTo(f,0),l.lineTo(0,h),l.lineTo(0,h-o)),l.fill()),l.restore()}};v.exports=a},67765:(v,y,t)=>{var u=t(61286),c=t(65159);u.register("isotriangle",function(a,s,r,e,i,l,n,o){return this.displayList.add(new c(this.scene,a,s,r,e,i,l,n,o))})},93387:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(54946),a=t(9923),v.exports={renderWebGL:c,renderCanvas:a}},54946:(v,y,t)=>{var u=t(73329),c=t(75512),a=function(s,r,e,i){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline),n=u(r,e,i),o=l.calcMatrix.copyFrom(n.calc),f=r.width,h=r.height,d=f/2,p=f/r.projection,x=r.isReversed,S=e.alpha*r.alpha;if(r.isFilled){s.pipelines.preBatch(r);var T,C,E,P,M,L,R;if(r.showTop&&x){T=c.getTintAppendFloatAlpha(r.fillTop,S),C=o.getX(-d,-h),E=o.getY(-d,-h),P=o.getX(0,-p-h),M=o.getY(0,-p-h),L=o.getX(d,-h),R=o.getY(d,-h);var w=o.getX(0,p-h),D=o.getY(0,p-h);l.batchQuad(r,C,E,P,M,L,R,w,D,0,0,1,1,T,T,T,T,2)}r.showLeft&&(T=c.getTintAppendFloatAlpha(r.fillLeft,S),x?(C=o.getX(-d,-h),E=o.getY(-d,-h),P=o.getX(0,p),M=o.getY(0,p),L=o.getX(0,p-h),R=o.getY(0,p-h)):(C=o.getX(-d,0),E=o.getY(-d,0),P=o.getX(0,p),M=o.getY(0,p),L=o.getX(0,p-h),R=o.getY(0,p-h)),l.batchTri(r,C,E,P,M,L,R,0,0,1,1,T,T,T,2)),r.showRight&&(T=c.getTintAppendFloatAlpha(r.fillRight,S),x?(C=o.getX(d,-h),E=o.getY(d,-h),P=o.getX(0,p),M=o.getY(0,p),L=o.getX(0,p-h),R=o.getY(0,p-h)):(C=o.getX(d,0),E=o.getY(d,0),P=o.getX(0,p),M=o.getY(0,p),L=o.getX(0,p-h),R=o.getY(0,p-h)),l.batchTri(r,C,E,P,M,L,R,0,0,1,1,T,T,T,2)),s.pipelines.postBatch(r)}};v.exports=a},579:(v,y,t)=>{var u=t(56694),c=t(91461),a=t(88829),s=t(52660),r=new u({Extends:c,Mixins:[s],initialize:function(i,l,n,o,f,h,d,p,x){l===void 0&&(l=0),n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=0),h===void 0&&(h=128),d===void 0&&(d=0),c.call(this,i,"Line",new a(o,f,h,d));var S=Math.max(1,this.geom.right-this.geom.left),T=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(l,n),this.setSize(S,T),p!==void 0&&this.setStrokeStyle(1,p,x),this.updateDisplayOrigin()},setLineWidth:function(e,i){return i===void 0&&(i=e),this._startWidth=e,this._endWidth=i,this.lineWidth=e,this},setTo:function(e,i,l,n){return this.geom.setTo(e,i,l,n),this}});v.exports=r},52044:(v,y,t)=>{var u=t(17876),c=t(49584),a=function(s,r,e,i){e.addToRenderList(r);var l=s.currentContext;if(c(s,l,r,e,i)){var n=r._displayOriginX,o=r._displayOriginY;r.isStroked&&(u(l,r),l.beginPath(),l.moveTo(r.geom.x1-n,r.geom.y1-o),l.lineTo(r.geom.x2-n,r.geom.y2-o),l.stroke()),l.restore()}};v.exports=a},85665:(v,y,t)=>{var u=t(61286),c=t(579);u.register("line",function(a,s,r,e,i,l,n,o){return this.displayList.add(new c(this.scene,a,s,r,e,i,l,n,o))})},52660:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(46952),a=t(52044),v.exports={renderWebGL:c,renderCanvas:a}},46952:(v,y,t)=>{var u=t(73329),c=t(75512),a=function(s,r,e,i){e.addToRenderList(r);var l=s.pipelines.set(r.pipeline),n=u(r,e,i);l.calcMatrix.copyFrom(n.calc);var o=r._displayOriginX,f=r._displayOriginY,h=e.alpha*r.alpha;if(s.pipelines.preBatch(r),r.isStroked){var d=l.strokeTint,p=c.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*h);d.TL=p,d.TR=p,d.BL=p,d.BR=p;var x=r._startWidth,S=r._endWidth;l.batchLine(r.geom.x1-o,r.geom.y1-f,r.geom.x2-o,r.geom.y2-f,x,S,1,0,!1,n.sprite,n.camera)}s.pipelines.postBatch(r)};v.exports=a},91249:(v,y,t)=>{var u=t(70573),c=t(56694),a=t(11117),s=t(14045),r=t(8580),e=t(91461),i=t(18974),l=new c({Extends:e,Mixins:[u],initialize:function(o,f,h,d,p,x){f===void 0&&(f=0),h===void 0&&(h=0),e.call(this,o,"Polygon",new r(d));var S=s(this.geom);this.setPosition(f,h),this.setSize(S.width,S.height),p!==void 0&&this.setFillStyle(p,x),this.updateDisplayOrigin(),this.updateData()},smooth:function(n){n===void 0&&(n=1);for(var o=0;o<n;o++)i(this.geom);return this.updateData()},setTo:function(n){this.geom.setTo(n);var o=s(this.geom);return this.setSize(o.width,o.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var n=[],o=this.geom.points,f=0;f<o.length;f++)n.push(o[f].x,o[f].y);return n.push(o[0].x,o[0].y),this.pathIndexes=a(n),this.pathData=n,this}});v.exports=l},40834:(v,y,t)=>{var u=t(15608),c=t(17876),a=t(49584),s=function(r,e,i,l){i.addToRenderList(e);var n=r.currentContext;if(a(r,n,e,i,l)){var o=e._displayOriginX,f=e._displayOriginY,h=e.pathData,d=h.length-1,p=h[0]-o,x=h[1]-f;n.beginPath(),n.moveTo(p,x),e.closePath||(d-=2);for(var S=2;S<d;S+=2){var T=h[S]-o,C=h[S+1]-f;n.lineTo(T,C)}e.closePath&&n.closePath(),e.isFilled&&(u(n,e),n.fill()),e.isStroked&&(c(n,e),n.stroke()),n.restore()}};v.exports=s},88203:(v,y,t)=>{var u=t(61286),c=t(91249);u.register("polygon",function(a,s,r,e,i){return this.displayList.add(new c(this.scene,a,s,r,e,i))})},70573:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(72841),a=t(40834),v.exports={renderWebGL:c,renderCanvas:a}},72841:(v,y,t)=>{var u=t(19543),c=t(73329),a=t(50262),s=function(r,e,i,l){i.addToRenderList(e);var n=r.pipelines.set(e.pipeline),o=c(e,i,l),f=n.calcMatrix.copyFrom(o.calc),h=e._displayOriginX,d=e._displayOriginY,p=i.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&u(n,f,e,p,h,d),e.isStroked&&a(n,e,p,h,d),r.pipelines.postBatch(e)};v.exports=s},517:(v,y,t)=>{var u=t(56694),c=t(74118),a=t(91461),s=t(37673),r=new u({Extends:a,Mixins:[s],initialize:function(i,l,n,o,f,h,d){l===void 0&&(l=0),n===void 0&&(n=0),o===void 0&&(o=128),f===void 0&&(f=128),a.call(this,i,"Rectangle",new c(0,0,o,f)),this.setPosition(l,n),this.setSize(o,f),h!==void 0&&this.setFillStyle(h,d),this.updateDisplayOrigin(),this.updateData()},setSize:function(e,i){this.width=e,this.height=i,this.geom.setSize(e,i),this.updateData(),this.updateDisplayOrigin();var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=e,l.hitArea.height=i),this},updateData:function(){var e=[],i=this.geom,l=this._tempLine;return i.getLineA(l),e.push(l.x1,l.y1,l.x2,l.y2),i.getLineB(l),e.push(l.x2,l.y2),i.getLineC(l),e.push(l.x2,l.y2),i.getLineD(l),e.push(l.x2,l.y2),this.pathData=e,this}});v.exports=r},4091:(v,y,t)=>{var u=t(15608),c=t(17876),a=t(49584),s=function(r,e,i,l){i.addToRenderList(e);var n=r.currentContext;if(a(r,n,e,i,l)){var o=e._displayOriginX,f=e._displayOriginY;e.isFilled&&(u(n,e),n.fillRect(-o,-f,e.width,e.height)),e.isStroked&&(c(n,e),n.beginPath(),n.rect(-o,-f,e.width,e.height),n.stroke()),n.restore()}};v.exports=s},94355:(v,y,t)=>{var u=t(61286),c=t(517);u.register("rectangle",function(a,s,r,e,i,l){return this.displayList.add(new c(this.scene,a,s,r,e,i,l))})},37673:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(43532),a=t(4091),v.exports={renderWebGL:c,renderCanvas:a}},43532:(v,y,t)=>{var u=t(73329),c=t(50262),a=t(75512),s=function(r,e,i,l){i.addToRenderList(e);var n=r.pipelines.set(e.pipeline),o=u(e,i,l);n.calcMatrix.copyFrom(o.calc);var f=e._displayOriginX,h=e._displayOriginY,d=i.alpha*e.alpha;if(r.pipelines.preBatch(e),e.isFilled){var p=n.fillTint,x=a.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);p.TL=x,p.TR=x,p.BL=x,p.BR=x,n.batchFillRect(-f,-h,e.width,e.height)}e.isStroked&&c(n,e,d,f,h),r.pipelines.postBatch(e)};v.exports=s},77843:(v,y,t)=>{var u=t(87956),c=t(56694),a=t(11117),s=t(91461),r=new c({Extends:s,Mixins:[u],initialize:function(i,l,n,o,f,h,d,p){l===void 0&&(l=0),n===void 0&&(n=0),o===void 0&&(o=5),f===void 0&&(f=32),h===void 0&&(h=64),s.call(this,i,"Star",null),this._points=o,this._innerRadius=f,this._outerRadius=h,this.setPosition(l,n),this.setSize(h*2,h*2),d!==void 0&&this.setFillStyle(d,p),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],i=this._points,l=this._innerRadius,n=this._outerRadius,o=Math.PI/2*3,f=Math.PI/i,h=n,d=n;e.push(h,d+-n);for(var p=0;p<i;p++)e.push(h+Math.cos(o)*n,d+Math.sin(o)*n),o+=f,e.push(h+Math.cos(o)*l,d+Math.sin(o)*l),o+=f;return e.push(h,d+-n),this.pathIndexes=a(e),this.pathData=e,this}});v.exports=r},11401:(v,y,t)=>{var u=t(15608),c=t(17876),a=t(49584),s=function(r,e,i,l){i.addToRenderList(e);var n=r.currentContext;if(a(r,n,e,i,l)){var o=e._displayOriginX,f=e._displayOriginY,h=e.pathData,d=h.length-1,p=h[0]-o,x=h[1]-f;n.beginPath(),n.moveTo(p,x),e.closePath||(d-=2);for(var S=2;S<d;S+=2){var T=h[S]-o,C=h[S+1]-f;n.lineTo(T,C)}n.closePath(),e.isFilled&&(u(n,e),n.fill()),e.isStroked&&(c(n,e),n.stroke()),n.restore()}};v.exports=s},23962:(v,y,t)=>{var u=t(77843),c=t(61286);c.register("star",function(a,s,r,e,i,l,n){return this.displayList.add(new u(this.scene,a,s,r,e,i,l,n))})},87956:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(12037),a=t(11401),v.exports={renderWebGL:c,renderCanvas:a}},12037:(v,y,t)=>{var u=t(19543),c=t(73329),a=t(50262),s=function(r,e,i,l){i.addToRenderList(e);var n=r.pipelines.set(e.pipeline),o=c(e,i,l),f=n.calcMatrix.copyFrom(o.calc),h=e._displayOriginX,d=e._displayOriginY,p=i.alpha*e.alpha;r.pipelines.preBatch(e),e.isFilled&&u(n,f,e,p,h,d),e.isStroked&&a(n,e,p,h,d),r.pipelines.postBatch(e)};v.exports=s},21873:(v,y,t)=>{var u=t(56694),c=t(91461),a=t(66349),s=t(70498),r=new u({Extends:c,Mixins:[s],initialize:function(i,l,n,o,f,h,d,p,x,S,T){l===void 0&&(l=0),n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=128),h===void 0&&(h=64),d===void 0&&(d=0),p===void 0&&(p=128),x===void 0&&(x=128),c.call(this,i,"Triangle",new a(o,f,h,d,p,x));var C=this.geom.right-this.geom.left,E=this.geom.bottom-this.geom.top;this.setPosition(l,n),this.setSize(C,E),S!==void 0&&this.setFillStyle(S,T),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,i,l,n,o,f){return this.geom.setTo(e,i,l,n,o,f),this.updateData()},updateData:function(){var e=[],i=this.geom,l=this._tempLine;return i.getLineA(l),e.push(l.x1,l.y1,l.x2,l.y2),i.getLineB(l),e.push(l.x2,l.y2),i.getLineC(l),e.push(l.x2,l.y2),this.pathData=e,this}});v.exports=r},60213:(v,y,t)=>{var u=t(15608),c=t(17876),a=t(49584),s=function(r,e,i,l){i.addToRenderList(e);var n=r.currentContext;if(a(r,n,e,i,l)){var o=e._displayOriginX,f=e._displayOriginY,h=e.geom.x1-o,d=e.geom.y1-f,p=e.geom.x2-o,x=e.geom.y2-f,S=e.geom.x3-o,T=e.geom.y3-f;n.beginPath(),n.moveTo(h,d),n.lineTo(p,x),n.lineTo(S,T),n.closePath(),e.isFilled&&(u(n,e),n.fill()),e.isStroked&&(c(n,e),n.stroke()),n.restore()}};v.exports=s},79296:(v,y,t)=>{var u=t(61286),c=t(21873);u.register("triangle",function(a,s,r,e,i,l,n,o,f,h){return this.displayList.add(new c(this.scene,a,s,r,e,i,l,n,o,f,h))})},70498:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(72291),a=t(60213),v.exports={renderWebGL:c,renderCanvas:a}},72291:(v,y,t)=>{var u=t(73329),c=t(50262),a=t(75512),s=function(r,e,i,l){i.addToRenderList(e);var n=r.pipelines.set(e.pipeline),o=u(e,i,l);n.calcMatrix.copyFrom(o.calc);var f=e._displayOriginX,h=e._displayOriginY,d=i.alpha*e.alpha;if(r.pipelines.preBatch(e),e.isFilled){var p=n.fillTint,x=a.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*d);p.TL=x,p.TR=x,p.BL=x,p.BR=x;var S=e.geom.x1-f,T=e.geom.y1-h,C=e.geom.x2-f,E=e.geom.y2-h,P=e.geom.x3-f,M=e.geom.y3-h;n.batchFillTriangle(S,T,C,E,P,M,o.sprite,o.camera)}e.isStroked&&c(n,e,d,f,h),r.pipelines.postBatch(e)};v.exports=s},13747:(v,y,t)=>{var u=t(16569),c=t(56694),a=t(64937),s=t(89980),r=t(20791),e=new c({Extends:s,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.TextureCrop,a.Tint,a.Transform,a.Visible,r],initialize:function(l,n,o,f,h){s.call(this,l,"Sprite"),this._crop=this.resetCropObject(),this.anims=new u(this),this.setTexture(f,h),this.setPosition(n,o),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(i,l){this.anims.update(i,l)},play:function(i,l){return this.anims.play(i,l)},playReverse:function(i,l){return this.anims.playReverse(i,l)},playAfterDelay:function(i,l){return this.anims.playAfterDelay(i,l)},playAfterRepeat:function(i,l){return this.anims.playAfterRepeat(i,l)},chain:function(i){return this.anims.chain(i)},stop:function(){return this.anims.stop()},stopAfterDelay:function(i){return this.anims.stopAfterDelay(i)},stopAfterRepeat:function(i){return this.anims.stopAfterRepeat(i)},stopOnFrame:function(i){return this.anims.stopOnFrame(i)},toJSON:function(){return a.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});v.exports=e},27573:v=>{var y=function(t,u,c,a){c.addToRenderList(u),t.batchSprite(u,u.frame,c,a)};v.exports=y},89219:(v,y,t)=>{var u=t(88933),c=t(32291),a=t(99325),s=t(20494),r=t(13747);a.register("sprite",function(e,i){e===void 0&&(e={});var l=s(e,"key",null),n=s(e,"frame",null),o=new r(this.scene,0,0,l,n);return i!==void 0&&(e.add=i),u(this.scene,o,e),c(o,e),o})},66135:(v,y,t)=>{var u=t(61286),c=t(13747);u.register("sprite",function(a,s,r,e){return this.displayList.add(new c(this.scene,a,s,r,e))})},20791:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(21034),a=t(27573),v.exports={renderWebGL:c,renderCanvas:a}},21034:v=>{var y=function(t,u,c,a){c.addToRenderList(u),u.pipeline.batchSprite(u,c,a)};v.exports=y},32979:v=>{var y=function(t,u,c){var a=t.canvas,s=t.context,r=t.style,e=[],i=0,l=c.length;r.maxLines>0&&r.maxLines<c.length&&(l=r.maxLines),r.syncFont(a,s);for(var n=0;n<l;n++){var o=r.strokeThickness;o+=s.measureText(c[n]).width,r.wordWrap&&(o-=s.measureText(" ").width),e[n]=Math.ceil(o),i=Math.max(i,e[n])}var f=u.fontSize+r.strokeThickness,h=f*l,d=t.lineSpacing;return l>1&&(h+=d*(l-1)),{width:i,height:h,lines:l,lineWidths:e,lineSpacing:d,lineHeight:f}};v.exports=y},27030:(v,y,t)=>{var u=t(61068),c=function(a){var s=u.create(this),r=s.getContext("2d",{willReadFrequently:!0});a.syncFont(s,r);var e=r.measureText(a.testString);if("actualBoundingBoxAscent"in e){var i=e.actualBoundingBoxAscent,l=e.actualBoundingBoxDescent;return u.remove(s),{ascent:i,descent:l,fontSize:i+l}}var n=Math.ceil(e.width*a.baselineX),o=n,f=2*o;o=o*a.baselineY|0,s.width=n,s.height=f,r.fillStyle="#f00",r.fillRect(0,0,n,f),r.font=a._font,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(a.testString,0,o);var h={ascent:0,descent:0,fontSize:0},d=r.getImageData(0,0,n,f);if(!d)return h.ascent=o,h.descent=o+6,h.fontSize=h.ascent+h.descent,u.remove(s),h;var p=d.data,x=p.length,S=n*4,T,C,E=0,P=!1;for(T=0;T<o;T++){for(C=0;C<S;C+=4)if(p[E+C]!==255){P=!0;break}if(!P)E+=S;else break}for(h.ascent=o-T,E=x-S,P=!1,T=f;T>o;T--){for(C=0;C<S;C+=4)if(p[E+C]!==255){P=!0;break}if(!P)E-=S;else break}return h.descent=T-o,h.fontSize=h.ascent+h.descent,u.remove(s),h};v.exports=c},76555:(v,y,t)=>{var u=t(99584),c=t(61068),a=t(56694),s=t(64937),r=t(89980),e=t(32979),i=t(10850),l=t(55638),n=t(80032),o=t(74744),f=new a({Extends:r,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.PostPipeline,s.ScrollFactor,s.Tint,s.Transform,s.Visible,n],initialize:function(d,p,x,S,T){p===void 0&&(p=0),x===void 0&&(x=0),r.call(this,d,"Text"),this.renderer=d.sys.renderer,this.setPosition(p,x),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=c.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.style=new o(this,T),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=d.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(S),T&&T.padding&&this.setPadding(T.padding),T&&T.lineSpacing&&this.setLineSpacing(T.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",u(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(h){var d=this.style;if(d.wordWrapCallback){var p=d.wordWrapCallback.call(d.wordWrapCallbackScope,h,this);return Array.isArray(p)&&(p=p.join(`
`)),p}else return d.wordWrapWidth?d.wordWrapUseAdvanced?this.advancedWordWrap(h,this.context,this.style.wordWrapWidth):this.basicWordWrap(h,this.context,this.style.wordWrapWidth):h},advancedWordWrap:function(h,d,p){for(var x="",S=h.replace(/ +/gi," ").split(this.splitRegExp),T=S.length,C=0;C<T;C++){var E=S[C],P="";E=E.replace(/^ *|\s*$/gi,"");var M=d.measureText(E).width;if(M<p){x+=E+`
`;continue}for(var L=p,R=E.split(" "),w=0;w<R.length;w++){var D=R[w],B=D+" ",z=d.measureText(B).width;if(z>L){if(w===0){for(var V=B;V.length&&(V=V.slice(0,-1),z=d.measureText(V).width,!(z<=L)););if(!V.length)throw new Error("wordWrapWidth < a single character");var Y=D.substr(V.length);R[w]=Y,P+=V}var H=R[w].length?w:w+1,I=R.slice(H).join(" ").replace(/[ \n]*$/gi,"");S.splice(C+1,0,I),T=S.length;break}else P+=B,L-=z}x+=P.replace(/[ \n]*$/gi,"")+`
`}return x=x.replace(/[\s|\n]*$/gi,""),x},basicWordWrap:function(h,d,p){for(var x="",S=h.split(this.splitRegExp),T=S.length-1,C=d.measureText(" ").width,E=0;E<=T;E++){for(var P=p,M=S[E].split(" "),L=M.length-1,R=0;R<=L;R++){var w=M[R],D=d.measureText(w).width,B=D;R<L&&(B+=C),B>P&&R>0&&(x+=`
`,P=p),x+=w,R<L?(x+=" ",P-=B):P-=D}E<T&&(x+=`
`)}return x},getWrappedText:function(h){h===void 0&&(h=this._text),this.style.syncFont(this.canvas,this.context);var d=this.runWordWrap(h);return d.split(this.splitRegExp)},setText:function(h){return!h&&h!==0&&(h=""),Array.isArray(h)&&(h=h.join(`
`)),h!==this._text&&(this._text=h.toString(),this.updateText()),this},appendText:function(h,d){d===void 0&&(d=!0),!h&&h!==0&&(h=""),Array.isArray(h)&&(h=h.join(`
`)),h=h.toString();var p=this._text.concat(d?`
`+h:h);return p!==this._text&&(this._text=p,this.updateText()),this},setStyle:function(h){return this.style.setStyle(h)},setFont:function(h){return this.style.setFont(h)},setFontFamily:function(h){return this.style.setFontFamily(h)},setFontSize:function(h){return this.style.setFontSize(h)},setFontStyle:function(h){return this.style.setFontStyle(h)},setFixedSize:function(h,d){return this.style.setFixedSize(h,d)},setBackgroundColor:function(h){return this.style.setBackgroundColor(h)},setFill:function(h){return this.style.setFill(h)},setColor:function(h){return this.style.setColor(h)},setStroke:function(h,d){return this.style.setStroke(h,d)},setShadow:function(h,d,p,x,S,T){return this.style.setShadow(h,d,p,x,S,T)},setShadowOffset:function(h,d){return this.style.setShadowOffset(h,d)},setShadowColor:function(h){return this.style.setShadowColor(h)},setShadowBlur:function(h){return this.style.setShadowBlur(h)},setShadowStroke:function(h){return this.style.setShadowStroke(h)},setShadowFill:function(h){return this.style.setShadowFill(h)},setWordWrapWidth:function(h,d){return this.style.setWordWrapWidth(h,d)},setWordWrapCallback:function(h,d){return this.style.setWordWrapCallback(h,d)},setAlign:function(h){return this.style.setAlign(h)},setResolution:function(h){return this.style.setResolution(h)},setLineSpacing:function(h){return this.lineSpacing=h,this.updateText()},setPadding:function(h,d,p,x){if(typeof h=="object"){var S=h,T=i(S,"x",null);T!==null?(h=T,p=T):(h=i(S,"left",0),p=i(S,"right",h));var C=i(S,"y",null);C!==null?(d=C,x=C):(d=i(S,"top",0),x=i(S,"bottom",d))}else h===void 0&&(h=0),d===void 0&&(d=h),p===void 0&&(p=h),x===void 0&&(x=d);return this.padding.left=h,this.padding.top=d,this.padding.right=p,this.padding.bottom=x,this.updateText()},setMaxLines:function(h){return this.style.setMaxLines(h)},updateText:function(){var h=this.canvas,d=this.context,p=this.style,x=p.resolution,S=p.metrics;p.syncFont(h,d);var T=this._text;(p.wordWrapWidth||p.wordWrapCallback)&&(T=this.runWordWrap(this._text));var C=T.split(this.splitRegExp),E=e(this,S,C),P=this.padding,M;p.fixedWidth===0?(this.width=E.width+P.left+P.right,M=E.width):(this.width=p.fixedWidth,M=this.width-P.left-P.right,M<E.width&&(M=E.width)),p.fixedHeight===0?this.height=E.height+P.top+P.bottom:this.height=p.fixedHeight;var L=this.width,R=this.height;this.updateDisplayOrigin(),L*=x,R*=x,L=Math.max(L,1),R=Math.max(R,1),h.width!==L||h.height!==R?(h.width=L,h.height=R,this.frame.setSize(L,R),p.syncFont(h,d),p.rtl&&(d.direction="rtl")):d.clearRect(0,0,L,R),d.save(),d.scale(x,x),p.backgroundColor&&(d.fillStyle=p.backgroundColor,d.fillRect(0,0,L,R)),p.syncStyle(h,d),d.translate(P.left,P.top);for(var w,D,B=0;B<E.lines;B++){if(w=p.strokeThickness/2,D=p.strokeThickness/2+B*E.lineHeight+S.ascent,B>0&&(D+=E.lineSpacing*B),p.rtl)w=L-w-P.left-P.right;else if(p.align==="right")w+=M-E.lineWidths[B];else if(p.align==="center")w+=(M-E.lineWidths[B])/2;else if(p.align==="justify"){var z=.85;if(E.lineWidths[B]/E.width>=z){var V=E.width-E.lineWidths[B],Y=d.measureText(" ").width,H=C[B].trim(),I=H.split(" ");V+=(C[B].length-H.length)*Y;for(var U=Math.floor(V/Y),O=0;U>0;)I[O]+=" ",O=(O+1)%(I.length-1||1),--U;C[B]=I.join(" ")}}this.autoRound&&(w=Math.round(w),D=Math.round(D)),p.strokeThickness&&(p.syncShadow(d,p.shadowStroke),d.strokeText(C[B],w,D)),p.color&&(p.syncShadow(d,p.shadowFill),d.fillText(C[B],w,D))}d.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(h,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var N=this.input;return N&&!N.customHitArea&&(N.hitArea.width=this.width,N.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(h){this.setText(h)}},toJSON:function(){var h=s.ToJSON(this),d={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return h.data=d,h},preDestroy:function(){this.style.rtl&&l(this.canvas),c.remove(this.canvas),this.texture.destroy()}});v.exports=f},71649:v=>{var y=function(t,u,c,a){u.width===0||u.height===0||(c.addToRenderList(u),t.batchSprite(u,u.frame,c,a))};v.exports=y},75397:(v,y,t)=>{var u=t(88933),c=t(99325),a=t(20494),s=t(76555);c.register("text",function(r,e){r===void 0&&(r={});var i=a(r,"text",""),l=a(r,"style",null),n=a(r,"padding",null);n!==null&&(l.padding=n);var o=new s(this.scene,0,0,i,l);return e!==void 0&&(r.add=e),u(this.scene,o,r),o.autoRound=a(r,"autoRound",!0),o.resolution=a(r,"resolution",1),o})},94627:(v,y,t)=>{var u=t(76555),c=t(61286);c.register("text",function(a,s,r,e){return this.displayList.add(new u(this.scene,a,s,r,e))})},80032:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(76128),a=t(71649),v.exports={renderWebGL:c,renderCanvas:a}},74744:(v,y,t)=>{var u=t(56694),c=t(20494),a=t(10850),s=t(27030),r={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xC3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new u({initialize:function(l,n){this.parent=l,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(n,!1,!0)},setStyle:function(i,l,n){l===void 0&&(l=!0),n===void 0&&(n=!1),i&&i.hasOwnProperty("fontSize")&&typeof i.fontSize=="number"&&(i.fontSize=i.fontSize.toString()+"px");for(var o in r){var f=n?r[o][1]:this[o];o==="wordWrapCallback"||o==="wordWrapCallbackScope"?this[o]=a(i,r[o][0],f):this[o]=c(i,r[o][0],f)}var h=a(i,"font",null);h!==null&&this.setFont(h,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var d=a(i,"fill",null);d!==null&&(this.color=d);var p=a(i,"metrics",!1);return p?this.metrics={ascent:a(p,"ascent",0),descent:a(p,"descent",0),fontSize:a(p,"fontSize",0)}:(l||!this.metrics)&&(this.metrics=s(this)),l?this.parent.updateText():this.parent},syncFont:function(i,l){l.font=this._font},syncStyle:function(i,l){l.textBaseline="alphabetic",l.fillStyle=this.color,l.strokeStyle=this.stroke,l.lineWidth=this.strokeThickness,l.lineCap="round",l.lineJoin="round"},syncShadow:function(i,l){l?(i.shadowOffsetX=this.shadowOffsetX,i.shadowOffsetY=this.shadowOffsetY,i.shadowColor=this.shadowColor,i.shadowBlur=this.shadowBlur):(i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowColor=0,i.shadowBlur=0)},update:function(i){return i&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=s(this)),this.parent.updateText()},setFont:function(i,l){l===void 0&&(l=!0);var n=i,o="",f="";if(typeof i!="string")n=a(i,"fontFamily","Courier"),o=a(i,"fontSize","16px"),f=a(i,"fontStyle","");else{var h=i.split(" "),d=0;f=h.length>2?h[d++]:"",o=h[d++]||"16px",n=h[d++]||"Courier"}return(n!==this.fontFamily||o!==this.fontSize||f!==this.fontStyle)&&(this.fontFamily=n,this.fontSize=o,this.fontStyle=f,l&&this.update(!0)),this.parent},setFontFamily:function(i){return this.fontFamily!==i&&(this.fontFamily=i,this.update(!0)),this.parent},setFontStyle:function(i){return this.fontStyle!==i&&(this.fontStyle=i,this.update(!0)),this.parent},setFontSize:function(i){return typeof i=="number"&&(i=i.toString()+"px"),this.fontSize!==i&&(this.fontSize=i,this.update(!0)),this.parent},setTestString:function(i){return this.testString=i,this.update(!0)},setFixedSize:function(i,l){return this.fixedWidth=i,this.fixedHeight=l,i&&(this.parent.width=i),l&&(this.parent.height=l),this.update(!1)},setBackgroundColor:function(i){return this.backgroundColor=i,this.update(!1)},setFill:function(i){return this.color=i,this.update(!1)},setColor:function(i){return this.color=i,this.update(!1)},setResolution:function(i){return this.resolution=i,this.update(!1)},setStroke:function(i,l){return l===void 0&&(l=this.strokeThickness),i===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==i||this.strokeThickness!==l)&&(this.stroke=i,this.strokeThickness=l,this.update(!0)),this.parent},setShadow:function(i,l,n,o,f,h){return i===void 0&&(i=0),l===void 0&&(l=0),n===void 0&&(n="#000"),o===void 0&&(o=0),f===void 0&&(f=!1),h===void 0&&(h=!0),this.shadowOffsetX=i,this.shadowOffsetY=l,this.shadowColor=n,this.shadowBlur=o,this.shadowStroke=f,this.shadowFill=h,this.update(!1)},setShadowOffset:function(i,l){return i===void 0&&(i=0),l===void 0&&(l=i),this.shadowOffsetX=i,this.shadowOffsetY=l,this.update(!1)},setShadowColor:function(i){return i===void 0&&(i="#000"),this.shadowColor=i,this.update(!1)},setShadowBlur:function(i){return i===void 0&&(i=0),this.shadowBlur=i,this.update(!1)},setShadowStroke:function(i){return this.shadowStroke=i,this.update(!1)},setShadowFill:function(i){return this.shadowFill=i,this.update(!1)},setWordWrapWidth:function(i,l){return l===void 0&&(l=!1),this.wordWrapWidth=i,this.wordWrapUseAdvanced=l,this.update(!1)},setWordWrapCallback:function(i,l){return l===void 0&&(l=null),this.wordWrapCallback=i,this.wordWrapCallbackScope=l,this.update(!1)},setAlign:function(i){return i===void 0&&(i="left"),this.align=i,this.update(!1)},setMaxLines:function(i){return i===void 0&&(i=0),this.maxLines=i,this.update(!1)},getTextMetrics:function(){var i=this.metrics;return{ascent:i.ascent,descent:i.descent,fontSize:i.fontSize}},toJSON:function(){var i={};for(var l in r)i[l]=this[l];return i.metrics=this.getTextMetrics(),i},destroy:function(){this.parent=void 0}});v.exports=e},76128:(v,y,t)=>{var u=t(75512),c=function(a,s,r,e){if(!(s.width===0||s.height===0)){r.addToRenderList(s);var i=s.frame,l=i.width,n=i.height,o=u.getTintAppendFloatAlpha,f=a.pipelines.set(s.pipeline,s),h=f.setTexture2D(i.glTexture,s);f.batchTexture(s,i.glTexture,l,n,s.x,s.y,l/s.style.resolution,n/s.style.resolution,s.scaleX,s.scaleY,s.rotation,s.flipX,s.flipY,s.scrollFactorX,s.scrollFactorY,s.displayOriginX,s.displayOriginY,0,0,l,n,o(s.tintTopLeft,r.alpha*s._alphaTL),o(s.tintTopRight,r.alpha*s._alphaTR),o(s.tintBottomLeft,r.alpha*s._alphaBL),o(s.tintBottomRight,r.alpha*s._alphaBR),s.tintFill,0,0,r,e,!1,h)}};v.exports=c},35856:(v,y,t)=>{var u=t(61068),c=t(56694),a=t(64937),s=t(89980),r=t(3504),e=t(8213),i=t(9271),l=t(93736),n=8,o=new c({Extends:s,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,i],initialize:function(h,d,p,x,S,T,C){var E=h.sys.renderer;s.call(this,h,"TileSprite");var P=h.sys.textures.get(T),M=P.get(C);M.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),P=h.sys.textures.get("__MISSING"),M=P.get()),P.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),P=h.sys.textures.get("__MISSING"),M=P.get()),!x||!S?(x=M.width,S=M.height):(x=Math.floor(x),S=Math.floor(S)),this._tilePosition=new l,this._tileScale=new l(1,1),this.dirty=!1,this.renderer=E,this.canvas=u.create(this,x,S),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=P,this.displayFrame=M,this._crop=this.resetCropObject(),this.texture=h.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=r(M.width),this.potHeight=r(M.height),this.fillCanvas=u.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(d,p),this.setSize(x,S),this.setFrame(C),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(f,h){return this.displayTexture=this.scene.sys.textures.get(f),this.setFrame(h)},setFrame:function(f){var h=this.displayTexture.get(f);return this.potWidth=r(h.width),this.potHeight=r(h.height),this.canvas.width=0,!h.cutWidth||!h.cutHeight?this.renderFlags&=~n:this.renderFlags|=n,this.displayFrame=h,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(f,h){return f!==void 0&&(this.tilePositionX=f),h!==void 0&&(this.tilePositionY=h),this},setTileScale:function(f,h){return f===void 0&&(f=this.tileScaleX),h===void 0&&(h=f),this.tileScaleX=f,this.tileScaleY=h,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var f=this.displayFrame;if(f.source.isRenderTexture||f.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var h=this.fillContext,d=this.fillCanvas,p=this.potWidth,x=this.potHeight;(!this.renderer||!this.renderer.gl)&&(p=f.cutWidth,x=f.cutHeight),h.clearRect(0,0,p,x),d.width=p,d.height=x,h.drawImage(f.source.image,f.cutX,f.cutY,f.cutWidth,f.cutHeight,0,0,p,x),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(d,this.fillPattern):this.fillPattern=h.createPattern(d,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var f=this.canvas;if((f.width!==this.width||f.height!==this.height)&&(f.width=this.width,f.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var h=this.context;this.scene.sys.game.config.antialias||e.disable(h);var d=this._tileScale.x,p=this._tileScale.y,x=this._tilePosition.x,S=this._tilePosition.y;h.clearRect(0,0,this.width,this.height),h.save(),h.scale(d,p),h.translate(-x,-S),h.fillStyle=this.fillPattern,h.fillRect(x,S,this.width/d,this.height/p),h.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),u.remove(this.canvas),u.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(f){this._tilePosition.x=f,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(f){this._tilePosition.y=f,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(f){this._tileScale.x=f,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(f){this._tileScale.y=f,this.dirty=!0}}});v.exports=o},93305:v=>{var y=function(t,u,c,a){u.updateCanvas(),c.addToRenderList(u),t.batchSprite(u,u.frame,c,a)};v.exports=y},63950:(v,y,t)=>{var u=t(88933),c=t(99325),a=t(20494),s=t(35856);c.register("tileSprite",function(r,e){r===void 0&&(r={});var i=a(r,"x",0),l=a(r,"y",0),n=a(r,"width",512),o=a(r,"height",512),f=a(r,"key",""),h=a(r,"frame",""),d=new s(this.scene,i,l,n,o,f,h);return e!==void 0&&(r.add=e),u(this.scene,d,r),d})},20509:(v,y,t)=>{var u=t(35856),c=t(61286);c.register("tileSprite",function(a,s,r,e,i,l){return this.displayList.add(new u(this.scene,a,s,r,e,i,l))})},9271:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(74287),a=t(93305),v.exports={renderWebGL:c,renderCanvas:a}},74287:(v,y,t)=>{var u=t(75512),c=function(a,s,r,e){s.updateCanvas();var i=s.width,l=s.height;if(!(i===0||l===0)){r.addToRenderList(s);var n=u.getTintAppendFloatAlpha,o=a.pipelines.set(s.pipeline,s),f=o.setTexture2D(s.fillPattern,s);o.batchTexture(s,s.fillPattern,s.displayFrame.width*s.tileScaleX,s.displayFrame.height*s.tileScaleY,s.x,s.y,i,l,s.scaleX,s.scaleY,s.rotation,s.flipX,s.flipY,s.scrollFactorX,s.scrollFactorY,s.originX*i,s.originY*l,0,0,i,l,n(s.tintTopLeft,r.alpha*s._alphaTL),n(s.tintTopRight,r.alpha*s._alphaTR),n(s.tintBottomLeft,r.alpha*s._alphaBL),n(s.tintBottomRight,r.alpha*s._alphaBR),s.tintFill,s.tilePositionX%s.displayFrame.width/s.displayFrame.width,s.tilePositionY%s.displayFrame.height/s.displayFrame.height,r,e,!1,f)}};v.exports=c},8630:(v,y,t)=>{var u=t(82897),c=t(56694),a=t(64937),s=t(56631),r=t(97081),e=t(89980),i=t(83392),l=t(76038),n=t(76583),o=t(77974),f=new c({Extends:e,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.TextureCrop,a.Tint,a.Transform,a.Visible,o],initialize:function(d,p,x,S){e.call(this,d,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=n(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var T=d.sys.game;this._device=T.device.video,this.setPosition(p,x),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),T.events.on(r.PAUSE,this.globalPause,this),T.events.on(r.RESUME,this.globalResume,this);var C=d.sys.sound;C&&C.on(l.GLOBAL_MUTE,this.globalMute,this),S&&this.load(S)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(h){var d=this.scene.sys.cache.video.get(h);return d?(this.cacheKey=h,this.loadHandler(d.url,d.noAudio,d.crossOrigin)):console.warn("No video in cache for key: "+h),this},changeSource:function(h,d,p,x,S){d===void 0&&(d=!0),p===void 0&&(p=!1),this.cacheKey!==h&&(this.load(h),d&&this.play(p,x,S))},getVideoKey:function(){return this.cacheKey},loadURL:function(h,d,p){d===void 0&&(d=!1);var x=this._device.getVideoURL(h);return x?(this.cacheKey="",this.loadHandler(x.url,d,p)):console.warn("No supported video format found for "+h),this},loadMediaStream:function(h,d,p){return this.loadHandler(null,d,p,h)},loadHandler:function(h,d,p,x){d||(d=!1);var S=this.video;if(S?(this.removeLoadEventHandlers(),this.stop()):(S=document.createElement("video"),S.controls=!1,S.setAttribute("playsinline","playsinline"),S.setAttribute("preload","auto"),S.setAttribute("disablePictureInPicture","true")),d?(S.muted=!0,S.defaultMuted=!0,S.setAttribute("autoplay","autoplay")):(S.muted=!1,S.defaultMuted=!1,S.removeAttribute("autoplay")),p?S.setAttribute("crossorigin",p):S.removeAttribute("crossorigin"),x)if("srcObject"in S)try{S.srcObject=x}catch(T){if(T.name!=="TypeError")throw T;S.src=URL.createObjectURL(x)}else S.src=URL.createObjectURL(x);else S.src=h;return this.addLoadEventHandlers(),this.retry=0,this.video=S,this._playCalled=!1,S.load(),this},requestVideoFrame:function(h,d){var p=this.video;if(p){var x=d.width,S=d.height,T=this.videoTexture,C=this.videoTextureSource,E=!T||C.source!==p;E?(this._codePaused=p.paused,this._codeMuted=p.muted,T?(C.source=p,C.width=x,C.height=S,T.get().setSize(x,S)):(T=this.scene.sys.textures.create(this._key,p,x,S),T.add("__BASE",0,0,0,x,S),this.setTexture(T),this.videoTexture=T,this.videoTextureSource=T.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(s.VIDEO_TEXTURE,this,T)),this.setSizeToFrame(),this.updateDisplayOrigin()):C.update(),this.isStalled=!1,this.metadata=d;var P=d.mediaTime;E&&(this._lastUpdate=P,this.emit(s.VIDEO_CREATED,this,x,S),this.frameReady||(this.frameReady=!0,this.emit(s.VIDEO_PLAY,this))),this._playingMarker?P>=this._markerOut&&(p.loop?(p.currentTime=this._markerIn,this.emit(s.VIDEO_LOOP,this)):(this.stop(!1),this.emit(s.VIDEO_COMPLETE,this))):P<this._lastUpdate&&this.emit(s.VIDEO_LOOP,this),this._lastUpdate=P,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(h,d,p){d===void 0&&(d=-1),p===void 0&&(p=i.MAX_SAFE_INTEGER);var x=this.video;return!x||this.isPlaying()?(x||console.warn("Video not loaded"),this):(h===void 0&&(h=x.loop),x.loop=h,this._markerIn=d,this._markerOut=p,this._playingMarker=d>-1&&p>d&&p<i.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=x.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var h=this.video;h&&(h.addEventListener("error",this._loadCallbackHandler),h.addEventListener("abort",this._loadCallbackHandler))},removeLoadEventHandlers:function(){var h=this.video;h&&(h.removeEventListener("error",this._loadCallbackHandler),h.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var h=this.video;if(h){var d=this._callbacks;for(var p in d)h.addEventListener(p,d[p])}},removeEventHandlers:function(){var h=this.video;if(h){var d=this._callbacks;for(var p in d)h.removeEventListener(p,d[p])}},createPlayPromise:function(h){h===void 0&&(h=!0);var d=this.video,p=d.play();if(p!==void 0){var x=this.playSuccess.bind(this),S=this.playError.bind(this);if(!h){var T=this;S=function(){T.failedPlayAttempts++}}p.then(x).catch(S)}else d.addEventListener("playing",this._callbacks.legacy),h||this.failedPlayAttempts++},addMarker:function(h,d,p){return!isNaN(d)&&d>=0&&!isNaN(p)&&p>d&&(this.markers[h]=[d,p]),this},playMarker:function(h,d){var p=this.markers[h];return p&&this.play(d,p[0],p[1]),this},removeMarker:function(h){return delete this.markers[h],this},snapshot:function(h,d){return h===void 0&&(h=this.width),d===void 0&&(d=this.height),this.snapshotArea(0,0,this.width,this.height,h,d)},snapshotArea:function(h,d,p,x,S,T){h===void 0&&(h=0),d===void 0&&(d=0),p===void 0&&(p=this.width),x===void 0&&(x=this.height),S===void 0&&(S=p),T===void 0&&(T=x);var C=this.video,E=this.snapshotTexture;return E?(E.setSize(S,T),C&&E.context.drawImage(C,h,d,p,x,0,0,S,T)):(E=this.scene.sys.textures.createCanvas(n(),S,T),this.snapshotTexture=E,C&&E.context.drawImage(C,h,d,p,x,0,0,S,T)),E.update()},saveSnapshotTexture:function(h){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,h):this.snapshotTexture=this.scene.sys.textures.createCanvas(h,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(s.VIDEO_UNLOCKED,this));var h=this.scene.sys.sound;h&&h.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(h){var d=h.name;d==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(s.VIDEO_LOCKED,this)):d==="NotSupportedError"?(this.stop(!1),this.emit(s.VIDEO_UNSUPPORTED,this,h)):(this.stop(!1),this.emit(s.VIDEO_ERROR,this,h))},legacyPlayHandler:function(){var h=this.video;h&&(this.playSuccess(),h.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(s.VIDEO_PLAYING,this)},loadErrorHandler:function(h){this.stop(!1),this.emit(s.VIDEO_ERROR,this,h)},stalledHandler:function(h){this.isStalled=!0,this.emit(s.VIDEO_STALLED,this,h)},completeHandler:function(){this._playCalled=!1,this.emit(s.VIDEO_COMPLETE,this)},preUpdate:function(h,d){var p=this.video;!p||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=d,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(h){var d=this.video;if(d){var p=d.duration;if(p!==1/0&&!isNaN(p)){var x=p*h;this.setCurrentTime(x)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(h){var d=this.video;if(d){if(typeof h=="string"){var p=h[0],x=parseFloat(h.substr(1));p==="+"?h=d.currentTime+x:p==="-"&&(h=d.currentTime-x)}d.currentTime=h}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(s.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(s.VIDEO_SEEKED,this)},getProgress:function(){var h=this.video;if(h){var d=h.duration;if(d!==1/0&&!isNaN(d))return h.currentTime/d}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(h){h===void 0&&(h=!0),this._codeMuted=h;var d=this.video;return d&&(d.muted=this._systemMuted?!0:h),this},isMuted:function(){return this._codeMuted},globalMute:function(h,d){this._systemMuted=d;var p=this.video;p&&(p.muted=this._codeMuted?!0:d)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(h){h===void 0&&(h=!0);var d=this.video;return this._codePaused=h,d&&!d.ended&&(h?d.paused||(this.removeEventHandlers(),d.pause()):h||(this._playCalled?d.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(h){return h===void 0&&(h=1),this.video&&(this.video.volume=u(h,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(h){return this.video&&(this.video.playbackRate=h),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(h){return h===void 0&&(h=!0),this.video&&(this.video.loop=h),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(h,d){return d===void 0&&(d=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,h),this.videoTextureSource.setFlipY(d)),this._key=h,this.flipY=d,!!this.videoTexture},stop:function(h){h===void 0&&(h=!0);var d=this.video;return d&&(this.removeEventHandlers(),d.cancelVideoFrameCallback(this._rfvCallbackId),d.pause()),this.retry=0,this._playCalled=!1,h&&this.emit(s.VIDEO_STOP,this),this},removeVideoElement:function(){var h=this.video;if(h){for(h.parentNode&&h.parentNode.removeChild(h);h.hasChildNodes();)h.removeChild(h.firstChild);h.removeAttribute("autoplay"),h.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var h=this.scene.sys.game.events;h.off(r.PAUSE,this.globalPause,this),h.off(r.RESUME,this.globalResume,this);var d=this.scene.sys.sound;d&&d.off(l.GLOBAL_MUTE,this.globalMute,this)}});v.exports=f},56933:v=>{var y=function(t,u,c,a){u.videoTexture&&(c.addToRenderList(u),t.batchSprite(u,u.frame,c,a))};v.exports=y},65601:(v,y,t)=>{var u=t(88933),c=t(99325),a=t(20494),s=t(8630);c.register("video",function(r,e){r===void 0&&(r={});var i=a(r,"key",null),l=new s(this.scene,0,0,i);return e!==void 0&&(r.add=e),u(this.scene,l,r),l})},215:(v,y,t)=>{var u=t(8630),c=t(61286);c.register("video",function(a,s,r){return this.displayList.add(new u(this.scene,a,s,r))})},77974:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(83572),a=t(56933),v.exports={renderWebGL:c,renderCanvas:a}},83572:v=>{var y=function(t,u,c,a){u.videoTexture&&(c.addToRenderList(u),u.pipeline.batchSprite(u,c,a))};v.exports=y},71030:(v,y,t)=>{var u=t(95723),c=t(26673),a=t(65650),s=t(56694),r=t(64937),e=t(89980),i=t(74118),l=t(94287),n=new s({Extends:e,Mixins:[r.Depth,r.GetBounds,r.Origin,r.Transform,r.ScrollFactor,r.Visible],initialize:function(f,h,d,p,x){p===void 0&&(p=1),x===void 0&&(x=p),e.call(this,f,"Zone"),this.setPosition(h,d),this.width=p,this.height=x,this.blendMode=u.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(o){this.scaleX=o/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(o){this.scaleY=o/this.height}},setSize:function(o,f,h){h===void 0&&(h=!0),this.width=o,this.height=f,this.updateDisplayOrigin();var d=this.input;return h&&d&&!d.customHitArea&&(d.hitArea.width=o,d.hitArea.height=f),this},setDisplaySize:function(o,f){return this.displayWidth=o,this.displayHeight=f,this},setCircleDropZone:function(o){return this.setDropZone(new c(0,0,o),a)},setRectangleDropZone:function(o,f){return this.setDropZone(new i(0,0,o,f),l)},setDropZone:function(o,f){return this.input||this.setInteractive(o,f,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(o,f,h){h.addToRenderList(f)},renderWebGL:function(o,f,h){h.addToRenderList(f)}});v.exports=n},24067:(v,y,t)=>{var u=t(99325),c=t(20494),a=t(71030);u.register("zone",function(s){var r=c(s,"x",0),e=c(s,"y",0),i=c(s,"width",1),l=c(s,"height",i);return new a(this.scene,r,e,i,l)})},34546:(v,y,t)=>{var u=t(71030),c=t(61286);c.register("zone",function(a,s,r,e){return this.displayList.add(new u(this.scene,a,s,r,e))})},95847:v=>{var y=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};v.exports=y},26673:(v,y,t)=>{var u=t(56694),c=t(65650),a=t(94026),s=t(62941),r=t(52394),e=t(30977),i=new u({initialize:function(n,o,f){n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=0),this.type=r.CIRCLE,this.x=n,this.y=o,this._radius=f,this._diameter=f*2},contains:function(l,n){return c(this,l,n)},getPoint:function(l,n){return a(this,l,n)},getPoints:function(l,n,o){return s(this,l,n,o)},getRandomPoint:function(l){return e(this,l)},setTo:function(l,n,o){return this.x=l,this.y=n,this._radius=o,this._diameter=o*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(l,n){return n===void 0&&(n=l),this.x=l,this.y=n,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this._diameter=l*2}},diameter:{get:function(){return this._diameter},set:function(l){this._diameter=l,this._radius=l*.5}},left:{get:function(){return this.x-this._radius},set:function(l){this.x=l+this._radius}},right:{get:function(){return this.x+this._radius},set:function(l){this.x=l-this._radius}},top:{get:function(){return this.y-this._radius},set:function(l){this.y=l+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(l){this.y=l-this._radius}}});v.exports=i},37964:v=>{var y=function(t){return 2*(Math.PI*t.radius)};v.exports=y},72233:(v,y,t)=>{var u=t(79967),c=function(a,s,r){return r===void 0&&(r=new u),r.x=a.x+a.radius*Math.cos(s),r.y=a.y+a.radius*Math.sin(s),r};v.exports=c},61761:(v,y,t)=>{var u=t(26673),c=function(a){return new u(a.x,a.y,a.radius)};v.exports=c},65650:v=>{var y=function(t,u,c){if(t.radius>0&&u>=t.left&&u<=t.right&&c>=t.top&&c<=t.bottom){var a=(t.x-u)*(t.x-u),s=(t.y-c)*(t.y-c);return a+s<=t.radius*t.radius}else return!1};v.exports=y},39187:(v,y,t)=>{var u=t(65650),c=function(a,s){return u(a,s.x,s.y)};v.exports=c},58672:(v,y,t)=>{var u=t(65650),c=function(a,s){return u(a,s.x,s.y)&&u(a,s.right,s.y)&&u(a,s.x,s.bottom)&&u(a,s.right,s.bottom)};v.exports=c},42997:v=>{var y=function(t,u){return u.setTo(t.x,t.y,t.radius)};v.exports=y},94894:v=>{var y=function(t,u){return t.x===u.x&&t.y===u.y&&t.radius===u.radius};v.exports=y},48027:(v,y,t)=>{var u=t(74118),c=function(a,s){return s===void 0&&(s=new u),s.x=a.left,s.y=a.top,s.width=a.diameter,s.height=a.diameter,s};v.exports=c},94026:(v,y,t)=>{var u=t(72233),c=t(91806),a=t(83392),s=t(79967),r=function(e,i,l){l===void 0&&(l=new s);var n=c(i,0,a.PI2);return u(e,n,l)};v.exports=r},62941:(v,y,t)=>{var u=t(37964),c=t(72233),a=t(91806),s=t(83392),r=function(e,i,l,n){n===void 0&&(n=[]),!i&&l>0&&(i=u(e)/l);for(var o=0;o<i;o++){var f=a(o/i,0,s.PI2);n.push(c(e,f))}return n};v.exports=r},34585:v=>{var y=function(t,u,c){return t.x+=u,t.y+=c,t};v.exports=y},88665:v=>{var y=function(t,u){return t.x+=u.x,t.y+=u.y,t};v.exports=y},30977:(v,y,t)=>{var u=t(79967),c=function(a,s){s===void 0&&(s=new u);var r=2*Math.PI*Math.random(),e=Math.random()+Math.random(),i=e>1?2-e:e,l=i*Math.cos(r),n=i*Math.sin(r);return s.x=a.x+l*a.radius,s.y=a.y+n*a.radius,s};v.exports=c},6112:(v,y,t)=>{var u=t(26673);u.Area=t(95847),u.Circumference=t(37964),u.CircumferencePoint=t(72233),u.Clone=t(61761),u.Contains=t(65650),u.ContainsPoint=t(39187),u.ContainsRect=t(58672),u.CopyFrom=t(42997),u.Equals=t(94894),u.GetBounds=t(48027),u.GetPoint=t(94026),u.GetPoints=t(62941),u.Offset=t(34585),u.OffsetPoint=t(88665),u.Random=t(30977),v.exports=u},52394:v=>{var y={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};v.exports=y},58605:v=>{var y=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};v.exports=y},39507:v=>{var y=function(t){var u=t.width/2,c=t.height/2,a=Math.pow(u-c,2)/Math.pow(u+c,2);return Math.PI*(u+c)*(1+3*a/(10+Math.sqrt(4-3*a)))};v.exports=y},86998:(v,y,t)=>{var u=t(79967),c=function(a,s,r){r===void 0&&(r=new u);var e=a.width/2,i=a.height/2;return r.x=a.x+e*Math.cos(s),r.y=a.y+i*Math.sin(s),r};v.exports=c},81773:(v,y,t)=>{var u=t(95669),c=function(a){return new u(a.x,a.y,a.width,a.height)};v.exports=c},72313:v=>{var y=function(t,u,c){if(t.width<=0||t.height<=0)return!1;var a=(u-t.x)/t.width,s=(c-t.y)/t.height;return a*=a,s*=s,a+s<.25};v.exports=y},34368:(v,y,t)=>{var u=t(72313),c=function(a,s){return u(a,s.x,s.y)};v.exports=c},71431:(v,y,t)=>{var u=t(72313),c=function(a,s){return u(a,s.x,s.y)&&u(a,s.right,s.y)&&u(a,s.x,s.bottom)&&u(a,s.right,s.bottom)};v.exports=c},75459:v=>{var y=function(t,u){return u.setTo(t.x,t.y,t.width,t.height)};v.exports=y},95669:(v,y,t)=>{var u=t(56694),c=t(72313),a=t(95340),s=t(54978),r=t(52394),e=t(72006),i=new u({initialize:function(n,o,f,h){n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=0),h===void 0&&(h=0),this.type=r.ELLIPSE,this.x=n,this.y=o,this.width=f,this.height=h},contains:function(l,n){return c(this,l,n)},getPoint:function(l,n){return a(this,l,n)},getPoints:function(l,n,o){return s(this,l,n,o)},getRandomPoint:function(l){return e(this,l)},setTo:function(l,n,o,f){return this.x=l,this.y=n,this.width=o,this.height=f,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(l,n){return n===void 0&&(n=l),this.x=l,this.y=n,this},setSize:function(l,n){return n===void 0&&(n=l),this.width=l,this.height=n,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(l){this.x=l+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(l){this.x=l-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(l){this.y=l+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(l){this.y=l-this.height/2}}});v.exports=i},98068:v=>{var y=function(t,u){return t.x===u.x&&t.y===u.y&&t.width===u.width&&t.height===u.height};v.exports=y},72897:(v,y,t)=>{var u=t(74118),c=function(a,s){return s===void 0&&(s=new u),s.x=a.left,s.y=a.top,s.width=a.width,s.height=a.height,s};v.exports=c},95340:(v,y,t)=>{var u=t(86998),c=t(91806),a=t(83392),s=t(79967),r=function(e,i,l){l===void 0&&(l=new s);var n=c(i,0,a.PI2);return u(e,n,l)};v.exports=r},54978:(v,y,t)=>{var u=t(39507),c=t(86998),a=t(91806),s=t(83392),r=function(e,i,l,n){n===void 0&&(n=[]),!i&&l>0&&(i=u(e)/l);for(var o=0;o<i;o++){var f=a(o/i,0,s.PI2);n.push(c(e,f))}return n};v.exports=r},77951:v=>{var y=function(t,u,c){return t.x+=u,t.y+=c,t};v.exports=y},36233:v=>{var y=function(t,u){return t.x+=u.x,t.y+=u.y,t};v.exports=y},72006:(v,y,t)=>{var u=t(79967),c=function(a,s){s===void 0&&(s=new u);var r=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return s.x=a.x+e*Math.cos(r)*a.width/2,s.y=a.y+e*Math.sin(r)*a.height/2,s};v.exports=c},40652:(v,y,t)=>{var u=t(95669);u.Area=t(58605),u.Circumference=t(39507),u.CircumferencePoint=t(86998),u.Clone=t(81773),u.Contains=t(72313),u.ContainsPoint=t(34368),u.ContainsRect=t(71431),u.CopyFrom=t(75459),u.Equals=t(98068),u.GetBounds=t(72897),u.GetPoint=t(95340),u.GetPoints=t(54978),u.Offset=t(77951),u.OffsetPoint=t(36233),u.Random=t(72006),v.exports=u},84068:(v,y,t)=>{var u=t(52394),c=t(98611),a={Circle:t(6112),Ellipse:t(40652),Intersects:t(7563),Line:t(28482),Mesh:t(14293),Point:t(63472),Polygon:t(44359),Rectangle:t(66658),Triangle:t(87619)};a=c(!1,a,u),v.exports=a},22184:(v,y,t)=>{var u=t(53996),c=function(a,s){return u(a.x,a.y,s.x,s.y)<=a.radius+s.radius};v.exports=c},26535:v=>{var y=function(t,u){var c=u.width/2,a=u.height/2,s=Math.abs(t.x-u.x-c),r=Math.abs(t.y-u.y-a),e=c+t.radius,i=a+t.radius;if(s>e||r>i)return!1;if(s<=c||r<=a)return!0;var l=s-c,n=r-a,o=l*l,f=n*n,h=t.radius*t.radius;return o+f<=h};v.exports=y},71145:(v,y,t)=>{var u=t(79967),c=t(22184),a=function(s,r,e){if(e===void 0&&(e=[]),c(s,r)){var i=s.x,l=s.y,n=s.radius,o=r.x,f=r.y,h=r.radius,d,p,x,S,T;if(l===f)T=(h*h-n*n-o*o+i*i)/(2*(i-o)),d=1,p=-2*f,x=o*o+T*T-2*o*T+f*f-h*h,S=p*p-4*d*x,S===0?e.push(new u(T,-p/(2*d))):S>0&&(e.push(new u(T,(-p+Math.sqrt(S))/(2*d))),e.push(new u(T,(-p-Math.sqrt(S))/(2*d))));else{var C=(i-o)/(l-f),E=(h*h-n*n-o*o+i*i-f*f+l*l)/(2*(l-f));d=C*C+1,p=2*l*C-2*E*C-2*i,x=i*i+l*l+E*E-n*n-2*l*E,S=p*p-4*d*x,S===0?(T=-p/(2*d),e.push(new u(T,E-T*C))):S>0&&(T=(-p+Math.sqrt(S))/(2*d),e.push(new u(T,E-T*C)),T=(-p-Math.sqrt(S))/(2*d),e.push(new u(T,E-T*C)))}}return e};v.exports=a},62508:(v,y,t)=>{var u=t(26111),c=t(26535),a=function(s,r,e){if(e===void 0&&(e=[]),c(s,r)){var i=r.getLineA(),l=r.getLineB(),n=r.getLineC(),o=r.getLineD();u(i,s,e),u(l,s,e),u(n,s,e),u(o,s,e)}return e};v.exports=a},26111:(v,y,t)=>{var u=t(79967),c=t(61472),a=function(s,r,e){if(e===void 0&&(e=[]),c(s,r)){var i=s.x1,l=s.y1,n=s.x2,o=s.y2,f=r.x,h=r.y,d=r.radius,p=n-i,x=o-l,S=i-f,T=l-h,C=p*p+x*x,E=2*(p*S+x*T),P=S*S+T*T-d*d,M=E*E-4*C*P,L,R;if(M===0){var w=-E/(2*C);L=i+w*p,R=l+w*x,w>=0&&w<=1&&e.push(new u(L,R))}else if(M>0){var D=(-E-Math.sqrt(M))/(2*C);L=i+D*p,R=l+D*x,D>=0&&D<=1&&e.push(new u(L,R));var B=(-E+Math.sqrt(M))/(2*C);L=i+B*p,R=l+B*x,B>=0&&B<=1&&e.push(new u(L,R))}}return e};v.exports=a},96537:(v,y,t)=>{var u=t(70015),c=function(a,s,r,e){r===void 0&&(r=!1);var i=a.x1,l=a.y1,n=a.x2,o=a.y2,f=s.x1,h=s.y1,d=s.x2,p=s.y2,x=n-i,S=o-l,T=d-f,C=p-h,E=x*C-S*T;if(E===0)return null;var P,M,L;if(r){if(P=(x*(h-l)+S*(i-f))/(T*S-C*x),M=(f+T*P-i)/x,M<0||P<0||P>1)return null;L=M}else{if(P=((f-i)*C-(h-l)*T)/E,M=((l-h)*x-(i-f)*S)/E,P<0||P>1||M<0||M>1)return null;L=P}return e===void 0&&(e=new u),e.set(i+x*L,l+S*L,L)};v.exports=c},17647:(v,y,t)=>{var u=t(96537),c=t(88829),a=t(70015),s=new c,r=new a,e=function(i,l,n,o){n===void 0&&(n=!1),o===void 0&&(o=new a);var f=!1;o.set(),r.set();for(var h=l[0],d=1;d<l.length;d++){var p=l[d];s.setTo(h.x,h.y,p.x,p.y),h=p,u(i,s,n,r)&&(!f||r.z<o.z)&&(o.copy(r),f=!0)}return f?o:null};v.exports=e},68439:(v,y,t)=>{var u=t(70015),c=t(51729),a=t(17647),s=new u,r=function(e,i,l,n){n===void 0&&(n=new c),Array.isArray(i)||(i=[i]);var o=!1;n.set(),s.set();for(var f=0;f<i.length;f++)a(e,i[f].points,l,s)&&(!o||s.z<n.z)&&(n.set(s.x,s.y,s.z,f),o=!0);return o?n:null};v.exports=r},9569:(v,y,t)=>{var u=t(79967),c=t(25227),a=t(47910),s=function(r,e,i){if(i===void 0&&(i=[]),a(r,e))for(var l=e.getLineA(),n=e.getLineB(),o=e.getLineC(),f=e.getLineD(),h=[new u,new u,new u,new u],d=[c(l,r,h[0]),c(n,r,h[1]),c(o,r,h[2]),c(f,r,h[3])],p=0;p<4;p++)d[p]&&i.push(h[p]);return i};v.exports=s},7449:(v,y,t)=>{var u=t(51729),c=t(68439),a=t(88829),s=new a;function r(l,n,o,f,h){var d=Math.cos(l),p=Math.sin(l);s.setTo(n,o,n+d,o+p);var x=c(s,f,!0);x&&h.push(new u(x.x,x.y,l,x.w))}function e(l,n){return l.z-n.z}var i=function(l,n,o){Array.isArray(o)||(o=[o]);for(var f=[],h=[],d=0;d<o.length;d++)for(var p=o[d].points,x=0;x<p.length;x++){var S=Math.atan2(p[x].y-n,p[x].x-l);h.indexOf(S)===-1&&(r(S,l,n,o,f),r(S-1e-5,l,n,o,f),r(S+1e-5,l,n,o,f),h.push(S))}return f.sort(e)};v.exports=i},82931:(v,y,t)=>{var u=t(74118),c=t(90205),a=function(s,r,e){return e===void 0&&(e=new u),c(s,r)&&(e.x=Math.max(s.x,r.x),e.y=Math.max(s.y,r.y),e.width=Math.min(s.right,r.right)-e.x,e.height=Math.min(s.bottom,r.bottom)-e.y),e};v.exports=a},1946:(v,y,t)=>{var u=t(9569),c=t(90205),a=function(s,r,e){if(e===void 0&&(e=[]),c(s,r)){var i=s.getLineA(),l=s.getLineB(),n=s.getLineC(),o=s.getLineD();u(i,r,e),u(l,r,e),u(n,r,e),u(o,r,e)}return e};v.exports=a},34211:(v,y,t)=>{var u=t(20370),c=t(9569),a=function(s,r,e){if(e===void 0&&(e=[]),u(s,r)){var i=r.getLineA(),l=r.getLineB(),n=r.getLineC();c(i,s,e),c(l,s,e),c(n,s,e)}return e};v.exports=a},80511:(v,y,t)=>{var u=t(26111),c=t(48411),a=function(s,r,e){if(e===void 0&&(e=[]),c(s,r)){var i=s.getLineA(),l=s.getLineB(),n=s.getLineC();u(i,r,e),u(l,r,e),u(n,r,e)}return e};v.exports=a},31343:(v,y,t)=>{var u=t(79967),c=t(86117),a=t(25227),s=function(r,e,i){if(i===void 0&&(i=[]),c(r,e))for(var l=r.getLineA(),n=r.getLineB(),o=r.getLineC(),f=[new u,new u,new u],h=[a(l,e,f[0]),a(n,e,f[1]),a(o,e,f[2])],d=0;d<3;d++)h[d]&&i.push(f[d]);return i};v.exports=s},70534:(v,y,t)=>{var u=t(23589),c=t(31343),a=function(s,r,e){if(e===void 0&&(e=[]),u(s,r)){var i=r.getLineA(),l=r.getLineB(),n=r.getLineC();c(s,i,e),c(s,l,e),c(s,n,e)}return e};v.exports=a},61472:(v,y,t)=>{var u=t(65650),c=t(79967),a=new c,s=function(r,e,i){if(i===void 0&&(i=a),u(e,r.x1,r.y1))return i.x=r.x1,i.y=r.y1,!0;if(u(e,r.x2,r.y2))return i.x=r.x2,i.y=r.y2,!0;var l=r.x2-r.x1,n=r.y2-r.y1,o=e.x-r.x1,f=e.y-r.y1,h=l*l+n*n,d=l,p=n;if(h>0){var x=(o*l+f*n)/h;d*=x,p*=x}i.x=r.x1+d,i.y=r.y1+p;var S=d*d+p*p;return S<=h&&d*l+p*n>=0&&u(e,i.x,i.y)};v.exports=s},25227:v=>{var y=function(t,u,c){var a=t.x1,s=t.y1,r=t.x2,e=t.y2,i=u.x1,l=u.y1,n=u.x2,o=u.y2;if(a===r&&s===e||i===n&&l===o)return!1;var f=(o-l)*(r-a)-(n-i)*(e-s);if(f===0)return!1;var h=((n-i)*(s-l)-(o-l)*(a-i))/f,d=((r-a)*(s-l)-(e-s)*(a-i))/f;return h<0||h>1||d<0||d>1?!1:(c&&(c.x=a+h*(r-a),c.y=s+h*(e-s)),!0)};v.exports=y},47910:v=>{var y=function(t,u){var c=t.x1,a=t.y1,s=t.x2,r=t.y2,e=u.x,i=u.y,l=u.right,n=u.bottom,o=0;if(c>=e&&c<=l&&a>=i&&a<=n||s>=e&&s<=l&&r>=i&&r<=n)return!0;if(c<e&&s>=e){if(o=a+(r-a)*(e-c)/(s-c),o>i&&o<=n)return!0}else if(c>l&&s<=l&&(o=a+(r-a)*(l-c)/(s-c),o>=i&&o<=n))return!0;if(a<i&&r>=i){if(o=c+(s-c)*(i-a)/(r-a),o>=e&&o<=l)return!0}else if(a>n&&r<=n&&(o=c+(s-c)*(n-a)/(r-a),o>=e&&o<=l))return!0;return!1};v.exports=y},34426:v=>{var y=function(t,u,c){c===void 0&&(c=1);var a=u.x1,s=u.y1,r=u.x2,e=u.y2,i=t.x,l=t.y,n=(r-a)*(r-a)+(e-s)*(e-s);if(n===0)return!1;var o=((i-a)*(r-a)+(l-s)*(e-s))/n;if(o<0)return Math.sqrt((a-i)*(a-i)+(s-l)*(s-l))<=c;if(o>=0&&o<=1){var f=((s-l)*(r-a)-(a-i)*(e-s))/n;return Math.abs(f)*Math.sqrt(n)<=c}else return Math.sqrt((r-i)*(r-i)+(e-l)*(e-l))<=c};v.exports=y},81414:(v,y,t)=>{var u=t(34426),c=function(a,s){if(!u(a,s))return!1;var r=Math.min(s.x1,s.x2),e=Math.max(s.x1,s.x2),i=Math.min(s.y1,s.y2),l=Math.max(s.y1,s.y2);return a.x>=r&&a.x<=e&&a.y>=i&&a.y<=l};v.exports=c},90205:v=>{var y=function(t,u){return t.width<=0||t.height<=0||u.width<=0||u.height<=0?!1:!(t.right<u.x||t.bottom<u.y||t.x>u.right||t.y>u.bottom)};v.exports=y},20370:(v,y,t)=>{var u=t(25227),c=t(94287),a=t(86875),s=t(87279),r=function(e,i){if(i.left>e.right||i.right<e.left||i.top>e.bottom||i.bottom<e.top)return!1;var l=i.getLineA(),n=i.getLineB(),o=i.getLineC();if(c(e,l.x1,l.y1)||c(e,l.x2,l.y2)||c(e,n.x1,n.y1)||c(e,n.x2,n.y2)||c(e,o.x1,o.y1)||c(e,o.x2,o.y2))return!0;var f=e.getLineA(),h=e.getLineB(),d=e.getLineC(),p=e.getLineD();if(u(l,f)||u(l,h)||u(l,d)||u(l,p)||u(n,f)||u(n,h)||u(n,d)||u(n,p)||u(o,f)||u(o,h)||u(o,d)||u(o,p))return!0;var x=s(e),S=a(i,x,!0);return S.length>0};v.exports=r},8786:v=>{var y=function(t,u,c,a,s,r){return r===void 0&&(r=0),!(u>t.right+r||c<t.left-r||a>t.bottom+r||s<t.top-r)};v.exports=y},48411:(v,y,t)=>{var u=t(61472),c=t(60689),a=function(s,r){return s.left>r.right||s.right<r.left||s.top>r.bottom||s.bottom<r.top?!1:!!(c(s,r.x,r.y)||u(s.getLineA(),r)||u(s.getLineB(),r)||u(s.getLineC(),r))};v.exports=a},86117:(v,y,t)=>{var u=t(25227),c=function(a,s){return!!(a.contains(s.x1,s.y1)||a.contains(s.x2,s.y2)||u(a.getLineA(),s)||u(a.getLineB(),s)||u(a.getLineC(),s))};v.exports=c},23589:(v,y,t)=>{var u=t(86875),c=t(18680),a=t(25227),s=function(r,e){if(r.left>e.right||r.right<e.left||r.top>e.bottom||r.bottom<e.top)return!1;var i=r.getLineA(),l=r.getLineB(),n=r.getLineC(),o=e.getLineA(),f=e.getLineB(),h=e.getLineC();if(a(i,o)||a(i,f)||a(i,h)||a(l,o)||a(l,f)||a(l,h)||a(n,o)||a(n,f)||a(n,h))return!0;var d=c(r),p=u(e,d,!0);return p.length>0||(d=c(e),p=u(r,d,!0),p.length>0)};v.exports=s},7563:(v,y,t)=>{v.exports={CircleToCircle:t(22184),CircleToRectangle:t(26535),GetCircleToCircle:t(71145),GetCircleToRectangle:t(62508),GetLineToCircle:t(26111),GetLineToLine:t(96537),GetLineToPoints:t(17647),GetLineToPolygon:t(68439),GetLineToRectangle:t(9569),GetRaysFromPointToPolygon:t(7449),GetRectangleIntersection:t(82931),GetRectangleToRectangle:t(1946),GetRectangleToTriangle:t(34211),GetTriangleToCircle:t(80511),GetTriangleToLine:t(31343),GetTriangleToTriangle:t(70534),LineToCircle:t(61472),LineToLine:t(25227),LineToRectangle:t(47910),PointToLine:t(34426),PointToLineSegment:t(81414),RectangleToRectangle:t(90205),RectangleToTriangle:t(20370),RectangleToValues:t(8786),TriangleToCircle:t(48411),TriangleToLine:t(86117),TriangleToTriangle:t(23589)}},50599:v=>{var y=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};v.exports=y},58813:v=>{var y=function(t,u,c){u===void 0&&(u=1),c===void 0&&(c=[]);var a=Math.round(t.x1),s=Math.round(t.y1),r=Math.round(t.x2),e=Math.round(t.y2),i=Math.abs(r-a),l=Math.abs(e-s),n=a<r?1:-1,o=s<e?1:-1,f=i-l;c.push({x:a,y:s});for(var h=1;!(a===r&&s===e);){var d=f<<1;d>-l&&(f-=l,a+=n),d<i&&(f+=i,s+=o),h%u===0&&c.push({x:a,y:s}),h++}return c};v.exports=y},88513:v=>{var y=function(t,u,c){var a=u-(t.x1+t.x2)/2,s=c-(t.y1+t.y2)/2;return t.x1+=a,t.y1+=s,t.x2+=a,t.y2+=s,t};v.exports=y},26718:(v,y,t)=>{var u=t(88829),c=function(a){return new u(a.x1,a.y1,a.x2,a.y2)};v.exports=c},88930:v=>{var y=function(t,u){return u.setTo(t.x1,t.y1,t.x2,t.y2)};v.exports=y},90656:v=>{var y=function(t,u){return t.x1===u.x1&&t.y1===u.y1&&t.x2===u.x2&&t.y2===u.y2};v.exports=y},30897:(v,y,t)=>{var u=t(16028),c=function(a,s,r){r===void 0&&(r=s);var e=u(a),i=a.x2-a.x1,l=a.y2-a.y1;return s&&(a.x1=a.x1-i/e*s,a.y1=a.y1-l/e*s),r&&(a.x2=a.x2+i/e*r,a.y2=a.y2+l/e*r),a};v.exports=c},30684:(v,y,t)=>{var u=t(92951),c=t(21902),a=t(79967),s=function(r,e,i,l,n){l===void 0&&(l=0),n===void 0&&(n=[]);var o=[],f=r.x1,h=r.y1,d=r.x2-f,p=r.y2-h,x=c(e,n),S,T,C=i-1;for(S=0;S<C;S++)T=x(S/C),o.push(new a(f+d*T,h+p*T));if(T=x(1),o.push(new a(f+d*T,h+p*T)),l>0){var E=o[0],P=[E];for(S=1;S<o.length-1;S++){var M=o[S];u(E,M)>=l&&(P.push(M),E=M)}var L=o[o.length-1];return u(E,L)<l&&P.pop(),P.push(L),P}else return o};v.exports=s},20487:(v,y,t)=>{var u=t(79967),c=function(a,s){return s===void 0&&(s=new u),s.x=(a.x1+a.x2)/2,s.y=(a.y1+a.y2)/2,s};v.exports=c},11222:(v,y,t)=>{var u=t(79967),c=function(a,s,r){r===void 0&&(r=new u);var e=a.x1,i=a.y1,l=a.x2,n=a.y2,o=(l-e)*(l-e)+(n-i)*(n-i);if(o===0)return r;var f=((s.x-e)*(l-e)+(s.y-i)*(n-i))/o;return r.x=e+f*(l-e),r.y=i+f*(n-i),r};v.exports=c},7377:(v,y,t)=>{var u=t(83392),c=t(50599),a=t(79967),s=function(r,e){e===void 0&&(e=new a);var i=c(r)-u.TAU;return e.x=Math.cos(i),e.y=Math.sin(i),e};v.exports=s},66464:(v,y,t)=>{var u=t(79967),c=function(a,s,r){return r===void 0&&(r=new u),r.x=a.x1+(a.x2-a.x1)*s,r.y=a.y1+(a.y2-a.y1)*s,r};v.exports=c},8570:(v,y,t)=>{var u=t(16028),c=t(79967),a=function(s,r,e,i){i===void 0&&(i=[]),!r&&e>0&&(r=u(s)/e);for(var l=s.x1,n=s.y1,o=s.x2,f=s.y2,h=0;h<r;h++){var d=h/r,p=l+(o-l)*d,x=n+(f-n)*d;i.push(new c(p,x))}return i};v.exports=a},65269:v=>{var y=function(t,u){var c=t.x1,a=t.y1,s=t.x2,r=t.y2,e=(s-c)*(s-c)+(r-a)*(r-a);if(e===0)return!1;var i=((a-u.y)*(s-c)-(c-u.x)*(r-a))/e;return Math.abs(i)*Math.sqrt(e)};v.exports=y},82996:v=>{var y=function(t){return Math.abs(t.y1-t.y2)};v.exports=y},16028:v=>{var y=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};v.exports=y},88829:(v,y,t)=>{var u=t(56694),c=t(66464),a=t(8570),s=t(52394),r=t(74077),e=t(93736),i=new u({initialize:function(n,o,f,h){n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=0),h===void 0&&(h=0),this.type=s.LINE,this.x1=n,this.y1=o,this.x2=f,this.y2=h},getPoint:function(l,n){return c(this,l,n)},getPoints:function(l,n,o){return a(this,l,n,o)},getRandomPoint:function(l){return r(this,l)},setTo:function(l,n,o,f){return l===void 0&&(l=0),n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=0),this.x1=l,this.y1=n,this.x2=o,this.y2=f,this},getPointA:function(l){return l===void 0&&(l=new e),l.set(this.x1,this.y1),l},getPointB:function(l){return l===void 0&&(l=new e),l.set(this.x2,this.y2),l},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(l){this.x1<=this.x2?this.x1=l:this.x2=l}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(l){this.x1>this.x2?this.x1=l:this.x2=l}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(l){this.y1<=this.y2?this.y1=l:this.y2=l}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(l){this.y1>this.y2?this.y1=l:this.y2=l}}});v.exports=i},73273:(v,y,t)=>{var u=t(83392),c=t(1071),a=t(50599),s=function(r){var e=a(r)-u.TAU;return c(e,-Math.PI,Math.PI)};v.exports=s},96936:(v,y,t)=>{var u=t(83392),c=t(50599),a=function(s){return Math.cos(c(s)-u.TAU)};v.exports=a},43581:(v,y,t)=>{var u=t(83392),c=t(50599),a=function(s){return Math.sin(c(s)-u.TAU)};v.exports=a},13990:v=>{var y=function(t,u,c){return t.x1+=u,t.y1+=c,t.x2+=u,t.y2+=c,t};v.exports=y},1298:v=>{var y=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};v.exports=y},74077:(v,y,t)=>{var u=t(79967),c=function(a,s){s===void 0&&(s=new u);var r=Math.random();return s.x=a.x1+r*(a.x2-a.x1),s.y=a.y1+r*(a.y2-a.y1),s};v.exports=c},30473:(v,y,t)=>{var u=t(50599),c=t(73273),a=function(s,r){return 2*c(r)-Math.PI-u(s)};v.exports=a},25968:(v,y,t)=>{var u=t(1809),c=function(a,s){var r=(a.x1+a.x2)/2,e=(a.y1+a.y2)/2;return u(a,r,e,s)};v.exports=c},24296:(v,y,t)=>{var u=t(1809),c=function(a,s,r){return u(a,s.x,s.y,r)};v.exports=c},1809:v=>{var y=function(t,u,c,a){var s=Math.cos(a),r=Math.sin(a),e=t.x1-u,i=t.y1-c;return t.x1=e*s-i*r+u,t.y1=e*r+i*s+c,e=t.x2-u,i=t.y2-c,t.x2=e*s-i*r+u,t.y2=e*r+i*s+c,t};v.exports=y},88171:v=>{var y=function(t,u,c,a,s){return t.x1=u,t.y1=c,t.x2=u+Math.cos(a)*s,t.y2=c+Math.sin(a)*s,t};v.exports=y},82797:v=>{var y=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};v.exports=y},41067:v=>{var y=function(t){return Math.abs(t.x1-t.x2)};v.exports=y},28482:(v,y,t)=>{var u=t(88829);u.Angle=t(50599),u.BresenhamPoints=t(58813),u.CenterOn=t(88513),u.Clone=t(26718),u.CopyFrom=t(88930),u.Equals=t(90656),u.Extend=t(30897),u.GetEasedPoints=t(30684),u.GetMidPoint=t(20487),u.GetNearestPoint=t(11222),u.GetNormal=t(7377),u.GetPoint=t(66464),u.GetPoints=t(8570),u.GetShortestDistance=t(65269),u.Height=t(82996),u.Length=t(16028),u.NormalAngle=t(73273),u.NormalX=t(96936),u.NormalY=t(43581),u.Offset=t(13990),u.PerpSlope=t(1298),u.Random=t(74077),u.ReflectAngle=t(30473),u.Rotate=t(25968),u.RotateAroundPoint=t(24296),u.RotateAroundXY=t(1809),u.SetToAngle=t(88171),u.Slope=t(82797),u.Width=t(41067),v.exports=u},18693:(v,y,t)=>{var u=t(56694),c=t(74118),a=t(93736);function s(e,i,l,n){var o=e-l,f=i-n,h=o*o+f*f;return Math.sqrt(h)}var r=new u({initialize:function(i,l,n){this.vertex1=i,this.vertex2=l,this.vertex3=n,this.bounds=new c,this._inCenter=new a},getInCenter:function(e){e===void 0&&(e=!0);var i=this.vertex1,l=this.vertex2,n=this.vertex3,o,f,h,d,p,x;e?(o=i.x,f=i.y,h=l.x,d=l.y,p=n.x,x=n.y):(o=i.vx,f=i.vy,h=l.vx,d=l.vy,p=n.vx,x=n.vy);var S=s(p,x,h,d),T=s(o,f,p,x),C=s(h,d,o,f),E=S+T+C;return this._inCenter.set((o*S+h*T+p*C)/E,(f*S+d*T+x*C)/E)},contains:function(e,i,l){var n=this.vertex1,o=this.vertex2,f=this.vertex3,h=n.vx,d=n.vy,p=o.vx,x=o.vy,S=f.vx,T=f.vy;if(l){var C=l.a,E=l.b,P=l.c,M=l.d,L=l.e,R=l.f;h=n.vx*C+n.vy*P+L,d=n.vx*E+n.vy*M+R,p=o.vx*C+o.vy*P+L,x=o.vx*E+o.vy*M+R,S=f.vx*C+f.vy*P+L,T=f.vx*E+f.vy*M+R}var w=S-h,D=T-d,B=p-h,z=x-d,V=e-h,Y=i-d,H=w*w+D*D,I=w*B+D*z,U=w*V+D*Y,O=B*B+z*z,N=B*V+z*Y,G=H*O-I*I,X=G===0?0:1/G,W=(O*U-I*N)*X,b=(H*N-I*U)*X;return W>=0&&b>=0&&W+b<1},isCounterClockwise:function(e){var i=this.vertex1,l=this.vertex2,n=this.vertex3,o=(l.vx-i.vx)*(n.vy-i.vy)-(l.vy-i.vy)*(n.vx-i.vx);return e<=0?o>=0:o<0},load:function(e,i,l,n,o){return l=this.vertex1.load(e,i,l,n,o),l=this.vertex2.load(e,i,l,n,o),l=this.vertex3.load(e,i,l,n,o),l},transformCoordinatesLocal:function(e,i,l,n){return this.vertex1.transformCoordinatesLocal(e,i,l,n),this.vertex2.transformCoordinatesLocal(e,i,l,n),this.vertex3.transformCoordinatesLocal(e,i,l,n),this},updateBounds:function(){var e=this.vertex1,i=this.vertex2,l=this.vertex3,n=this.bounds;return n.x=Math.min(e.vx,i.vx,l.vx),n.y=Math.min(e.vy,i.vy,l.vy),n.width=Math.max(e.vx,i.vx,l.vx)-n.x,n.height=Math.max(e.vy,i.vy,l.vy)-n.y,this},isInView:function(e,i,l,n,o,f,h,d,p,x,S){this.update(n,o,f,h,d,p,x,S);var T=this.vertex1,C=this.vertex2,E=this.vertex3;if(T.ta<=0&&C.ta<=0&&E.ta<=0||i&&!this.isCounterClockwise(l))return!1;var P=this.bounds;P.x=Math.min(T.tx,C.tx,E.tx),P.y=Math.min(T.ty,C.ty,E.ty),P.width=Math.max(T.tx,C.tx,E.tx)-P.x,P.height=Math.max(T.ty,C.ty,E.ty)-P.y;var M=e.x+e.width,L=e.y+e.height;return P.width<=0||P.height<=0||e.width<=0||e.height<=0?!1:!(P.right<e.x||P.bottom<e.y||P.x>M||P.y>L)},scrollUV:function(e,i){return this.vertex1.scrollUV(e,i),this.vertex2.scrollUV(e,i),this.vertex3.scrollUV(e,i),this},scaleUV:function(e,i){return this.vertex1.scaleUV(e,i),this.vertex2.scaleUV(e,i),this.vertex3.scaleUV(e,i),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,i,l,n,o,f,h,d){return this.vertex1.update(i,l,n,o,f,h,d,e),this.vertex2.update(i,l,n,o,f,h,d,e),this.vertex3.update(i,l,n,o,f,h,d,e),this},translate:function(e,i){i===void 0&&(i=0);var l=this.vertex1,n=this.vertex2,o=this.vertex3;return l.x+=e,l.y+=i,n.x+=e,n.y+=i,o.x+=e,o.y+=i,this},x:{get:function(){return this.getInCenter().x},set:function(e){var i=this.getInCenter();this.translate(e-i.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var i=this.getInCenter();this.translate(0,e-i.y)}},alpha:{get:function(){var e=this.vertex1,i=this.vertex2,l=this.vertex3;return(e.alpha+i.alpha+l.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,i=this.vertex2,l=this.vertex3;return(e.vz+i.vz+l.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});v.exports=r},99425:(v,y,t)=>{var u=t(18693),c=t(72632),a=t(16650),s=t(70015),r=t(85769),e=new s,i=new s,l=new a,n=function(o){var f=c(o,"mesh"),h=c(o,"texture",null),d=c(o,"frame"),p=c(o,"width",1),x=c(o,"height",p),S=c(o,"widthSegments",1),T=c(o,"heightSegments",S),C=c(o,"x",0),E=c(o,"y",0),P=c(o,"z",0),M=c(o,"rotateX",0),L=c(o,"rotateY",0),R=c(o,"rotateZ",0),w=c(o,"zIsUp",!0),D=c(o,"isOrtho",f?f.dirtyCache[11]:!1),B=c(o,"colors",[16777215]),z=c(o,"alphas",[1]),V=c(o,"tile",!1),Y=c(o,"flipY",!1),H=c(o,"width",null),I={faces:[],verts:[]};e.set(C,E,P),i.set(M,L,R),l.fromRotationXYTranslation(i,e,w);var U;if(!h&&f)h=f.texture,d||(U=f.frame);else if(f&&typeof h=="string")h=f.scene.sys.textures.get(h);else if(!h)return I;U||(U=h.get(d)),!H&&D&&h&&f&&(p=U.width/f.height,x=U.height/f.height);var O=p/2,N=x/2,G=Math.floor(S),X=Math.floor(T),W=G+1,b=X+1,K=p/G,Z=x/X,Q=[],J=[],j,k,$=0,_=1,nt=0,at=1;U&&($=U.u0,_=U.u1,Y?(nt=U.v1,at=U.v0):(nt=U.v0,at=U.v1));var st=_-$,q=at-nt;for(k=0;k<b;k++){var it=k*Z-N;for(j=0;j<W;j++){var et=j*K-O;J.push(et,-it);var lt=$+st*(j/G),ot=nt+q*(k/X);Q.push(lt,ot)}}Array.isArray(B)||(B=[B]),Array.isArray(z)||(z=[z]);var At=0,mt=0;for(k=0;k<X;k++)for(j=0;j<G;j++){var ft=(j+W*k)*2,ht=(j+W*(k+1))*2,gt=(j+1+W*(k+1))*2,Dt=(j+1+W*k)*2,Nt=B[mt],Xt=z[At],he=new r(J[ft],J[ft+1],0,Q[ft],Q[ft+1],Nt,Xt).transformMat4(l),wi=new r(J[ht],J[ht+1],0,Q[ht],Q[ht+1],Nt,Xt).transformMat4(l),Di=new r(J[Dt],J[Dt+1],0,Q[Dt],Q[Dt+1],Nt,Xt).transformMat4(l),Ii=new r(J[ht],J[ht+1],0,Q[ht],Q[ht+1],Nt,Xt).transformMat4(l),Bi=new r(J[gt],J[gt+1],0,Q[gt],Q[gt+1],Nt,Xt).transformMat4(l),Ni=new r(J[Dt],J[Dt+1],0,Q[Dt],Q[Dt+1],Nt,Xt).transformMat4(l);V&&(he.setUVs($,at),wi.setUVs($,nt),Di.setUVs(_,at),Ii.setUVs($,nt),Bi.setUVs(_,nt),Ni.setUVs(_,at)),mt++,mt===B.length&&(mt=0),At++,At===z.length&&(At=0),I.verts.push(he,wi,Di,Ii,Bi,Ni),I.faces.push(new u(he,wi,Di),new u(Ii,Bi,Ni))}return f&&(f.faces=f.faces.concat(I.faces),f.vertices=f.vertices.concat(I.verts)),I};v.exports=n},53267:(v,y,t)=>{var u=t(18693),c=t(16650),a=t(70015),s=t(85769),r=new a,e=new a,i=new c,l=function(n,o,f,h,d,p,x,S,T,C){f===void 0&&(f=1),h===void 0&&(h=0),d===void 0&&(d=0),p===void 0&&(p=0),x===void 0&&(x=0),S===void 0&&(S=0),T===void 0&&(T=0),C===void 0&&(C=!0);var E={faces:[],verts:[]},P=n.materials;r.set(h,d,p),e.set(x,S,T),i.fromRotationXYTranslation(e,r,C);for(var M=0;M<n.models.length;M++)for(var L=n.models[M],R=L.vertices,w=L.textureCoords,D=L.faces,B=0;B<D.length;B++){var z=D[B],V=z.vertices[0],Y=z.vertices[1],H=z.vertices[2],I=R[V.vertexIndex],U=R[Y.vertexIndex],O=R[H.vertexIndex],N=V.textureCoordsIndex,G=Y.textureCoordsIndex,X=H.textureCoordsIndex,W=N===-1?{u:0,v:1}:w[N],b=G===-1?{u:0,v:0}:w[G],K=X===-1?{u:1,v:1}:w[X],Z=16777215;z.material!==""&&P[z.material]&&(Z=P[z.material]);var Q=new s(I.x*f,I.y*f,I.z*f,W.u,W.v,Z).transformMat4(i),J=new s(U.x*f,U.y*f,U.z*f,b.u,b.v,Z).transformMat4(i),j=new s(O.x*f,O.y*f,O.z*f,K.u,K.v,Z).transformMat4(i);E.verts.push(Q,J,j),E.faces.push(new u(Q,J,j))}return o&&(o.faces=o.faces.concat(E.faces),o.vertices=o.vertices.concat(E.verts)),E};v.exports=l},67623:(v,y,t)=>{var u=t(18693),c=t(85769),a=function(s,r,e,i,l,n,o,f){if(i===void 0&&(i=!1),n===void 0&&(n=16777215),o===void 0&&(o=1),f===void 0&&(f=!1),s.length!==r.length&&!i){console.warn("GenerateVerts: vertices and uvs count not equal");return}var h={faces:[],vertices:[]},d,p,x,S,T,C,E,P,M,L,R,w=i?3:2,D=Array.isArray(n),B=Array.isArray(o);if(Array.isArray(e)&&e.length>0)for(d=0;d<e.length;d++){var z=e[d],V=e[d]*2,Y=e[d]*w;p=s[Y],x=s[Y+1],S=i?s[Y+2]:0,T=r[V],C=r[V+1],f&&(C=1-C),E=D?n[z]:n,P=B?o[z]:o,M=0,L=0,R=0,l&&(M=l[Y],L=l[Y+1],R=i?l[Y+2]:0),h.vertices.push(new c(p,x,S,T,C,E,P,M,L,R))}else{var H=0,I=0;for(d=0;d<s.length;d+=w)p=s[d],x=s[d+1],S=i?s[d+2]:0,T=r[H],C=r[H+1],E=D?n[I]:n,P=B?o[I]:o,M=0,L=0,R=0,l&&(M=l[d],L=l[d+1],R=i?l[d+2]:0),h.vertices.push(new c(p,x,S,T,C,E,P,M,L,R)),H+=2,I++}for(d=0;d<h.vertices.length;d+=3){var U=h.vertices[d],O=h.vertices[d+1],N=h.vertices[d+2];h.faces.push(new u(U,O,N))}return h};v.exports=a},27291:v=>{var y=!0,t="untitled",u="",c="";function a(p){var x=p.indexOf("#");return x>-1?p.substring(0,x):p}function s(p){return p.models.length===0&&p.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),u="",p.models[p.models.length-1]}function r(p,x){var S=p.length>=2?p[1]:t;x.models.push({faces:[],name:S,textureCoords:[],vertexNormals:[],vertices:[]}),u=""}function e(p){p.length===2&&(u=p[1])}function i(p,x){var S=p.length,T=S>=2?parseFloat(p[1]):0,C=S>=3?parseFloat(p[2]):0,E=S>=4?parseFloat(p[3]):0;s(x).vertices.push({x:T,y:C,z:E})}function l(p,x){var S=p.length,T=S>=2?parseFloat(p[1]):0,C=S>=3?parseFloat(p[2]):0,E=S>=4?parseFloat(p[3]):0;isNaN(T)&&(T=0),isNaN(C)&&(C=0),isNaN(E)&&(E=0),y&&(C=1-C),s(x).textureCoords.push({u:T,v:C,w:E})}function n(p,x){var S=p.length,T=S>=2?parseFloat(p[1]):0,C=S>=3?parseFloat(p[2]):0,E=S>=4?parseFloat(p[3]):0;s(x).vertexNormals.push({x:T,y:C,z:E})}function o(p,x){var S=p.length-1;if(!(S<3)){for(var T={group:u,material:c,vertices:[]},C=0;C<S;C++){var E=p[C+1],P=E.split("/"),M=P.length;if(!(M<1||M>3)){var L=0,R=0,w=0;L=parseInt(P[0],10),M>1&&P[1]!==""&&(R=parseInt(P[1],10)),M>2&&(w=parseInt(P[2],10)),L!==0&&(L<0&&(L=s(x).vertices.length+1+L),R-=1,L-=1,w-=1,T.vertices.push({textureCoordsIndex:R,vertexIndex:L,vertexNormalIndex:w}))}}s(x).faces.push(T)}}function f(p,x){p.length>=2&&x.materialLibraries.push(p[1])}function h(p){p.length>=2&&(c=p[1])}var d=function(p,x){x===void 0&&(x=!0),y=x;var S={materials:{},materialLibraries:[],models:[]};u="",c="";for(var T=p.split(`
`),C=0;C<T.length;C++){var E=a(T[C]),P=E.replace(/\s\s+/g," ").trim().split(" ");switch(P[0].toLowerCase()){case"o":r(P,S);break;case"g":e(P);break;case"v":i(P,S);break;case"vt":l(P,S);break;case"vn":n(P,S);break;case"f":o(P,S);break;case"mtllib":f(P,S);break;case"usemtl":h(P);break}}return S};v.exports=d},76799:(v,y,t)=>{var u=t(22946),c=function(a){for(var s={},r=a.split(`
`),e="",i=0;i<r.length;i++){var l=r[i].trim();if(!(l.indexOf("#")===0||l==="")){var n=l.replace(/\s\s+/g," ").trim().split(" ");switch(n[0].toLowerCase()){case"newmtl":{e=n[1];break}case"kd":{var o=Math.floor(n[1]*255),f=n.length>=2?Math.floor(n[2]*255):o,h=n.length>=3?Math.floor(n[3]*255):o;s[e]=u(o,f,h);break}}}}return s};v.exports=c},15313:v=>{var y=function(t,u,c,a){var s,r;if(c===void 0&&a===void 0){var e=t.getInCenter();s=e.x,r=e.y}var i=Math.cos(u),l=Math.sin(u),n=t.vertex1,o=t.vertex2,f=t.vertex3,h=n.x-s,d=n.y-r;n.set(h*i-d*l+s,h*l+d*i+r),h=o.x-s,d=o.y-r,o.set(h*i-d*l+s,h*l+d*i+r),h=f.x-s,d=f.y-r,f.set(h*i-d*l+s,h*l+d*i+r)};v.exports=y},85769:(v,y,t)=>{var u=t(56694),c=t(75512),a=t(70015),s=new u({Extends:a,initialize:function(e,i,l,n,o,f,h,d,p,x){f===void 0&&(f=16777215),h===void 0&&(h=1),d===void 0&&(d=0),p===void 0&&(p=0),x===void 0&&(x=0),a.call(this,e,i,l),this.vx=0,this.vy=0,this.vz=0,this.nx=d,this.ny=p,this.nz=x,this.u=n,this.v=o,this.color=f,this.alpha=h,this.tx=0,this.ty=0,this.ta=0,this.tu=n,this.tv=o},setUVs:function(r,e){return this.u=r,this.v=e,this.tu=r,this.tv=e,this},scrollUV:function(r,e){return this.tu+=r,this.tv+=e,this},scaleUV:function(r,e){return this.tu=this.u*r,this.tv=this.v*e,this},transformCoordinatesLocal:function(r,e,i,l){var n=this.x,o=this.y,f=this.z,h=r.val,d=n*h[0]+o*h[4]+f*h[8]+h[12],p=n*h[1]+o*h[5]+f*h[9]+h[13],x=n*h[2]+o*h[6]+f*h[10]+h[14],S=n*h[3]+o*h[7]+f*h[11]+h[15];this.vx=d/S*e,this.vy=-(p/S)*i,l<=0?this.vz=x/S:this.vz=-(x/S)},resize:function(r,e,i,l,n,o){return this.x=r,this.y=e,this.vx=this.x*i,this.vy=-this.y*l,this.vz=0,n<.5?this.vx+=i*(.5-n):n>.5&&(this.vx-=i*(n-.5)),o<.5?this.vy+=l*(.5-o):o>.5&&(this.vy-=l*(o-.5)),this},update:function(r,e,i,l,n,o,f,h){var d=this.vx*r+this.vy*i+n,p=this.vx*e+this.vy*l+o;return f&&(d=Math.round(d),p=Math.round(p)),this.tx=d,this.ty=p,this.ta=this.alpha*h,this},load:function(r,e,i,l,n){return r[++i]=this.tx,r[++i]=this.ty,r[++i]=this.tu,r[++i]=this.tv,r[++i]=l,r[++i]=n,e[++i]=c.getTintAppendFloatAlpha(this.color,this.ta),i}});v.exports=s},14293:(v,y,t)=>{var u={Face:t(18693),GenerateGridVerts:t(99425),GenerateObjVerts:t(53267),GenerateVerts:t(67623),ParseObj:t(27291),ParseObjMaterial:t(76799),RotateFace:t(15313),Vertex:t(85769)};v.exports=u},77601:v=>{var y=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};v.exports=y},38933:(v,y,t)=>{var u=t(79967),c=function(a){return new u(a.x,a.y)};v.exports=c},47103:v=>{var y=function(t,u){return u.setTo(t.x,t.y)};v.exports=y},13625:v=>{var y=function(t,u){return t.x===u.x&&t.y===u.y};v.exports=y},12536:v=>{var y=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};v.exports=y},54205:(v,y,t)=>{var u=t(79967),c=function(a,s){if(s===void 0&&(s=new u),!Array.isArray(a))throw new Error("GetCentroid points argument must be an array");var r=a.length;if(r<1)throw new Error("GetCentroid points array must not be empty");if(r===1)s.x=a[0].x,s.y=a[0].y;else{for(var e=0;e<r;e++)s.x+=a[e].x,s.y+=a[e].y;s.x/=r,s.y/=r}return s};v.exports=c},50083:v=>{var y=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};v.exports=y},82712:v=>{var y=function(t){return t.x*t.x+t.y*t.y};v.exports=y},20052:(v,y,t)=>{var u=t(74118),c=function(a,s){s===void 0&&(s=new u);for(var r=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,n=0;n<a.length;n++){var o=a[n];o.x>r&&(r=o.x),o.x<e&&(e=o.x),o.y>i&&(i=o.y),o.y<l&&(l=o.y)}return s.x=e,s.y=l,s.width=r-e,s.height=i-l,s};v.exports=c},77154:(v,y,t)=>{var u=t(79967),c=function(a,s,r,e){return r===void 0&&(r=0),e===void 0&&(e=new u),e.x=a.x+(s.x-a.x)*r,e.y=a.y+(s.y-a.y)*r,e};v.exports=c},42397:v=>{var y=function(t){return t.setTo(t.y,t.x)};v.exports=y},59464:(v,y,t)=>{var u=t(79967),c=function(a,s){return s===void 0&&(s=new u),s.setTo(-a.x,-a.y)};v.exports=c},79967:(v,y,t)=>{var u=t(56694),c=t(52394),a=new u({initialize:function(r,e){r===void 0&&(r=0),e===void 0&&(e=r),this.type=c.POINT,this.x=r,this.y=e},setTo:function(s,r){return s===void 0&&(s=0),r===void 0&&(r=s),this.x=s,this.y=r,this}});v.exports=a},53581:(v,y,t)=>{var u=t(79967),c=t(82712),a=function(s,r,e){e===void 0&&(e=new u);var i=s.x*r.x+s.y*r.y,l=i/c(r);return l!==0&&(e.x=l*r.x,e.y=l*r.y),e};v.exports=a},50817:(v,y,t)=>{var u=t(79967),c=function(a,s,r){r===void 0&&(r=new u);var e=a.x*s.x+a.y*s.y;return e!==0&&(r.x=e*s.x,r.y=e*s.y),r};v.exports=c},40525:(v,y,t)=>{var u=t(50083),c=function(a,s){if(a.x!==0||a.y!==0){var r=u(a);a.x/=r,a.y/=r}return a.x*=s,a.y*=s,a};v.exports=c},63472:(v,y,t)=>{var u=t(79967);u.Ceil=t(77601),u.Clone=t(38933),u.CopyFrom=t(47103),u.Equals=t(13625),u.Floor=t(12536),u.GetCentroid=t(54205),u.GetMagnitude=t(50083),u.GetMagnitudeSq=t(82712),u.GetRectangleFromPoints=t(20052),u.Interpolate=t(77154),u.Invert=t(42397),u.Negative=t(59464),u.Project=t(53581),u.ProjectUnit=t(50817),u.SetMagnitude=t(40525),v.exports=u},19631:(v,y,t)=>{var u=t(8580),c=function(a){return new u(a.points)};v.exports=c},45604:v=>{var y=function(t,u,c){for(var a=!1,s=-1,r=t.points.length-1;++s<t.points.length;r=s){var e=t.points[s].x,i=t.points[s].y,l=t.points[r].x,n=t.points[r].y;(i<=c&&c<n||n<=c&&c<i)&&u<(l-e)*(c-i)/(n-i)+e&&(a=!a)}return a};v.exports=y},87289:(v,y,t)=>{var u=t(45604),c=function(a,s){return u(a,s.x,s.y)};v.exports=c},11117:v=>{"use strict";function y(I,U,O){O=O||2;var N=U&&U.length,G=N?U[0]*O:I.length,X=t(I,0,G,O,!0),W=[];if(!X||X.next===X.prev)return W;var b,K,Z,Q,J,j,k;if(N&&(X=i(I,U,X,O)),I.length>80*O){b=Z=I[0],K=Q=I[1];for(var $=O;$<G;$+=O)J=I[$],j=I[$+1],J<b&&(b=J),j<K&&(K=j),J>Z&&(Z=J),j>Q&&(Q=j);k=Math.max(Z-b,Q-K),k=k!==0?32767/k:0}return c(X,W,O,b,K,k,0),W}function t(I,U,O,N,G){var X,W;if(G===H(I,U,O,N)>0)for(X=U;X<O;X+=N)W=z(X,I[X],I[X+1],W);else for(X=O-N;X>=U;X-=N)W=z(X,I[X],I[X+1],W);return W&&E(W,W.next)&&(V(W),W=W.next),W}function u(I,U){if(!I)return I;U||(U=I);var O=I,N;do if(N=!1,!O.steiner&&(E(O,O.next)||C(O.prev,O,O.next)===0)){if(V(O),O=U=O.prev,O===O.next)break;N=!0}else O=O.next;while(N||O!==U);return U}function c(I,U,O,N,G,X,W){if(I){!W&&X&&h(I,N,G,X);for(var b=I,K,Z;I.prev!==I.next;){if(K=I.prev,Z=I.next,X?s(I,N,G,X):a(I)){U.push(K.i/O|0),U.push(I.i/O|0),U.push(Z.i/O|0),V(I),I=Z.next,b=Z.next;continue}if(I=Z,I===b){W?W===1?(I=r(u(I),U,O),c(I,U,O,N,G,X,2)):W===2&&e(I,U,O,N,G,X):c(u(I),U,O,N,G,X,1);break}}}}function a(I){var U=I.prev,O=I,N=I.next;if(C(U,O,N)>=0)return!1;for(var G=U.x,X=O.x,W=N.x,b=U.y,K=O.y,Z=N.y,Q=G<X?G<W?G:W:X<W?X:W,J=b<K?b<Z?b:Z:K<Z?K:Z,j=G>X?G>W?G:W:X>W?X:W,k=b>K?b>Z?b:Z:K>Z?K:Z,$=N.next;$!==U;){if($.x>=Q&&$.x<=j&&$.y>=J&&$.y<=k&&S(G,b,X,K,W,Z,$.x,$.y)&&C($.prev,$,$.next)>=0)return!1;$=$.next}return!0}function s(I,U,O,N){var G=I.prev,X=I,W=I.next;if(C(G,X,W)>=0)return!1;for(var b=G.x,K=X.x,Z=W.x,Q=G.y,J=X.y,j=W.y,k=b<K?b<Z?b:Z:K<Z?K:Z,$=Q<J?Q<j?Q:j:J<j?J:j,_=b>K?b>Z?b:Z:K>Z?K:Z,nt=Q>J?Q>j?Q:j:J>j?J:j,at=p(k,$,U,O,N),st=p(_,nt,U,O,N),q=I.prevZ,it=I.nextZ;q&&q.z>=at&&it&&it.z<=st;){if(q.x>=k&&q.x<=_&&q.y>=$&&q.y<=nt&&q!==G&&q!==W&&S(b,Q,K,J,Z,j,q.x,q.y)&&C(q.prev,q,q.next)>=0||(q=q.prevZ,it.x>=k&&it.x<=_&&it.y>=$&&it.y<=nt&&it!==G&&it!==W&&S(b,Q,K,J,Z,j,it.x,it.y)&&C(it.prev,it,it.next)>=0))return!1;it=it.nextZ}for(;q&&q.z>=at;){if(q.x>=k&&q.x<=_&&q.y>=$&&q.y<=nt&&q!==G&&q!==W&&S(b,Q,K,J,Z,j,q.x,q.y)&&C(q.prev,q,q.next)>=0)return!1;q=q.prevZ}for(;it&&it.z<=st;){if(it.x>=k&&it.x<=_&&it.y>=$&&it.y<=nt&&it!==G&&it!==W&&S(b,Q,K,J,Z,j,it.x,it.y)&&C(it.prev,it,it.next)>=0)return!1;it=it.nextZ}return!0}function r(I,U,O){var N=I;do{var G=N.prev,X=N.next.next;!E(G,X)&&P(G,N,N.next,X)&&w(G,X)&&w(X,G)&&(U.push(G.i/O|0),U.push(N.i/O|0),U.push(X.i/O|0),V(N),V(N.next),N=I=X),N=N.next}while(N!==I);return u(N)}function e(I,U,O,N,G,X){var W=I;do{for(var b=W.next.next;b!==W.prev;){if(W.i!==b.i&&T(W,b)){var K=B(W,b);W=u(W,W.next),K=u(K,K.next),c(W,U,O,N,G,X,0),c(K,U,O,N,G,X,0);return}b=b.next}W=W.next}while(W!==I)}function i(I,U,O,N){var G=[],X,W,b,K,Z;for(X=0,W=U.length;X<W;X++)b=U[X]*N,K=X<W-1?U[X+1]*N:I.length,Z=t(I,b,K,N,!1),Z===Z.next&&(Z.steiner=!0),G.push(x(Z));for(G.sort(l),X=0;X<G.length;X++)O=n(G[X],O);return O}function l(I,U){return I.x-U.x}function n(I,U){var O=o(I,U);if(!O)return U;var N=B(O,I);return u(N,N.next),u(O,O.next)}function o(I,U){var O=U,N=I.x,G=I.y,X=-1/0,W;do{if(G<=O.y&&G>=O.next.y&&O.next.y!==O.y){var b=O.x+(G-O.y)*(O.next.x-O.x)/(O.next.y-O.y);if(b<=N&&b>X&&(X=b,W=O.x<O.next.x?O:O.next,b===N))return W}O=O.next}while(O!==U);if(!W)return null;var K=W,Z=W.x,Q=W.y,J=1/0,j;O=W;do N>=O.x&&O.x>=Z&&N!==O.x&&S(G<Q?N:X,G,Z,Q,G<Q?X:N,G,O.x,O.y)&&(j=Math.abs(G-O.y)/(N-O.x),w(O,I)&&(j<J||j===J&&(O.x>W.x||O.x===W.x&&f(W,O)))&&(W=O,J=j)),O=O.next;while(O!==K);return W}function f(I,U){return C(I.prev,I,U.prev)<0&&C(U.next,I,I.next)<0}function h(I,U,O,N){var G=I;do G.z===0&&(G.z=p(G.x,G.y,U,O,N)),G.prevZ=G.prev,G.nextZ=G.next,G=G.next;while(G!==I);G.prevZ.nextZ=null,G.prevZ=null,d(G)}function d(I){var U,O,N,G,X,W,b,K,Z=1;do{for(O=I,I=null,X=null,W=0;O;){for(W++,N=O,b=0,U=0;U<Z&&(b++,N=N.nextZ,!!N);U++);for(K=Z;b>0||K>0&&N;)b!==0&&(K===0||!N||O.z<=N.z)?(G=O,O=O.nextZ,b--):(G=N,N=N.nextZ,K--),X?X.nextZ=G:I=G,G.prevZ=X,X=G;O=N}X.nextZ=null,Z*=2}while(W>1);return I}function p(I,U,O,N,G){return I=(I-O)*G|0,U=(U-N)*G|0,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,U=(U|U<<8)&16711935,U=(U|U<<4)&252645135,U=(U|U<<2)&858993459,U=(U|U<<1)&1431655765,I|U<<1}function x(I){var U=I,O=I;do(U.x<O.x||U.x===O.x&&U.y<O.y)&&(O=U),U=U.next;while(U!==I);return O}function S(I,U,O,N,G,X,W,b){return(G-W)*(U-b)>=(I-W)*(X-b)&&(I-W)*(N-b)>=(O-W)*(U-b)&&(O-W)*(X-b)>=(G-W)*(N-b)}function T(I,U){return I.next.i!==U.i&&I.prev.i!==U.i&&!R(I,U)&&(w(I,U)&&w(U,I)&&D(I,U)&&(C(I.prev,I,U.prev)||C(I,U.prev,U))||E(I,U)&&C(I.prev,I,I.next)>0&&C(U.prev,U,U.next)>0)}function C(I,U,O){return(U.y-I.y)*(O.x-U.x)-(U.x-I.x)*(O.y-U.y)}function E(I,U){return I.x===U.x&&I.y===U.y}function P(I,U,O,N){var G=L(C(I,U,O)),X=L(C(I,U,N)),W=L(C(O,N,I)),b=L(C(O,N,U));return!!(G!==X&&W!==b||G===0&&M(I,O,U)||X===0&&M(I,N,U)||W===0&&M(O,I,N)||b===0&&M(O,U,N))}function M(I,U,O){return U.x<=Math.max(I.x,O.x)&&U.x>=Math.min(I.x,O.x)&&U.y<=Math.max(I.y,O.y)&&U.y>=Math.min(I.y,O.y)}function L(I){return I>0?1:I<0?-1:0}function R(I,U){var O=I;do{if(O.i!==I.i&&O.next.i!==I.i&&O.i!==U.i&&O.next.i!==U.i&&P(O,O.next,I,U))return!0;O=O.next}while(O!==I);return!1}function w(I,U){return C(I.prev,I,I.next)<0?C(I,U,I.next)>=0&&C(I,I.prev,U)>=0:C(I,U,I.prev)<0||C(I,I.next,U)<0}function D(I,U){var O=I,N=!1,G=(I.x+U.x)/2,X=(I.y+U.y)/2;do O.y>X!=O.next.y>X&&O.next.y!==O.y&&G<(O.next.x-O.x)*(X-O.y)/(O.next.y-O.y)+O.x&&(N=!N),O=O.next;while(O!==I);return N}function B(I,U){var O=new Y(I.i,I.x,I.y),N=new Y(U.i,U.x,U.y),G=I.next,X=U.prev;return I.next=U,U.prev=I,O.next=G,G.prev=O,N.next=O,O.prev=N,X.next=N,N.prev=X,N}function z(I,U,O,N){var G=new Y(I,U,O);return N?(G.next=N.next,G.prev=N,N.next.prev=G,N.next=G):(G.prev=G,G.next=G),G}function V(I){I.next.prev=I.prev,I.prev.next=I.next,I.prevZ&&(I.prevZ.nextZ=I.nextZ),I.nextZ&&(I.nextZ.prevZ=I.prevZ)}function Y(I,U,O){this.i=I,this.x=U,this.y=O,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}y.deviation=function(I,U,O,N){var G=U&&U.length,X=G?U[0]*O:I.length,W=Math.abs(H(I,0,X,O));if(G)for(var b=0,K=U.length;b<K;b++){var Z=U[b]*O,Q=b<K-1?U[b+1]*O:I.length;W-=Math.abs(H(I,Z,Q,O))}var J=0;for(b=0;b<N.length;b+=3){var j=N[b]*O,k=N[b+1]*O,$=N[b+2]*O;J+=Math.abs((I[j]-I[$])*(I[k+1]-I[j+1])-(I[j]-I[k])*(I[$+1]-I[j+1]))}return W===0&&J===0?0:Math.abs((J-W)/W)};function H(I,U,O,N){for(var G=0,X=U,W=O-N;X<O;X+=N)G+=(I[W]-I[X])*(I[X+1]+I[W+1]),W=X;return G}y.flatten=function(I){for(var U=I[0][0].length,O={vertices:[],holes:[],dimensions:U},N=0,G=0;G<I.length;G++){for(var X=0;X<I[G].length;X++)for(var W=0;W<U;W++)O.vertices.push(I[G][X][W]);G>0&&(N+=I[G-1].length,O.holes.push(N))}return O},v.exports=y},14045:(v,y,t)=>{var u=t(74118),c=function(a,s){s===void 0&&(s=new u);for(var r=1/0,e=1/0,i=-r,l=-e,n,o=0;o<a.points.length;o++)n=a.points[o],r=Math.min(r,n.x),e=Math.min(e,n.y),i=Math.max(i,n.x),l=Math.max(l,n.y);return s.x=r,s.y=e,s.width=i-r,s.height=l-e,s};v.exports=c},98286:v=>{var y=function(t,u){u===void 0&&(u=[]);for(var c=0;c<t.points.length;c++)u.push(t.points[c].x),u.push(t.points[c].y);return u};v.exports=y},89294:(v,y,t)=>{var u=t(16028),c=t(88829),a=t(5159),s=function(r,e,i,l){l===void 0&&(l=[]);var n=r.points,o=a(r);!e&&i>0&&(e=o/i);for(var f=0;f<e;f++)for(var h=o*(f/e),d=0,p=0;p<n.length;p++){var x=n[p],S=n[(p+1)%n.length],T=new c(x.x,x.y,S.x,S.y),C=u(T);if(h<d||h>d+C){d+=C;continue}var E=T.getPoint((h-d)/C);l.push(E);break}return l};v.exports=s},5159:(v,y,t)=>{var u=t(16028),c=t(88829),a=function(s){for(var r=s.points,e=0,i=0;i<r.length;i++){var l=r[i],n=r[(i+1)%r.length],o=new c(l.x,l.y,n.x,n.y);e+=u(o)}return e};v.exports=a},8580:(v,y,t)=>{var u=t(56694),c=t(45604),a=t(89294),s=t(52394),r=new u({initialize:function(i){this.type=s.POLYGON,this.area=0,this.points=[],i&&this.setTo(i)},contains:function(e,i){return c(this,e,i)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var i,l=Number.MAX_VALUE,n=0;n<e.length;n++)i={x:0,y:0},typeof e[n]=="number"||typeof e[n]=="string"?(i.x=parseFloat(e[n]),i.y=parseFloat(e[n+1]),n++):Array.isArray(e[n])?(i.x=e[n][0],i.y=e[n][1]):(i.x=e[n].x,i.y=e[n].y),this.points.push(i),i.y<l&&(l=i.y);return this.calculateArea(l),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,i,l,n=0;n<this.points.length-1;n++)i=this.points[n],l=this.points[n+1],e+=(l.x-i.x)*(i.y+l.y);return i=this.points[0],l=this.points[this.points.length-1],e+=(i.x-l.x)*(l.y+i.y),this.area=-e*.5,this.area},getPoints:function(e,i,l){return a(this,e,i,l)}});v.exports=r},32244:v=>{var y=function(t){return t.points.reverse(),t};v.exports=y},95874:v=>{function y(r,e){var i=r.x-e.x,l=r.y-e.y;return i*i+l*l}function t(r,e,i){var l=e.x,n=e.y,o=i.x-l,f=i.y-n;if(o!==0||f!==0){var h=((r.x-l)*o+(r.y-n)*f)/(o*o+f*f);h>1?(l=i.x,n=i.y):h>0&&(l+=o*h,n+=f*h)}return o=r.x-l,f=r.y-n,o*o+f*f}function u(r,e){for(var i=r[0],l=[i],n,o=1,f=r.length;o<f;o++)n=r[o],y(n,i)>e&&(l.push(n),i=n);return i!==n&&l.push(n),l}function c(r,e,i,l,n){for(var o=l,f,h=e+1;h<i;h++){var d=t(r[h],r[e],r[i]);d>o&&(f=h,o=d)}o>l&&(f-e>1&&c(r,e,f,l,n),n.push(r[f]),i-f>1&&c(r,f,i,l,n))}function a(r,e){var i=r.length-1,l=[r[0]];return c(r,0,i,e,l),l.push(r[i]),l}var s=function(r,e,i){e===void 0&&(e=1),i===void 0&&(i=!1);var l=r.points;if(l.length>2){var n=e*e;i||(l=u(l,n)),r.setTo(a(l,n))}return r};v.exports=s},18974:v=>{var y=function(u,c){return u[0]=c[0],u[1]=c[1],u},t=function(u){var c,a=[],s=u.points;for(c=0;c<s.length;c++)a.push([s[c].x,s[c].y]);var r=[];for(a.length>0&&r.push(y([0,0],a[0])),c=0;c<a.length-1;c++){var e=a[c],i=a[c+1],l=e[0],n=e[1],o=i[0],f=i[1];r.push([.85*l+.15*o,.85*n+.15*f]),r.push([.15*l+.85*o,.15*n+.85*f])}return a.length>1&&r.push(y([0,0],a[a.length-1])),u.setTo(r)};v.exports=t},23490:v=>{var y=function(t,u,c){for(var a=t.points,s=0;s<a.length;s++)a[s].x+=u,a[s].y+=c;return t};v.exports=y},44359:(v,y,t)=>{var u=t(8580);u.Clone=t(19631),u.Contains=t(45604),u.ContainsPoint=t(87289),u.Earcut=t(11117),u.GetAABB=t(14045),u.GetNumberArray=t(98286),u.GetPoints=t(89294),u.Perimeter=t(5159),u.Reverse=t(32244),u.Simplify=t(95874),u.Smooth=t(18974),u.Translate=t(23490),v.exports=u},1653:v=>{var y=function(t){return t.width*t.height};v.exports=y},33943:v=>{var y=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};v.exports=y},58662:v=>{var y=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};v.exports=y},79993:v=>{var y=function(t,u,c){return t.x=u-t.width/2,t.y=c-t.height/2,t};v.exports=y},81572:(v,y,t)=>{var u=t(74118),c=function(a){return new u(a.x,a.y,a.width,a.height)};v.exports=c},94287:v=>{var y=function(t,u,c){return t.width<=0||t.height<=0?!1:t.x<=u&&t.x+t.width>=u&&t.y<=c&&t.y+t.height>=c};v.exports=y},28687:(v,y,t)=>{var u=t(94287),c=function(a,s){return u(a,s.x,s.y)};v.exports=c},73222:v=>{var y=function(t,u){return u.width*u.height>t.width*t.height?!1:u.x>t.x&&u.x<t.right&&u.right>t.x&&u.right<t.right&&u.y>t.y&&u.y<t.bottom&&u.bottom>t.y&&u.bottom<t.bottom};v.exports=y},29538:v=>{var y=function(t,u){return u.setTo(t.x,t.y,t.width,t.height)};v.exports=y},87279:v=>{var y=function(t,u){return u===void 0&&(u=[]),u.push({x:t.x,y:t.y}),u.push({x:t.right,y:t.y}),u.push({x:t.right,y:t.bottom}),u.push({x:t.x,y:t.bottom}),u};v.exports=y},19989:v=>{var y=function(t,u){return t.x===u.x&&t.y===u.y&&t.width===u.width&&t.height===u.height};v.exports=y},92628:(v,y,t)=>{var u=t(6700),c=function(a,s){var r=u(a);return r<u(s)?a.setSize(s.height*r,s.height):a.setSize(s.width,s.width/r),a.setPosition(s.centerX-a.width/2,s.centerY-a.height/2)};v.exports=c},85028:(v,y,t)=>{var u=t(6700),c=function(a,s){var r=u(a);return r>u(s)?a.setSize(s.height*r,s.height):a.setSize(s.width,s.width/r),a.setPosition(s.centerX-a.width/2,s.centerY-a.height/2)};v.exports=c},71356:v=>{var y=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};v.exports=y},21687:v=>{var y=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};v.exports=y},80222:(v,y,t)=>{var u=t(74118),c=t(83392),a=function(s,r){if(r===void 0&&(r=new u),s.length===0)return r;for(var e=Number.MAX_VALUE,i=Number.MAX_VALUE,l=c.MIN_SAFE_INTEGER,n=c.MIN_SAFE_INTEGER,o,f,h,d=0;d<s.length;d++)o=s[d],Array.isArray(o)?(f=o[0],h=o[1]):(f=o.x,h=o.y),e=Math.min(e,f),i=Math.min(i,h),l=Math.max(l,f),n=Math.max(n,h);return r.x=e,r.y=i,r.width=l-e,r.height=n-i,r};v.exports=a},75785:(v,y,t)=>{var u=t(74118),c=function(a,s,r,e,i){return i===void 0&&(i=new u),i.setTo(Math.min(a,r),Math.min(s,e),Math.abs(a-r),Math.abs(s-e))};v.exports=c},6700:v=>{var y=function(t){return t.height===0?NaN:t.width/t.height};v.exports=y},35242:(v,y,t)=>{var u=t(79967),c=function(a,s){return s===void 0&&(s=new u),s.x=a.centerX,s.y=a.centerY,s};v.exports=c},47698:(v,y,t)=>{var u=t(85876),c=t(79967),a=function(s,r,e){if(e===void 0&&(e=new c),r<=0||r>=1)return e.x=s.x,e.y=s.y,e;var i=u(s)*r;return r>.5?(i-=s.width+s.height,i<=s.width?(e.x=s.right-i,e.y=s.bottom):(e.x=s.x,e.y=s.bottom-(i-s.width))):i<=s.width?(e.x=s.x+i,e.y=s.y):(e.x=s.right,e.y=s.y+(i-s.width)),e};v.exports=a},54932:(v,y,t)=>{var u=t(47698),c=t(85876),a=function(s,r,e,i){i===void 0&&(i=[]),!r&&e>0&&(r=c(s)/e);for(var l=0;l<r;l++){var n=l/r;i.push(u(s,n))}return i};v.exports=a},31591:(v,y,t)=>{var u=t(79967),c=function(a,s){return s===void 0&&(s=new u),s.x=a.width,s.y=a.height,s};v.exports=c},7782:(v,y,t)=>{var u=t(79993),c=function(a,s,r){var e=a.centerX,i=a.centerY;return a.setSize(a.width+s*2,a.height+r*2),u(a,e,i)};v.exports=c},66217:(v,y,t)=>{var u=t(74118),c=t(90205),a=function(s,r,e){return e===void 0&&(e=new u),c(s,r)?(e.x=Math.max(s.x,r.x),e.y=Math.max(s.y,r.y),e.width=Math.min(s.right,r.right)-e.x,e.height=Math.min(s.bottom,r.bottom)-e.y):e.setEmpty(),e};v.exports=a},40053:(v,y,t)=>{var u=t(85876),c=t(79967),a=function(s,r,e,i){if(i===void 0&&(i=[]),!r&&!e)return i;r?e=Math.round(u(s)/r):r=u(s)/e;for(var l=s.x,n=s.y,o=0,f=0;f<e;f++)switch(i.push(new c(l,n)),o){case 0:l+=r,l>=s.right&&(o=1,n+=l-s.right,l=s.right);break;case 1:n+=r,n>=s.bottom&&(o=2,l-=n-s.bottom,n=s.bottom);break;case 2:l-=r,l<=s.left&&(o=3,n-=s.left-l,l=s.left);break;case 3:n-=r,n<=s.top&&(o=0,n=s.top);break}return i};v.exports=a},86673:v=>{var y=function(t,u){for(var c=t.x,a=t.right,s=t.y,r=t.bottom,e=0;e<u.length;e++)c=Math.min(c,u[e].x),a=Math.max(a,u[e].x),s=Math.min(s,u[e].y),r=Math.max(r,u[e].y);return t.x=c,t.y=s,t.width=a-c,t.height=r-s,t};v.exports=y},14655:v=>{var y=function(t,u){var c=Math.min(t.x,u.x),a=Math.max(t.right,u.right);t.x=c,t.width=a-c;var s=Math.min(t.y,u.y),r=Math.max(t.bottom,u.bottom);return t.y=s,t.height=r-s,t};v.exports=y},44755:v=>{var y=function(t,u,c){var a=Math.min(t.x,u),s=Math.max(t.right,u);t.x=a,t.width=s-a;var r=Math.min(t.y,c),e=Math.max(t.bottom,c);return t.y=r,t.height=e-r,t};v.exports=y},74466:v=>{var y=function(t,u,c){return t.x+=u,t.y+=c,t};v.exports=y},55946:v=>{var y=function(t,u){return t.x+=u.x,t.y+=u.y,t};v.exports=y},97474:v=>{var y=function(t,u){return t.x<u.right&&t.right>u.x&&t.y<u.bottom&&t.bottom>u.y};v.exports=y},85876:v=>{var y=function(t){return 2*(t.width+t.height)};v.exports=y},20243:(v,y,t)=>{var u=t(79967),c=t(75606),a=function(s,r,e){e===void 0&&(e=new u),r=c(r);var i=Math.sin(r),l=Math.cos(r),n=l>0?s.width/2:s.width/-2,o=i>0?s.height/2:s.height/-2;return Math.abs(n*i)<Math.abs(o*l)?o=n*i/l:n=o*l/i,e.x=n+s.centerX,e.y=o+s.centerY,e};v.exports=a},30001:(v,y,t)=>{var u=t(79967),c=function(a,s){return s===void 0&&(s=new u),s.x=a.x+Math.random()*a.width,s.y=a.y+Math.random()*a.height,s};v.exports=c},97691:(v,y,t)=>{var u=t(17489),c=t(73222),a=t(79967),s=function(r,e,i){if(i===void 0&&(i=new a),c(r,e))switch(u(0,3)){case 0:i.x=r.x+Math.random()*(e.right-r.x),i.y=r.y+Math.random()*(e.top-r.y);break;case 1:i.x=e.x+Math.random()*(r.right-e.x),i.y=e.bottom+Math.random()*(r.bottom-e.bottom);break;case 2:i.x=r.x+Math.random()*(e.x-r.x),i.y=e.y+Math.random()*(r.bottom-e.y);break;case 3:i.x=e.right+Math.random()*(r.right-e.right),i.y=r.y+Math.random()*(e.bottom-r.y);break}return i};v.exports=s},74118:(v,y,t)=>{var u=t(56694),c=t(94287),a=t(47698),s=t(54932),r=t(52394),e=t(88829),i=t(30001),l=new u({initialize:function(o,f,h,d){o===void 0&&(o=0),f===void 0&&(f=0),h===void 0&&(h=0),d===void 0&&(d=0),this.type=r.RECTANGLE,this.x=o,this.y=f,this.width=h,this.height=d},contains:function(n,o){return c(this,n,o)},getPoint:function(n,o){return a(this,n,o)},getPoints:function(n,o,f){return s(this,n,o,f)},getRandomPoint:function(n){return i(this,n)},setTo:function(n,o,f,h){return this.x=n,this.y=o,this.width=f,this.height=h,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(n,o){return o===void 0&&(o=n),this.x=n,this.y=o,this},setSize:function(n,o){return o===void 0&&(o=n),this.width=n,this.height=o,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(n){return n===void 0&&(n=new e),n.setTo(this.x,this.y,this.right,this.y),n},getLineB:function(n){return n===void 0&&(n=new e),n.setTo(this.right,this.y,this.right,this.bottom),n},getLineC:function(n){return n===void 0&&(n=new e),n.setTo(this.right,this.bottom,this.x,this.bottom),n},getLineD:function(n){return n===void 0&&(n=new e),n.setTo(this.x,this.bottom,this.x,this.y),n},left:{get:function(){return this.x},set:function(n){n>=this.right?this.width=0:this.width=this.right-n,this.x=n}},right:{get:function(){return this.x+this.width},set:function(n){n<=this.x?this.width=0:this.width=n-this.x}},top:{get:function(){return this.y},set:function(n){n>=this.bottom?this.height=0:this.height=this.bottom-n,this.y=n}},bottom:{get:function(){return this.y+this.height},set:function(n){n<=this.y?this.height=0:this.height=n-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(n){this.x=n-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(n){this.y=n-this.height/2}}});v.exports=l},51828:v=>{var y=function(t,u){return t.width===u.width&&t.height===u.height};v.exports=y},5691:v=>{var y=function(t,u,c){return c===void 0&&(c=u),t.width*=u,t.height*=c,t};v.exports=y},58795:(v,y,t)=>{var u=t(74118),c=function(a,s,r){r===void 0&&(r=new u);var e=Math.min(a.x,s.x),i=Math.min(a.y,s.y),l=Math.max(a.right,s.right)-e,n=Math.max(a.bottom,s.bottom)-i;return r.setTo(e,i,l,n)};v.exports=c},66658:(v,y,t)=>{var u=t(74118);u.Area=t(1653),u.Ceil=t(33943),u.CeilAll=t(58662),u.CenterOn=t(79993),u.Clone=t(81572),u.Contains=t(94287),u.ContainsPoint=t(28687),u.ContainsRect=t(73222),u.CopyFrom=t(29538),u.Decompose=t(87279),u.Equals=t(19989),u.FitInside=t(92628),u.FitOutside=t(85028),u.Floor=t(71356),u.FloorAll=t(21687),u.FromPoints=t(80222),u.FromXY=t(75785),u.GetAspectRatio=t(6700),u.GetCenter=t(35242),u.GetPoint=t(47698),u.GetPoints=t(54932),u.GetSize=t(31591),u.Inflate=t(7782),u.Intersection=t(66217),u.MarchingAnts=t(40053),u.MergePoints=t(86673),u.MergeRect=t(14655),u.MergeXY=t(44755),u.Offset=t(74466),u.OffsetPoint=t(55946),u.Overlaps=t(97474),u.Perimeter=t(85876),u.PerimeterPoint=t(20243),u.Random=t(30001),u.RandomOutside=t(97691),u.SameDimensions=t(51828),u.Scale=t(5691),u.Union=t(58795),v.exports=u},19108:v=>{var y=function(t){var u=t.x1,c=t.y1,a=t.x2,s=t.y2,r=t.x3,e=t.y3;return Math.abs(((r-u)*(s-c)-(a-u)*(e-c))/2)};v.exports=y},41199:(v,y,t)=>{var u=t(66349),c=function(a,s,r){var e=r*(Math.sqrt(3)/2),i=a,l=s,n=a+r/2,o=s+e,f=a-r/2,h=s+e;return new u(i,l,n,o,f,h)};v.exports=c},88730:(v,y,t)=>{var u=t(11117),c=t(66349),a=function(s,r,e,i,l){r===void 0&&(r=null),e===void 0&&(e=1),i===void 0&&(i=1),l===void 0&&(l=[]);for(var n=u(s,r),o,f,h,d,p,x,S,T,C,E=0;E<n.length;E+=3)o=n[E],f=n[E+1],h=n[E+2],d=s[o*2]*e,p=s[o*2+1]*i,x=s[f*2]*e,S=s[f*2+1]*i,T=s[h*2]*e,C=s[h*2+1]*i,l.push(new c(d,p,x,S,T,C));return l};v.exports=a},3635:(v,y,t)=>{var u=t(66349),c=function(a,s,r,e){e===void 0&&(e=r);var i=a,l=s,n=a,o=s-e,f=a+r,h=s;return new u(i,l,n,o,f,h)};v.exports=c},1882:(v,y,t)=>{var u=t(56595),c=t(9640),a=function(s,r,e,i){i===void 0&&(i=u);var l=i(s),n=r-l.x,o=e-l.y;return c(s,n,o)};v.exports=a},56595:(v,y,t)=>{var u=t(79967),c=function(a,s){return s===void 0&&(s=new u),s.x=(a.x1+a.x2+a.x3)/3,s.y=(a.y1+a.y2+a.y3)/3,s};v.exports=c},91835:(v,y,t)=>{var u=t(93736);function c(s,r,e,i){return s*i-r*e}var a=function(s,r){r===void 0&&(r=new u);var e=s.x3,i=s.y3,l=s.x1-e,n=s.y1-i,o=s.x2-e,f=s.y2-i,h=2*c(l,n,o,f),d=c(n,l*l+n*n,f,o*o+f*f),p=c(l,l*l+n*n,o,o*o+f*f);return r.x=e-d/h,r.y=i+p/h,r};v.exports=a},97073:(v,y,t)=>{var u=t(26673),c=function(a,s){s===void 0&&(s=new u);var r=a.x1,e=a.y1,i=a.x2,l=a.y2,n=a.x3,o=a.y3,f=i-r,h=l-e,d=n-r,p=o-e,x=f*(r+i)+h*(e+l),S=d*(r+n)+p*(e+o),T=2*(f*(o-l)-h*(n-i)),C,E;if(Math.abs(T)<1e-6){var P=Math.min(r,i,n),M=Math.min(e,l,o);C=(Math.max(r,i,n)-P)*.5,E=(Math.max(e,l,o)-M)*.5,s.x=P+C,s.y=M+E,s.radius=Math.sqrt(C*C+E*E)}else s.x=(p*x-h*S)/T,s.y=(f*S-d*x)/T,C=s.x-r,E=s.y-e,s.radius=Math.sqrt(C*C+E*E);return s};v.exports=c},75974:(v,y,t)=>{var u=t(66349),c=function(a){return new u(a.x1,a.y1,a.x2,a.y2,a.x3,a.y3)};v.exports=c},60689:v=>{var y=function(t,u,c){var a=t.x3-t.x1,s=t.y3-t.y1,r=t.x2-t.x1,e=t.y2-t.y1,i=u-t.x1,l=c-t.y1,n=a*a+s*s,o=a*r+s*e,f=a*i+s*l,h=r*r+e*e,d=r*i+e*l,p=n*h-o*o,x=p===0?0:1/p,S=(h*f-o*d)*x,T=(n*d-o*f)*x;return S>=0&&T>=0&&S+T<1};v.exports=y},86875:v=>{var y=function(t,u,c,a){c===void 0&&(c=!1),a===void 0&&(a=[]);for(var s=t.x3-t.x1,r=t.y3-t.y1,e=t.x2-t.x1,i=t.y2-t.y1,l=s*s+r*r,n=s*e+r*i,o=e*e+i*i,f=l*o-n*n,h=f===0?0:1/f,d,p,x,S,T,C,E=t.x1,P=t.y1,M=0;M<u.length&&(x=u[M].x-E,S=u[M].y-P,T=s*x+r*S,C=e*x+i*S,d=(o*T-n*C)*h,p=(l*C-n*T)*h,!(d>=0&&p>=0&&d+p<1&&(a.push({x:u[M].x,y:u[M].y}),c)));M++);return a};v.exports=y},51532:(v,y,t)=>{var u=t(60689),c=function(a,s){return u(a,s.x,s.y)};v.exports=c},42538:v=>{var y=function(t,u){return u.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};v.exports=y},18680:v=>{var y=function(t,u){return u===void 0&&(u=[]),u.push({x:t.x1,y:t.y1}),u.push({x:t.x2,y:t.y2}),u.push({x:t.x3,y:t.y3}),u};v.exports=y},29977:v=>{var y=function(t,u){return t.x1===u.x1&&t.y1===u.y1&&t.x2===u.x2&&t.y2===u.y2&&t.x3===u.x3&&t.y3===u.y3};v.exports=y},56088:(v,y,t)=>{var u=t(79967),c=t(16028),a=function(s,r,e){e===void 0&&(e=new u);var i=s.getLineA(),l=s.getLineB(),n=s.getLineC();if(r<=0||r>=1)return e.x=i.x1,e.y=i.y1,e;var o=c(i),f=c(l),h=c(n),d=o+f+h,p=d*r,x=0;return p<o?(x=p/o,e.x=i.x1+(i.x2-i.x1)*x,e.y=i.y1+(i.y2-i.y1)*x):p>o+f?(p-=o+f,x=p/h,e.x=n.x1+(n.x2-n.x1)*x,e.y=n.y1+(n.y2-n.y1)*x):(p-=o,x=p/f,e.x=l.x1+(l.x2-l.x1)*x,e.y=l.y1+(l.y2-l.y1)*x),e};v.exports=a},24402:(v,y,t)=>{var u=t(16028),c=t(79967),a=function(s,r,e,i){i===void 0&&(i=[]);var l=s.getLineA(),n=s.getLineB(),o=s.getLineC(),f=u(l),h=u(n),d=u(o),p=f+h+d;!r&&e>0&&(r=p/e);for(var x=0;x<r;x++){var S=p*(x/r),T=0,C=new c;S<f?(T=S/f,C.x=l.x1+(l.x2-l.x1)*T,C.y=l.y1+(l.y2-l.y1)*T):S>f+h?(S-=f+h,T=S/d,C.x=o.x1+(o.x2-o.x1)*T,C.y=o.y1+(o.y2-o.y1)*T):(S-=f,T=S/h,C.x=n.x1+(n.x2-n.x1)*T,C.y=n.y1+(n.y2-n.y1)*T),i.push(C)}return i};v.exports=a},83648:(v,y,t)=>{var u=t(79967);function c(s,r,e,i){var l=s-e,n=r-i,o=l*l+n*n;return Math.sqrt(o)}var a=function(s,r){r===void 0&&(r=new u);var e=s.x1,i=s.y1,l=s.x2,n=s.y2,o=s.x3,f=s.y3,h=c(o,f,l,n),d=c(e,i,o,f),p=c(l,n,e,i),x=h+d+p;return r.x=(e*h+l*d+o*p)/x,r.y=(i*h+n*d+f*p)/x,r};v.exports=a},9640:v=>{var y=function(t,u,c){return t.x1+=u,t.y1+=c,t.x2+=u,t.y2+=c,t.x3+=u,t.y3+=c,t};v.exports=y},95290:(v,y,t)=>{var u=t(16028),c=function(a){var s=a.getLineA(),r=a.getLineB(),e=a.getLineC();return u(s)+u(r)+u(e)};v.exports=c},99761:(v,y,t)=>{var u=t(79967),c=function(a,s){s===void 0&&(s=new u);var r=a.x2-a.x1,e=a.y2-a.y1,i=a.x3-a.x1,l=a.y3-a.y1,n=Math.random(),o=Math.random();return n+o>=1&&(n=1-n,o=1-o),s.x=a.x1+(r*n+i*o),s.y=a.y1+(e*n+l*o),s};v.exports=c},21934:(v,y,t)=>{var u=t(19211),c=t(83648),a=function(s,r){var e=c(s);return u(s,e.x,e.y,r)};v.exports=a},68454:(v,y,t)=>{var u=t(19211),c=function(a,s,r){return u(a,s.x,s.y,r)};v.exports=c},19211:v=>{var y=function(t,u,c,a){var s=Math.cos(a),r=Math.sin(a),e=t.x1-u,i=t.y1-c;return t.x1=e*s-i*r+u,t.y1=e*r+i*s+c,e=t.x2-u,i=t.y2-c,t.x2=e*s-i*r+u,t.y2=e*r+i*s+c,e=t.x3-u,i=t.y3-c,t.x3=e*s-i*r+u,t.y3=e*r+i*s+c,t};v.exports=y},66349:(v,y,t)=>{var u=t(56694),c=t(60689),a=t(56088),s=t(24402),r=t(52394),e=t(88829),i=t(99761),l=new u({initialize:function(o,f,h,d,p,x){o===void 0&&(o=0),f===void 0&&(f=0),h===void 0&&(h=0),d===void 0&&(d=0),p===void 0&&(p=0),x===void 0&&(x=0),this.type=r.TRIANGLE,this.x1=o,this.y1=f,this.x2=h,this.y2=d,this.x3=p,this.y3=x},contains:function(n,o){return c(this,n,o)},getPoint:function(n,o){return a(this,n,o)},getPoints:function(n,o,f){return s(this,n,o,f)},getRandomPoint:function(n){return i(this,n)},setTo:function(n,o,f,h,d,p){return n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=0),h===void 0&&(h=0),d===void 0&&(d=0),p===void 0&&(p=0),this.x1=n,this.y1=o,this.x2=f,this.y2=h,this.x3=d,this.y3=p,this},getLineA:function(n){return n===void 0&&(n=new e),n.setTo(this.x1,this.y1,this.x2,this.y2),n},getLineB:function(n){return n===void 0&&(n=new e),n.setTo(this.x2,this.y2,this.x3,this.y3),n},getLineC:function(n){return n===void 0&&(n=new e),n.setTo(this.x3,this.y3,this.x1,this.y1),n},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(n){var o=0;this.x1<=this.x2&&this.x1<=this.x3?o=this.x1-n:this.x2<=this.x1&&this.x2<=this.x3?o=this.x2-n:o=this.x3-n,this.x1-=o,this.x2-=o,this.x3-=o}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(n){var o=0;this.x1>=this.x2&&this.x1>=this.x3?o=this.x1-n:this.x2>=this.x1&&this.x2>=this.x3?o=this.x2-n:o=this.x3-n,this.x1-=o,this.x2-=o,this.x3-=o}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(n){var o=0;this.y1<=this.y2&&this.y1<=this.y3?o=this.y1-n:this.y2<=this.y1&&this.y2<=this.y3?o=this.y2-n:o=this.y3-n,this.y1-=o,this.y2-=o,this.y3-=o}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(n){var o=0;this.y1>=this.y2&&this.y1>=this.y3?o=this.y1-n:this.y2>=this.y1&&this.y2>=this.y3?o=this.y2-n:o=this.y3-n,this.y1-=o,this.y2-=o,this.y3-=o}}});v.exports=l},87619:(v,y,t)=>{var u=t(66349);u.Area=t(19108),u.BuildEquilateral=t(41199),u.BuildFromPolygon=t(88730),u.BuildRight=t(3635),u.CenterOn=t(1882),u.Centroid=t(56595),u.CircumCenter=t(91835),u.CircumCircle=t(97073),u.Clone=t(75974),u.Contains=t(60689),u.ContainsArray=t(86875),u.ContainsPoint=t(51532),u.CopyFrom=t(42538),u.Decompose=t(18680),u.Equals=t(29977),u.GetPoint=t(56088),u.GetPoints=t(24402),u.InCenter=t(83648),u.Perimeter=t(95290),u.Offset=t(9640),u.Random=t(99761),u.Rotate=t(21934),u.RotateAroundPoint=t(68454),u.RotateAroundXY=t(19211),v.exports=u},27395:v=>{var y=function(t,u,c){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:u,hitAreaCallback:c,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};v.exports=y},18104:v=>{var y=function(t,u){return function(c,a,s,r){var e=t.getPixelAlpha(a,s,r.texture.key,r.frame.name);return e&&e>=u}};v.exports=y},69898:(v,y,t)=>{var u=t(56694),c=t(72687),a=t(6659),s=t(33963),r=t(97081),e=t(71064),i=t(7905),l=t(40398),n=t(37579),o=t(69360),f=t(64462),h=new u({initialize:function(p,x){this.game=p,this.scaleManager,this.canvas,this.config=x,this.enabled=!0,this.events=new a,this.isOver=!0,this.defaultCursor="",this.keyboard=x.inputKeyboard?new e(this):null,this.mouse=x.inputMouse?new i(this):null,this.touch=x.inputTouch?new n(this):null,this.pointers=[],this.pointersTotal=x.inputActivePointers,x.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var S=0;S<=this.pointersTotal;S++){var T=new l(this,S);T.smoothFactor=x.inputSmoothFactor,this.pointers.push(T)}this.mousePointer=x.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new o,this._tempMatrix2=new o,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],p.events.once(r.BOOT,this.boot,this)},boot:function(){var d=this.game,p=d.events;this.canvas=d.canvas,this.scaleManager=d.scale,this.events.emit(s.MANAGER_BOOT),p.on(r.PRE_RENDER,this.preRender,this),p.once(r.DESTROY,this.destroy,this)},setCanvasOver:function(d){this.isOver=!0,this.events.emit(s.GAME_OVER,d)},setCanvasOut:function(d){this.isOver=!1,this.events.emit(s.GAME_OUT,d)},preRender:function(){var d=this.game.loop.now,p=this.game.loop.delta,x=this.game.scene.getScenes(!0,!0);this.time=d,this.events.emit(s.MANAGER_UPDATE);for(var S=0;S<x.length;S++){var T=x[S];if(T.sys.input&&T.sys.input.updatePoll(d,p)&&this.globalTopOnly)return}},setDefaultCursor:function(d){this.defaultCursor=d,this.canvas.style.cursor!==d&&(this.canvas.style.cursor=d)},setCursor:function(d){d.cursor&&(this.canvas.style.cursor=d.cursor)},resetCursor:function(d){d.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(d){d===void 0&&(d=1);var p=[];this.pointersTotal+d>10&&(d=10-this.pointersTotal);for(var x=0;x<d;x++){var S=this.pointers.length,T=new l(this,S);T.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(T),this.pointersTotal++,p.push(T)}return p},updateInputPlugins:function(d,p){var x=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var S=0;S<x.length;S++){var T=x[S];if(T.sys.input){var C=T.sys.input.update(d,p);if(C&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(d){for(var p=this.pointers,x=[],S=0;S<d.changedTouches.length;S++)for(var T=d.changedTouches[S],C=1;C<this.pointersTotal;C++){var E=p[C];if(!E.active){E.touchstart(T,d),this.activePointer=E,x.push(E);break}}this.updateInputPlugins(c.TOUCH_START,x)},onTouchMove:function(d){for(var p=this.pointers,x=[],S=0;S<d.changedTouches.length;S++)for(var T=d.changedTouches[S],C=1;C<this.pointersTotal;C++){var E=p[C];if(E.active&&E.identifier===T.identifier){var P=document.elementFromPoint(T.pageX,T.pageY),M=P===this.canvas;!this.isOver&&M?this.setCanvasOver(d):this.isOver&&!M&&this.setCanvasOut(d),this.isOver&&(E.touchmove(T,d),this.activePointer=E,x.push(E));break}}this.updateInputPlugins(c.TOUCH_MOVE,x)},onTouchEnd:function(d){for(var p=this.pointers,x=[],S=0;S<d.changedTouches.length;S++)for(var T=d.changedTouches[S],C=1;C<this.pointersTotal;C++){var E=p[C];if(E.active&&E.identifier===T.identifier){E.touchend(T,d),x.push(E);break}}this.updateInputPlugins(c.TOUCH_END,x)},onTouchCancel:function(d){for(var p=this.pointers,x=[],S=0;S<d.changedTouches.length;S++)for(var T=d.changedTouches[S],C=1;C<this.pointersTotal;C++){var E=p[C];if(E.active&&E.identifier===T.identifier){E.touchcancel(T,d),x.push(E);break}}this.updateInputPlugins(c.TOUCH_CANCEL,x)},onMouseDown:function(d){var p=this.mousePointer;p.down(d),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(c.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(d){var p=this.mousePointer;p.move(d),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(c.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(d){var p=this.mousePointer;p.up(d),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(c.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(d){var p=this.mousePointer;p.wheel(d),this.activePointer=p,this.updateInputPlugins(c.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(d){var p=this.mouse.locked;this.mousePointer.locked=p,this.events.emit(s.POINTERLOCK_CHANGE,d,p)},inputCandidate:function(d,p){var x=d.input;if(!x||!x.enabled||!d.willRender(p))return!1;var S=!0,T=d.parentContainer;if(T)do{if(!T.willRender(p)){S=!1;break}T=T.parentContainer}while(T);return S},hitTest:function(d,p,x,S){S===void 0&&(S=this._tempHitTest);var T=this._tempPoint,C=x.scrollX,E=x.scrollY;S.length=0;var P=d.x,M=d.y;x.getWorldPoint(P,M,T),d.worldX=T.x,d.worldY=T.y;for(var L={x:0,y:0},R=this._tempMatrix,w=this._tempMatrix2,D=0;D<p.length;D++){var B=p[D];if(this.inputCandidate(B,x)){var z=T.x+C*B.scrollFactorX-C,V=T.y+E*B.scrollFactorY-E;B.parentContainer?(B.getWorldTransformMatrix(R,w),R.applyInverse(z,V,L)):f(z,V,B.x,B.y,B.rotation,B.scaleX,B.scaleY,L),this.pointWithinHitArea(B,L.x,L.y)&&S.push(B)}}return S},pointWithinHitArea:function(d,p,x){p+=d.displayOriginX,x+=d.displayOriginY;var S=d.input;return S&&S.hitAreaCallback(S.hitArea,p,x,d)?(S.localX=p,S.localY=x,!0):!1},pointWithinInteractiveObject:function(d,p,x){return d.hitArea?(p+=d.gameObject.displayOriginX,x+=d.gameObject.displayOriginY,d.localX=p,d.localY=x,d.hitAreaCallback(d.hitArea,p,x,d)):!1},transformPointer:function(d,p,x,S){var T=d.position,C=d.prevPosition;C.x=T.x,C.y=T.y;var E=this.scaleManager.transformX(p),P=this.scaleManager.transformY(x),M=d.smoothFactor;!S||M===0?(T.x=E,T.y=P):(T.x=E*M+C.x*(1-M),T.y=P*M+C.y*(1-M))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(r.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var d=0;d<this.pointers.length;d++)this.pointers[d].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});v.exports=h},12499:(v,y,t)=>{var u=t(26673),c=t(65650),a=t(56694),s=t(72687),r=t(27395),e=t(18104),i=t(53996),l=t(95669),n=t(72313),o=t(33963),f=t(6659),h=t(72632),d=t(52394),p=t(63399),x=t(42911),S=t(91963),T=t(74118),C=t(94287),E=t(7599),P=t(66349),M=t(60689),L=new a({Extends:f,initialize:function(w){f.call(this),this.scene=w,this.systems=w.sys,this.settings=w.sys.settings,this.manager=w.sys.game.input,this.pluginEvents=new f,this.enabled=!0,this.displayList,this.cameras,p.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var D={cancelled:!1};this._eventContainer={stopPropagation:function(){D.cancelled=!0}},this._eventData=D,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,w.sys.events.once(E.BOOT,this.boot,this),w.sys.events.on(E.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(E.DESTROY,this.destroy,this),this.pluginEvents.emit(o.BOOT)},start:function(){var R=this.systems.events;R.on(E.TRANSITION_START,this.transitionIn,this),R.on(E.TRANSITION_OUT,this.transitionOut,this),R.on(E.TRANSITION_COMPLETE,this.transitionComplete,this),R.on(E.PRE_UPDATE,this.preUpdate,this),R.once(E.SHUTDOWN,this.shutdown,this),this.manager.events.on(o.GAME_OUT,this.onGameOut,this),this.manager.events.on(o.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(o.START)},onGameOver:function(R){this.isActive()&&this.emit(o.GAME_OVER,R.timeStamp,R)},onGameOut:function(R){this.isActive()&&this.emit(o.GAME_OUT,R.timeStamp,R)},preUpdate:function(){this.pluginEvents.emit(o.PRE_UPDATE);var R=this._pendingRemoval,w=this._pendingInsertion,D=R.length,B=w.length;if(!(D===0&&B===0)){for(var z=this._list,V=0;V<D;V++){var Y=R[V],H=z.indexOf(Y);H>-1&&(z.splice(H,1),this.clear(Y,!0))}this._pendingRemoval.length=0,this._list=z.concat(w.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(R,w){if(!this.isActive())return!1;if(this.pluginEvents.emit(o.UPDATE,R,w),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var D,B=this.manager,z=B.pointers,V=B.pointersTotal;for(D=0;D<V;D++)z[D].updateMotion();if(this._list.length===0)return!1;var Y=this.pollRate;if(Y===-1)return!1;if(Y>0)if(this._pollTimer-=w,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var H=!1;for(D=0;D<V;D++){var I=0,U=z[D];this._tempZones=[],this._temp=this.hitTestPointer(U),this.sortGameObjects(this._temp,U),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),I+=this.processOverOutEvents(U),this.getDragState(U)===2&&this.processDragThresholdEvent(U,R),I>0&&(H=!0)}return H},update:function(R,w){if(!this.isActive())return!1;for(var D=w.length,B=!1,z=0;z<D;z++){var V=0,Y=w[z];switch(this._tempZones=[],this._temp=this.hitTestPointer(Y),this.sortGameObjects(this._temp,Y),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),R){case s.MOUSE_DOWN:V+=this.processDragDownEvent(Y),V+=this.processDownEvents(Y),V+=this.processOverOutEvents(Y);break;case s.MOUSE_UP:V+=this.processDragUpEvent(Y),V+=this.processUpEvents(Y),V+=this.processOverOutEvents(Y);break;case s.TOUCH_START:V+=this.processDragDownEvent(Y),V+=this.processDownEvents(Y),V+=this.processOverEvents(Y);break;case s.TOUCH_END:case s.TOUCH_CANCEL:V+=this.processDragUpEvent(Y),V+=this.processUpEvents(Y),V+=this.processOutEvents(Y);break;case s.MOUSE_MOVE:case s.TOUCH_MOVE:V+=this.processDragMoveEvent(Y),V+=this.processMoveEvents(Y),V+=this.processOverOutEvents(Y);break;case s.MOUSE_WHEEL:V+=this.processWheelEvent(Y);break}V>0&&(B=!0)}return this._updatedThisFrame=!0,B},clear:function(R,w){w===void 0&&(w=!1),this.disable(R);var D=R.input;D&&(this.removeDebug(R),D.gameObject=void 0,D.target=void 0,D.hitArea=void 0,D.hitAreaCallback=void 0,D.callbackContext=void 0,R.input=null),w||this.queueForRemoval(R);var B=this._draggable.indexOf(R);return B>-1&&this._draggable.splice(B,1),R},disable:function(R){var w=R.input;w&&(w.enabled=!1,w.dragState=0);var D=this._temp,B=this._drag,z=this._over,V=this.manager,Y=D.indexOf(R);Y>-1&&D.splice(Y,1);for(var H=0;H<V.pointersTotal;H++)Y=B[H].indexOf(R),Y>-1&&B[H].splice(Y,1),Y=z[H].indexOf(R),Y>-1&&(z[H].splice(Y,1),V.resetCursor(w));return this},enable:function(R,w,D,B){return B===void 0&&(B=!1),R.input?R.input.enabled=!0:this.setHitArea(R,w,D),R.input&&B&&!R.input.dropZone&&(R.input.dropZone=B),this},hitTestPointer:function(R){for(var w=this.cameras.getCamerasBelowPointer(R),D=0;D<w.length;D++){for(var B=w[D],z=this.manager.hitTest(R,this._list,B),V=0;V<z.length;V++){var Y=z[V];Y.input.dropZone&&this._tempZones.push(Y)}if(z.length>0)return R.camera=B,z}return R.camera=w[0],[]},processDownEvents:function(R){var w=0,D=this._temp,B=this._eventData,z=this._eventContainer;B.cancelled=!1;for(var V=!1,Y=0;Y<D.length;Y++){var H=D[Y];if(!(!H.input||!H.input.enabled)){if(w++,H.emit(o.GAMEOBJECT_POINTER_DOWN,R,H.input.localX,H.input.localY,z),B.cancelled||!H.input||!H.input.enabled){V=!0;break}if(this.emit(o.GAMEOBJECT_DOWN,R,H,z),B.cancelled||!H.input){V=!0;break}}}return!V&&this.manager&&(R.downElement===this.manager.game.canvas?this.emit(o.POINTER_DOWN,R,D):this.emit(o.POINTER_DOWN_OUTSIDE,R)),w},getDragState:function(R){return this._dragState[R.id]},setDragState:function(R,w){this._dragState[R.id]=w},processDragThresholdEvent:function(R,w){var D=!1,B=this.dragTimeThreshold,z=this.dragDistanceThreshold;if((z>0&&i(R.x,R.y,R.downX,R.downY)>=z||B>0&&w>=R.downTime+B)&&(D=!0),D)return this.setDragState(R,3),this.processDragStartList(R)},processDragStartList:function(R){if(this.getDragState(R)!==3)return 0;for(var w=this._drag[R.id],D=0;D<w.length;D++){var B=w[D],z=B.input;z.dragState=2,z.dragStartX=B.x,z.dragStartY=B.y,z.dragStartXGlobal=R.worldX,z.dragStartYGlobal=R.worldY,z.dragX=z.dragStartXGlobal-z.dragStartX,z.dragY=z.dragStartYGlobal-z.dragStartY,B.emit(o.GAMEOBJECT_DRAG_START,R,z.dragX,z.dragY),this.emit(o.DRAG_START,R,B)}return this.setDragState(R,4),w.length},processDragDownEvent:function(R){var w=this._temp;if(this._draggable.length===0||w.length===0||!R.primaryDown||this.getDragState(R)!==0)return 0;this.setDragState(R,1);for(var D=[],B=0;B<w.length;B++){var z=w[B];z.input.draggable&&z.input.dragState===0&&D.push(z)}return D.length===0?(this.setDragState(R,0),0):(D.length>1&&(this.sortGameObjects(D,R),this.topOnly&&D.splice(1)),this._drag[R.id]=D,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(R,3),this.processDragStartList(R)):(this.setDragState(R,2),0))},processDragMoveEvent:function(R){if(this.getDragState(R)===2&&this.processDragThresholdEvent(R,this.manager.game.loop.now),this.getDragState(R)!==4)return 0;for(var w=this._tempZones,D=this._drag[R.id],B=0;B<D.length;B++){var z=D[B],V=z.input,Y=V.target;if(Y){var H=w.indexOf(Y);H===0?(z.emit(o.GAMEOBJECT_DRAG_OVER,R,Y),this.emit(o.DRAG_OVER,R,z,Y)):H>0?(z.emit(o.GAMEOBJECT_DRAG_LEAVE,R,Y),this.emit(o.DRAG_LEAVE,R,z,Y),V.target=w[0],Y=V.target,z.emit(o.GAMEOBJECT_DRAG_ENTER,R,Y),this.emit(o.DRAG_ENTER,R,z,Y)):(z.emit(o.GAMEOBJECT_DRAG_LEAVE,R,Y),this.emit(o.DRAG_LEAVE,R,z,Y),w[0]?(V.target=w[0],Y=V.target,z.emit(o.GAMEOBJECT_DRAG_ENTER,R,Y),this.emit(o.DRAG_ENTER,R,z,Y)):V.target=null)}else!Y&&w[0]&&(V.target=w[0],Y=V.target,z.emit(o.GAMEOBJECT_DRAG_ENTER,R,Y),this.emit(o.DRAG_ENTER,R,z,Y));var I,U;if(!z.parentContainer)I=R.worldX-V.dragX,U=R.worldY-V.dragY;else{var O=R.worldX-V.dragStartXGlobal,N=R.worldY-V.dragStartYGlobal,G=z.getParentRotation(),X=O*Math.cos(G)+N*Math.sin(G),W=N*Math.cos(G)-O*Math.sin(G);X*=1/z.parentContainer.scaleX,W*=1/z.parentContainer.scaleY,I=X+V.dragStartX,U=W+V.dragStartY}z.emit(o.GAMEOBJECT_DRAG,R,I,U),this.emit(o.DRAG,R,z,I,U)}return D.length},processDragUpEvent:function(R){for(var w=this._drag[R.id],D=0;D<w.length;D++){var B=w[D],z=B.input;if(z&&z.dragState===2){z.dragState=0,z.dragX=z.localX-B.displayOriginX,z.dragY=z.localY-B.displayOriginY;var V=!1,Y=z.target;Y&&(B.emit(o.GAMEOBJECT_DROP,R,Y),this.emit(o.DROP,R,B,Y),z.target=null,V=!0),B.input&&B.input.enabled&&(B.emit(o.GAMEOBJECT_DRAG_END,R,z.dragX,z.dragY,V),this.emit(o.DRAG_END,R,B,V))}}return this.setDragState(R,0),w.splice(0),0},processMoveEvents:function(R){var w=0,D=this._temp,B=this._eventData,z=this._eventContainer;B.cancelled=!1;for(var V=!1,Y=0;Y<D.length;Y++){var H=D[Y];if(!(!H.input||!H.input.enabled)){if(w++,H.emit(o.GAMEOBJECT_POINTER_MOVE,R,H.input.localX,H.input.localY,z),B.cancelled||!H.input||!H.input.enabled){V=!0;break}if(this.emit(o.GAMEOBJECT_MOVE,R,H,z),B.cancelled||!H.input||!H.input.enabled){V=!0;break}if(this.topOnly)break}}return V||this.emit(o.POINTER_MOVE,R,D),w},processWheelEvent:function(R){var w=0,D=this._temp,B=this._eventData,z=this._eventContainer;B.cancelled=!1;for(var V=!1,Y=R.deltaX,H=R.deltaY,I=R.deltaZ,U=0;U<D.length;U++){var O=D[U];if(!(!O.input||!O.input.enabled)){if(w++,O.emit(o.GAMEOBJECT_POINTER_WHEEL,R,Y,H,I,z),B.cancelled||!O.input||!O.input.enabled){V=!0;break}if(this.emit(o.GAMEOBJECT_WHEEL,R,O,Y,H,I,z),B.cancelled||!O.input||!O.input.enabled){V=!0;break}}}return V||this.emit(o.POINTER_WHEEL,R,D,Y,H,I),w},processOverEvents:function(R){var w=this._temp,D=0,B=w.length,z=[];if(B>0){var V=this.manager,Y=this._eventData,H=this._eventContainer;Y.cancelled=!1;for(var I=!1,U=0;U<B;U++){var O=w[U];if(!(!O.input||!O.input.enabled)){if(z.push(O),V.setCursor(O.input),O.emit(o.GAMEOBJECT_POINTER_OVER,R,O.input.localX,O.input.localY,H),D++,Y.cancelled||!O.input||!O.input.enabled){I=!0;break}if(this.emit(o.GAMEOBJECT_OVER,R,O,H),Y.cancelled||!O.input||!O.input.enabled){I=!0;break}}}I||this.emit(o.POINTER_OVER,R,z)}return this._over[R.id]=z,D},processOutEvents:function(R){var w=this._over[R.id],D=0,B=w.length;if(B>0){var z=this.manager,V=this._eventData,Y=this._eventContainer;V.cancelled=!1;var H=!1;this.sortGameObjects(w,R);for(var I=0;I<B;I++){var U=w[I];if(U=w[I],!(!U.input||!U.input.enabled)){if(z.resetCursor(U.input),U.emit(o.GAMEOBJECT_POINTER_OUT,R,Y),D++,V.cancelled||!U.input||!U.input.enabled){H=!0;break}if(this.emit(o.GAMEOBJECT_OUT,R,U,Y),V.cancelled||!U.input||!U.input.enabled){H=!0;break}H||this.emit(o.POINTER_OUT,R,w)}}this._over[R.id]=[]}return D},processOverOutEvents:function(R){var w=this._temp,D,B,z=[],V=[],Y=[],H=this._over[R.id],I=this._drag[R.id],U=this.manager;for(D=0;D<H.length;D++)B=H[D],w.indexOf(B)===-1&&I.indexOf(B)===-1?z.push(B):Y.push(B);for(D=0;D<w.length;D++)B=w[D],H.indexOf(B)===-1&&V.push(B);var O=z.length,N=0,G=this._eventData,X=this._eventContainer;G.cancelled=!1;var W=!1;if(O>0){for(this.sortGameObjects(z,R),D=0;D<O;D++)if(B=z[D],!(!B.input||!B.input.enabled)){if(U.resetCursor(B.input),B.emit(o.GAMEOBJECT_POINTER_OUT,R,X),N++,G.cancelled||!B.input||!B.input.enabled){W=!0;break}if(this.emit(o.GAMEOBJECT_OUT,R,B,X),G.cancelled||!B.input||!B.input.enabled){W=!0;break}}W||this.emit(o.POINTER_OUT,R,z)}if(O=V.length,G.cancelled=!1,W=!1,O>0){for(this.sortGameObjects(V,R),D=0;D<O;D++)if(B=V[D],!(!B.input||!B.input.enabled)){if(U.setCursor(B.input),B.emit(o.GAMEOBJECT_POINTER_OVER,R,B.input.localX,B.input.localY,X),N++,G.cancelled||!B.input||!B.input.enabled){W=!0;break}if(this.emit(o.GAMEOBJECT_OVER,R,B,X),G.cancelled||!B.input||!B.input.enabled){W=!0;break}}W||this.emit(o.POINTER_OVER,R,V)}return H=Y.concat(V),this._over[R.id]=this.sortGameObjects(H,R),N},processUpEvents:function(R){var w=this._temp,D=this._eventData,B=this._eventContainer;D.cancelled=!1;for(var z=!1,V=0;V<w.length;V++){var Y=w[V];if(!(!Y.input||!Y.input.enabled)){if(Y.emit(o.GAMEOBJECT_POINTER_UP,R,Y.input.localX,Y.input.localY,B),D.cancelled||!Y.input||!Y.input.enabled){z=!0;break}if(this.emit(o.GAMEOBJECT_UP,R,Y,B),D.cancelled||!Y.input||!Y.input.enabled){z=!0;break}}}return!z&&this.manager&&(R.upElement===this.manager.game.canvas?this.emit(o.POINTER_UP,R,w):this.emit(o.POINTER_UP_OUTSIDE,R)),w.length},queueForInsertion:function(R){return this._pendingInsertion.indexOf(R)===-1&&this._list.indexOf(R)===-1&&this._pendingInsertion.push(R),this},queueForRemoval:function(R){return this._pendingRemoval.push(R),this},setDraggable:function(R,w){w===void 0&&(w=!0),Array.isArray(R)||(R=[R]);for(var D=0;D<R.length;D++){var B=R[D];B.input.draggable=w;var z=this._draggable.indexOf(B);w&&z===-1?this._draggable.push(B):!w&&z>-1&&this._draggable.splice(z,1)}return this},makePixelPerfect:function(R){R===void 0&&(R=1);var w=this.systems.textures;return e(w,R)},setHitArea:function(R,w,D){if(w===void 0)return this.setHitAreaFromTexture(R);Array.isArray(R)||(R=[R]);var B=!1,z=!1,V=!1,Y=!1,H=!1,I=!0;if(x(w)){var U=w;w=h(U,"hitArea",null),D=h(U,"hitAreaCallback",null),B=h(U,"draggable",!1),z=h(U,"dropZone",!1),V=h(U,"cursor",!1),Y=h(U,"useHandCursor",!1),H=h(U,"pixelPerfect",!1);var O=h(U,"alphaTolerance",1);H&&(w={},D=this.makePixelPerfect(O)),(!w||!D)&&(this.setHitAreaFromTexture(R),I=!1)}else typeof w=="function"&&!D&&(D=w,w={});for(var N=0;N<R.length;N++){var G=R[N];if(H&&G.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var X=G.input?G.input:r(G,w,D);X.customHitArea=I,X.dropZone=z,X.cursor=Y?"pointer":V,G.input=X,B&&this.setDraggable(G),this.queueForInsertion(G)}return this},setHitAreaCircle:function(R,w,D,B,z){z===void 0&&(z=c);var V=new u(w,D,B);return this.setHitArea(R,V,z)},setHitAreaEllipse:function(R,w,D,B,z,V){V===void 0&&(V=n);var Y=new l(w,D,B,z);return this.setHitArea(R,Y,V)},setHitAreaFromTexture:function(R,w){w===void 0&&(w=C),Array.isArray(R)||(R=[R]);for(var D=0;D<R.length;D++){var B=R[D],z=B.frame,V=0,Y=0;if(B.width?(V=B.width,Y=B.height):z&&(V=z.realWidth,Y=z.realHeight),B.type==="Container"&&(V===0||Y===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}V!==0&&Y!==0&&(B.input=r(B,new T(0,0,V,Y),w),this.queueForInsertion(B))}return this},setHitAreaRectangle:function(R,w,D,B,z,V){V===void 0&&(V=C);var Y=new T(w,D,B,z);return this.setHitArea(R,Y,V)},setHitAreaTriangle:function(R,w,D,B,z,V,Y,H){H===void 0&&(H=M);var I=new P(w,D,B,z,V,Y);return this.setHitArea(R,I,H)},enableDebug:function(R,w){w===void 0&&(w=65280);var D=R.input;if(!D||!D.hitArea)return this;var B=D.hitArea,z=B.type,V=D.hitAreaDebug,Y=this.systems.add,H=this.systems.updateList;V&&(H.remove(V),V.destroy(),V=null);var I=0,U=0;switch(z){case d.CIRCLE:V=Y.arc(0,0,B.radius),I=B.x-B.radius,U=B.y-B.radius;break;case d.ELLIPSE:V=Y.ellipse(0,0,B.width,B.height),I=B.x-B.width/2,U=B.y-B.height/2;break;case d.LINE:V=Y.line(0,0,B.x1,B.y1,B.x2,B.y2);break;case d.POLYGON:V=Y.polygon(0,0,B.points);break;case d.RECTANGLE:V=Y.rectangle(0,0,B.width,B.height),I=B.x,U=B.y;break;case d.TRIANGLE:V=Y.triangle(0,0,B.x1,B.y1,B.x2,B.y2,B.x3,B.y3);break}return V&&(V.isFilled=!1,V.strokeColor=w,V.preUpdate=function(){V.setStrokeStyle(1/R.scale,V.strokeColor),V.setDisplayOrigin(R.displayOriginX,R.displayOriginY);var O=R.x,N=R.y,G=R.rotation,X=R.scaleX,W=R.scaleY;if(R.parentContainer){var b=R.getWorldTransformMatrix();O=b.tx,N=b.ty,G=b.rotation,X=b.scaleX,W=b.scaleY}V.setRotation(G),V.setScale(X,W),V.setPosition(O+I*X,N+U*W),V.setScrollFactor(R.scrollFactorX,R.scrollFactorY),V.setDepth(R.depth)},H.add(V),D.hitAreaDebug=V),this},removeDebug:function(R){var w=R.input;if(w&&w.hitAreaDebug){var D=w.hitAreaDebug;this.systems.updateList.remove(D),D.destroy(),w.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(R){return this.pollRate=R,this._pollTimer=0,this},setGlobalTopOnly:function(R){return this.manager.globalTopOnly=R,this},setTopOnly:function(R){return this.topOnly=R,this},sortGameObjects:function(R,w){if(R.length<2||!w.camera)return R;var D=w.camera.renderList;return R.sort(function(B,z){var V=Math.max(D.indexOf(B),0),Y=Math.max(D.indexOf(z),0);return Y-V})},sortDropZones:function(R){return R.length<2?R:(this.scene.sys.depthSort(),R.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(R,w){if(!R.parentContainer&&!w.parentContainer)return this.displayList.getIndex(w)-this.displayList.getIndex(R);if(R.parentContainer===w.parentContainer)return w.parentContainer.getIndex(w)-R.parentContainer.getIndex(R);if(R.parentContainer===w)return-1;if(w.parentContainer===R)return 1;for(var D=R.getIndexList(),B=w.getIndexList(),z=Math.min(D.length,B.length),V=0;V<z;V++){var Y=D[V],H=B[V];if(Y!==H)return H-Y}return B.length-D.length;return 0},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(R){return this.manager.addPointer(R)},setDefaultCursor:function(R){return this.manager.setDefaultCursor(R),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(o.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var R=0;R<10;R++)this._drag[R]=[],this._over[R]=[];this.removeAllListeners();var w=this.manager;w.canvas.style.cursor=w.defaultCursor;var D=this.systems.events;D.off(E.TRANSITION_START,this.transitionIn,this),D.off(E.TRANSITION_OUT,this.transitionOut,this),D.off(E.TRANSITION_COMPLETE,this.transitionComplete,this),D.off(E.PRE_UPDATE,this.preUpdate,this),w.events.off(o.GAME_OUT,this.onGameOut,this),w.events.off(o.GAME_OVER,this.onGameOver,this),D.off(E.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var R=this.manager.pointers,w=0;w<R.length;w++)R[w].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(o.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(E.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});S.register("InputPlugin",L,"input"),v.exports=L},63399:(v,y,t)=>{var u=t(10850),c={},a={};a.register=function(s,r,e,i,l){c[s]={plugin:r,mapping:e,settingsKey:i,configKey:l}},a.getPlugin=function(s){return c[s]},a.install=function(s){var r=s.scene.sys,e=r.settings.input,i=r.game.config;for(var l in c){var n=c[l].plugin,o=c[l].mapping,f=c[l].settingsKey,h=c[l].configKey;u(e,f,i[h])&&(s[o]=new n(s))}},a.remove=function(s){c.hasOwnProperty(s)&&delete c[s]},v.exports=a},40398:(v,y,t)=>{var u=t(90447),c=t(56694),a=t(53996),s=t(88456),r=t(44521),e=t(93736),i=t(36580),l=new c({initialize:function(o,f){this.manager=o,this.id=f,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e,this.prevPosition=new e,this.midPoint=new e(-1,-1),this.velocity=new e,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=f===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(n){var o=n.getWorldPoint(this.x,this.y);return this.worldX=o.x,this.worldY=o.y,this},positionToCamera:function(n,o){return n.getWorldPoint(this.x,this.y,o)},updateMotion:function(){var n=this.position.x,o=this.position.y,f=this.midPoint.x,h=this.midPoint.y;if(!(n===f&&o===h)){var d=r(this.motionFactor,f,n),p=r(this.motionFactor,h,o);s(d,n,.1)&&(d=n),s(p,o,.1)&&(p=o),this.midPoint.set(d,p);var x=n-d,S=o-p;this.velocity.set(x,S),this.angle=u(d,p,n,o),this.distance=Math.sqrt(x*x+S*S)}},up:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.button=n.button,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),n.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=n.timeStamp,this.wasTouch=!1)},down:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.button=n.button,this.downElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),n.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),i.macOS&&n.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=n.timeStamp),this.wasTouch=!1},move:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.manager.transformPointer(this,n.pageX,n.pageY,!0),this.locked&&(this.movementX=n.movementX||n.mozMovementX||n.webkitMovementX||0,this.movementY=n.movementY||n.mozMovementY||n.webkitMovementY||0),this.moveTime=n.timeStamp,this.wasTouch=!1},wheel:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.deltaX=n.deltaX,this.deltaY=n.deltaY,this.deltaZ=n.deltaZ,this.wasTouch=!1},touchstart:function(n,o){n.pointerId&&(this.pointerId=n.pointerId),this.identifier=n.identifier,this.target=n.target,this.active=!0,this.buttons=1,this.event=o,this.downElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=o.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(n,o){this.event=o,this.manager.transformPointer(this,n.pageX,n.pageY,!0),this.moveTime=o.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(n,o){this.buttons=0,this.event=o,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=o.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(n,o){this.buttons=0,this.event=o,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=o.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?u(this.downX,this.downY,this.x,this.y):u(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(n,o){n===void 0&&(n=10),o===void 0&&(o=[]);for(var f=this.prevPosition.x,h=this.prevPosition.y,d=this.position.x,p=this.position.y,x=0;x<n;x++){var S=1/n*x;o[x]={x:r(S,f,d),y:r(S,h,p)}}return o},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(n){this.position.x=n}},y:{get:function(){return this.position.y},set:function(n){this.position.y=n}},time:{get:function(){return this.event?this.event.timeStamp:0}}});v.exports=l},72687:v=>{var y={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};v.exports=y},14874:v=>{v.exports="boot"},54168:v=>{v.exports="destroy"},526:v=>{v.exports="dragend"},81623:v=>{v.exports="dragenter"},94472:v=>{v.exports="drag"},9304:v=>{v.exports="dragleave"},34265:v=>{v.exports="dragover"},50151:v=>{v.exports="dragstart"},98134:v=>{v.exports="drop"},56773:v=>{v.exports="gameobjectdown"},45824:v=>{v.exports="dragend"},39578:v=>{v.exports="dragenter"},72072:v=>{v.exports="drag"},82569:v=>{v.exports="dragleave"},70833:v=>{v.exports="dragover"},81442:v=>{v.exports="dragstart"},32936:v=>{v.exports="drop"},99658:v=>{v.exports="gameobjectmove"},60515:v=>{v.exports="gameobjectout"},55254:v=>{v.exports="gameobjectover"},34782:v=>{v.exports="pointerdown"},41769:v=>{v.exports="pointermove"},65588:v=>{v.exports="pointerout"},61640:v=>{v.exports="pointerover"},49342:v=>{v.exports="pointerup"},82662:v=>{v.exports="wheel"},13058:v=>{v.exports="gameobjectup"},52426:v=>{v.exports="gameobjectwheel"},78072:v=>{v.exports="gameout"},1545:v=>{v.exports="gameover"},67137:v=>{v.exports="boot"},27678:v=>{v.exports="process"},22257:v=>{v.exports="update"},90379:v=>{v.exports="pointerlockchange"},88909:v=>{v.exports="pointerdown"},36548:v=>{v.exports="pointerdownoutside"},18483:v=>{v.exports="pointermove"},22355:v=>{v.exports="pointerout"},7997:v=>{v.exports="pointerover"},66318:v=>{v.exports="pointerup"},94812:v=>{v.exports="pointerupoutside"},37310:v=>{v.exports="wheel"},24196:v=>{v.exports="preupdate"},27053:v=>{v.exports="shutdown"},29413:v=>{v.exports="start"},25165:v=>{v.exports="update"},33963:(v,y,t)=>{v.exports={BOOT:t(14874),DESTROY:t(54168),DRAG_END:t(526),DRAG_ENTER:t(81623),DRAG:t(94472),DRAG_LEAVE:t(9304),DRAG_OVER:t(34265),DRAG_START:t(50151),DROP:t(98134),GAME_OUT:t(78072),GAME_OVER:t(1545),GAMEOBJECT_DOWN:t(56773),GAMEOBJECT_DRAG_END:t(45824),GAMEOBJECT_DRAG_ENTER:t(39578),GAMEOBJECT_DRAG:t(72072),GAMEOBJECT_DRAG_LEAVE:t(82569),GAMEOBJECT_DRAG_OVER:t(70833),GAMEOBJECT_DRAG_START:t(81442),GAMEOBJECT_DROP:t(32936),GAMEOBJECT_MOVE:t(99658),GAMEOBJECT_OUT:t(60515),GAMEOBJECT_OVER:t(55254),GAMEOBJECT_POINTER_DOWN:t(34782),GAMEOBJECT_POINTER_MOVE:t(41769),GAMEOBJECT_POINTER_OUT:t(65588),GAMEOBJECT_POINTER_OVER:t(61640),GAMEOBJECT_POINTER_UP:t(49342),GAMEOBJECT_POINTER_WHEEL:t(82662),GAMEOBJECT_UP:t(13058),GAMEOBJECT_WHEEL:t(52426),MANAGER_BOOT:t(67137),MANAGER_PROCESS:t(27678),MANAGER_UPDATE:t(22257),POINTER_DOWN:t(88909),POINTER_DOWN_OUTSIDE:t(36548),POINTER_MOVE:t(18483),POINTER_OUT:t(22355),POINTER_OVER:t(7997),POINTER_UP:t(66318),POINTER_UP_OUTSIDE:t(94812),POINTER_WHEEL:t(37310),POINTERLOCK_CHANGE:t(90379),PRE_UPDATE:t(24196),SHUTDOWN:t(27053),START:t(29413),UPDATE:t(25165)}},70848:(v,y,t)=>{var u=t(56694),c=new u({initialize:function(s,r){this.pad=s,this.events=s.events,this.index=r,this.value=0,this.threshold=.1},update:function(a){this.value=a},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});v.exports=c},21274:(v,y,t)=>{var u=t(56694),c=t(43200),a=new u({initialize:function(r,e){this.pad=r,this.events=r.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(s){this.value=s;var r=this.pad,e=this.index;s>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(c.BUTTON_DOWN,r,this,s),this.pad.emit(c.GAMEPAD_BUTTON_DOWN,e,s,this)):this.pressed&&(this.pressed=!1,this.events.emit(c.BUTTON_UP,r,this,s),this.pad.emit(c.GAMEPAD_BUTTON_UP,e,s,this))},destroy:function(){this.pad=null,this.events=null}});v.exports=a},75956:(v,y,t)=>{var u=t(70848),c=t(21274),a=t(56694),s=t(6659),r=t(93736),e=new a({Extends:s,initialize:function(l,n){s.call(this),this.manager=l,this.pad=n,this.id=n.id,this.index=n.index;for(var o=[],f=0;f<n.buttons.length;f++)o.push(new c(this,f));this.buttons=o;var h=[];for(f=0;f<n.axes.length;f++)h.push(new u(this,f));this.axes=h,this.vibration=n.vibrationActuator;var d={value:0,pressed:!1};this._LCLeft=o[14]?o[14]:d,this._LCRight=o[15]?o[15]:d,this._LCTop=o[12]?o[12]:d,this._LCBottom=o[13]?o[13]:d,this._RCLeft=o[2]?o[2]:d,this._RCRight=o[1]?o[1]:d,this._RCTop=o[3]?o[3]:d,this._RCBottom=o[0]?o[0]:d,this._FBLeftTop=o[4]?o[4]:d,this._FBLeftBottom=o[6]?o[6]:d,this._FBRightTop=o[5]?o[5]:d,this._FBRightBottom=o[7]?o[7]:d;var p={value:0};this._HAxisLeft=h[0]?h[0]:p,this._VAxisLeft=h[1]?h[1]:p,this._HAxisRight=h[2]?h[2]:p,this._VAxisRight=h[3]?h[3]:p,this.leftStick=new r,this.rightStick=new r,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(i){return this.axes[i].getValue()},setAxisThreshold:function(i){for(var l=0;l<this.axes.length;l++)this.axes[l].threshold=i},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(i){return this.buttons[i].value},isButtonDown:function(i){return this.buttons[i].pressed},update:function(i){if(!(i.timestamp<this._created)){var l,n=this.buttons,o=i.buttons,f=n.length;for(l=0;l<f;l++)n[l].update(o[l].value);var h=this.axes,d=i.axes;for(f=h.length,l=0;l<f;l++)h[l].update(d[l]);f>=2&&(this.leftStick.set(h[0].getValue(),h[1].getValue()),f>=4&&this.rightStick.set(h[2].getValue(),h[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var i;for(i=0;i<this.buttons.length;i++)this.buttons[i].destroy();for(i=0;i<this.axes.length;i++)this.axes[i].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});v.exports=e},1379:(v,y,t)=>{var u=t(56694),c=t(6659),a=t(43200),s=t(75956),r=t(10850),e=t(63399),i=t(33963),l=new u({Extends:c,initialize:function(o){c.call(this),this.scene=o.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=o,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,o.pluginEvents.once(i.BOOT,this.boot,this),o.pluginEvents.on(i.START,this.start,this)},boot:function(){var n=this.scene.sys.game,o=this.settings.input,f=n.config;this.enabled=r(o,"gamepad",f.inputGamepad)&&n.device.input.gamepads,this.target=r(o,"gamepad.target",f.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(i.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(i.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var n=this,o=this.target,f=function(h){h.defaultPrevented||!n.isActive()||(n.refreshPads(),n.queue.push(h))};this.onGamepadHandler=f,o.addEventListener("gamepadconnected",f,!1),o.addEventListener("gamepaddisconnected",f,!1),this.sceneInputPlugin.pluginEvents.on(i.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(i.UPDATE,this.update);for(var n=0;n<this.gamepads.length;n++)this.gamepads[n].removeAllListeners()},disconnectAll:function(){for(var n=0;n<this.gamepads.length;n++)this.gamepads[n].pad.connected=!1},refreshPads:function(){var n=navigator.getGamepads();if(!n)this.disconnectAll();else for(var o=this.gamepads,f=0;f<n.length;f++){var h=n[f];if(h){var d=h.id,p=h.index,x=o[p];if(x)x.id!==d?(x.destroy(),o[p]=new s(this,h)):x.update(h);else{var S=new s(this,h);o[p]=S,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=S):this._pad3=S:this._pad2=S:this._pad1=S}}}},getAll:function(){for(var n=[],o=this.gamepads,f=0;f<o.length;f++)o[f]&&n.push(o[f]);return n},getPad:function(n){for(var o=this.gamepads,f=0;f<o.length;f++)if(o[f]&&o[f].index===n)return o[f]},update:function(){if(this.enabled){this.refreshPads();var n=this.queue.length;if(n!==0)for(var o=this.queue.splice(0,n),f=0;f<n;f++){var h=o[f],d=this.getPad(h.gamepad.index);h.type==="gamepadconnected"?this.emit(a.CONNECTED,d,h):h.type==="gamepaddisconnected"&&this.emit(a.DISCONNECTED,d,h)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var n=0;n<this.gamepads.length;n++)this.gamepads[n]&&this.gamepads[n].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",l,"gamepad","gamepad","inputGamepad"),v.exports=l},33171:v=>{v.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},74982:v=>{v.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},43247:v=>{v.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},4898:(v,y,t)=>{v.exports={DUALSHOCK_4:t(74982),SNES_USB:t(33171),XBOX_360:t(43247)}},17344:v=>{v.exports="down"},36635:v=>{v.exports="up"},85724:v=>{v.exports="connected"},55832:v=>{v.exports="disconnected"},772:v=>{v.exports="down"},33608:v=>{v.exports="up"},43200:(v,y,t)=>{v.exports={BUTTON_DOWN:t(17344),BUTTON_UP:t(36635),CONNECTED:t(85724),DISCONNECTED:t(55832),GAMEPAD_BUTTON_DOWN:t(772),GAMEPAD_BUTTON_UP:t(33608)}},92636:(v,y,t)=>{v.exports={Axis:t(70848),Button:t(21274),Events:t(43200),Gamepad:t(75956),GamepadPlugin:t(1379),Configs:t(4898)}},20873:(v,y,t)=>{var u=t(72687),c=t(98611),a={CreatePixelPerfectHandler:t(18104),CreateInteractiveObject:t(27395),Events:t(33963),Gamepad:t(92636),InputManager:t(69898),InputPlugin:t(12499),InputPluginCache:t(63399),Keyboard:t(28388),Mouse:t(11343),Pointer:t(40398),Touch:t(77423)};a=c(!1,a,u),v.exports=a},71064:(v,y,t)=>{var u=t(66458),c=t(56694),a=t(97081),s=t(33963),r=t(11873),e=t(72283),i=new c({initialize:function(n){this.manager=n,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,n.events.once(s.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputKeyboard,this.target=l.inputKeyboardEventTarget,this.addCapture(l.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(a.POST_STEP,this.postUpdate,this)},startListeners:function(){var l=this;this.onKeyDown=function(o){if(!(o.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(o),l.manager.events.emit(s.MANAGER_PROCESS);var f=o.altKey||o.ctrlKey||o.shiftKey||o.metaKey;l.preventDefault&&!f&&l.captures.indexOf(o.keyCode)>-1&&o.preventDefault()}},this.onKeyUp=function(o){if(!(o.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(o),l.manager.events.emit(s.MANAGER_PROCESS);var f=o.altKey||o.ctrlKey||o.shiftKey||o.metaKey;l.preventDefault&&!f&&l.captures.indexOf(o.keyCode)>-1&&o.preventDefault()}};var n=this.target;n&&(n.addEventListener("keydown",this.onKeyDown,!1),n.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var l=this.target;l.removeEventListener("keydown",this.onKeyDown,!1),l.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var n=this.captures,o=0;o<l.length;o++){var f=l[o];typeof f=="string"&&(f=r[f.trim().toUpperCase()]),n.indexOf(f)===-1&&n.push(f)}this.preventDefault=n.length>0},removeCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var n=this.captures,o=0;o<l.length;o++){var f=l[o];typeof f=="string"&&(f=r[f.toUpperCase()]),u(n,f)}this.preventDefault=n.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(a.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});v.exports=i},89666:(v,y,t)=>{var u=t(56694),c=t(6659),a=t(94030),s=t(97081),r=t(10850),e=t(33963),i=t(63399),l=t(50165),n=t(11873),o=t(95625),f=t(48044),h=t(7599),d=t(84314),p=new u({Extends:c,initialize:function(S){c.call(this),this.game=S.systems.game,this.scene=S.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=S,this.manager=S.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,S.pluginEvents.once(e.BOOT,this.boot,this),S.pluginEvents.on(e.START,this.start,this)},boot:function(){var x=this.settings.input;this.enabled=r(x,"keyboard",!0);var S=r(x,"keyboard.capture",null);S&&this.addCaptures(S),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(s.BLUR,this.resetKeys,this),this.scene.sys.events.on(h.PAUSE,this.resetKeys,this),this.scene.sys.events.on(h.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(x){return this.manager.addCapture(x),this},removeCapture:function(x){return this.manager.removeCapture(x),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:n.UP,down:n.DOWN,left:n.LEFT,right:n.RIGHT,space:n.SPACE,shift:n.SHIFT})},addKeys:function(x,S,T){S===void 0&&(S=!0),T===void 0&&(T=!1);var C={};if(typeof x=="string"){x=x.split(",");for(var E=0;E<x.length;E++){var P=x[E].trim();P&&(C[P]=this.addKey(P,S,T))}}else for(var M in x)C[M]=this.addKey(x[M],S,T);return C},addKey:function(x,S,T){S===void 0&&(S=!0),T===void 0&&(T=!1);var C=this.keys;if(x instanceof l){var E=C.indexOf(x);return E>-1?C[E]=x:C[x.keyCode]=x,S&&this.addCapture(x.keyCode),x.setEmitOnRepeat(T),x}return typeof x=="string"&&(x=n[x.toUpperCase()]),C[x]||(C[x]=new l(this,x),S&&this.addCapture(x),C[x].setEmitOnRepeat(T)),C[x]},removeKey:function(x,S,T){S===void 0&&(S=!1),T===void 0&&(T=!1);var C=this.keys,E;if(x instanceof l){var P=C.indexOf(x);P>-1&&(E=this.keys[P],this.keys[P]=void 0)}else typeof x=="string"&&(x=n[x.toUpperCase()]);return C[x]&&(E=C[x],C[x]=void 0),E&&(E.plugin=null,T&&this.removeCapture(E.keyCode),S&&E.destroy()),this},removeAllKeys:function(x,S){x===void 0&&(x=!1),S===void 0&&(S=!1);for(var T=this.keys,C=0;C<T.length;C++){var E=T[C];E&&(T[C]=void 0,S&&this.removeCapture(E.keyCode),x&&E.destroy())}return this},createCombo:function(x,S){return new o(this,x,S)},checkDown:function(x,S){if(S===void 0&&(S=0),this.enabled&&x.isDown){var T=d(this.time-x.timeDown,S);if(T>x._tick)return x._tick=T,!0}return!1},update:function(){var x=this.manager.queue,S=x.length;if(!(!this.isActive()||S===0))for(var T=this.keys,C=0;C<S;C++){var E=x[C],P=E.keyCode,M=T[P],L=!1;E.cancelled===void 0&&(E.cancelled=0,E.stopImmediatePropagation=function(){E.cancelled=1},E.stopPropagation=function(){E.cancelled=-1}),E.cancelled!==-1&&(P===this.prevCode&&E.timeStamp===this.prevTime&&E.type===this.prevType||(this.prevCode=P,this.prevTime=E.timeStamp,this.prevType=E.type,E.type==="keydown"?(M&&(L=M.isDown,M.onDown(E)),!E.cancelled&&(!M||!L)&&(f[P]&&this.emit(a.KEY_DOWN+f[P],E),E.cancelled||this.emit(a.ANY_KEY_DOWN,E))):(M&&M.onUp(E),E.cancelled||(f[P]&&this.emit(a.KEY_UP+f[P],E),E.cancelled||this.emit(a.ANY_KEY_UP,E))),E.cancelled===1&&(E.cancelled=0)))}},resetKeys:function(){for(var x=this.keys,S=0;S<x.length;S++)x[S]&&x[S].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(s.BLUR,this.resetKeys),this.scene.sys.events.off(h.PAUSE,this.resetKeys,this),this.scene.sys.events.off(h.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var x=this.keys,S=0;S<x.length;S++)x[S]&&x[S].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});i.register("KeyboardPlugin",p,"keyboard","keyboard","inputKeyboard"),v.exports=p},60258:v=>{var y=function(t,u){return u.timeLastMatched=t.timeStamp,u.index++,u.index===u.size?!0:(u.current=u.keyCodes[u.index],!1)};v.exports=y},95625:(v,y,t)=>{var u=t(56694),c=t(94030),a=t(72632),s=t(2544),r=t(88754),e=new u({initialize:function(l,n,o){if(o===void 0&&(o={}),n.length<2)return!1;this.manager=l,this.enabled=!0,this.keyCodes=[];for(var f=0;f<n.length;f++){var h=n[f];typeof h=="string"?this.keyCodes.push(h.toUpperCase().charCodeAt(0)):typeof h=="number"?this.keyCodes.push(h):h.hasOwnProperty("keyCode")&&this.keyCodes.push(h.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=a(o,"resetOnWrongKey",!0),this.maxKeyDelay=a(o,"maxKeyDelay",0),this.resetOnMatch=a(o,"resetOnMatch",!1),this.deleteOnMatch=a(o,"deleteOnMatch",!1);var d=this,p=function(x){if(!(d.matched||!d.enabled)){var S=s(x,d);S&&(d.manager.emit(c.COMBO_MATCH,d,x),d.resetOnMatch?r(d):d.deleteOnMatch&&d.destroy())}};this.onKeyDown=p,this.manager.on(c.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(c.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});v.exports=e},2544:(v,y,t)=>{var u=t(60258),c=function(a,s){if(s.matched)return!0;var r=!1,e=!1;if(a.keyCode===s.current)if(s.index>0&&s.maxKeyDelay>0){var i=s.timeLastMatched+s.maxKeyDelay;a.timeStamp<=i&&(e=!0,r=u(a,s))}else e=!0,r=u(a,s);return!e&&s.resetOnWrongKey&&(s.index=0,s.current=s.keyCodes[0]),r&&(s.timeLastMatched=a.timeStamp,s.matched=!0,s.timeMatched=a.timeStamp),r};v.exports=c},88754:v=>{var y=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};v.exports=y},5044:v=>{v.exports="keydown"},40813:v=>{v.exports="keyup"},89319:v=>{v.exports="keycombomatch"},43267:v=>{v.exports="down"},78595:v=>{v.exports="keydown-"},30056:v=>{v.exports="keyup-"},81939:v=>{v.exports="up"},94030:(v,y,t)=>{v.exports={ANY_KEY_DOWN:t(5044),ANY_KEY_UP:t(40813),COMBO_MATCH:t(89319),DOWN:t(43267),KEY_DOWN:t(78595),KEY_UP:t(30056),UP:t(81939)}},28388:(v,y,t)=>{v.exports={Events:t(94030),KeyboardManager:t(71064),KeyboardPlugin:t(89666),Key:t(50165),KeyCodes:t(11873),KeyCombo:t(95625),AdvanceKeyCombo:t(60258),ProcessKeyCombo:t(2544),ResetKeyCombo:t(88754),JustDown:t(42460),JustUp:t(53162),DownDuration:t(64964),UpDuration:t(70331)}},64964:v=>{var y=function(t,u){u===void 0&&(u=50);var c=t.plugin.game.loop.time-t.timeDown;return t.isDown&&c<u};v.exports=y},42460:v=>{var y=function(t){return t._justDown?(t._justDown=!1,!0):!1};v.exports=y},53162:v=>{var y=function(t){return t._justUp?(t._justUp=!1,!0):!1};v.exports=y},50165:(v,y,t)=>{var u=t(56694),c=t(6659),a=t(94030),s=new u({Extends:c,initialize:function(e,i){c.call(this),this.plugin=e,this.keyCode=i,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(r){return this.emitOnRepeat=r,this},onDown:function(r){this.originalEvent=r,this.enabled&&(this.altKey=r.altKey,this.ctrlKey=r.ctrlKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.location=r.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(a.DOWN,this,r):(this.isDown=!0,this.isUp=!1,this.timeDown=r.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(a.DOWN,this,r)))},onUp:function(r){this.originalEvent=r,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=r.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(a.UP,this,r))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});v.exports=s},11873:v=>{var y={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};v.exports=y},48044:(v,y,t)=>{var u=t(11873),c={};for(var a in u)c[u[a]]=a;v.exports=c},70331:v=>{var y=function(t,u){u===void 0&&(u=50);var c=t.plugin.game.loop.time-t.timeUp;return t.isUp&&c<u};v.exports=y},7905:(v,y,t)=>{var u=t(56694),c=t(90185),a=t(33963),s=t(72283),r=new u({initialize:function(i){this.manager=i,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=s,this.onMouseDown=s,this.onMouseUp=s,this.onMouseDownWindow=s,this.onMouseUpWindow=s,this.onMouseOver=s,this.onMouseOut=s,this.onMouseWheel=s,this.pointerLockChange=s,this.isTop=!0,i.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(c.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){c.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(e){var i=this,l=this.manager,n=l.canvas,o=window&&window.focus&&l.game.config.autoFocus;this.onMouseMove=function(h){!h.defaultPrevented&&i.enabled&&l&&l.enabled&&(l.onMouseMove(h),i.preventDefaultMove&&h.preventDefault())},this.onMouseDown=function(h){o&&window.focus(),!h.defaultPrevented&&i.enabled&&l&&l.enabled&&(l.onMouseDown(h),i.preventDefaultDown&&h.target===n&&h.preventDefault())},this.onMouseDownWindow=function(h){!h.defaultPrevented&&i.enabled&&l&&l.enabled&&h.target!==n&&l.onMouseDown(h)},this.onMouseUp=function(h){!h.defaultPrevented&&i.enabled&&l&&l.enabled&&(l.onMouseUp(h),i.preventDefaultUp&&h.target===n&&h.preventDefault())},this.onMouseUpWindow=function(h){!h.defaultPrevented&&i.enabled&&l&&l.enabled&&h.target!==n&&l.onMouseUp(h)},this.onMouseOver=function(h){!h.defaultPrevented&&i.enabled&&l&&l.enabled&&l.setCanvasOver(h)},this.onMouseOut=function(h){!h.defaultPrevented&&i.enabled&&l&&l.enabled&&l.setCanvasOut(h)},this.onMouseWheel=function(h){!h.defaultPrevented&&i.enabled&&l&&l.enabled&&l.onMouseWheel(h),i.preventDefaultWheel&&h.target===n&&h.preventDefault()};var f={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,f),e.addEventListener("mouseout",this.onMouseOut,f),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,f),window&&l.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,f),window.top.addEventListener("mouseup",this.onMouseUpWindow,f)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,f),window.addEventListener("mouseup",this.onMouseUpWindow,f),this.isTop=!1}c.pointerLock&&(this.pointerLockChange=function(h){var d=i.target;i.locked=document.pointerLockElement===d||document.mozPointerLockElement===d||document.webkitPointerLockElement===d,l.onPointerLockChange(h)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(e=this.isTop?window.top:window,e.removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),c.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});v.exports=r},11343:(v,y,t)=>{v.exports={MouseManager:t(7905)}},37579:(v,y,t)=>{var u=t(56694),c=t(33963),a=t(72283),s=new u({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=a,this.onTouchStartWindow=a,this.onTouchMove=a,this.onTouchEnd=a,this.onTouchEndWindow=a,this.onTouchCancel=a,this.onTouchCancelWindow=a,this.isTop=!0,e.events.once(c.MANAGER_BOOT,this.boot,this)},boot:function(){var r=this.manager.config;this.enabled=r.inputTouch,this.target=r.inputTouchEventTarget,this.capture=r.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,r.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(r){return r.preventDefault(),!1}),this},startListeners:function(){var r=this.target;if(r){var e=this,i=this.manager,l=i.canvas,n=window&&window.focus&&i.game.config.autoFocus;this.onTouchMove=function(d){!d.defaultPrevented&&e.enabled&&i&&i.enabled&&(i.onTouchMove(d),e.capture&&d.cancelable&&d.preventDefault())},this.onTouchStart=function(d){n&&window.focus(),!d.defaultPrevented&&e.enabled&&i&&i.enabled&&(i.onTouchStart(d),e.capture&&d.cancelable&&d.target===l&&d.preventDefault())},this.onTouchStartWindow=function(d){!d.defaultPrevented&&e.enabled&&i&&i.enabled&&d.target!==l&&i.onTouchStart(d)},this.onTouchEnd=function(d){!d.defaultPrevented&&e.enabled&&i&&i.enabled&&(i.onTouchEnd(d),e.capture&&d.cancelable&&d.target===l&&d.preventDefault())},this.onTouchEndWindow=function(d){!d.defaultPrevented&&e.enabled&&i&&i.enabled&&d.target!==l&&i.onTouchEnd(d)},this.onTouchCancel=function(d){!d.defaultPrevented&&e.enabled&&i&&i.enabled&&(i.onTouchCancel(d),e.capture&&d.preventDefault())},this.onTouchCancelWindow=function(d){!d.defaultPrevented&&e.enabled&&i&&i.enabled&&i.onTouchCancel(d)};var o=this.capture,f={passive:!0},h={passive:!1};if(r.addEventListener("touchstart",this.onTouchStart,o?h:f),r.addEventListener("touchmove",this.onTouchMove,o?h:f),r.addEventListener("touchend",this.onTouchEnd,o?h:f),r.addEventListener("touchcancel",this.onTouchCancel,o?h:f),window&&i.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,h),window.top.addEventListener("touchend",this.onTouchEndWindow,h),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,h)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,h),window.addEventListener("touchend",this.onTouchEndWindow,h),window.addEventListener("touchcancel",this.onTouchCancelWindow,h),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var r=this.target;r.removeEventListener("touchstart",this.onTouchStart),r.removeEventListener("touchmove",this.onTouchMove),r.removeEventListener("touchend",this.onTouchEnd),r.removeEventListener("touchcancel",this.onTouchCancel),window&&(r=this.isTop?window.top:window,r.removeEventListener("touchstart",this.onTouchStartWindow),r.removeEventListener("touchend",this.onTouchEndWindow),r.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});v.exports=s},77423:(v,y,t)=>{v.exports={TouchManager:t(37579)}},98035:(v,y,t)=>{var u=t(56694),c=t(12117),a=t(683),s=t(72632),r=t(30750),e=t(43531),i=t(88490),l=t(33868),n=new u({initialize:function(f,h){if(this.loader=f,this.cache=s(h,"cache",!1),this.type=s(h,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=s(h,"key",!1);var d=this.key;if(f.prefix&&f.prefix!==""&&(this.key=f.prefix+d),!this.key)throw new Error("Invalid File key: "+this.key);var p=s(h,"url");p===void 0?p=f.path+d+"."+s(h,"extension",""):typeof p=="string"&&!p.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(p=f.path+p),this.url=p,this.src="",this.xhrSettings=l(s(h,"responseType",void 0)),s(h,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,s(h,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?c.FILE_POPULATED:c.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=s(h,"config",{}),this.multiFile,this.linkFile},setLink:function(o){this.linkFile=o,o.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===c.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=c.FILE_LOADING,this.src=r(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=i(this,this.loader.xhr))},onLoad:function(o,f){var h=o.responseURL&&this.loader.localSchemes.some(function(x){return o.responseURL.indexOf(x)===0}),d=h&&f.target.status===0,p=!(f.target&&f.target.status!==200)||d;o.readyState===4&&o.status>=400&&o.status<=599&&(p=!1),this.state=c.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,p)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(o){o.lengthComputable&&(this.bytesLoaded=o.loaded,this.bytesTotal=o.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(a.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=c.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=c.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=c.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(o){if(this.state!==c.FILE_PENDING_DESTROY){o===void 0&&(o=this.data);var f=this.key,h=this.type;this.loader.emit(a.FILE_COMPLETE,f,h,o),this.loader.emit(a.FILE_KEY_COMPLETE+h+"-"+f,f,h,o),this.loader.flagForRemoval(this),this.state=c.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});n.createObjectURL=function(o,f,h){if(typeof URL=="function")o.src=URL.createObjectURL(f);else{var d=new FileReader;d.onload=function(){o.removeAttribute("crossOrigin"),o.src="data:"+(f.type||h)+";base64,"+d.result.split(",")[1]},d.onerror=o.onerror,d.readAsDataURL(f)}},n.revokeObjectURL=function(o){typeof URL=="function"&&URL.revokeObjectURL(o.src)},v.exports=n},76846:v=>{var y={},t={install:function(u){for(var c in y)u[c]=y[c]},register:function(u,c){y[u]=c},destroy:function(){y={}}};v.exports=t},30750:v=>{var y=function(t,u){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:u+t.url:!1};v.exports=y},67285:(v,y,t)=>{var u=t(56694),c=t(12117),a=t(58403),s=t(6659),r=t(683),e=t(76846),i=t(72632),l=t(10850),n=t(91963),o=t(7599),f=t(33868),h=new u({Extends:s,initialize:function(p){s.call(this);var x=p.sys.game.config,S=p.sys.settings.loader;this.scene=p,this.systems=p.sys,this.cacheManager=p.sys.cache,this.textureManager=p.sys.textures,this.sceneManager=p.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(i(S,"baseURL",x.loaderBaseURL)),this.setPath(i(S,"path",x.loaderPath)),this.setPrefix(i(S,"prefix",x.loaderPrefix)),this.maxParallelDownloads=i(S,"maxParallelDownloads",x.loaderMaxParallelDownloads),this.xhr=f(i(S,"responseType",x.loaderResponseType),i(S,"async",x.loaderAsync),i(S,"user",x.loaderUser),i(S,"password",x.loaderPassword),i(S,"timeout",x.loaderTimeout),i(S,"withCredentials",x.loaderWithCredentials)),this.crossOrigin=i(S,"crossOrigin",x.loaderCrossOrigin),this.imageLoadType=i(S,"imageLoadType",x.loaderImageLoadType),this.localSchemes=i(S,"localScheme",x.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new a,this.inflight=new a,this.queue=new a,this._deleteQueue=new a,this.totalFailed=0,this.totalComplete=0,this.state=c.LOADER_IDLE,this.multiKeyIndex=0,p.sys.events.once(o.BOOT,this.boot,this),p.sys.events.on(o.START,this.pluginStart,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(o.SHUTDOWN,this.shutdown,this)},setBaseURL:function(d){return d===void 0&&(d=""),d!==""&&d.substr(-1)!=="/"&&(d=d.concat("/")),this.baseURL=d,this},setPath:function(d){return d===void 0&&(d=""),d!==""&&d.substr(-1)!=="/"&&(d=d.concat("/")),this.path=d,this},setPrefix:function(d){return d===void 0&&(d=""),this.prefix=d,this},setCORS:function(d){return this.crossOrigin=d,this},addFile:function(d){Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++){var x=d[p];this.keyExists(x)||(this.list.set(x),this.emit(r.ADD,x.key,x.type,this,x),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(d){var p=d.hasCacheConflict();return p||this.list.iterate(function(x){if(x.type===d.type&&x.key===d.key)return p=!0,!1}),!p&&this.isLoading()&&(this.inflight.iterate(function(x){if(x.type===d.type&&x.key===d.key)return p=!0,!1}),this.queue.iterate(function(x){if(x.type===d.type&&x.key===d.key)return p=!0,!1})),p},addPack:function(d,p){if(typeof p=="string"){var x=l(d,p);x&&(d={packKey:x})}var S=0,T=this.baseURL,C=this.path,E=this.prefix;for(var P in d)if(Object.prototype.hasOwnProperty.call(d,P)){var M=d[P],L=i(M,"baseURL",T),R=i(M,"path",C),w=i(M,"prefix",E),D=i(M,"files",null),B=i(M,"defaultType","void");if(Array.isArray(D)){this.setBaseURL(L),this.setPath(R),this.setPrefix(w);for(var z=0;z<D.length;z++){var V=D[z],Y=V.hasOwnProperty("type")?V.type:B;this[Y]&&(this[Y](V),S++)}}}return this.setBaseURL(T),this.setPath(C),this.setPrefix(E),S>0},isLoading:function(){return this.state===c.LOADER_LOADING||this.state===c.LOADER_PROCESSING},isReady:function(){return this.state===c.LOADER_IDLE||this.state===c.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(r.START,this),this.list.size===0?this.loadComplete():(this.state=c.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(o.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(r.PROGRESS,this.progress)},update:function(){this.state===c.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(d){if((d.state===c.FILE_POPULATED||d.state===c.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(d),this.list.delete(d),d.crossOrigin||(d.crossOrigin=this.crossOrigin),d.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(d,p){this.inflight&&(this.inflight.delete(d),this.updateProgress(),p?(this.totalComplete++,this.queue.set(d),this.emit(r.FILE_LOAD,d),d.onProcess()):(this.totalFailed++,this._deleteQueue.set(d),this.emit(r.FILE_LOAD_ERROR,d),this.fileProcessComplete(d)))},fileProcessComplete:function(d){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(d.state===c.FILE_ERRORED?d.multiFile&&d.multiFile.onFileFailed(d):d.state===c.FILE_COMPLETE&&(d.multiFile?d.multiFile.isReadyToProcess()&&(d.multiFile.addToCache(),d.multiFile.pendingDestroy()):(d.addToCache(),d.pendingDestroy())),this.queue.delete(d),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(r.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=c.LOADER_COMPLETE,this.systems.events.off(o.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(r.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(d){this._deleteQueue.set(d)},saveJSON:function(d,p){return this.save(JSON.stringify(d),p)},save:function(d,p,x){p===void 0&&(p="file.json"),x===void 0&&(x="application/json");var S=new Blob([d],{type:x}),T=URL.createObjectURL(S),C=document.createElement("a");return C.download=p,C.textContent="Download "+p,C.href=T,C.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var d=this.systems.game.config,p=this.systems.settings.loader;this.setBaseURL(i(p,"baseURL",d.loaderBaseURL)),this.setPath(i(p,"path",d.loaderPath)),this.setPrefix(i(p,"prefix",d.loaderPrefix)),this.state=c.LOADER_IDLE},shutdown:function(){this.reset(),this.state=c.LOADER_SHUTDOWN,this.systems.events.off(o.UPDATE,this.update,this),this.systems.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=c.LOADER_DESTROYED,this.systems.events.off(o.UPDATE,this.update,this),this.systems.events.off(o.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});n.register("Loader",h,"load"),v.exports=h},43531:(v,y,t)=>{var u=t(98611),c=t(33868),a=function(s,r){var e=s===void 0?c():u({},s);if(r)for(var i in r)r[i]!==void 0&&(e[i]=r[i]);return e};v.exports=a},45176:(v,y,t)=>{var u=t(56694),c=t(12117),a=t(683),s=new u({initialize:function(e,i,l,n){var o=[];n.forEach(function(h){h&&o.push(h)}),this.loader=e,this.type=i,this.key=l,this.multiKeyIndex=e.multiKeyIndex++,this.files=o,this.state=c.FILE_PENDING,this.complete=!1,this.pending=o.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var f=0;f<o.length;f++)o[f].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(r){return this.files.push(r),r.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(r){var e=this.files.indexOf(r);e!==-1&&this.pending--},onFileFailed:function(r){var e=this.files.indexOf(r);e!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,r.type,r.key))},pendingDestroy:function(){if(this.state!==c.FILE_PENDING_DESTROY){var r=this.key,e=this.type;this.loader.emit(a.FILE_COMPLETE,r,e),this.loader.emit(a.FILE_KEY_COMPLETE+e+"-"+r,r,e),this.loader.flagForRemoval(this);for(var i=0;i<this.files.length;i++)this.files[i].pendingDestroy();this.state=c.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});v.exports=s},88490:(v,y,t)=>{var u=t(43531),c=function(a,s){var r=u(s,a.xhrSettings),e=new XMLHttpRequest;if(e.open("GET",a.src,r.async,r.user,r.password),e.responseType=a.xhrSettings.responseType,e.timeout=r.timeout,r.headers)for(var i in r.headers)e.setRequestHeader(i,r.headers[i]);return r.header&&r.headerValue&&e.setRequestHeader(r.header,r.headerValue),r.requestedWith&&e.setRequestHeader("X-Requested-With",r.requestedWith),r.overrideMimeType&&e.overrideMimeType(r.overrideMimeType),r.withCredentials&&(e.withCredentials=!0),e.onload=a.onLoad.bind(a,e),e.onerror=a.onError.bind(a,e),e.onprogress=a.onProgress.bind(a),e.send(),e};v.exports=c},33868:v=>{var y=function(t,u,c,a,s,r){return t===void 0&&(t=""),u===void 0&&(u=!0),c===void 0&&(c=""),a===void 0&&(a=""),s===void 0&&(s=0),r===void 0&&(r=!1),{responseType:t,async:u,user:c,password:a,timeout:s,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:r}};v.exports=y},12117:v=>{var y={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};v.exports=y},7398:v=>{v.exports="addfile"},52187:v=>{v.exports="complete"},36627:v=>{v.exports="filecomplete"},81925:v=>{v.exports="filecomplete-"},29774:v=>{v.exports="loaderror"},20943:v=>{v.exports="load"},74693:v=>{v.exports="fileprogress"},71176:v=>{v.exports="postprocess"},88984:v=>{v.exports="progress"},72753:v=>{v.exports="start"},683:(v,y,t)=>{v.exports={ADD:t(7398),COMPLETE:t(52187),FILE_COMPLETE:t(36627),FILE_KEY_COMPLETE:t(81925),FILE_LOAD_ERROR:t(29774),FILE_LOAD:t(20943),FILE_PROGRESS:t(74693),POST_PROCESS:t(71176),PROGRESS:t(88984),START:t(72753)}},46468:(v,y,t)=>{var u=t(56694),c=t(76846),a=t(70806),s=t(683),r=new u({Extends:a,initialize:function(i,l,n,o,f){a.call(this,i,l,n,o,f),this.type="animationJSON"},onProcess:function(){this.loader.once(s.POST_PROCESS,this.onLoadComplete,this),a.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});c.register("animation",function(e,i,l,n){if(Array.isArray(e))for(var o=0;o<e.length;o++)this.addFile(new r(this,e[o]));else this.addFile(new r(this,e,i,n,l));return this}),v.exports=r},31648:(v,y,t)=>{var u=t(56694),c=t(76846),a=t(72632),s=t(42927),r=t(42911),e=t(70806),i=t(45176),l=new u({Extends:i,initialize:function(o,f,h,d,p,x){var S,T;if(r(f)){var C=f;f=a(C,"key"),S=new s(o,{key:f,url:a(C,"textureURL"),extension:a(C,"textureExtension","png"),normalMap:a(C,"normalMap"),xhrSettings:a(C,"textureXhrSettings")}),T=new e(o,{key:f,url:a(C,"atlasURL"),extension:a(C,"atlasExtension","json"),xhrSettings:a(C,"atlasXhrSettings")})}else S=new s(o,f,h,p),T=new e(o,f,d,x);S.linkFile?i.call(this,o,"atlasjson",f,[S,T,S.linkFile]):i.call(this,o,"atlasjson",f,[S,T])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],o=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(n.key,n.data,o.data,f),o.addToCache(),this.complete=!0}}});c.register("aseprite",function(n,o,f,h,d){var p;if(Array.isArray(n))for(var x=0;x<n.length;x++)p=new l(this,n[x]),this.addFile(p.files);else p=new l(this,n,o,f,h,d),this.addFile(p.files);return this}),v.exports=l},73152:(v,y,t)=>{var u=t(56694),c=t(76846),a=t(72632),s=t(42927),r=t(42911),e=t(70806),i=t(45176),l=new u({Extends:i,initialize:function(o,f,h,d,p,x){var S,T;if(r(f)){var C=f;f=a(C,"key"),S=new s(o,{key:f,url:a(C,"textureURL"),extension:a(C,"textureExtension","png"),normalMap:a(C,"normalMap"),xhrSettings:a(C,"textureXhrSettings")}),T=new e(o,{key:f,url:a(C,"atlasURL"),extension:a(C,"atlasExtension","json"),xhrSettings:a(C,"atlasXhrSettings")})}else S=new s(o,f,h,p),T=new e(o,f,d,x);S.linkFile?i.call(this,o,"atlasjson",f,[S,T,S.linkFile]):i.call(this,o,"atlasjson",f,[S,T])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],o=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(n.key,n.data,o.data,f),this.complete=!0}}});c.register("atlas",function(n,o,f,h,d){var p;if(Array.isArray(n))for(var x=0;x<n.length;x++)p=new l(this,n[x]),this.addFile(p.files);else p=new l(this,n,o,f,h,d),this.addFile(p.files);return this}),v.exports=l},24616:(v,y,t)=>{var u=t(56694),c=t(76846),a=t(72632),s=t(42927),r=t(42911),e=t(45176),i=t(15297),l=new u({Extends:e,initialize:function(o,f,h,d,p,x){var S,T;if(r(f)){var C=f;f=a(C,"key"),S=new s(o,{key:f,url:a(C,"textureURL"),extension:a(C,"textureExtension","png"),normalMap:a(C,"normalMap"),xhrSettings:a(C,"textureXhrSettings")}),T=new i(o,{key:f,url:a(C,"atlasURL"),extension:a(C,"atlasExtension","xml"),xhrSettings:a(C,"atlasXhrSettings")})}else S=new s(o,f,h,p),T=new i(o,f,d,x);S.linkFile?e.call(this,o,"atlasxml",f,[S,T,S.linkFile]):e.call(this,o,"atlasxml",f,[S,T])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],o=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(n.key,n.data,o.data,f),this.complete=!0}}});c.register("atlasXML",function(n,o,f,h,d){var p;if(Array.isArray(n))for(var x=0;x<n.length;x++)p=new l(this,n[x]),this.addFile(p.files);else p=new l(this,n,o,f,h,d),this.addFile(p.files);return this}),v.exports=l},67448:(v,y,t)=>{var u=t(56694),c=t(12117),a=t(98035),s=t(76846),r=t(72632),e=t(30929),i=t(42911),l=new u({Extends:a,initialize:function(o,f,h,d,p){if(i(f)){var x=f;f=r(x,"key"),d=r(x,"xhrSettings"),p=r(x,"context",p)}var S={type:"audio",cache:o.cacheManager.audio,extension:h.type,responseType:"arraybuffer",key:f,url:h.url,xhrSettings:d,config:{context:p}};a.call(this,o,S)},onProcess:function(){this.state=c.FILE_PROCESSING;var n=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(o){n.data=o,n.onProcessComplete()},function(o){console.error("Error decoding audio: "+n.key+" - ",o?o.message:null),n.onProcessError()}),this.config.context=null}});l.create=function(n,o,f,h,d){var p=n.systems.game,x=p.config.audio,S=p.device.audio;i(o)&&(f=r(o,"url",[]),h=r(o,"config",{}));var T=l.getAudioURL(p,f);return T?S.webAudio&&!x.disableWebAudio?new l(n,o,T,d,p.sound.context):new e(n,o,T,h):(console.warn('No audio URLs for "%s" matched this device',o),null)},l.getAudioURL=function(n,o){Array.isArray(o)||(o=[o]);for(var f=0;f<o.length;f++){var h=r(o[f],"url",o[f]);if(h.indexOf("blob:")===0||h.indexOf("data:")===0)return{url:h,type:""};var d=h.match(/\.([a-zA-Z0-9]+)($|\?)/);if(d=r(o[f],"type",d?d[1]:"").toLowerCase(),n.device.audio[d])return{url:h,type:d}}return null},s.register("audio",function(n,o,f,h){var d=this.systems.game,p=d.config.audio,x=d.device.audio;if(p.noAudio||!x.webAudio&&!x.audioData)return this;var S;if(Array.isArray(n))for(var T=0;T<n.length;T++)S=l.create(this,n[T]),S&&this.addFile(S);else S=l.create(this,n,o,f,h),S&&this.addFile(S);return this}),v.exports=l},66109:(v,y,t)=>{var u=t(67448),c=t(56694),a=t(76846),s=t(72632),r=t(42911),e=t(70806),i=t(45176),l=new c({Extends:i,initialize:function(o,f,h,d,p,x,S){if(r(f)){var T=f;f=s(T,"key"),h=s(T,"jsonURL"),d=s(T,"audioURL"),p=s(T,"audioConfig"),x=s(T,"audioXhrSettings"),S=s(T,"jsonXhrSettings")}var C;if(!d)C=new e(o,f,h,S),i.call(this,o,"audiosprite",f,[C]),this.config.resourceLoad=!0,this.config.audioConfig=p,this.config.audioXhrSettings=x;else{var E=u.create(o,f,d,p,x);E&&(C=new e(o,f,h,S),i.call(this,o,"audiosprite",f,[E,C]),this.config.resourceLoad=!1)}},onFileComplete:function(n){var o=this.files.indexOf(n);if(o!==-1&&(this.pending--,this.config.resourceLoad&&n.type==="json"&&n.data.hasOwnProperty("resources"))){var f=n.data.resources,h=s(this.config,"audioConfig"),d=s(this.config,"audioXhrSettings"),p=u.create(this.loader,n.key,f,h,d);p&&(this.addToMultiFile(p),this.loader.addFile(p))}},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],o=this.files[1];n.addToCache(),o.addToCache(),this.complete=!0}}});a.register("audioSprite",function(n,o,f,h,d,p){var x=this.systems.game,S=x.config.audio,T=x.device.audio;if(S&&S.noAudio||!T.webAudio&&!T.audioData)return this;var C;if(Array.isArray(n))for(var E=0;E<n.length;E++)C=new l(this,n[E]),C.files&&this.addFile(C.files);else C=new l(this,n,o,f,h,d,p),C.files&&this.addFile(C.files);return this})},40612:(v,y,t)=>{var u=t(56694),c=t(12117),a=t(98035),s=t(76846),r=t(72632),e=t(42911),i=new u({Extends:a,initialize:function(n,o,f,h,d){var p="bin";if(e(o)){var x=o;o=r(x,"key"),f=r(x,"url"),h=r(x,"xhrSettings"),p=r(x,"extension",p),d=r(x,"dataType",d)}var S={type:"binary",cache:n.cacheManager.binary,extension:p,responseType:"arraybuffer",key:o,url:f,xhrSettings:h,config:{dataType:d}};a.call(this,n,S)},onProcess:function(){this.state=c.FILE_PROCESSING;var l=this.config.dataType;this.data=l?new l(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});s.register("binary",function(l,n,o,f){if(Array.isArray(l))for(var h=0;h<l.length;h++)this.addFile(new i(this,l[h]));else this.addFile(new i(this,l,n,f,o));return this}),v.exports=i},54565:(v,y,t)=>{var u=t(56694),c=t(76846),a=t(72632),s=t(42927),r=t(42911),e=t(45176),i=t(31476),l=t(15297),n=new u({Extends:e,initialize:function(f,h,d,p,x,S){var T,C;if(r(h)){var E=h;h=a(E,"key"),T=new s(f,{key:h,url:a(E,"textureURL"),extension:a(E,"textureExtension","png"),normalMap:a(E,"normalMap"),xhrSettings:a(E,"textureXhrSettings")}),C=new l(f,{key:h,url:a(E,"fontDataURL"),extension:a(E,"fontDataExtension","xml"),xhrSettings:a(E,"fontDataXhrSettings")})}else T=new s(f,h,d,x),C=new l(f,h,p,S);T.linkFile?e.call(this,f,"bitmapfont",h,[T,C,T.linkFile]):e.call(this,f,"bitmapfont",h,[T,C])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],f=this.files[1];o.addToCache();var h=o.cache.get(o.key),d=i(f.data,o.cache.getFrame(o.key),0,0,h);this.loader.cacheManager.bitmapFont.add(o.key,{data:d,texture:o.key,frame:null}),this.complete=!0}}});c.register("bitmapFont",function(o,f,h,d,p){var x;if(Array.isArray(o))for(var S=0;S<o.length;S++)x=new n(this,o[S]),this.addFile(x.files);else x=new n(this,o,f,h,d,p),this.addFile(x.files);return this}),v.exports=n},99898:(v,y,t)=>{var u=t(56694),c=t(12117),a=t(98035),s=t(76846),r=t(72632),e=t(42911),i=new u({Extends:a,initialize:function(n,o,f,h){var d="css";if(e(o)){var p=o;o=r(p,"key"),f=r(p,"url"),h=r(p,"xhrSettings"),d=r(p,"extension",d)}var x={type:"script",cache:!1,extension:d,responseType:"text",key:o,url:f,xhrSettings:h};a.call(this,n,x)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});s.register("css",function(l,n,o){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new i(this,l[f]));else this.addFile(new i(this,l,n,o));return this}),v.exports=i},47375:(v,y,t)=>{var u=t(73152),c=t(40612),a=t(56694),s=t(76846),r=t(72632),e=t(42927),i=t(42911),l=t(70806),n=t(67409),o=t(30657),f=t(80802),h=t(45176),d=t(24904),p=new a({Extends:h,initialize:function(S,T,C,E){if(C.multiAtlasURL){var P=new l(S,{key:T,url:C.multiAtlasURL,xhrSettings:E,config:C});h.call(this,S,"texture",T,[P])}else{var M=C.textureURL.substr(C.textureURL.length-3);C.type||(C.type=M.toLowerCase()==="ktx"?"KTX":"PVR");var L=new c(S,{key:T,url:C.textureURL,extension:M,xhrSettings:E,config:C});if(C.atlasURL){var R=new l(S,{key:T,url:C.atlasURL,xhrSettings:E,config:C});h.call(this,S,"texture",T,[L,R])}else h.call(this,S,"texture",T,[L])}this.config=C},onFileComplete:function(x){var S=this.files.indexOf(x);if(S!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(x.type==="json"&&x.data.hasOwnProperty("textures")){var T=x.data.textures,C=this.config,E=this.loader,P=E.baseURL,M=E.path,L=E.prefix,R=r(C,"multiBaseURL",this.baseURL),w=r(C,"multiPath",this.path),D=r(C,"prefix",this.prefix),B=r(C,"textureXhrSettings");R&&E.setBaseURL(R),w&&E.setPath(w),D&&E.setPrefix(D);for(var z=0;z<T.length;z++){var V=T[z].image,Y="CMA"+this.multiKeyIndex+"_"+V,H=new c(E,Y,V,B);if(this.addToMultiFile(H),E.addFile(H),T[z].normalMap){var I=new c(E,Y,T[z].normalMap,B);I.type="normalMap",H.setLink(I),this.addToMultiFile(I),E.addFile(I)}}E.setBaseURL(P),E.setPath(M),E.setPrefix(L)}}},addToCache:function(){if(this.isReadyToProcess()){var x=this.config;if(x.multiAtlasURL)this.addMultiToCache();else{var S=this.loader.systems.renderer,T=this.loader.textureManager,C,E=this.files[0],P=this.files[1];if(x.type==="PVR"?C=d(E.data):x.type==="KTX"&&(C=n(E.data)),C&&S.supportsCompressedTexture(x.format,C.internalFormat)){C.format=S.getCompressedTextureName(x.format,C.internalFormat);var M=P&&P.data?P.data:null;T.addCompressedTexture(E.key,C,M)}}this.complete=!0}},addMultiToCache:function(){for(var x=this.config,S=this.files[0],T=[],C=[],E=[],P=this.loader.systems.renderer,M=this.loader.textureManager,L,R=1;R<this.files.length;R++){var w=this.files[R];if(w.type!=="normalMap")for(var D=w.key.indexOf("_"),B=w.key.substr(D+1),z=w.data,V=0;V<S.data.textures.length;V++){var Y=S.data.textures[V];if(Y.image===B){x.type==="PVR"?L=d(z):x.type==="KTX"&&(L=n(z)),L&&P.supportsCompressedTexture(x.format,L.internalFormat)&&(L.format=P.getCompressedTextureName(x.format,L.internalFormat),C.push(L),T.push(Y),w.linkFile&&E.push(w.linkFile.data));break}}}E.length===0&&(E=void 0),M.addAtlasJSONArray(this.key,C,T,E),this.complete=!0}});s.register("texture",function(x,S,T){var C=this.systems.renderer,E=function(M,L,R,w){var D={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(i(L)){var B=L;L=r(B,"key"),R=r(B,"url"),w=r(B,"xhrSettings")}var z=!1;for(var V in R)if(C.supportsCompressedTexture(V)){var Y=R[V];typeof Y=="string"?D.textureURL=Y:D=o(Y,D),D.format=V.toUpperCase(),z=!0;break}if(!z)console.warn("No supported compressed texture format or IMG fallback",L);else if(D.format==="IMG"){var H,I;D.multiAtlasURL?(I=new f(M,L,D.multiAtlasURL,D.multiPath,D.multiBaseURL,w),H=I.files):D.atlasURL?(I=new u(M,L,D.textureURL,D.atlasURL,w),H=I.files):H=new e(M,L,D.textureURL,w),M.addFile(H)}else{var U=new p(M,L,D,w);M.addFile(U.files)}};if(Array.isArray(x))for(var P=0;P<x.length;P++)E(this,x[P]);else E(this,x,S,T);return this}),v.exports=p},46568:(v,y,t)=>{var u=t(56694),c=t(12117),a=t(98035),s=t(76846),r=t(72632),e=t(42911),i=t(31053),l=new u({Extends:a,initialize:function(o,f,h,d,p){var x="glsl";if(e(f)){var S=f;f=r(S,"key"),h=r(S,"url"),d=r(S,"shaderType","fragment"),p=r(S,"xhrSettings"),x=r(S,"extension",x)}else d===void 0&&(d="fragment");var T={type:"glsl",cache:o.cacheManager.shader,extension:x,responseType:"text",key:f,url:h,config:{shaderType:d},xhrSettings:p};a.call(this,o,T)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var n=this.data.split(`
`),o=this.extractBlock(n,0);if(o)for(;o;){var f=this.getShaderName(o.header),h=this.getShaderType(o.header),d=this.getShaderUniforms(o.header),p=o.shader;if(this.cache.has(f)){var x=this.cache.get(f);h==="fragment"?x.fragmentSrc=p:x.vertexSrc=p,x.uniforms||(x.uniforms=d)}else h==="fragment"?this.cache.add(f,new i(f,p,"",d)):this.cache.add(f,new i(f,"",p,d));o=this.extractBlock(n,o.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new i(this.key,this.data)):this.cache.add(this.key,new i(this.key,"",this.data))},getShaderName:function(n){for(var o=0;o<n.length;o++){var f=n[o].trim();if(f.substring(0,5)==="name:")return f.substring(5).trim()}return this.key},getShaderType:function(n){for(var o=0;o<n.length;o++){var f=n[o].trim();if(f.substring(0,5)==="type:")return f.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(n){for(var o={},f=0;f<n.length;f++){var h=n[f].trim();if(h.substring(0,8)==="uniform."){var d=h.indexOf(":");if(d){var p=h.substring(8,d);try{o[p]=JSON.parse(h.substring(d+1))}catch{console.warn("Invalid uniform JSON: "+p)}}}}return o},extractBlock:function(n,o){for(var f=-1,h=-1,d=-1,p=!1,x=!1,S=[],T=[],C=o;C<n.length;C++){var E=n[C].trim();if(E==="---")if(f===-1)f=C,p=!0;else if(p)h=C,p=!1,x=!0;else{x=!1;break}else p?S.push(E):x&&(T.push(E),d=C)}return!p&&h!==-1?{header:S,shader:T.join(`
`),offset:d}:null}});s.register("glsl",function(n,o,f,h){if(Array.isArray(n))for(var d=0;d<n.length;d++)this.addFile(new l(this,n[d]));else this.addFile(new l(this,n,o,f,h));return this}),v.exports=l},30929:(v,y,t)=>{var u=t(56694),c=t(683),a=t(98035),s=t(72632),r=t(30750),e=t(42911),i=new u({Extends:a,initialize:function(n,o,f,h){if(e(o)){var d=o;o=s(d,"key"),h=s(d,"config",h)}var p={type:"audio",cache:n.cacheManager.audio,extension:f.type,key:o,url:f.url,config:h};a.call(this,n,p),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var l=0;l<this.data.length;l++){var n=this.data[l];n.oncanplaythrough=null,n.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(l){var n=l.target;n.oncanplaythrough=null,n.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(c.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var l=this.config&&this.config.instances||1;this.filesTotal=l,this.filesLoaded=0,this.percentComplete=0;for(var n=0;n<l;n++){var o=new Audio;o.dataset||(o.dataset={}),o.dataset.name=this.key+("0"+n).slice(-2),o.dataset.used="false",this.locked?o.dataset.locked="true":(o.dataset.locked="false",o.preload="auto",o.oncanplaythrough=this.onProgress.bind(this),o.onerror=this.onError.bind(this)),this.data.push(o)}for(n=0;n<this.data.length;n++)o=this.data[n],o.src=r(this,this.loader.baseURL),this.locked||o.load();this.locked&&setTimeout(this.onLoad.bind(this))}});v.exports=i},77459:(v,y,t)=>{var u=t(56694),c=t(12117),a=t(98035),s=t(76846),r=t(72632),e=t(42911),i=new u({Extends:a,initialize:function(n,o,f,h){var d="html";if(e(o)){var p=o;o=r(p,"key"),f=r(p,"url"),h=r(p,"xhrSettings"),d=r(p,"extension",d)}var x={type:"text",cache:n.cacheManager.html,extension:d,responseType:"text",key:o,url:f,xhrSettings:h};a.call(this,n,x)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});s.register("html",function(l,n,o){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new i(this,l[f]));else this.addFile(new i(this,l,n,o));return this}),v.exports=i},9755:(v,y,t)=>{var u=t(56694),c=t(12117),a=t(98035),s=t(76846),r=t(72632),e=t(42911),i=new u({Extends:a,initialize:function(n,o,f,h,d,p){h===void 0&&(h=512),d===void 0&&(d=512);var x="html";if(e(o)){var S=o;o=r(S,"key"),f=r(S,"url"),p=r(S,"xhrSettings"),x=r(S,"extension",x),h=r(S,"width",h),d=r(S,"height",d)}var T={type:"html",cache:n.textureManager,extension:x,responseType:"text",key:o,url:f,xhrSettings:p,config:{width:h,height:d}};a.call(this,n,T)},onProcess:function(){this.state=c.FILE_PROCESSING;var l=this.config.width,n=this.config.height,o=[];o.push('<svg width="'+l+'px" height="'+n+'px" viewBox="0 0 '+l+" "+n+'" xmlns="http://www.w3.org/2000/svg">'),o.push('<foreignObject width="100%" height="100%">'),o.push('<body xmlns="http://www.w3.org/1999/xhtml">'),o.push(this.xhrLoader.responseText),o.push("</body>"),o.push("</foreignObject>"),o.push("</svg>");var f=[o.join(`
`)],h=this;try{var d=new window.Blob(f,{type:"image/svg+xml;charset=utf-8"})}catch{h.state=c.FILE_ERRORED,h.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){a.revokeObjectURL(h.data),h.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(h.data),h.onProcessError()},a.createObjectURL(this.data,d,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});s.register("htmlTexture",function(l,n,o,f,h){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new i(this,l[d]));else this.addFile(new i(this,l,n,o,f,h));return this}),v.exports=i},42927:(v,y,t)=>{var u=t(56694),c=t(12117),a=t(98035),s=t(76846),r=t(72632),e=t(42911),i=t(30750),l=new u({Extends:a,initialize:function n(o,f,h,d,p){var x="png",S;if(e(f)){var T=f;f=r(T,"key"),h=r(T,"url"),S=r(T,"normalMap"),d=r(T,"xhrSettings"),x=r(T,"extension",x),p=r(T,"frameConfig")}Array.isArray(h)&&(S=h[1],h=h[0]);var C={type:"image",cache:o.textureManager,extension:x,responseType:"blob",key:f,url:h,xhrSettings:d,config:p};if(a.call(this,o,C),S){var E=new n(o,this.key,S,d,p);E.type="normalMap",this.setLink(E),o.addFile(E)}this.useImageElementLoad=o.imageLoadType==="HTMLImageElement",this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var n=this;this.data.onload=function(){a.revokeObjectURL(n.data),n.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(n.data),n.onProcessError()},a.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var n=this.state;this.state=c.FILE_PROCESSING,n===c.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){if(this.state=c.FILE_LOADING,this.src=i(this,this.loader.baseURL),this.src.indexOf("data:")===0)console.warn("Local data URIs are not supported: "+this.key);else{this.data=new Image,this.data.crossOrigin=this.crossOrigin;var n=this;this.data.onload=function(){n.state=c.FILE_LOADED,n.loader.nextFile(n,!0)},this.data.onerror=function(){n.loader.nextFile(n,!1)},this.data.src=this.src}},addToCache:function(){var n=this.linkFile;n?n.state>=c.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addImage(this.key,n.data,this.data):this.cache.addImage(this.key,this.data,n.data)):this.cache.addImage(this.key,this.data)}});s.register("image",function(n,o,f){if(Array.isArray(n))for(var h=0;h<n.length;h++)this.addFile(new l(this,n[h]));else this.addFile(new l(this,n,o,f));return this}),v.exports=l},70806:(v,y,t)=>{var u=t(56694),c=t(12117),a=t(98035),s=t(76846),r=t(72632),e=t(10850),i=t(42911),l=new u({Extends:a,initialize:function(o,f,h,d,p){var x="json";if(i(f)){var S=f;f=r(S,"key"),h=r(S,"url"),d=r(S,"xhrSettings"),x=r(S,"extension",x),p=r(S,"dataKey",p)}var T={type:"json",cache:o.cacheManager.json,extension:x,responseType:"text",key:f,url:h,xhrSettings:d,config:p};a.call(this,o,T),i(h)&&(p?this.data=e(h,p):this.data=h,this.state=c.FILE_POPULATED)},onProcess:function(){if(this.state!==c.FILE_POPULATED){this.state=c.FILE_PROCESSING;try{var n=JSON.parse(this.xhrLoader.responseText)}catch(f){throw this.onProcessError(),f}var o=this.config;typeof o=="string"?this.data=e(n,o,n):this.data=n}this.onProcessComplete()}});s.register("json",function(n,o,f,h){if(Array.isArray(n))for(var d=0;d<n.length;d++)this.addFile(new l(this,n[d]));else this.addFile(new l(this,n,o,h,f));return this}),v.exports=l},80802:(v,y,t)=>{var u=t(56694),c=t(76846),a=t(72632),s=t(42927),r=t(42911),e=t(70806),i=t(45176),l=new u({Extends:i,initialize:function(o,f,h,d,p,x,S){if(r(f)){var T=f;f=a(T,"key"),a(T,"url",!1)?h=a(T,"url"):h=a(T,"atlasURL"),x=a(T,"xhrSettings"),d=a(T,"path"),p=a(T,"baseURL"),S=a(T,"textureXhrSettings")}var C=new e(o,f,h,x);i.call(this,o,"multiatlas",f,[C]),this.config.path=d,this.config.baseURL=p,this.config.textureXhrSettings=S},onFileComplete:function(n){var o=this.files.indexOf(n);if(o!==-1&&(this.pending--,n.type==="json"&&n.data.hasOwnProperty("textures"))){var f=n.data.textures,h=this.config,d=this.loader,p=d.baseURL,x=d.path,S=d.prefix,T=a(h,"baseURL",this.baseURL),C=a(h,"path",this.path),E=a(h,"prefix",this.prefix),P=a(h,"textureXhrSettings");d.setBaseURL(T),d.setPath(C),d.setPrefix(E);for(var M=0;M<f.length;M++){var L=f[M].image,R="MA"+this.multiKeyIndex+"_"+L,w=new s(d,R,L,P);if(this.addToMultiFile(w),d.addFile(w),f[M].normalMap){var D=new s(d,R,f[M].normalMap,P);D.type="normalMap",w.setLink(D),this.addToMultiFile(D),d.addFile(D)}}d.setBaseURL(p),d.setPath(x),d.setPrefix(S)}},addToCache:function(){if(this.isReadyToProcess()){for(var n=this.files[0],o=[],f=[],h=[],d=1;d<this.files.length;d++){var p=this.files[d];if(p.type!=="normalMap")for(var x=p.key.indexOf("_"),S=p.key.substr(x+1),T=p.data,C=0;C<n.data.textures.length;C++){var E=n.data.textures[C];if(E.image===S){f.push(T),o.push(E),p.linkFile&&h.push(p.linkFile.data);break}}}h.length===0&&(h=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,f,o,h),this.complete=!0}}});c.register("multiatlas",function(n,o,f,h,d){var p;if(Array.isArray(n))for(var x=0;x<n.length;x++)p=new l(this,n[x]),this.addFile(p.files);else p=new l(this,n,o,f,h,d),this.addFile(p.files);return this}),v.exports=l},39034:(v,y,t)=>{var u=t(56694),c=t(76846),a=t(72632),s=t(42911),r=t(45176),e=t(55188),i=new u({Extends:r,initialize:function(n,o,f,h){var d="js",p=[];if(s(o)){var x=o;o=a(x,"key"),f=a(x,"url"),h=a(x,"xhrSettings"),d=a(x,"extension",d)}Array.isArray(f)||(f=[f]);for(var S=0;S<f.length;S++){var T=new e(n,{key:o+"_"+S.toString(),url:f[S],extension:d,xhrSettings:h});T.onProcess=function(){this.onProcessComplete()},p.push(T)}r.call(this,n,"scripts",o,p)},addToCache:function(){if(this.isReadyToProcess()){for(var l=0;l<this.files.length;l++){var n=this.files[l];n.data=document.createElement("script"),n.data.language="javascript",n.data.type="text/javascript",n.data.defer=!1,n.data.text=n.xhrLoader.responseText,document.head.appendChild(n.data)}this.complete=!0}}});c.register("scripts",function(l,n,o){var f;if(Array.isArray(l))for(var h=0;h<l.length;h++)f=new i(this,l[h]),this.addFile(f.files);else f=new i(this,l,n,o),this.addFile(f.files);return this}),v.exports=i},85527:(v,y,t)=>{var u=t(56694),c=t(76846),a=t(72632),s=t(42911),r=t(45176),e=t(27291),i=t(76799),l=t(86897),n=new u({Extends:r,initialize:function(f,h,d,p,x,S){var T,C,E=f.cacheManager.obj;if(s(h)){var P=h;h=a(P,"key"),T=new l(f,{key:h,type:"obj",cache:E,url:a(P,"url"),extension:a(P,"extension","obj"),xhrSettings:a(P,"xhrSettings"),config:{flipUV:a(P,"flipUV",x)}}),p=a(P,"matURL"),p&&(C=new l(f,{key:h,type:"mat",cache:E,url:p,extension:a(P,"matExtension","mat"),xhrSettings:a(P,"xhrSettings")}))}else T=new l(f,{key:h,url:d,type:"obj",cache:E,extension:"obj",xhrSettings:S,config:{flipUV:x}}),p&&(C=new l(f,{key:h,url:p,type:"mat",cache:E,extension:"mat",xhrSettings:S}));r.call(this,f,"obj",h,[T,C])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],f=this.files[1],h=e(o.data,o.config.flipUV);f&&(h.materials=i(f.data)),o.cache.add(o.key,h),this.complete=!0}}});c.register("obj",function(o,f,h,d,p){var x;if(Array.isArray(o))for(var S=0;S<o.length;S++)x=new n(this,o[S]),this.addFile(x.files);else x=new n(this,o,f,h,d,p),this.addFile(x.files);return this}),v.exports=n},3616:(v,y,t)=>{var u=t(56694),c=t(12117),a=t(76846),s=t(70806),r=new u({Extends:s,initialize:function(i,l,n,o,f){s.call(this,i,l,n,o,f),this.type="packfile"},onProcess:function(){if(this.state!==c.FILE_POPULATED&&(this.state=c.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});a.register("pack",function(e,i,l,n){if(Array.isArray(e))for(var o=0;o<e.length;o++)this.addFile(new r(this,e[o]));else this.addFile(new r(this,e,i,n,l));return this}),v.exports=r},12217:(v,y,t)=>{var u=t(56694),c=t(12117),a=t(98035),s=t(76846),r=t(72632),e=t(42911),i=new u({Extends:a,initialize:function(n,o,f,h,d,p){var x="js";if(e(o)){var S=o;o=r(S,"key"),f=r(S,"url"),p=r(S,"xhrSettings"),x=r(S,"extension",x),h=r(S,"start"),d=r(S,"mapping")}var T={type:"plugin",cache:!1,extension:x,responseType:"text",key:o,url:f,xhrSettings:p,config:{start:h,mapping:d}};a.call(this,n,T),typeof f=="function"&&(this.data=f,this.state=c.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,n=this.config,o=r(n,"start",!1),f=r(n,"mapping",null);if(this.state===c.FILE_POPULATED)l.install(this.key,this.data,o,f);else{this.state=c.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var h=l.install(this.key,window[this.key],o,f);(o||f)&&(this.loader.systems[f]=h,this.loader.scene[f]=h)}this.onProcessComplete()}});s.register("plugin",function(l,n,o,f,h){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new i(this,l[d]));else this.addFile(new i(this,l,n,o,f,h));return this}),v.exports=i},4474:(v,y,t)=>{var u=t(56694),c=t(12117),a=t(98035),s=t(76846),r=t(72632),e=t(42911),i=new u({Extends:a,initialize:function(n,o,f,h,d){var p="svg";if(e(o)){var x=o;o=r(x,"key"),f=r(x,"url"),h=r(x,"svgConfig",{}),d=r(x,"xhrSettings"),p=r(x,"extension",p)}var S={type:"svg",cache:n.textureManager,extension:p,responseType:"text",key:o,url:f,xhrSettings:d,config:{width:r(h,"width"),height:r(h,"height"),scale:r(h,"scale")}};a.call(this,n,S)},onProcess:function(){this.state=c.FILE_PROCESSING;var l=this.xhrLoader.responseText,n=[l],o=this.config.width,f=this.config.height,h=this.config.scale;t:if(o&&f||h){var d=null,p=new DOMParser;d=p.parseFromString(l,"text/xml");var x=d.getElementsByTagName("svg")[0],S=x.hasAttribute("viewBox"),T=parseFloat(x.getAttribute("width")),C=parseFloat(x.getAttribute("height"));if(!S&&T&&C)x.setAttribute("viewBox","0  0 "+T+" "+C);else if(S&&!T&&!C){var E=x.getAttribute("viewBox").split(/\s+|,/);T=E[2],C=E[3]}if(h)if(T&&C)o=T*h,f=C*h;else break t;x.setAttribute("width",o.toString()+"px"),x.setAttribute("height",f.toString()+"px"),n=[new XMLSerializer().serializeToString(x)]}try{var P=new window.Blob(n,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var M=this,L=!1;this.data.onload=function(){L||a.revokeObjectURL(M.data),M.onProcessComplete()},this.data.onerror=function(){L?M.onProcessError():(L=!0,a.revokeObjectURL(M.data),M.data.src="data:image/svg+xml,"+encodeURIComponent(n.join("")))},a.createObjectURL(this.data,P,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});s.register("svg",function(l,n,o,f){if(Array.isArray(l))for(var h=0;h<l.length;h++)this.addFile(new i(this,l[h]));else this.addFile(new i(this,l,n,o,f));return this}),v.exports=i},95171:(v,y,t)=>{var u=t(56694),c=t(12117),a=t(98035),s=t(76846),r=t(72632),e=t(42911),i=new u({Extends:a,initialize:function(n,o,f,h){var d="js";if(e(o)){var p=o;o=r(p,"key"),f=r(p,"url"),h=r(p,"xhrSettings"),d=r(p,"extension",d)}var x={type:"text",extension:d,responseType:"text",key:o,url:f,xhrSettings:h};a.call(this,n,x)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var l=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),n=eval;this.loader.sceneManager.add(this.key,n(l)),this.complete=!0}});s.register("sceneFile",function(l,n,o){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new i(this,l[f]));else this.addFile(new i(this,l,n,o));return this}),v.exports=i},82458:(v,y,t)=>{var u=t(56694),c=t(12117),a=t(98035),s=t(76846),r=t(72632),e=t(42911),i=new u({Extends:a,initialize:function(n,o,f,h,d,p){var x="js";if(e(o)){var S=o;o=r(S,"key"),f=r(S,"url"),p=r(S,"xhrSettings"),x=r(S,"extension",x),h=r(S,"systemKey"),d=r(S,"sceneKey")}var T={type:"scenePlugin",cache:!1,extension:x,responseType:"text",key:o,url:f,xhrSettings:p,config:{systemKey:h,sceneKey:d}};a.call(this,n,T),typeof f=="function"&&(this.data=f,this.state=c.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,n=this.config,o=this.key,f=r(n,"systemKey",o),h=r(n,"sceneKey",o);this.state===c.FILE_POPULATED?l.installScenePlugin(f,this.data,h,this.loader.scene,!0):(this.state=c.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),l.installScenePlugin(f,window[this.key],h,this.loader.scene,!0)),this.onProcessComplete()}});s.register("scenePlugin",function(l,n,o,f,h){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new i(this,l[d]));else this.addFile(new i(this,l,n,o,f,h));return this}),v.exports=i},55188:(v,y,t)=>{var u=t(56694),c=t(12117),a=t(98035),s=t(76846),r=t(72632),e=t(42911),i=new u({Extends:a,initialize:function(n,o,f,h,d){var p="js";if(e(o)){var x=o;o=r(x,"key"),f=r(x,"url"),h=r(x,"type","script"),d=r(x,"xhrSettings"),p=r(x,"extension",p)}else h===void 0&&(h="script");var S={type:h,cache:!1,extension:p,responseType:"text",key:o,url:f,xhrSettings:d};a.call(this,n,S)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});s.register("script",function(l,n,o,f){if(Array.isArray(l))for(var h=0;h<l.length;h++)this.addFile(new i(this,l[h]));else this.addFile(new i(this,l,n,o,f));return this}),v.exports=i},33536:(v,y,t)=>{var u=t(56694),c=t(12117),a=t(76846),s=t(42927),r=new u({Extends:s,initialize:function(i,l,n,o,f){s.call(this,i,l,n,f,o),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=c.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});a.register("spritesheet",function(e,i,l,n){if(Array.isArray(e))for(var o=0;o<e.length;o++)this.addFile(new r(this,e[o]));else this.addFile(new r(this,e,i,l,n));return this}),v.exports=r},86897:(v,y,t)=>{var u=t(56694),c=t(12117),a=t(98035),s=t(76846),r=t(72632),e=t(42911),i=new u({Extends:a,initialize:function(n,o,f,h){var d="text",p="txt",x=n.cacheManager.text;if(e(o)){var S=o;o=r(S,"key"),f=r(S,"url"),h=r(S,"xhrSettings"),p=r(S,"extension",p),d=r(S,"type",d),x=r(S,"cache",x)}var T={type:d,cache:x,extension:p,responseType:"text",key:o,url:f,xhrSettings:h};a.call(this,n,T)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});s.register("text",function(l,n,o){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new i(this,l[f]));else this.addFile(new i(this,l,n,o));return this}),v.exports=i},58673:(v,y,t)=>{var u=t(56694),c=t(12117),a=t(98035),s=t(76846),r=t(72632),e=t(42911),i=t(93560),l=new u({Extends:a,initialize:function(o,f,h,d){var p="csv";if(e(f)){var x=f;f=r(x,"key"),h=r(x,"url"),d=r(x,"xhrSettings"),p=r(x,"extension",p)}var S={type:"tilemapCSV",cache:o.cacheManager.tilemap,extension:p,responseType:"text",key:f,url:h,xhrSettings:d};a.call(this,o,S),this.tilemapFormat=i.CSV},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var n={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,n)}});s.register("tilemapCSV",function(n,o,f){if(Array.isArray(n))for(var h=0;h<n.length;h++)this.addFile(new l(this,n[h]));else this.addFile(new l(this,n,o,f));return this}),v.exports=l},98896:(v,y,t)=>{var u=t(56694),c=t(76846),a=t(70806),s=t(93560),r=new u({Extends:a,initialize:function(i,l,n,o){a.call(this,i,l,n,o),this.type="tilemapJSON",this.cache=i.cacheManager.tilemap},addToCache:function(){var e={format:s.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});c.register("tilemapImpact",function(e,i,l){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new r(this,e[n]));else this.addFile(new r(this,e,i,l));return this}),v.exports=r},50563:(v,y,t)=>{var u=t(56694),c=t(76846),a=t(70806),s=t(93560),r=new u({Extends:a,initialize:function(i,l,n,o){a.call(this,i,l,n,o),this.type="tilemapJSON",this.cache=i.cacheManager.tilemap},addToCache:function(){var e={format:s.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});c.register("tilemapTiledJSON",function(e,i,l){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.addFile(new r(this,e[n]));else this.addFile(new r(this,e,i,l));return this}),v.exports=r},82857:(v,y,t)=>{var u=t(56694),c=t(76846),a=t(72632),s=t(42927),r=t(42911),e=t(45176),i=t(86897),l=new u({Extends:e,initialize:function(o,f,h,d,p,x){var S,T;if(r(f)){var C=f;f=a(C,"key"),S=new s(o,{key:f,url:a(C,"textureURL"),extension:a(C,"textureExtension","png"),normalMap:a(C,"normalMap"),xhrSettings:a(C,"textureXhrSettings")}),T=new i(o,{key:f,url:a(C,"atlasURL"),extension:a(C,"atlasExtension","txt"),xhrSettings:a(C,"atlasXhrSettings")})}else S=new s(o,f,h,p),T=new i(o,f,d,x);S.linkFile?e.call(this,o,"unityatlas",f,[S,T,S.linkFile]):e.call(this,o,"unityatlas",f,[S,T])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],o=this.files[1],f=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(n.key,n.data,o.data,f),this.complete=!0}}});c.register("unityAtlas",function(n,o,f,h,d){var p;if(Array.isArray(n))for(var x=0;x<n.length;x++)p=new l(this,n[x]),this.addFile(p.files);else p=new l(this,n,o,f,h,d),this.addFile(p.files);return this}),v.exports=l},22833:(v,y,t)=>{var u=t(56694),c=t(12117),a=t(98035),s=t(76846),r=t(30750),e=t(72632),i=t(42911),l=new u({Extends:a,initialize:function(o,f,h,d){if(d===void 0&&(d=!1),i(f)){var p=f;f=e(p,"key"),h=e(p,"url",[]),d=e(p,"noAudio",!1)}var x=o.systems.game.device.video.getVideoURL(h);x||console.warn("VideoFile: No supported format for "+f);var S={type:"video",cache:o.cacheManager.video,extension:x.type,key:f,url:x.url,config:{noAudio:d}};a.call(this,o,S)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=r(this,this.loader.baseURL),this.state=c.FILE_LOADED,this.loader.nextFile(this,!0)}});s.register("video",function(n,o,f){if(Array.isArray(n))for(var h=0;h<n.length;h++)this.addFile(new l(this,n[h]));else this.addFile(new l(this,n,o,f));return this}),v.exports=l},15297:(v,y,t)=>{var u=t(56694),c=t(12117),a=t(98035),s=t(76846),r=t(72632),e=t(42911),i=t(89200),l=new u({Extends:a,initialize:function(o,f,h,d){var p="xml";if(e(f)){var x=f;f=r(x,"key"),h=r(x,"url"),d=r(x,"xhrSettings"),p=r(x,"extension",p)}var S={type:"xml",cache:o.cacheManager.xml,extension:p,responseType:"text",key:f,url:h,xhrSettings:d};a.call(this,o,S)},onProcess:function(){this.state=c.FILE_PROCESSING,this.data=i(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});s.register("xml",function(n,o,f){if(Array.isArray(n))for(var h=0;h<n.length;h++)this.addFile(new l(this,n[h]));else this.addFile(new l(this,n,o,f));return this}),v.exports=l},34034:(v,y,t)=>{v.exports={AnimationJSONFile:t(46468),AsepriteFile:t(31648),AtlasJSONFile:t(73152),AtlasXMLFile:t(24616),AudioFile:t(67448),AudioSpriteFile:t(66109),BinaryFile:t(40612),BitmapFontFile:t(54565),CompressedTextureFile:t(47375),CSSFile:t(99898),GLSLFile:t(46568),HTML5AudioFile:t(30929),HTMLFile:t(77459),HTMLTextureFile:t(9755),ImageFile:t(42927),JSONFile:t(70806),MultiAtlasFile:t(80802),MultiScriptFile:t(39034),OBJFile:t(85527),PackFile:t(3616),PluginFile:t(12217),SceneFile:t(95171),ScenePluginFile:t(82458),ScriptFile:t(55188),SpriteSheetFile:t(33536),SVGFile:t(4474),TextFile:t(86897),TilemapCSVFile:t(58673),TilemapImpactFile:t(98896),TilemapJSONFile:t(50563),UnityAtlasFile:t(82857),VideoFile:t(22833),XMLFile:t(15297)}},95695:(v,y,t)=>{var u=t(12117),c=t(98611),a={Events:t(683),FileTypes:t(34034),File:t(98035),FileTypesManager:t(76846),GetURL:t(30750),LoaderPlugin:t(67285),MergeXHRSettings:t(43531),MultiFile:t(45176),XHRLoader:t(88490),XHRSettings:t(33868)};a=c(!1,a,u),v.exports=a},26042:v=>{var y=function(t){for(var u=0,c=0;c<t.length;c++)u+=+t[c];return u/t.length};v.exports=y},22824:(v,y,t)=>{var u=t(8034),c=function(a,s){return u(a)/u(s)/u(a-s)};v.exports=c},17489:v=>{var y=function(t,u){return Math.floor(Math.random()*(u-t+1)+t)};v.exports=y},14976:v=>{var y=function(t,u,c,a,s){var r=(a-u)*.5,e=(s-c)*.5,i=t*t,l=t*i;return(2*c-2*a+r+e)*l+(-3*c+3*a-2*r-e)*i+r*t+c};v.exports=y},89129:v=>{var y=function(t,u,c){u===void 0&&(u=0),c===void 0&&(c=10);var a=Math.pow(c,-u);return Math.ceil(t*a)/a};v.exports=y},82897:v=>{var y=function(t,u,c){return Math.max(u,Math.min(c,t))};v.exports=y},75606:(v,y,t)=>{var u=t(83392),c=function(a){return a*u.DEG_TO_RAD};v.exports=c},767:v=>{var y=function(t,u){return Math.abs(t-u)};v.exports=y},9849:(v,y,t)=>{var u=t(82897),c=t(56694),a=t(16650),s=t(72283),r=new a,e=new c({initialize:function i(l,n,o,f){l===void 0&&(l=0),n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f=i.DefaultOrder),this._x=l,this._y=n,this._z=o,this._order=f,this.onChangeCallback=s},x:{get:function(){return this._x},set:function(i){this._x=i,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(i){this._y=i,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(i){this._z=i,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(i){this._order=i,this.onChangeCallback(this)}},set:function(i,l,n,o){return o===void 0&&(o=this._order),this._x=i,this._y=l,this._z=n,this._order=o,this.onChangeCallback(this),this},copy:function(i){return this.set(i.x,i.y,i.z,i.order)},setFromQuaternion:function(i,l,n){return l===void 0&&(l=this._order),n===void 0&&(n=!1),r.fromQuat(i),this.setFromRotationMatrix(r,l,n)},setFromRotationMatrix:function(i,l,n){l===void 0&&(l=this._order),n===void 0&&(n=!1);var o=i.val,f=o[0],h=o[4],d=o[8],p=o[1],x=o[5],S=o[9],T=o[2],C=o[6],E=o[10],P=0,M=0,L=0,R=.99999;switch(l){case"XYZ":{M=Math.asin(u(d,-1,1)),Math.abs(d)<R?(P=Math.atan2(-S,E),L=Math.atan2(-h,f)):P=Math.atan2(C,x);break}case"YXZ":{P=Math.asin(-u(S,-1,1)),Math.abs(S)<R?(M=Math.atan2(d,E),L=Math.atan2(p,x)):M=Math.atan2(-T,f);break}case"ZXY":{P=Math.asin(u(C,-1,1)),Math.abs(C)<R?(M=Math.atan2(-T,E),L=Math.atan2(-h,x)):L=Math.atan2(p,f);break}case"ZYX":{M=Math.asin(-u(T,-1,1)),Math.abs(T)<R?(P=Math.atan2(C,E),L=Math.atan2(p,f)):L=Math.atan2(-h,x);break}case"YZX":{L=Math.asin(u(p,-1,1)),Math.abs(p)<R?(P=Math.atan2(-S,x),M=Math.atan2(-T,f)):M=Math.atan2(d,E);break}case"XZY":{L=Math.asin(-u(h,-1,1)),Math.abs(h)<R?(P=Math.atan2(C,x),M=Math.atan2(d,f)):P=Math.atan2(-S,E);break}}return this._x=P,this._y=M,this._z=L,this._order=l,n&&this.onChangeCallback(this),this}});e.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],e.DefaultOrder="XYZ",v.exports=e},8034:v=>{var y=function(t){if(t===0)return 1;for(var u=t;--t;)u*=t;return u};v.exports=y},61616:v=>{var y=function(t,u){return Math.random()*(u-t)+t};v.exports=y},60679:v=>{var y=function(t,u,c){u===void 0&&(u=0),c===void 0&&(c=10);var a=Math.pow(c,-u);return Math.floor(t*a)/a};v.exports=y},91806:(v,y,t)=>{var u=t(82897),c=function(a,s,r){return a=u(a,0,1),(r-s)*a+s};v.exports=c},79366:v=>{var y=function(t,u){return t/u/1e3};v.exports=y},43776:v=>{var y=function(t){return t==parseFloat(t)?!(t%2):void 0};v.exports=y},58442:v=>{var y=function(t){return t===parseFloat(t)?!(t%2):void 0};v.exports=y},42798:v=>{var y=function(t,u,c){return(u-t)*c+t};v.exports=y},61072:v=>{var y=function(t,u,c){return c===void 0&&(c=0),t.clone().lerp(u,c)};v.exports=y},5341:(v,y,t)=>{var u=t(56694),c=new u({initialize:function(s){this.val=new Float32Array(9),s?this.copy(s):this.identity()},clone:function(){return new c(this)},set:function(a){return this.copy(a)},copy:function(a){var s=this.val,r=a.val;return s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[3],s[4]=r[4],s[5]=r[5],s[6]=r[6],s[7]=r[7],s[8]=r[8],this},fromMat4:function(a){var s=a.val,r=this.val;return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[4],r[4]=s[5],r[5]=s[6],r[6]=s[8],r[7]=s[9],r[8]=s[10],this},fromArray:function(a){var s=this.val;return s[0]=a[0],s[1]=a[1],s[2]=a[2],s[3]=a[3],s[4]=a[4],s[5]=a[5],s[6]=a[6],s[7]=a[7],s[8]=a[8],this},identity:function(){var a=this.val;return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,this},transpose:function(){var a=this.val,s=a[1],r=a[2],e=a[5];return a[1]=a[3],a[2]=a[6],a[3]=s,a[5]=a[7],a[6]=r,a[7]=e,this},invert:function(){var a=this.val,s=a[0],r=a[1],e=a[2],i=a[3],l=a[4],n=a[5],o=a[6],f=a[7],h=a[8],d=h*l-n*f,p=-h*i+n*o,x=f*i-l*o,S=s*d+r*p+e*x;return S?(S=1/S,a[0]=d*S,a[1]=(-h*r+e*f)*S,a[2]=(n*r-e*l)*S,a[3]=p*S,a[4]=(h*s-e*o)*S,a[5]=(-n*s+e*i)*S,a[6]=x*S,a[7]=(-f*s+r*o)*S,a[8]=(l*s-r*i)*S,this):null},adjoint:function(){var a=this.val,s=a[0],r=a[1],e=a[2],i=a[3],l=a[4],n=a[5],o=a[6],f=a[7],h=a[8];return a[0]=l*h-n*f,a[1]=e*f-r*h,a[2]=r*n-e*l,a[3]=n*o-i*h,a[4]=s*h-e*o,a[5]=e*i-s*n,a[6]=i*f-l*o,a[7]=r*o-s*f,a[8]=s*l-r*i,this},determinant:function(){var a=this.val,s=a[0],r=a[1],e=a[2],i=a[3],l=a[4],n=a[5],o=a[6],f=a[7],h=a[8];return s*(h*l-n*f)+r*(-h*i+n*o)+e*(f*i-l*o)},multiply:function(a){var s=this.val,r=s[0],e=s[1],i=s[2],l=s[3],n=s[4],o=s[5],f=s[6],h=s[7],d=s[8],p=a.val,x=p[0],S=p[1],T=p[2],C=p[3],E=p[4],P=p[5],M=p[6],L=p[7],R=p[8];return s[0]=x*r+S*l+T*f,s[1]=x*e+S*n+T*h,s[2]=x*i+S*o+T*d,s[3]=C*r+E*l+P*f,s[4]=C*e+E*n+P*h,s[5]=C*i+E*o+P*d,s[6]=M*r+L*l+R*f,s[7]=M*e+L*n+R*h,s[8]=M*i+L*o+R*d,this},translate:function(a){var s=this.val,r=a.x,e=a.y;return s[6]=r*s[0]+e*s[3]+s[6],s[7]=r*s[1]+e*s[4]+s[7],s[8]=r*s[2]+e*s[5]+s[8],this},rotate:function(a){var s=this.val,r=s[0],e=s[1],i=s[2],l=s[3],n=s[4],o=s[5],f=Math.sin(a),h=Math.cos(a);return s[0]=h*r+f*l,s[1]=h*e+f*n,s[2]=h*i+f*o,s[3]=h*l-f*r,s[4]=h*n-f*e,s[5]=h*o-f*i,this},scale:function(a){var s=this.val,r=a.x,e=a.y;return s[0]=r*s[0],s[1]=r*s[1],s[2]=r*s[2],s[3]=e*s[3],s[4]=e*s[4],s[5]=e*s[5],this},fromQuat:function(a){var s=a.x,r=a.y,e=a.z,i=a.w,l=s+s,n=r+r,o=e+e,f=s*l,h=s*n,d=s*o,p=r*n,x=r*o,S=e*o,T=i*l,C=i*n,E=i*o,P=this.val;return P[0]=1-(p+S),P[3]=h+E,P[6]=d-C,P[1]=h-E,P[4]=1-(f+S),P[7]=x+T,P[2]=d+C,P[5]=x-T,P[8]=1-(f+p),this},normalFromMat4:function(a){var s=a.val,r=this.val,e=s[0],i=s[1],l=s[2],n=s[3],o=s[4],f=s[5],h=s[6],d=s[7],p=s[8],x=s[9],S=s[10],T=s[11],C=s[12],E=s[13],P=s[14],M=s[15],L=e*f-i*o,R=e*h-l*o,w=e*d-n*o,D=i*h-l*f,B=i*d-n*f,z=l*d-n*h,V=p*E-x*C,Y=p*P-S*C,H=p*M-T*C,I=x*P-S*E,U=x*M-T*E,O=S*M-T*P,N=L*O-R*U+w*I+D*H-B*Y+z*V;return N?(N=1/N,r[0]=(f*O-h*U+d*I)*N,r[1]=(h*H-o*O-d*Y)*N,r[2]=(o*U-f*H+d*V)*N,r[3]=(l*U-i*O-n*I)*N,r[4]=(e*O-l*H+n*Y)*N,r[5]=(i*H-e*U-n*V)*N,r[6]=(E*z-P*B+M*D)*N,r[7]=(P*w-C*z-M*R)*N,r[8]=(C*B-E*w+M*L)*N,this):null}});v.exports=c},16650:(v,y,t)=>{var u=t(56694),c=t(70015),a=1e-6,s=new u({initialize:function(f){this.val=new Float32Array(16),f?this.copy(f):this.identity()},clone:function(){return new s(this)},set:function(o){return this.copy(o)},setValues:function(o,f,h,d,p,x,S,T,C,E,P,M,L,R,w,D){var B=this.val;return B[0]=o,B[1]=f,B[2]=h,B[3]=d,B[4]=p,B[5]=x,B[6]=S,B[7]=T,B[8]=C,B[9]=E,B[10]=P,B[11]=M,B[12]=L,B[13]=R,B[14]=w,B[15]=D,this},copy:function(o){var f=o.val;return this.setValues(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},fromArray:function(o){return this.setValues(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(o,f,h){var d=r.fromQuat(h),p=d.val,x=f.x,S=f.y,T=f.z;return this.setValues(p[0]*x,p[1]*x,p[2]*x,0,p[4]*S,p[5]*S,p[6]*S,0,p[8]*T,p[9]*T,p[10]*T,0,o.x,o.y,o.z,1)},xyz:function(o,f,h){this.identity();var d=this.val;return d[12]=o,d[13]=f,d[14]=h,this},scaling:function(o,f,h){this.zero();var d=this.val;return d[0]=o,d[5]=f,d[10]=h,d[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var o=this.val,f=o[1],h=o[2],d=o[3],p=o[6],x=o[7],S=o[11];return o[1]=o[4],o[2]=o[8],o[3]=o[12],o[4]=f,o[6]=o[9],o[7]=o[13],o[8]=h,o[9]=p,o[11]=o[14],o[12]=d,o[13]=x,o[14]=S,this},getInverse:function(o){return this.copy(o),this.invert()},invert:function(){var o=this.val,f=o[0],h=o[1],d=o[2],p=o[3],x=o[4],S=o[5],T=o[6],C=o[7],E=o[8],P=o[9],M=o[10],L=o[11],R=o[12],w=o[13],D=o[14],B=o[15],z=f*S-h*x,V=f*T-d*x,Y=f*C-p*x,H=h*T-d*S,I=h*C-p*S,U=d*C-p*T,O=E*w-P*R,N=E*D-M*R,G=E*B-L*R,X=P*D-M*w,W=P*B-L*w,b=M*B-L*D,K=z*b-V*W+Y*X+H*G-I*N+U*O;return K?(K=1/K,this.setValues((S*b-T*W+C*X)*K,(d*W-h*b-p*X)*K,(w*U-D*I+B*H)*K,(M*I-P*U-L*H)*K,(T*G-x*b-C*N)*K,(f*b-d*G+p*N)*K,(D*Y-R*U-B*V)*K,(E*U-M*Y+L*V)*K,(x*W-S*G+C*O)*K,(h*G-f*W-p*O)*K,(R*I-w*Y+B*z)*K,(P*Y-E*I-L*z)*K,(S*N-x*X-T*O)*K,(f*X-h*N+d*O)*K,(w*V-R*H-D*z)*K,(E*H-P*V+M*z)*K)):this},adjoint:function(){var o=this.val,f=o[0],h=o[1],d=o[2],p=o[3],x=o[4],S=o[5],T=o[6],C=o[7],E=o[8],P=o[9],M=o[10],L=o[11],R=o[12],w=o[13],D=o[14],B=o[15];return this.setValues(S*(M*B-L*D)-P*(T*B-C*D)+w*(T*L-C*M),-(h*(M*B-L*D)-P*(d*B-p*D)+w*(d*L-p*M)),h*(T*B-C*D)-S*(d*B-p*D)+w*(d*C-p*T),-(h*(T*L-C*M)-S*(d*L-p*M)+P*(d*C-p*T)),-(x*(M*B-L*D)-E*(T*B-C*D)+R*(T*L-C*M)),f*(M*B-L*D)-E*(d*B-p*D)+R*(d*L-p*M),-(f*(T*B-C*D)-x*(d*B-p*D)+R*(d*C-p*T)),f*(T*L-C*M)-x*(d*L-p*M)+E*(d*C-p*T),x*(P*B-L*w)-E*(S*B-C*w)+R*(S*L-C*P),-(f*(P*B-L*w)-E*(h*B-p*w)+R*(h*L-p*P)),f*(S*B-C*w)-x*(h*B-p*w)+R*(h*C-p*S),-(f*(S*L-C*P)-x*(h*L-p*P)+E*(h*C-p*S)),-(x*(P*D-M*w)-E*(S*D-T*w)+R*(S*M-T*P)),f*(P*D-M*w)-E*(h*D-d*w)+R*(h*M-d*P),-(f*(S*D-T*w)-x*(h*D-d*w)+R*(h*T-d*S)),f*(S*M-T*P)-x*(h*M-d*P)+E*(h*T-d*S))},determinant:function(){var o=this.val,f=o[0],h=o[1],d=o[2],p=o[3],x=o[4],S=o[5],T=o[6],C=o[7],E=o[8],P=o[9],M=o[10],L=o[11],R=o[12],w=o[13],D=o[14],B=o[15],z=f*S-h*x,V=f*T-d*x,Y=f*C-p*x,H=h*T-d*S,I=h*C-p*S,U=d*C-p*T,O=E*w-P*R,N=E*D-M*R,G=E*B-L*R,X=P*D-M*w,W=P*B-L*w,b=M*B-L*D;return z*b-V*W+Y*X+H*G-I*N+U*O},multiply:function(o){var f=this.val,h=f[0],d=f[1],p=f[2],x=f[3],S=f[4],T=f[5],C=f[6],E=f[7],P=f[8],M=f[9],L=f[10],R=f[11],w=f[12],D=f[13],B=f[14],z=f[15],V=o.val,Y=V[0],H=V[1],I=V[2],U=V[3];return f[0]=Y*h+H*S+I*P+U*w,f[1]=Y*d+H*T+I*M+U*D,f[2]=Y*p+H*C+I*L+U*B,f[3]=Y*x+H*E+I*R+U*z,Y=V[4],H=V[5],I=V[6],U=V[7],f[4]=Y*h+H*S+I*P+U*w,f[5]=Y*d+H*T+I*M+U*D,f[6]=Y*p+H*C+I*L+U*B,f[7]=Y*x+H*E+I*R+U*z,Y=V[8],H=V[9],I=V[10],U=V[11],f[8]=Y*h+H*S+I*P+U*w,f[9]=Y*d+H*T+I*M+U*D,f[10]=Y*p+H*C+I*L+U*B,f[11]=Y*x+H*E+I*R+U*z,Y=V[12],H=V[13],I=V[14],U=V[15],f[12]=Y*h+H*S+I*P+U*w,f[13]=Y*d+H*T+I*M+U*D,f[14]=Y*p+H*C+I*L+U*B,f[15]=Y*x+H*E+I*R+U*z,this},multiplyLocal:function(o){var f=this.val,h=o.val;return this.setValues(f[0]*h[0]+f[1]*h[4]+f[2]*h[8]+f[3]*h[12],f[0]*h[1]+f[1]*h[5]+f[2]*h[9]+f[3]*h[13],f[0]*h[2]+f[1]*h[6]+f[2]*h[10]+f[3]*h[14],f[0]*h[3]+f[1]*h[7]+f[2]*h[11]+f[3]*h[15],f[4]*h[0]+f[5]*h[4]+f[6]*h[8]+f[7]*h[12],f[4]*h[1]+f[5]*h[5]+f[6]*h[9]+f[7]*h[13],f[4]*h[2]+f[5]*h[6]+f[6]*h[10]+f[7]*h[14],f[4]*h[3]+f[5]*h[7]+f[6]*h[11]+f[7]*h[15],f[8]*h[0]+f[9]*h[4]+f[10]*h[8]+f[11]*h[12],f[8]*h[1]+f[9]*h[5]+f[10]*h[9]+f[11]*h[13],f[8]*h[2]+f[9]*h[6]+f[10]*h[10]+f[11]*h[14],f[8]*h[3]+f[9]*h[7]+f[10]*h[11]+f[11]*h[15],f[12]*h[0]+f[13]*h[4]+f[14]*h[8]+f[15]*h[12],f[12]*h[1]+f[13]*h[5]+f[14]*h[9]+f[15]*h[13],f[12]*h[2]+f[13]*h[6]+f[14]*h[10]+f[15]*h[14],f[12]*h[3]+f[13]*h[7]+f[14]*h[11]+f[15]*h[15])},premultiply:function(o){return this.multiplyMatrices(o,this)},multiplyMatrices:function(o,f){var h=o.val,d=f.val,p=h[0],x=h[4],S=h[8],T=h[12],C=h[1],E=h[5],P=h[9],M=h[13],L=h[2],R=h[6],w=h[10],D=h[14],B=h[3],z=h[7],V=h[11],Y=h[15],H=d[0],I=d[4],U=d[8],O=d[12],N=d[1],G=d[5],X=d[9],W=d[13],b=d[2],K=d[6],Z=d[10],Q=d[14],J=d[3],j=d[7],k=d[11],$=d[15];return this.setValues(p*H+x*N+S*b+T*J,C*H+E*N+P*b+M*J,L*H+R*N+w*b+D*J,B*H+z*N+V*b+Y*J,p*I+x*G+S*K+T*j,C*I+E*G+P*K+M*j,L*I+R*G+w*K+D*j,B*I+z*G+V*K+Y*j,p*U+x*X+S*Z+T*k,C*U+E*X+P*Z+M*k,L*U+R*X+w*Z+D*k,B*U+z*X+V*Z+Y*k,p*O+x*W+S*Q+T*$,C*O+E*W+P*Q+M*$,L*O+R*W+w*Q+D*$,B*O+z*W+V*Q+Y*$)},translate:function(o){return this.translateXYZ(o.x,o.y,o.z)},translateXYZ:function(o,f,h){var d=this.val;return d[12]=d[0]*o+d[4]*f+d[8]*h+d[12],d[13]=d[1]*o+d[5]*f+d[9]*h+d[13],d[14]=d[2]*o+d[6]*f+d[10]*h+d[14],d[15]=d[3]*o+d[7]*f+d[11]*h+d[15],this},scale:function(o){return this.scaleXYZ(o.x,o.y,o.z)},scaleXYZ:function(o,f,h){var d=this.val;return d[0]=d[0]*o,d[1]=d[1]*o,d[2]=d[2]*o,d[3]=d[3]*o,d[4]=d[4]*f,d[5]=d[5]*f,d[6]=d[6]*f,d[7]=d[7]*f,d[8]=d[8]*h,d[9]=d[9]*h,d[10]=d[10]*h,d[11]=d[11]*h,this},makeRotationAxis:function(o,f){var h=Math.cos(f),d=Math.sin(f),p=1-h,x=o.x,S=o.y,T=o.z,C=p*x,E=p*S;return this.setValues(C*x+h,C*S-d*T,C*T+d*S,0,C*S+d*T,E*S+h,E*T-d*x,0,C*T-d*S,E*T+d*x,p*T*T+h,0,0,0,0,1)},rotate:function(o,f){var h=this.val,d=f.x,p=f.y,x=f.z,S=Math.sqrt(d*d+p*p+x*x);if(Math.abs(S)<a)return this;S=1/S,d*=S,p*=S,x*=S;var T=Math.sin(o),C=Math.cos(o),E=1-C,P=h[0],M=h[1],L=h[2],R=h[3],w=h[4],D=h[5],B=h[6],z=h[7],V=h[8],Y=h[9],H=h[10],I=h[11],U=h[12],O=h[13],N=h[14],G=h[15],X=d*d*E+C,W=p*d*E+x*T,b=x*d*E-p*T,K=d*p*E-x*T,Z=p*p*E+C,Q=x*p*E+d*T,J=d*x*E+p*T,j=p*x*E-d*T,k=x*x*E+C;return this.setValues(P*X+w*W+V*b,M*X+D*W+Y*b,L*X+B*W+H*b,R*X+z*W+I*b,P*K+w*Z+V*Q,M*K+D*Z+Y*Q,L*K+B*Z+H*Q,R*K+z*Z+I*Q,P*J+w*j+V*k,M*J+D*j+Y*k,L*J+B*j+H*k,R*J+z*j+I*k,U,O,N,G)},rotateX:function(o){var f=this.val,h=Math.sin(o),d=Math.cos(o),p=f[4],x=f[5],S=f[6],T=f[7],C=f[8],E=f[9],P=f[10],M=f[11];return f[4]=p*d+C*h,f[5]=x*d+E*h,f[6]=S*d+P*h,f[7]=T*d+M*h,f[8]=C*d-p*h,f[9]=E*d-x*h,f[10]=P*d-S*h,f[11]=M*d-T*h,this},rotateY:function(o){var f=this.val,h=Math.sin(o),d=Math.cos(o),p=f[0],x=f[1],S=f[2],T=f[3],C=f[8],E=f[9],P=f[10],M=f[11];return f[0]=p*d-C*h,f[1]=x*d-E*h,f[2]=S*d-P*h,f[3]=T*d-M*h,f[8]=p*h+C*d,f[9]=x*h+E*d,f[10]=S*h+P*d,f[11]=T*h+M*d,this},rotateZ:function(o){var f=this.val,h=Math.sin(o),d=Math.cos(o),p=f[0],x=f[1],S=f[2],T=f[3],C=f[4],E=f[5],P=f[6],M=f[7];return f[0]=p*d+C*h,f[1]=x*d+E*h,f[2]=S*d+P*h,f[3]=T*d+M*h,f[4]=C*d-p*h,f[5]=E*d-x*h,f[6]=P*d-S*h,f[7]=M*d-T*h,this},fromRotationTranslation:function(o,f){var h=o.x,d=o.y,p=o.z,x=o.w,S=h+h,T=d+d,C=p+p,E=h*S,P=h*T,M=h*C,L=d*T,R=d*C,w=p*C,D=x*S,B=x*T,z=x*C;return this.setValues(1-(L+w),P+z,M-B,0,P-z,1-(E+w),R+D,0,M+B,R-D,1-(E+L),0,f.x,f.y,f.z,1)},fromQuat:function(o){var f=o.x,h=o.y,d=o.z,p=o.w,x=f+f,S=h+h,T=d+d,C=f*x,E=f*S,P=f*T,M=h*S,L=h*T,R=d*T,w=p*x,D=p*S,B=p*T;return this.setValues(1-(M+R),E+B,P-D,0,E-B,1-(C+R),L+w,0,P+D,L-w,1-(C+M),0,0,0,0,1)},frustum:function(o,f,h,d,p,x){var S=1/(f-o),T=1/(d-h),C=1/(p-x);return this.setValues(p*2*S,0,0,0,0,p*2*T,0,0,(f+o)*S,(d+h)*T,(x+p)*C,-1,0,0,x*p*2*C,0)},perspective:function(o,f,h,d){var p=1/Math.tan(o/2),x=1/(h-d);return this.setValues(p/f,0,0,0,0,p,0,0,0,0,(d+h)*x,-1,0,0,2*d*h*x,0)},perspectiveLH:function(o,f,h,d){return this.setValues(2*h/o,0,0,0,0,2*h/f,0,0,0,0,-d/(h-d),1,0,0,h*d/(h-d),0)},ortho:function(o,f,h,d,p,x){var S=o-f,T=h-d,C=p-x;return S=S===0?S:1/S,T=T===0?T:1/T,C=C===0?C:1/C,this.setValues(-2*S,0,0,0,0,-2*T,0,0,0,0,2*C,0,(o+f)*S,(d+h)*T,(x+p)*C,1)},lookAtRH:function(o,f,h){var d=this.val;return n.subVectors(o,f),n.getLengthSquared()===0&&(n.z=1),n.normalize(),i.crossVectors(h,n),i.getLengthSquared()===0&&(Math.abs(h.z)===1?n.x+=1e-4:n.z+=1e-4,n.normalize(),i.crossVectors(h,n)),i.normalize(),l.crossVectors(n,i),d[0]=i.x,d[1]=i.y,d[2]=i.z,d[4]=l.x,d[5]=l.y,d[6]=l.z,d[8]=n.x,d[9]=n.y,d[10]=n.z,this},lookAt:function(o,f,h){var d=o.x,p=o.y,x=o.z,S=h.x,T=h.y,C=h.z,E=f.x,P=f.y,M=f.z;if(Math.abs(d-E)<a&&Math.abs(p-P)<a&&Math.abs(x-M)<a)return this.identity();var L=d-E,R=p-P,w=x-M,D=1/Math.sqrt(L*L+R*R+w*w);L*=D,R*=D,w*=D;var B=T*w-C*R,z=C*L-S*w,V=S*R-T*L;D=Math.sqrt(B*B+z*z+V*V),D?(D=1/D,B*=D,z*=D,V*=D):(B=0,z=0,V=0);var Y=R*V-w*z,H=w*B-L*V,I=L*z-R*B;return D=Math.sqrt(Y*Y+H*H+I*I),D?(D=1/D,Y*=D,H*=D,I*=D):(Y=0,H=0,I=0),this.setValues(B,Y,L,0,z,H,R,0,V,I,w,0,-(B*d+z*p+V*x),-(Y*d+H*p+I*x),-(L*d+R*p+w*x),1)},yawPitchRoll:function(o,f,h){this.zero(),r.zero(),e.zero();var d=this.val,p=r.val,x=e.val,S=Math.sin(h),T=Math.cos(h);return d[10]=1,d[15]=1,d[0]=T,d[1]=S,d[4]=-S,d[5]=T,S=Math.sin(f),T=Math.cos(f),p[0]=1,p[15]=1,p[5]=T,p[10]=T,p[9]=-S,p[6]=S,S=Math.sin(o),T=Math.cos(o),x[5]=1,x[15]=1,x[0]=T,x[2]=-S,x[8]=S,x[10]=T,this.multiplyLocal(r),this.multiplyLocal(e),this},setWorldMatrix:function(o,f,h,d,p){return this.yawPitchRoll(o.y,o.x,o.z),r.scaling(h.x,h.y,h.z),e.xyz(f.x,f.y,f.z),this.multiplyLocal(r),this.multiplyLocal(e),d&&this.multiplyLocal(d),p&&this.multiplyLocal(p),this},multiplyToMat4:function(o,f){var h=this.val,d=o.val,p=h[0],x=h[1],S=h[2],T=h[3],C=h[4],E=h[5],P=h[6],M=h[7],L=h[8],R=h[9],w=h[10],D=h[11],B=h[12],z=h[13],V=h[14],Y=h[15],H=d[0],I=d[1],U=d[2],O=d[3],N=d[4],G=d[5],X=d[6],W=d[7],b=d[8],K=d[9],Z=d[10],Q=d[11],J=d[12],j=d[13],k=d[14],$=d[15];return f.setValues(H*p+I*C+U*L+O*B,I*x+I*E+U*R+O*z,U*S+I*P+U*w+O*V,O*T+I*M+U*D+O*Y,N*p+G*C+X*L+W*B,N*x+G*E+X*R+W*z,N*S+G*P+X*w+W*V,N*T+G*M+X*D+W*Y,b*p+K*C+Z*L+Q*B,b*x+K*E+Z*R+Q*z,b*S+K*P+Z*w+Q*V,b*T+K*M+Z*D+Q*Y,J*p+j*C+k*L+$*B,J*x+j*E+k*R+$*z,J*S+j*P+k*w+$*V,J*T+j*M+k*D+$*Y)},fromRotationXYTranslation:function(o,f,h){var d=f.x,p=f.y,x=f.z,S=Math.sin(o.x),T=Math.cos(o.x),C=Math.sin(o.y),E=Math.cos(o.y),P=d,M=p,L=x,R=-S,w=0-R*C,D=0-T*C,B=R*E,z=T*E;return h||(P=E*d+C*x,M=w*d+T*p+B*x,L=D*d+S*p+z*x),this.setValues(E,w,D,0,0,T,S,0,C,B,z,0,P,M,L,1)},getMaxScaleOnAxis:function(){var o=this.val,f=o[0]*o[0]+o[1]*o[1]+o[2]*o[2],h=o[4]*o[4]+o[5]*o[5]+o[6]*o[6],d=o[8]*o[8]+o[9]*o[9]+o[10]*o[10];return Math.sqrt(Math.max(f,h,d))}}),r=new s,e=new s,i=new c,l=new c,n=new c;v.exports=s},69635:v=>{var y=function(t,u,c){return Math.min(t+u,c)};v.exports=y},37394:v=>{var y=function(t){var u=t.length;if(u===0)return 0;t.sort(function(a,s){return a-s});var c=Math.floor(u/2);return u%2===0?(t[c]+t[c-1])/2:t[c]};v.exports=y},17259:v=>{var y=function(t,u,c){return Math.max(t-u,c)};v.exports=y},61820:v=>{var y=function(t,u,c,a){c===void 0&&(c=u+1);var s=(t-u)/(c-u);return s>1?a!==void 0?(s=(a-t)/(a-c),s<0&&(s=0)):s=1:s<0&&(s=0),s};v.exports=y},75003:(v,y,t)=>{var u=t(56694),c=t(5341),a=t(72283),s=t(70015),r=1e-6,e=new Int8Array([1,2,0]),i=new Float32Array([0,0,0]),l=new s(1,0,0),n=new s(0,1,0),o=new s,f=new c,h=new u({initialize:function(p,x,S,T){this.onChangeCallback=a,this.set(p,x,S,T)},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(d){this._w=d,this.onChangeCallback(this)}},copy:function(d){return this.set(d)},set:function(d,p,x,S,T){return T===void 0&&(T=!0),typeof d=="object"?(this._x=d.x||0,this._y=d.y||0,this._z=d.z||0,this._w=d.w||0):(this._x=d||0,this._y=p||0,this._z=x||0,this._w=S||0),T&&this.onChangeCallback(this),this},add:function(d){return this._x+=d.x,this._y+=d.y,this._z+=d.z,this._w+=d.w,this.onChangeCallback(this),this},subtract:function(d){return this._x-=d.x,this._y-=d.y,this._z-=d.z,this._w-=d.w,this.onChangeCallback(this),this},scale:function(d){return this._x*=d,this._y*=d,this._z*=d,this._w*=d,this.onChangeCallback(this),this},length:function(){var d=this.x,p=this.y,x=this.z,S=this.w;return Math.sqrt(d*d+p*p+x*x+S*S)},lengthSq:function(){var d=this.x,p=this.y,x=this.z,S=this.w;return d*d+p*p+x*x+S*S},normalize:function(){var d=this.x,p=this.y,x=this.z,S=this.w,T=d*d+p*p+x*x+S*S;return T>0&&(T=1/Math.sqrt(T),this._x=d*T,this._y=p*T,this._z=x*T,this._w=S*T),this.onChangeCallback(this),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w},lerp:function(d,p){p===void 0&&(p=0);var x=this.x,S=this.y,T=this.z,C=this.w;return this.set(x+p*(d.x-x),S+p*(d.y-S),T+p*(d.z-T),C+p*(d.w-C))},rotationTo:function(d,p){var x=d.x*p.x+d.y*p.y+d.z*p.z;return x<-.999999?(o.copy(l).cross(d).length()<r&&o.copy(n).cross(d),o.normalize(),this.setAxisAngle(o,Math.PI)):x>.999999?this.set(0,0,0,1):(o.copy(d).cross(p),this._x=o.x,this._y=o.y,this._z=o.z,this._w=1+x,this.normalize())},setAxes:function(d,p,x){var S=f.val;return S[0]=p.x,S[3]=p.y,S[6]=p.z,S[1]=x.x,S[4]=x.y,S[7]=x.z,S[2]=-d.x,S[5]=-d.y,S[8]=-d.z,this.fromMat3(f).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(d,p){p=p*.5;var x=Math.sin(p);return this.set(x*d.x,x*d.y,x*d.z,Math.cos(p))},multiply:function(d){var p=this.x,x=this.y,S=this.z,T=this.w,C=d.x,E=d.y,P=d.z,M=d.w;return this.set(p*M+T*C+x*P-S*E,x*M+T*E+S*C-p*P,S*M+T*P+p*E-x*C,T*M-p*C-x*E-S*P)},slerp:function(d,p){var x=this.x,S=this.y,T=this.z,C=this.w,E=d.x,P=d.y,M=d.z,L=d.w,R=x*E+S*P+T*M+C*L;R<0&&(R=-R,E=-E,P=-P,M=-M,L=-L);var w=1-p,D=p;if(1-R>r){var B=Math.acos(R),z=Math.sin(B);w=Math.sin((1-p)*B)/z,D=Math.sin(p*B)/z}return this.set(w*x+D*E,w*S+D*P,w*T+D*M,w*C+D*L)},invert:function(){var d=this.x,p=this.y,x=this.z,S=this.w,T=d*d+p*p+x*x+S*S,C=T?1/T:0;return this.set(-d*C,-p*C,-x*C,S*C)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(d){d*=.5;var p=this.x,x=this.y,S=this.z,T=this.w,C=Math.sin(d),E=Math.cos(d);return this.set(p*E+T*C,x*E+S*C,S*E-x*C,T*E-p*C)},rotateY:function(d){d*=.5;var p=this.x,x=this.y,S=this.z,T=this.w,C=Math.sin(d),E=Math.cos(d);return this.set(p*E-S*C,x*E+T*C,S*E+p*C,T*E-x*C)},rotateZ:function(d){d*=.5;var p=this.x,x=this.y,S=this.z,T=this.w,C=Math.sin(d),E=Math.cos(d);return this.set(p*E+x*C,x*E-p*C,S*E+T*C,T*E-S*C)},calculateW:function(){var d=this.x,p=this.y,x=this.z;return this.w=-Math.sqrt(1-d*d-p*p-x*x),this},setFromEuler:function(d,p){var x=d.x/2,S=d.y/2,T=d.z/2,C=Math.cos(x),E=Math.cos(S),P=Math.cos(T),M=Math.sin(x),L=Math.sin(S),R=Math.sin(T);switch(d.order){case"XYZ":{this.set(M*E*P+C*L*R,C*L*P-M*E*R,C*E*R+M*L*P,C*E*P-M*L*R,p);break}case"YXZ":{this.set(M*E*P+C*L*R,C*L*P-M*E*R,C*E*R-M*L*P,C*E*P+M*L*R,p);break}case"ZXY":{this.set(M*E*P-C*L*R,C*L*P+M*E*R,C*E*R+M*L*P,C*E*P-M*L*R,p);break}case"ZYX":{this.set(M*E*P-C*L*R,C*L*P+M*E*R,C*E*R-M*L*P,C*E*P+M*L*R,p);break}case"YZX":{this.set(M*E*P+C*L*R,C*L*P+M*E*R,C*E*R-M*L*P,C*E*P-M*L*R,p);break}case"XZY":{this.set(M*E*P-C*L*R,C*L*P-M*E*R,C*E*R+M*L*P,C*E*P+M*L*R,p);break}}return this},setFromRotationMatrix:function(d){var p=d.val,x=p[0],S=p[4],T=p[8],C=p[1],E=p[5],P=p[9],M=p[2],L=p[6],R=p[10],w=x+E+R,D;return w>0?(D=.5/Math.sqrt(w+1),this.set((L-P)*D,(T-M)*D,(C-S)*D,.25/D)):x>E&&x>R?(D=2*Math.sqrt(1+x-E-R),this.set(.25*D,(S+C)/D,(T+M)/D,(L-P)/D)):E>R?(D=2*Math.sqrt(1+E-x-R),this.set((S+C)/D,.25*D,(P+L)/D,(T-M)/D)):(D=2*Math.sqrt(1+R-x-E),this.set((T+M)/D,(P+L)/D,.25*D,(C-S)/D)),this},fromMat3:function(d){var p=d.val,x=p[0]+p[4]+p[8],S;if(x>0)S=Math.sqrt(x+1),this.w=.5*S,S=.5/S,this._x=(p[7]-p[5])*S,this._y=(p[2]-p[6])*S,this._z=(p[3]-p[1])*S;else{var T=0;p[4]>p[0]&&(T=1),p[8]>p[T*3+T]&&(T=2);var C=e[T],E=e[C];S=Math.sqrt(p[T*3+T]-p[C*3+C]-p[E*3+E]+1),i[T]=.5*S,S=.5/S,i[C]=(p[C*3+T]+p[T*3+C])*S,i[E]=(p[E*3+T]+p[T*3+E])*S,this._x=i[0],this._y=i[1],this._z=i[2],this._w=(p[E*3+C]-p[C*3+E])*S}return this.onChangeCallback(this),this}});v.exports=h},23701:(v,y,t)=>{var u=t(83392),c=function(a){return a*u.RAD_TO_DEG};v.exports=c},16906:v=>{var y=function(t,u){u===void 0&&(u=1);var c=Math.random()*2*Math.PI;return t.x=Math.cos(c)*u,t.y=Math.sin(c)*u,t};v.exports=y},52417:v=>{var y=function(t,u){u===void 0&&(u=1);var c=Math.random()*2*Math.PI,a=Math.random()*2-1,s=Math.sqrt(1-a*a)*u;return t.x=Math.cos(c)*s,t.y=Math.sin(c)*s,t.z=a*u,t};v.exports=y},17915:v=>{var y=function(t,u){return u===void 0&&(u=1),t.x=(Math.random()*2-1)*u,t.y=(Math.random()*2-1)*u,t.z=(Math.random()*2-1)*u,t.w=(Math.random()*2-1)*u,t};v.exports=y},52257:v=>{var y=function(t,u){var c=t.x,a=t.y;return t.x=c*Math.cos(u)-a*Math.sin(u),t.y=c*Math.sin(u)+a*Math.cos(u),t};v.exports=y},2386:v=>{var y=function(t,u,c,a){var s=Math.cos(a),r=Math.sin(a),e=t.x-u,i=t.y-c;return t.x=e*s-i*r+u,t.y=e*r+i*s+c,t};v.exports=y},72395:v=>{var y=function(t,u,c,a,s){var r=a+Math.atan2(t.y-c,t.x-u);return t.x=u+s*Math.cos(r),t.y=c+s*Math.sin(r),t};v.exports=y},41061:v=>{var y=function(t,u,c,a,s){return t.x=u+s*Math.cos(a),t.y=c+s*Math.sin(a),t};v.exports=y},93709:(v,y,t)=>{var u=t(70015),c=t(16650),a=t(75003),s=new c,r=new a,e=new u,i=function(l,n,o){return r.setAxisAngle(n,o),s.fromRotationTranslation(r,e.set(0,0,0)),l.transformMat4(s)};v.exports=i},67233:v=>{var y=function(t){return t>0?Math.ceil(t):Math.floor(t)};v.exports=y},64333:v=>{var y=function(t,u,c){u===void 0&&(u=0),c===void 0&&(c=10);var a=Math.pow(c,-u);return Math.round(t*a)/a};v.exports=y},59533:v=>{var y=function(t,u,c,a){u===void 0&&(u=1),c===void 0&&(c=1),a===void 0&&(a=1),a*=Math.PI/t;for(var s=[],r=[],e=0;e<t;e++)c-=u*a,u+=c*a,s[e]=c,r[e]=u;return{sin:r,cos:s,length:t}};v.exports=y},5514:v=>{var y=function(t,u,c){return t<=u?0:t>=c?1:(t=(t-u)/(c-u),t*t*(3-2*t))};v.exports=y},87736:v=>{var y=function(t,u,c){return t=Math.max(0,Math.min(1,(t-u)/(c-u))),t*t*t*(t*(t*6-15)+10)};v.exports=y},55805:(v,y,t)=>{var u=t(93736),c=function(a,s,r,e){e===void 0&&(e=new u);var i=0,l=0,n=s*r;return a>0&&a<=n&&(a>s-1?(l=Math.floor(a/s),i=a-l*s):i=a),e.set(i,l)};v.exports=c},64462:(v,y,t)=>{var u=t(93736),c=function(a,s,r,e,i,l,n,o){o===void 0&&(o=new u);var f=Math.sin(i),h=Math.cos(i),d=h*l,p=f*l,x=-f*n,S=h*n,T=1/(d*S+x*-p);return o.x=S*T*a+-x*T*s+(e*x-r*S)*T,o.y=d*T*s+-p*T*a+(-e*d+r*p)*T,o};v.exports=c},93736:(v,y,t)=>{var u=t(56694),c=t(88456),a=new u({initialize:function(r,e){this.x=0,this.y=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0):(e===void 0&&(e=r),this.x=r||0,this.y=e||0)},clone:function(){return new a(this.x,this.y)},copy:function(s){return this.x=s.x||0,this.y=s.y||0,this},setFromObject:function(s){return this.x=s.x||0,this.y=s.y||0,this},set:function(s,r){return r===void 0&&(r=s),this.x=s,this.y=r,this},setTo:function(s,r){return this.set(s,r)},setToPolar:function(s,r){return r==null&&(r=1),this.x=Math.cos(s)*r,this.y=Math.sin(s)*r,this},equals:function(s){return this.x===s.x&&this.y===s.y},fuzzyEquals:function(s,r){return c(this.x,s.x,r)&&c(this.y,s.y,r)},angle:function(){var s=Math.atan2(this.y,this.x);return s<0&&(s+=2*Math.PI),s},setAngle:function(s){return this.setToPolar(s,this.length())},add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.x-=s.x,this.y-=s.y,this},multiply:function(s){return this.x*=s.x,this.y*=s.y,this},scale:function(s){return isFinite(s)?(this.x*=s,this.y*=s):(this.x=0,this.y=0),this},divide:function(s){return this.x/=s.x,this.y/=s.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(s){var r=s.x-this.x,e=s.y-this.y;return Math.sqrt(r*r+e*e)},distanceSq:function(s){var r=s.x-this.x,e=s.y-this.y;return r*r+e*e},length:function(){var s=this.x,r=this.y;return Math.sqrt(s*s+r*r)},setLength:function(s){return this.normalize().scale(s)},lengthSq:function(){var s=this.x,r=this.y;return s*s+r*r},normalize:function(){var s=this.x,r=this.y,e=s*s+r*r;return e>0&&(e=1/Math.sqrt(e),this.x=s*e,this.y=r*e),this},normalizeRightHand:function(){var s=this.x;return this.x=this.y*-1,this.y=s,this},normalizeLeftHand:function(){var s=this.x;return this.x=this.y,this.y=s*-1,this},dot:function(s){return this.x*s.x+this.y*s.y},cross:function(s){return this.x*s.y-this.y*s.x},lerp:function(s,r){r===void 0&&(r=0);var e=this.x,i=this.y;return this.x=e+r*(s.x-e),this.y=i+r*(s.y-i),this},transformMat3:function(s){var r=this.x,e=this.y,i=s.val;return this.x=i[0]*r+i[3]*e+i[6],this.y=i[1]*r+i[4]*e+i[7],this},transformMat4:function(s){var r=this.x,e=this.y,i=s.val;return this.x=i[0]*r+i[4]*e+i[12],this.y=i[1]*r+i[5]*e+i[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(s){var r=this.length();return r&&r>s&&this.scale(s/r),this},reflect:function(s){return s=s.clone().normalize(),this.subtract(s.scale(2*this.dot(s)))},mirror:function(s){return this.reflect(s).negate()},rotate:function(s){var r=Math.cos(s),e=Math.sin(s);return this.set(r*this.x-e*this.y,e*this.x+r*this.y)},project:function(s){var r=this.dot(s)/s.dot(s);return this.copy(s).scale(r)}});a.ZERO=new a,a.RIGHT=new a(1,0),a.LEFT=new a(-1,0),a.UP=new a(0,-1),a.DOWN=new a(0,1),a.ONE=new a(1,1),v.exports=a},70015:(v,y,t)=>{var u=t(56694),c=new u({initialize:function(s,r,e){this.x=0,this.y=0,this.z=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0):(this.x=s||0,this.y=r||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this.z=Math.min(this.z,a.z),this},max:function(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this.z=Math.max(this.z,a.z),this},clone:function(){return new c(this.x,this.y,this.z)},addVectors:function(a,s){return this.x=a.x+s.x,this.y=a.y+s.y,this.z=a.z+s.z,this},crossVectors:function(a,s){var r=a.x,e=a.y,i=a.z,l=s.x,n=s.y,o=s.z;return this.x=e*o-i*n,this.y=i*l-r*o,this.z=r*n-e*l,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this},set:function(a,s,r){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=s||0,this.z=r||0),this},setFromMatrixPosition:function(a){return this.fromArray(a.val,12)},setFromMatrixColumn:function(a,s){return this.fromArray(a.val,s*4)},fromArray:function(a,s){return s===void 0&&(s=0),this.x=a[s],this.y=a[s+1],this.z=a[s+2],this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this},addScalar:function(a){return this.x+=a,this.y+=a,this.z+=a,this},addScale:function(a,s){return this.x+=a.x*s,this.y+=a.y*s,this.z+=a.z*s||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):(this.x=0,this.y=0,this.z=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(a){var s=a.x-this.x,r=a.y-this.y,e=a.z-this.z||0;return Math.sqrt(s*s+r*r+e*e)},distanceSq:function(a){var s=a.x-this.x,r=a.y-this.y,e=a.z-this.z||0;return s*s+r*r+e*e},length:function(){var a=this.x,s=this.y,r=this.z;return Math.sqrt(a*a+s*s+r*r)},lengthSq:function(){var a=this.x,s=this.y,r=this.z;return a*a+s*s+r*r},normalize:function(){var a=this.x,s=this.y,r=this.z,e=a*a+s*s+r*r;return e>0&&(e=1/Math.sqrt(e),this.x=a*e,this.y=s*e,this.z=r*e),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},cross:function(a){var s=this.x,r=this.y,e=this.z,i=a.x,l=a.y,n=a.z;return this.x=r*n-e*l,this.y=e*i-s*n,this.z=s*l-r*i,this},lerp:function(a,s){s===void 0&&(s=0);var r=this.x,e=this.y,i=this.z;return this.x=r+s*(a.x-r),this.y=e+s*(a.y-e),this.z=i+s*(a.z-i),this},applyMatrix3:function(a){var s=this.x,r=this.y,e=this.z,i=a.val;return this.x=i[0]*s+i[3]*r+i[6]*e,this.y=i[1]*s+i[4]*r+i[7]*e,this.z=i[2]*s+i[5]*r+i[8]*e,this},applyMatrix4:function(a){var s=this.x,r=this.y,e=this.z,i=a.val,l=1/(i[3]*s+i[7]*r+i[11]*e+i[15]);return this.x=(i[0]*s+i[4]*r+i[8]*e+i[12])*l,this.y=(i[1]*s+i[5]*r+i[9]*e+i[13])*l,this.z=(i[2]*s+i[6]*r+i[10]*e+i[14])*l,this},transformMat3:function(a){var s=this.x,r=this.y,e=this.z,i=a.val;return this.x=s*i[0]+r*i[3]+e*i[6],this.y=s*i[1]+r*i[4]+e*i[7],this.z=s*i[2]+r*i[5]+e*i[8],this},transformMat4:function(a){var s=this.x,r=this.y,e=this.z,i=a.val;return this.x=i[0]*s+i[4]*r+i[8]*e+i[12],this.y=i[1]*s+i[5]*r+i[9]*e+i[13],this.z=i[2]*s+i[6]*r+i[10]*e+i[14],this},transformCoordinates:function(a){var s=this.x,r=this.y,e=this.z,i=a.val,l=s*i[0]+r*i[4]+e*i[8]+i[12],n=s*i[1]+r*i[5]+e*i[9]+i[13],o=s*i[2]+r*i[6]+e*i[10]+i[14],f=s*i[3]+r*i[7]+e*i[11]+i[15];return this.x=l/f,this.y=n/f,this.z=o/f,this},transformQuat:function(a){var s=this.x,r=this.y,e=this.z,i=a.x,l=a.y,n=a.z,o=a.w,f=o*s+l*e-n*r,h=o*r+n*s-i*e,d=o*e+i*r-l*s,p=-i*s-l*r-n*e;return this.x=f*o+p*-i+h*-n-d*-l,this.y=h*o+p*-l+d*-i-f*-n,this.z=d*o+p*-n+f*-l-h*-i,this},project:function(a){var s=this.x,r=this.y,e=this.z,i=a.val,l=i[0],n=i[1],o=i[2],f=i[3],h=i[4],d=i[5],p=i[6],x=i[7],S=i[8],T=i[9],C=i[10],E=i[11],P=i[12],M=i[13],L=i[14],R=i[15],w=1/(s*f+r*x+e*E+R);return this.x=(s*l+r*h+e*S+P)*w,this.y=(s*n+r*d+e*T+M)*w,this.z=(s*o+r*p+e*C+L)*w,this},projectViewMatrix:function(a,s){return this.applyMatrix4(a).applyMatrix4(s)},unprojectViewMatrix:function(a,s){return this.applyMatrix4(a).applyMatrix4(s)},unproject:function(a,s){var r=a.x,e=a.y,i=a.z,l=a.w,n=this.x-r,o=l-this.y-1-e,f=this.z;return this.x=2*n/i-1,this.y=2*o/l-1,this.z=2*f-1,this.project(s)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});c.ZERO=new c,c.RIGHT=new c(1,0,0),c.LEFT=new c(-1,0,0),c.UP=new c(0,-1,0),c.DOWN=new c(0,1,0),c.FORWARD=new c(0,0,1),c.BACK=new c(0,0,-1),c.ONE=new c(1,1,1),v.exports=c},51729:(v,y,t)=>{var u=t(56694),c=new u({initialize:function(s,r,e,i){this.x=0,this.y=0,this.z=0,this.w=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0,this.w=s.w||0):(this.x=s||0,this.y=r||0,this.z=e||0,this.w=i||0)},clone:function(){return new c(this.x,this.y,this.z,this.w)},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this.w=a.w||0,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z&&this.w===a.w},set:function(a,s,r,e){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=s||0,this.z=r||0,this.w=e||0),this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this.w+=a.w||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this.w-=a.w||0,this},scale:function(a){return this.x*=a,this.y*=a,this.z*=a,this.w*=a,this},length:function(){var a=this.x,s=this.y,r=this.z,e=this.w;return Math.sqrt(a*a+s*s+r*r+e*e)},lengthSq:function(){var a=this.x,s=this.y,r=this.z,e=this.w;return a*a+s*s+r*r+e*e},normalize:function(){var a=this.x,s=this.y,r=this.z,e=this.w,i=a*a+s*s+r*r+e*e;return i>0&&(i=1/Math.sqrt(i),this.x=a*i,this.y=s*i,this.z=r*i,this.w=e*i),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lerp:function(a,s){s===void 0&&(s=0);var r=this.x,e=this.y,i=this.z,l=this.w;return this.x=r+s*(a.x-r),this.y=e+s*(a.y-e),this.z=i+s*(a.z-i),this.w=l+s*(a.w-l),this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this.w*=a.w||1,this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this.w/=a.w||1,this},distance:function(a){var s=a.x-this.x,r=a.y-this.y,e=a.z-this.z||0,i=a.w-this.w||0;return Math.sqrt(s*s+r*r+e*e+i*i)},distanceSq:function(a){var s=a.x-this.x,r=a.y-this.y,e=a.z-this.z||0,i=a.w-this.w||0;return s*s+r*r+e*e+i*i},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(a){var s=this.x,r=this.y,e=this.z,i=this.w,l=a.val;return this.x=l[0]*s+l[4]*r+l[8]*e+l[12]*i,this.y=l[1]*s+l[5]*r+l[9]*e+l[13]*i,this.z=l[2]*s+l[6]*r+l[10]*e+l[14]*i,this.w=l[3]*s+l[7]*r+l[11]*e+l[15]*i,this},transformQuat:function(a){var s=this.x,r=this.y,e=this.z,i=a.x,l=a.y,n=a.z,o=a.w,f=o*s+l*e-n*r,h=o*r+n*s-i*e,d=o*e+i*r-l*s,p=-i*s-l*r-n*e;return this.x=f*o+p*-i+h*-n-d*-l,this.y=h*o+p*-l+d*-i-f*-n,this.z=d*o+p*-n+f*-l-h*-i,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});c.prototype.sub=c.prototype.subtract,c.prototype.mul=c.prototype.multiply,c.prototype.div=c.prototype.divide,c.prototype.dist=c.prototype.distance,c.prototype.distSq=c.prototype.distanceSq,c.prototype.len=c.prototype.length,c.prototype.lenSq=c.prototype.lengthSq,v.exports=c},9557:v=>{var y=function(t,u,c){return Math.abs(t-u)<=c};v.exports=y},1071:v=>{var y=function(t,u,c){if(t>=u&&t<=c)return t;var a=c-u;return u+((t-u)%a+a)%a};v.exports=y},90447:v=>{var y=function(t,u,c,a){return Math.atan2(a-u,c-t)};v.exports=y},94240:v=>{var y=function(t,u){return Math.atan2(u.y-t.y,u.x-t.x)};v.exports=y},84066:v=>{var y=function(t,u){return Math.atan2(u.x-t.x,u.y-t.y)};v.exports=y},9678:v=>{var y=function(t,u,c,a){return Math.atan2(c-t,a-u)};v.exports=y},76861:(v,y,t)=>{var u=t(83392),c=function(a){return a>Math.PI&&(a-=u.PI2),Math.abs(((a+u.TAU)%u.PI2-u.PI2)%u.PI2)};v.exports=c},37570:v=>{var y=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};v.exports=y},87597:(v,y,t)=>{var u=t(61616),c=function(){return u(-Math.PI,Math.PI)};v.exports=c},74493:(v,y,t)=>{var u=t(61616),c=function(){return u(-180,180)};v.exports=c},19049:(v,y,t)=>{var u=t(37570),c=function(a){return u(a+Math.PI)};v.exports=c},90612:(v,y,t)=>{var u=t(83392),c=function(a,s,r){return r===void 0&&(r=.05),a===s||(Math.abs(s-a)<=r||Math.abs(s-a)>=u.PI2-r?a=s:(Math.abs(s-a)>Math.PI&&(s<a?s+=u.PI2:s-=u.PI2),s>a?a+=r:s<a&&(a-=r))),a};v.exports=c},93954:v=>{var y=function(t,u){var c=u-t;if(c===0)return 0;var a=Math.floor((c- -180)/360);return c-a*360};v.exports=y},35786:(v,y,t)=>{var u=t(1071),c=function(a){return u(a,-Math.PI,Math.PI)};v.exports=c},62138:(v,y,t)=>{var u=t(1071),c=function(a){return u(a,-180,180)};v.exports=c},22153:(v,y,t)=>{v.exports={Between:t(90447),BetweenPoints:t(94240),BetweenPointsY:t(84066),BetweenY:t(9678),CounterClockwise:t(76861),Normalize:t(37570),Random:t(87597),RandomDegrees:t(74493),Reverse:t(19049),RotateTo:t(90612),ShortestBetween:t(93954),Wrap:t(35786),WrapDegrees:t(62138)}},83392:v=>{var y={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};v.exports=y},53996:v=>{var y=function(t,u,c,a){var s=t-c,r=u-a;return Math.sqrt(s*s+r*r)};v.exports=y},92951:v=>{var y=function(t,u){var c=t.x-u.x,a=t.y-u.y;return Math.sqrt(c*c+a*a)};v.exports=y},12161:v=>{var y=function(t,u){var c=t.x-u.x,a=t.y-u.y;return c*c+a*a};v.exports=y},38057:v=>{var y=function(t,u,c,a){return Math.max(Math.abs(t-c),Math.abs(u-a))};v.exports=y},33297:v=>{var y=function(t,u,c,a,s){return s===void 0&&(s=2),Math.sqrt(Math.pow(c-t,s)+Math.pow(a-u,s))};v.exports=y},90366:v=>{var y=function(t,u,c,a){return Math.abs(t-c)+Math.abs(u-a)};v.exports=y},35032:v=>{var y=function(t,u,c,a){var s=t-c,r=u-a;return s*s+r*r};v.exports=y},10130:(v,y,t)=>{v.exports={Between:t(53996),BetweenPoints:t(92951),BetweenPointsSquared:t(12161),Chebyshev:t(38057),Power:t(33297),Snake:t(90366),Squared:t(35032)}},35060:(v,y,t)=>{var u=t(25265),c=t(57428),a=t(73214),s=t(71778),r=t(36468),e=t(88258),i=t(52910),l=t(67799),n=t(74083),o=t(92284),f=t(28035),h=t(8754);v.exports={Power0:i,Power1:l.Out,Power2:s.Out,Power3:n.Out,Power4:o.Out,Linear:i,Quad:l.Out,Cubic:s.Out,Quart:n.Out,Quint:o.Out,Sine:f.Out,Expo:e.Out,Circ:a.Out,Elastic:r.Out,Back:u.Out,Bounce:c.Out,Stepped:h,"Quad.easeIn":l.In,"Cubic.easeIn":s.In,"Quart.easeIn":n.In,"Quint.easeIn":o.In,"Sine.easeIn":f.In,"Expo.easeIn":e.In,"Circ.easeIn":a.In,"Elastic.easeIn":r.In,"Back.easeIn":u.In,"Bounce.easeIn":c.In,"Quad.easeOut":l.Out,"Cubic.easeOut":s.Out,"Quart.easeOut":n.Out,"Quint.easeOut":o.Out,"Sine.easeOut":f.Out,"Expo.easeOut":e.Out,"Circ.easeOut":a.Out,"Elastic.easeOut":r.Out,"Back.easeOut":u.Out,"Bounce.easeOut":c.Out,"Quad.easeInOut":l.InOut,"Cubic.easeInOut":s.InOut,"Quart.easeInOut":n.InOut,"Quint.easeInOut":o.InOut,"Sine.easeInOut":f.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":a.InOut,"Elastic.easeInOut":r.InOut,"Back.easeInOut":u.InOut,"Bounce.easeInOut":c.InOut}},25860:v=>{var y=function(t,u){return u===void 0&&(u=1.70158),t*t*((u+1)*t-u)};v.exports=y},45264:v=>{var y=function(t,u){u===void 0&&(u=1.70158);var c=u*1.525;return(t*=2)<1?.5*(t*t*((c+1)*t-c)):.5*((t-=2)*t*((c+1)*t+c)+2)};v.exports=y},36699:v=>{var y=function(t,u){return u===void 0&&(u=1.70158),--t*t*((u+1)*t+u)+1};v.exports=y},25265:(v,y,t)=>{v.exports={In:t(25860),Out:t(36699),InOut:t(45264)}},62191:v=>{var y=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};v.exports=y},24799:v=>{var y=function(t){var u=!1;return t<.5?(t=1-t*2,u=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,u?(1-t)*.5:t*.5+.5};v.exports=y},60819:v=>{var y=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};v.exports=y},57428:(v,y,t)=>{v.exports={In:t(62191),Out:t(60819),InOut:t(24799)}},86855:v=>{var y=function(t){return 1-Math.sqrt(1-t*t)};v.exports=y},7280:v=>{var y=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};v.exports=y},18058:v=>{var y=function(t){return Math.sqrt(1- --t*t)};v.exports=y},73214:(v,y,t)=>{v.exports={In:t(86855),Out:t(18058),InOut:t(7280)}},91532:v=>{var y=function(t){return t*t*t};v.exports=y},63180:v=>{var y=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};v.exports=y},16518:v=>{var y=function(t){return--t*t*t+1};v.exports=y},71778:(v,y,t)=>{v.exports={In:t(91532),Out:t(16518),InOut:t(63180)}},24729:v=>{var y=function(t,u,c){if(u===void 0&&(u=.1),c===void 0&&(c=.1),t===0)return 0;if(t===1)return 1;var a=c/4;return u<1?u=1:a=c*Math.asin(1/u)/(2*Math.PI),-(u*Math.pow(2,10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/c))};v.exports=y},50325:v=>{var y=function(t,u,c){if(u===void 0&&(u=.1),c===void 0&&(c=.1),t===0)return 0;if(t===1)return 1;var a=c/4;return u<1?u=1:a=c*Math.asin(1/u)/(2*Math.PI),(t*=2)<1?-.5*(u*Math.pow(2,10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/c)):u*Math.pow(2,-10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/c)*.5+1};v.exports=y},84074:v=>{var y=function(t,u,c){if(u===void 0&&(u=.1),c===void 0&&(c=.1),t===0)return 0;if(t===1)return 1;var a=c/4;return u<1?u=1:a=c*Math.asin(1/u)/(2*Math.PI),u*Math.pow(2,-10*t)*Math.sin((t-a)*(2*Math.PI)/c)+1};v.exports=y},36468:(v,y,t)=>{v.exports={In:t(24729),Out:t(84074),InOut:t(50325)}},95638:v=>{var y=function(t){return Math.pow(2,10*(t-1))-.001};v.exports=y},10357:v=>{var y=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};v.exports=y},14894:v=>{var y=function(t){return 1-Math.pow(2,-10*t)};v.exports=y},88258:(v,y,t)=>{v.exports={In:t(95638),Out:t(14894),InOut:t(10357)}},33063:(v,y,t)=>{v.exports={Back:t(25265),Bounce:t(57428),Circular:t(73214),Cubic:t(71778),Elastic:t(36468),Expo:t(88258),Linear:t(52910),Quadratic:t(67799),Quartic:t(74083),Quintic:t(92284),Sine:t(28035),Stepped:t(8754)}},43927:v=>{var y=function(t){return t};v.exports=y},52910:(v,y,t)=>{v.exports=t(43927)},77471:v=>{var y=function(t){return t*t};v.exports=y},83863:v=>{var y=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};v.exports=y},44383:v=>{var y=function(t){return t*(2-t)};v.exports=y},67799:(v,y,t)=>{v.exports={In:t(77471),Out:t(44383),InOut:t(83863)}},48311:v=>{var y=function(t){return t*t*t*t};v.exports=y},55248:v=>{var y=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};v.exports=y},23135:v=>{var y=function(t){return 1- --t*t*t*t};v.exports=y},74083:(v,y,t)=>{v.exports={In:t(48311),Out:t(23135),InOut:t(55248)}},7313:v=>{var y=function(t){return t*t*t*t*t};v.exports=y},98759:v=>{var y=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};v.exports=y},26670:v=>{var y=function(t){return--t*t*t*t*t+1};v.exports=y},92284:(v,y,t)=>{v.exports={In:t(7313),Out:t(26670),InOut:t(98759)}},52929:v=>{var y=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};v.exports=y},66333:v=>{var y=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};v.exports=y},37255:v=>{var y=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};v.exports=y},28035:(v,y,t)=>{v.exports={In:t(52929),Out:t(37255),InOut:t(66333)}},52770:v=>{var y=function(t,u){return u===void 0&&(u=1),t<=0?0:t>=1?1:((u*t|0)+1)*(1/u)};v.exports=y},8754:(v,y,t)=>{v.exports=t(52770)},17247:v=>{var y=function(t,u){return u===void 0&&(u=1e-4),Math.ceil(t-u)};v.exports=y},88456:v=>{var y=function(t,u,c){return c===void 0&&(c=1e-4),Math.abs(t-u)<c};v.exports=y},61824:v=>{var y=function(t,u){return u===void 0&&(u=1e-4),Math.floor(t+u)};v.exports=y},41935:v=>{var y=function(t,u,c){return c===void 0&&(c=1e-4),t>u-c};v.exports=y},54726:v=>{var y=function(t,u,c){return c===void 0&&(c=1e-4),t<u+c};v.exports=y},52778:(v,y,t)=>{v.exports={Ceil:t(17247),Equal:t(88456),Floor:t(61824),GreaterThan:t(41935),LessThan:t(54726)}},5923:(v,y,t)=>{var u=t(83392),c=t(98611),a={Angle:t(22153),Distance:t(10130),Easing:t(33063),Fuzzy:t(52778),Interpolation:t(48528),Pow2:t(73773),Snap:t(23679),RandomDataGenerator:t(81429),Average:t(26042),Bernstein:t(22824),Between:t(17489),CatmullRom:t(14976),CeilTo:t(89129),Clamp:t(82897),DegToRad:t(75606),Difference:t(767),Euler:t(9849),Factorial:t(8034),FloatBetween:t(61616),FloorTo:t(60679),FromPercent:t(91806),GetSpeed:t(79366),IsEven:t(43776),IsEvenStrict:t(58442),Linear:t(42798),LinearXY:t(61072),MaxAdd:t(69635),Median:t(37394),MinSub:t(17259),Percent:t(61820),RadToDeg:t(23701),RandomXY:t(16906),RandomXYZ:t(52417),RandomXYZW:t(17915),Rotate:t(52257),RotateAround:t(2386),RotateAroundDistance:t(72395),RotateTo:t(41061),RoundAwayFromZero:t(67233),RoundTo:t(64333),SinCosTableGenerator:t(59533),SmootherStep:t(87736),SmoothStep:t(5514),ToXY:t(55805),TransformXY:t(64462),Within:t(9557),Wrap:t(1071),Vector2:t(93736),Vector3:t(70015),Vector4:t(51729),Matrix3:t(5341),Matrix4:t(16650),Quaternion:t(75003),RotateVec3:t(93709)};a=c(!1,a,u),v.exports=a},63210:(v,y,t)=>{var u=t(22824),c=function(a,s){for(var r=0,e=a.length-1,i=0;i<=e;i++)r+=Math.pow(1-s,e-i)*Math.pow(s,i)*a[i]*u(e,i);return r};v.exports=c},88332:(v,y,t)=>{var u=t(14976),c=function(a,s){var r=a.length-1,e=r*s,i=Math.floor(e);return a[0]===a[r]?(s<0&&(i=Math.floor(e=r*(1+s))),u(e-i,a[(i-1+r)%r],a[i],a[(i+1)%r],a[(i+2)%r])):s<0?a[0]-(u(-e,a[0],a[0],a[1],a[1])-a[0]):s>1?a[r]-(u(e-r,a[r],a[r],a[r-1],a[r-1])-a[r]):u(e-i,a[i?i-1:0],a[i],a[r<i+1?r:i+1],a[r<i+2?r:i+2])};v.exports=c},34631:v=>{function y(s,r){var e=1-s;return e*e*e*r}function t(s,r){var e=1-s;return 3*e*e*s*r}function u(s,r){return 3*(1-s)*s*s*r}function c(s,r){return s*s*s*r}var a=function(s,r,e,i,l){return y(s,r)+t(s,e)+u(s,i)+c(s,l)};v.exports=a},47614:(v,y,t)=>{var u=t(42798),c=function(a,s){var r=a.length-1,e=r*s,i=Math.floor(e);return s<0?u(a[0],a[1],e):s>1?u(a[r],a[r-1],r-e):u(a[i],a[i+1>r?r:i+1],e-i)};v.exports=c},16252:v=>{function y(a,s){var r=1-a;return r*r*s}function t(a,s){return 2*(1-a)*a*s}function u(a,s){return a*a*s}var c=function(a,s,r,e){return y(a,s)+t(a,r)+u(a,e)};v.exports=c},44521:(v,y,t)=>{var u=t(5514),c=function(a,s,r){return s+(r-s)*u(a,0,1)};v.exports=c},45507:(v,y,t)=>{var u=t(87736),c=function(a,s,r){return s+(r-s)*u(a,0,1)};v.exports=c},48528:(v,y,t)=>{v.exports={Bezier:t(63210),CatmullRom:t(88332),CubicBezier:t(34631),Linear:t(47614),QuadraticBezier:t(16252),SmoothStep:t(44521),SmootherStep:t(45507)}},3504:v=>{var y=function(t){var u=Math.log(t)/.6931471805599453;return 1<<Math.ceil(u)};v.exports=y},28621:v=>{var y=function(t,u){return t>0&&(t&t-1)===0&&u>0&&(u&u-1)===0};v.exports=y},2018:v=>{var y=function(t){return t>0&&(t&t-1)===0};v.exports=y},73773:(v,y,t)=>{v.exports={GetNext:t(3504),IsSize:t(28621),IsValue:t(2018)}},81429:(v,y,t)=>{var u=t(56694),c=new u({initialize:function(s){s===void 0&&(s=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],s&&this.init(s)},rnd:function(){var a=2091639*this.s0+this.c*23283064365386963e-26;return this.c=a|0,this.s0=this.s1,this.s1=this.s2,this.s2=a-this.c,this.s2},hash:function(a){var s,r=this.n;a=a.toString();for(var e=0;e<a.length;e++)r+=a.charCodeAt(e),s=.02519603282416938*r,r=s>>>0,s-=r,s*=r,r=s>>>0,s-=r,r+=s*4294967296;return this.n=r,(r>>>0)*23283064365386963e-26},init:function(a){typeof a=="string"?this.state(a):this.sow(a)},sow:function(a){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!a)for(var s=0;s<a.length&&a[s]!=null;s++){var r=a[s];this.s0-=this.hash(r),this.s0+=~~(this.s0<0),this.s1-=this.hash(r),this.s1+=~~(this.s1<0),this.s2-=this.hash(r),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(a,s){return Math.floor(this.realInRange(0,s-a+1)+a)},between:function(a,s){return Math.floor(this.realInRange(0,s-a+1)+a)},realInRange:function(a,s){return this.frac()*(s-a)+a},normal:function(){return 1-2*this.frac()},uuid:function(){var a="",s="";for(s=a="";a++<36;s+=~a%5|a*3&4?(a^15?8^this.frac()*(a^20?16:4):4).toString(16):"-");return s},pick:function(a){return a[this.integerInRange(0,a.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(a){return a[~~(Math.pow(this.frac(),2)*(a.length-1)+.5)]},timestamp:function(a,s){return this.realInRange(a||9466848e5,s||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(a){return typeof a=="string"&&a.match(/^!rnd/)&&(a=a.split(","),this.c=parseFloat(a[1]),this.s0=parseFloat(a[2]),this.s1=parseFloat(a[3]),this.s2=parseFloat(a[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(a){for(var s=a.length-1,r=s;r>0;r--){var e=Math.floor(this.frac()*(r+1)),i=a[e];a[e]=a[r],a[r]=i}return a}});v.exports=c},82127:v=>{var y=function(t,u,c,a){return c===void 0&&(c=0),u===0?t:(t-=c,t=u*Math.ceil(t/u),a?(c+t)/u:c+t)};v.exports=y},84314:v=>{var y=function(t,u,c,a){return c===void 0&&(c=0),u===0?t:(t-=c,t=u*Math.floor(t/u),a?(c+t)/u:c+t)};v.exports=y},88462:v=>{var y=function(t,u,c,a){return c===void 0&&(c=0),u===0?t:(t-=c,t=u*Math.round(t/u),a?(c+t)/u:c+t)};v.exports=y},23679:(v,y,t)=>{v.exports={Ceil:t(82127),Floor:t(84314),To:t(88462)}},92491:(v,y,t)=>{t(75205);var u=t(86459),c=t(98611),a={Actions:t(83979),Animations:t(13517),BlendModes:t(95723),Cache:t(45820),Cameras:t(44143),Core:t(80293),Class:t(56694),Create:t(84106),Curves:t(73962),Data:t(1999),Display:t(24816),DOM:t(3590),Events:t(95146),FX:t(96910),Game:t(15213),GameObjects:t(48013),Geom:t(84068),Input:t(20873),Loader:t(95695),Math:t(5923),Physics:t(53954),Plugins:t(45615),Renderer:t(42069),Scale:t(86754),ScaleModes:t(27394),Scene:t(87157),Scenes:t(20436),Structs:t(20010),Textures:t(87499),Tilemaps:t(52678),Time:t(97121),Tweens:t(75193),Utils:t(22178)};a.Sound=t(56751),a=c(!1,a,u),v.exports=a,t.g.Phaser=a},62832:(v,y,t)=>{var u=t(56694),c=t(7864),a=t(1539),s=new u({Extends:a,Mixins:[c.Acceleration,c.Angular,c.Bounce,c.Debug,c.Drag,c.Enable,c.Friction,c.Gravity,c.Immovable,c.Mass,c.Pushable,c.Size,c.Velocity],initialize:function(e,i,l,n,o){a.call(this,e,i,l,n,o),this.body=null}});v.exports=s},66150:(v,y,t)=>{var u=t(56694),c=t(75606),a=t(53996),s=t(35032),r=t(99523),e=t(72632),i=t(30657),l=t(2732),n=t(15147),o=t(91963),f=t(7599),h=t(93736),d=t(85233),p=new u({initialize:function(S){this.scene=S,this.systems=S.sys,this.config=this.getConfig(),this.world,this.add,S.sys.events.once(f.BOOT,this.boot,this),S.sys.events.on(f.START,this.start,this)},boot:function(){this.world=new d(this.scene,this.config),this.add=new r(this.world),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new d(this.scene,this.config),this.add=new r(this.world));var x=this.systems.events;e(this.config,"customUpdate",!1)||x.on(f.UPDATE,this.world.update,this.world),x.on(f.POST_UPDATE,this.world.postUpdate,this.world),x.once(f.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(f.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(f.UPDATE,this.world.update,this.world)},getConfig:function(){var x=this.systems.game.config.physics,S=this.systems.settings.physics,T=i(e(S,"arcade",{}),e(x,"arcade",{}));return T},overlap:function(x,S,T,C,E){return T===void 0&&(T=null),C===void 0&&(C=null),E===void 0&&(E=T),this.world.collideObjects(x,S,T,C,E,!0)},collide:function(x,S,T,C,E){return T===void 0&&(T=null),C===void 0&&(C=null),E===void 0&&(E=T),this.world.collideObjects(x,S,T,C,E,!1)},collideTiles:function(x,S,T,C,E){return this.world.collideTiles(x,S,T,C,E)},overlapTiles:function(x,S,T,C,E){return this.world.overlapTiles(x,S,T,C,E)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(x,S,T,C,E,P){C===void 0&&(C=60);var M=Math.atan2(T-x.y,S-x.x);return x.body.acceleration.setToPolar(M,C),E!==void 0&&P!==void 0&&x.body.maxVelocity.set(E,P),M},accelerateToObject:function(x,S,T,C,E){return this.accelerateTo(x,S.x,S.y,T,C,E)},closest:function(x,S){S||(S=this.world.bodies.entries);for(var T=Number.MAX_VALUE,C=null,E=x.x,P=x.y,M=S.length,L=0;L<M;L++){var R=S[L],w=R.body||R;if(!(x===R||x===w||x===w.gameObject||x===w.center)){var D=s(E,P,w.center.x,w.center.y);D<T&&(C=R,T=D)}}return C},furthest:function(x,S){S||(S=this.world.bodies.entries);for(var T=-1,C=null,E=x.x,P=x.y,M=S.length,L=0;L<M;L++){var R=S[L],w=R.body||R;if(!(x===R||x===w||x===w.gameObject||x===w.center)){var D=s(E,P,w.center.x,w.center.y);D>T&&(C=R,T=D)}}return C},moveTo:function(x,S,T,C,E){C===void 0&&(C=60),E===void 0&&(E=0);var P=Math.atan2(T-x.y,S-x.x);return E>0&&(C=a(x.x,x.y,S,T)/(E/1e3)),x.body.velocity.setToPolar(P,C),P},moveToObject:function(x,S,T,C){return this.moveTo(x,S.x,S.y,T,C)},velocityFromAngle:function(x,S,T){return S===void 0&&(S=60),T===void 0&&(T=new h),T.setToPolar(c(x),S)},velocityFromRotation:function(x,S,T){return S===void 0&&(S=60),T===void 0&&(T=new h),T.setToPolar(x,S)},overlapRect:function(x,S,T,C,E,P){return n(this.world,x,S,T,C,E,P)},overlapCirc:function(x,S,T,C,E){return l(this.world,x,S,T,C,E)},shutdown:function(){if(this.world){var x=this.systems.events;x.off(f.UPDATE,this.world.update,this.world),x.off(f.POST_UPDATE,this.world.postUpdate,this.world),x.off(f.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});o.register("ArcadePhysics",p,"arcadePhysics"),v.exports=p},25084:(v,y,t)=>{var u=t(56694),c=t(7864),a=t(13747),s=new u({Extends:a,Mixins:[c.Acceleration,c.Angular,c.Bounce,c.Debug,c.Drag,c.Enable,c.Friction,c.Gravity,c.Immovable,c.Mass,c.Pushable,c.Size,c.Velocity],initialize:function(e,i,l,n,o){a.call(this,e,i,l,n,o),this.body=null}});v.exports=s},97602:(v,y,t)=>{var u=t(56694),c=t(47401),a=t(27037),s=t(23701),r=t(74118),e=t(94287),i=t(93736),l=new u({initialize:function(o,f){var h=64,d=64,p={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},x=f!==void 0;x&&f.displayWidth&&(h=f.displayWidth,d=f.displayHeight),x||(f=p),this.world=o,this.gameObject=x?f:void 0,this.isBody=!0,this.transform={x:f.x,y:f.y,rotation:f.angle,scaleX:f.scaleX,scaleY:f.scaleY,displayOriginX:f.displayOriginX,displayOriginY:f.displayOriginY},this.debugShowBody=o.defaults.debugShowBody,this.debugShowVelocity=o.defaults.debugShowVelocity,this.debugBodyColor=o.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new i,this.position=new i(f.x-f.scaleX*f.displayOriginX,f.y-f.scaleY*f.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=f.angle,this.preRotation=f.angle,this.width=h,this.height=d,this.sourceWidth=h,this.sourceHeight=d,f.frame&&(this.sourceWidth=f.frame.realWidth,this.sourceHeight=f.frame.realHeight),this.halfWidth=Math.abs(h/2),this.halfHeight=Math.abs(d/2),this.center=new i(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new i,this.newVelocity=new i,this.deltaMax=new i,this.acceleration=new i,this.allowDrag=!0,this.drag=new i,this.allowGravity=!0,this.gravity=new i,this.bounce=new i,this.worldBounce=null,this.customBoundsRectangle=o.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new i(1e4,1e4),this.maxSpeed=-1,this.friction=new i(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=c.FACING_NONE,this.immovable=!1,this.pushable=!0,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=c.DYNAMIC_BODY,this._sx=f.scaleX,this._sy=f.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new r},updateBounds:function(){var n=this.gameObject,o=this.transform;if(n.parentContainer){var f=n.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);o.x=f.tx,o.y=f.ty,o.rotation=s(f.rotation),o.scaleX=f.scaleX,o.scaleY=f.scaleY,o.displayOriginX=n.displayOriginX,o.displayOriginY=n.displayOriginY}else o.x=n.x,o.y=n.y,o.rotation=n.angle,o.scaleX=n.scaleX,o.scaleY=n.scaleY,o.displayOriginX=n.displayOriginX,o.displayOriginY=n.displayOriginY;var h=!1;if(this.syncBounds){var d=n.getBounds(this._bounds);this.width=d.width,this.height=d.height,h=!0}else{var p=Math.abs(o.scaleX),x=Math.abs(o.scaleY);(this._sx!==p||this._sy!==x)&&(this.width=this.sourceWidth*p,this.height=this.sourceHeight*x,this._sx=p,this._sy=x,h=!0)}h&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var n=this.transform;this.position.x=n.x+n.scaleX*(this.offset.x-n.displayOriginX),this.position.y=n.y+n.scaleY*(this.offset.y-n.displayOriginY),this.updateCenter()},resetFlags:function(n){n===void 0&&(n=!1);var o=this.wasTouching,f=this.touching,h=this.blocked;n?(o.none=!0,o.up=!1,o.down=!1,o.left=!1,o.right=!1):(o.none=f.none,o.up=f.up,o.down=f.down,o.left=f.left,o.right=f.right),f.none=!0,f.up=!1,f.down=!1,f.left=!1,f.right=!1,h.none=!0,h.up=!1,h.down=!1,h.left=!1,h.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(n,o){n&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),n&&this.update(o)},update:function(n){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,n);var o=this.velocity.x,f=this.velocity.y;this.newVelocity.set(o*n,f*n),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(f,o),this.speed=Math.sqrt(o*o+f*f),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(a.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var n=this.position.x-this.prevFrame.x,o=this.position.y-this.prevFrame.y,f=this.gameObject;if(this.moves){var h=this.deltaMax.x,d=this.deltaMax.y;h!==0&&n!==0&&(n<0&&n<-h?n=-h:n>0&&n>h&&(n=h)),d!==0&&o!==0&&(o<0&&o<-d?o=-d:o>0&&o>d&&(o=d)),f&&(f.x+=n,f.y+=o)}n<0?this.facing=c.FACING_LEFT:n>0&&(this.facing=c.FACING_RIGHT),o<0?this.facing=c.FACING_UP:o>0&&(this.facing=c.FACING_DOWN),this.allowRotation&&f&&(f.angle+=this.deltaZ()),this._tx=n,this._ty=o},setBoundsRectangle:function(n){return this.customBoundsRectangle=n||this.world.bounds,this},checkWorldBounds:function(){var n=this.position,o=this.customBoundsRectangle,f=this.world.checkCollision,h=this.worldBounce?-this.worldBounce.x:-this.bounce.x,d=this.worldBounce?-this.worldBounce.y:-this.bounce.y,p=!1;return n.x<o.x&&f.left?(n.x=o.x,this.velocity.x*=h,this.blocked.left=!0,p=!0):this.right>o.right&&f.right&&(n.x=o.right-this.width,this.velocity.x*=h,this.blocked.right=!0,p=!0),n.y<o.y&&f.up?(n.y=o.y,this.velocity.y*=d,this.blocked.up=!0,p=!0):this.bottom>o.bottom&&f.down&&(n.y=o.bottom-this.height,this.velocity.y*=d,this.blocked.down=!0,p=!0),p&&(this.blocked.none=!1,this.updateCenter()),p},setOffset:function(n,o){return o===void 0&&(o=n),this.offset.set(n,o),this},setGameObject:function(n,o){return o===void 0&&(o=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=n,n.body&&(n.body=this),this.setSize(),this.world.add(this),this.enable=o,this},setSize:function(n,o,f){f===void 0&&(f=!0);var h=this.gameObject;if(h&&(!n&&h.frame&&(n=h.frame.realWidth),!o&&h.frame&&(o=h.frame.realHeight)),this.sourceWidth=n,this.sourceHeight=o,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),f&&h&&h.getCenter){var d=(h.width-n)/2,p=(h.height-o)/2;this.offset.set(d,p)}return this.isCircle=!1,this.radius=0,this},setCircle:function(n,o,f){return o===void 0&&(o=this.offset.x),f===void 0&&(f=this.offset.y),n>0?(this.isCircle=!0,this.radius=n,this.sourceWidth=n*2,this.sourceHeight=n*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(o,f),this.updateCenter()):this.isCircle=!1,this},reset:function(n,o){this.stop();var f=this.gameObject;f&&(f.setPosition(n,o),this.rotation=f.angle,this.preRotation=f.angle);var h=this.position;f&&f.getTopLeft?f.getTopLeft(h):h.set(n,o),this.prev.copy(h),this.prevFrame.copy(h),f&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(n){return n.x=this.x,n.y=this.y,n.right=this.right,n.bottom=this.bottom,n},hitTest:function(n,o){if(!this.isCircle)return e(this,n,o);if(this.radius>0&&n>=this.left&&n<=this.right&&o>=this.top&&o<=this.bottom){var f=(this.center.x-n)*(this.center.x-n),h=(this.center.y-o)*(this.center.y-o);return f+h<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(n){var o=this.position,f=o.x+this.halfWidth,h=o.y+this.halfHeight;this.debugShowBody&&(n.lineStyle(n.defaultStrokeWidth,this.debugBodyColor),this.isCircle?n.strokeCircle(f,h,this.width/2):(this.checkCollision.up&&n.lineBetween(o.x,o.y,o.x+this.width,o.y),this.checkCollision.right&&n.lineBetween(o.x+this.width,o.y,o.x+this.width,o.y+this.height),this.checkCollision.down&&n.lineBetween(o.x,o.y+this.height,o.x+this.width,o.y+this.height),this.checkCollision.left&&n.lineBetween(o.x,o.y,o.x,o.y+this.height))),this.debugShowVelocity&&(n.lineStyle(n.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),n.lineBetween(f,h,f+this.velocity.x/2,h+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(n,o,f,h){n===void 0&&(n=!0),this.collideWorldBounds=n;var d=o!==void 0,p=f!==void 0;return(d||p)&&(this.worldBounce||(this.worldBounce=new i),d&&(this.worldBounce.x=o),p&&(this.worldBounce.y=f)),h!==void 0&&(this.onWorldBounds=h),this},setVelocity:function(n,o){return this.velocity.set(n,o),n=this.velocity.x,o=this.velocity.y,this.speed=Math.sqrt(n*n+o*o),this},setVelocityX:function(n){return this.setVelocity(n,this.velocity.y)},setVelocityY:function(n){return this.setVelocity(this.velocity.x,n)},setMaxVelocity:function(n,o){return this.maxVelocity.set(n,o),this},setMaxVelocityX:function(n){return this.maxVelocity.x=n,this},setMaxVelocityY:function(n){return this.maxVelocity.y=n,this},setMaxSpeed:function(n){return this.maxSpeed=n,this},setBounce:function(n,o){return this.bounce.set(n,o),this},setBounceX:function(n){return this.bounce.x=n,this},setBounceY:function(n){return this.bounce.y=n,this},setAcceleration:function(n,o){return this.acceleration.set(n,o),this},setAccelerationX:function(n){return this.acceleration.x=n,this},setAccelerationY:function(n){return this.acceleration.y=n,this},setAllowDrag:function(n){return n===void 0&&(n=!0),this.allowDrag=n,this},setAllowGravity:function(n){return n===void 0&&(n=!0),this.allowGravity=n,this},setAllowRotation:function(n){return n===void 0&&(n=!0),this.allowRotation=n,this},setDrag:function(n,o){return this.drag.set(n,o),this},setDamping:function(n){return this.useDamping=n,this},setDragX:function(n){return this.drag.x=n,this},setDragY:function(n){return this.drag.y=n,this},setGravity:function(n,o){return this.gravity.set(n,o),this},setGravityX:function(n){return this.gravity.x=n,this},setGravityY:function(n){return this.gravity.y=n,this},setFriction:function(n,o){return this.friction.set(n,o),this},setFrictionX:function(n){return this.friction.x=n,this},setFrictionY:function(n){return this.friction.y=n,this},setAngularVelocity:function(n){return this.angularVelocity=n,this},setAngularAcceleration:function(n){return this.angularAcceleration=n,this},setAngularDrag:function(n){return this.angularDrag=n,this},setMass:function(n){return this.mass=n,this},setImmovable:function(n){return n===void 0&&(n=!0),this.immovable=n,this},setEnable:function(n){return n===void 0&&(n=!0),this.enable=n,this},processX:function(n,o,f,h){this.x+=n,this.updateCenter(),o!==null&&(this.velocity.x=o);var d=this.blocked;f&&(d.left=!0,d.none=!1),h&&(d.right=!0,d.none=!1)},processY:function(n,o,f,h){this.y+=n,this.updateCenter(),o!==null&&(this.velocity.y=o);var d=this.blocked;f&&(d.up=!0,d.none=!1),h&&(d.down=!0,d.none=!1)},x:{get:function(){return this.position.x},set:function(n){this.position.x=n}},y:{get:function(){return this.position.y},set:function(n){this.position.y=n}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});v.exports=l},3909:(v,y,t)=>{var u=t(56694),c=new u({initialize:function(s,r,e,i,l,n,o){this.world=s,this.name="",this.active=!0,this.overlapOnly=r,this.object1=e,this.object2=i,this.collideCallback=l,this.processCallback=n,this.callbackContext=o},setName:function(a){return this.name=a,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});v.exports=c},99523:(v,y,t)=>{var u=t(62832),c=t(25084),a=t(97602),s=t(56694),r=t(47401),e=t(10481),i=t(66634),l=t(46346),n=new s({initialize:function(f){this.world=f,this.scene=f.scene,this.sys=f.scene.sys},collider:function(o,f,h,d,p){return this.world.addCollider(o,f,h,d,p)},overlap:function(o,f,h,d,p){return this.world.addOverlap(o,f,h,d,p)},existing:function(o,f){var h=f?r.STATIC_BODY:r.DYNAMIC_BODY;return this.world.enableBody(o,h),o},staticImage:function(o,f,h,d){var p=new u(this.scene,o,f,h,d);return this.sys.displayList.add(p),this.world.enableBody(p,r.STATIC_BODY),p},image:function(o,f,h,d){var p=new u(this.scene,o,f,h,d);return this.sys.displayList.add(p),this.world.enableBody(p,r.DYNAMIC_BODY),p},staticSprite:function(o,f,h,d){var p=new c(this.scene,o,f,h,d);return this.sys.displayList.add(p),this.sys.updateList.add(p),this.world.enableBody(p,r.STATIC_BODY),p},sprite:function(o,f,h,d){var p=new c(this.scene,o,f,h,d);return this.sys.displayList.add(p),this.sys.updateList.add(p),this.world.enableBody(p,r.DYNAMIC_BODY),p},staticGroup:function(o,f){return this.sys.updateList.add(new l(this.world,this.world.scene,o,f))},group:function(o,f){return this.sys.updateList.add(new e(this.world,this.world.scene,o,f))},body:function(o,f,h,d){var p=new a(this.world);return p.position.set(o,f),h&&d&&p.setSize(h,d),this.world.add(p,r.DYNAMIC_BODY),p},staticBody:function(o,f,h,d){var p=new i(this.world);return p.position.set(o,f),h&&d&&p.setSize(h,d),this.world.add(p,r.STATIC_BODY),p},destroy:function(){this.world=null,this.scene=null,this.sys=null}});v.exports=n},75671:(v,y,t)=>{var u=t(47401),c=function(a,s,r,e){var i=0,l=a.deltaAbsX()+s.deltaAbsX()+e;return a._dx===0&&s._dx===0?(a.embedded=!0,s.embedded=!0):a._dx>s._dx?(i=a.right-s.x,i>l&&!r||a.checkCollision.right===!1||s.checkCollision.left===!1?i=0:(a.touching.none=!1,a.touching.right=!0,s.touching.none=!1,s.touching.left=!0,s.physicsType===u.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.right=!0),a.physicsType===u.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.left=!0))):a._dx<s._dx&&(i=a.x-s.width-s.x,-i>l&&!r||a.checkCollision.left===!1||s.checkCollision.right===!1?i=0:(a.touching.none=!1,a.touching.left=!0,s.touching.none=!1,s.touching.right=!0,s.physicsType===u.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.left=!0),a.physicsType===u.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.right=!0))),a.overlapX=i,s.overlapX=i,i};v.exports=c},66185:(v,y,t)=>{var u=t(47401),c=function(a,s,r,e){var i=0,l=a.deltaAbsY()+s.deltaAbsY()+e;return a._dy===0&&s._dy===0?(a.embedded=!0,s.embedded=!0):a._dy>s._dy?(i=a.bottom-s.y,i>l&&!r||a.checkCollision.down===!1||s.checkCollision.up===!1?i=0:(a.touching.none=!1,a.touching.down=!0,s.touching.none=!1,s.touching.up=!0,s.physicsType===u.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.down=!0),a.physicsType===u.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.up=!0))):a._dy<s._dy&&(i=a.y-s.bottom,-i>l&&!r||a.checkCollision.up===!1||s.checkCollision.down===!1?i=0:(a.touching.none=!1,a.touching.up=!0,s.touching.none=!1,s.touching.down=!0,s.physicsType===u.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.up=!0),a.physicsType===u.STATIC_BODY&&!r&&(s.blocked.none=!1,s.blocked.down=!0))),a.overlapY=i,s.overlapY=i,i};v.exports=c},10481:(v,y,t)=>{var u=t(25084),c=t(56694),a=t(47401),s=t(72632),r=t(59192),e=t(42911),i=new c({Extends:r,initialize:function(n,o,f,h){if(!f&&!h)h={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(e(f))h=f,f=null,h.internalCreateCallback=this.createCallbackHandler,h.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(f)&&e(f[0])){h=f[0];var d=this;f.forEach(function(p){p.internalCreateCallback=d.createCallbackHandler,p.internalRemoveCallback=d.removeCallbackHandler}),f=null}else h={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=n,h.classType=s(h,"classType",u),this.physicsType=a.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:s(h,"collideWorldBounds",!1),setBoundsRectangle:s(h,"customBoundsRectangle",null),setAccelerationX:s(h,"accelerationX",0),setAccelerationY:s(h,"accelerationY",0),setAllowDrag:s(h,"allowDrag",!0),setAllowGravity:s(h,"allowGravity",!0),setAllowRotation:s(h,"allowRotation",!0),setDamping:s(h,"useDamping",!1),setBounceX:s(h,"bounceX",0),setBounceY:s(h,"bounceY",0),setDragX:s(h,"dragX",0),setDragY:s(h,"dragY",0),setEnable:s(h,"enable",!0),setGravityX:s(h,"gravityX",0),setGravityY:s(h,"gravityY",0),setFrictionX:s(h,"frictionX",0),setFrictionY:s(h,"frictionY",0),setMaxSpeed:s(h,"maxSpeed",-1),setMaxVelocityX:s(h,"maxVelocityX",1e4),setMaxVelocityY:s(h,"maxVelocityY",1e4),setVelocityX:s(h,"velocityX",0),setVelocityY:s(h,"velocityY",0),setAngularVelocity:s(h,"angularVelocity",0),setAngularAcceleration:s(h,"angularAcceleration",0),setAngularDrag:s(h,"angularDrag",0),setMass:s(h,"mass",1),setImmovable:s(h,"immovable",!1)},r.call(this,o,f,h),this.type="PhysicsGroup"},createCallbackHandler:function(l){l.body||this.world.enableBody(l,a.DYNAMIC_BODY);var n=l.body;for(var o in this.defaults)n[o](this.defaults[o])},removeCallbackHandler:function(l){l.body&&this.world.disableBody(l)},setVelocity:function(l,n,o){o===void 0&&(o=0);for(var f=this.getChildren(),h=0;h<f.length;h++)f[h].body.velocity.set(l+h*o,n+h*o);return this},setVelocityX:function(l,n){n===void 0&&(n=0);for(var o=this.getChildren(),f=0;f<o.length;f++)o[f].body.velocity.x=l+f*n;return this},setVelocityY:function(l,n){n===void 0&&(n=0);for(var o=this.getChildren(),f=0;f<o.length;f++)o[f].body.velocity.y=l+f*n;return this}});v.exports=i},22916:v=>{var y,t,u,c,a,s,r,e,i,l,n,o,f,h,d,p,x,S=function(L,R,w){y=L,t=R;var D=y.velocity.x,B=t.velocity.x;return u=y.pushable,i=y._dx<0,l=y._dx>0,n=y._dx===0,d=Math.abs(y.right-t.x)<=Math.abs(t.right-y.x),r=B-D*y.bounce.x,c=t.pushable,o=t._dx<0,f=t._dx>0,h=t._dx===0,p=!d,e=D-B*t.bounce.x,x=Math.abs(w),T()},T=function(){return l&&d&&t.blocked.right?(y.processX(-x,r,!1,!0),1):i&&p&&t.blocked.left?(y.processX(x,r,!0),1):f&&p&&y.blocked.right?(t.processX(-x,e,!1,!0),2):o&&d&&y.blocked.left?(t.processX(x,e,!0),2):0},C=function(){var L=y.velocity.x,R=t.velocity.x,w=Math.sqrt(R*R*t.mass/y.mass)*(R>0?1:-1),D=Math.sqrt(L*L*y.mass/t.mass)*(L>0?1:-1),B=(w+D)*.5;return w-=B,D-=B,a=B+w*y.bounce.x,s=B+D*t.bounce.x,i&&p?E(0):o&&d?E(1):l&&d?E(2):f&&p?E(3):!1},E=function(L){if(u&&c)x*=.5,L===0||L===3?(y.processX(x,a),t.processX(-x,s)):(y.processX(-x,a),t.processX(x,s));else if(u&&!c)L===0||L===3?y.processX(x,r,!0):y.processX(-x,r,!1,!0);else if(!u&&c)L===0||L===3?t.processX(-x,e,!1,!0):t.processX(x,e,!0);else{var R=x*.5;L===0?h?(y.processX(x,0,!0),t.processX(0,null,!1,!0)):f?(y.processX(R,0,!0),t.processX(-R,0,!1,!0)):(y.processX(R,t.velocity.x,!0),t.processX(-R,null,!1,!0)):L===1?n?(y.processX(0,null,!1,!0),t.processX(x,0,!0)):l?(y.processX(-R,0,!1,!0),t.processX(R,0,!0)):(y.processX(-R,null,!1,!0),t.processX(R,y.velocity.x,!0)):L===2?h?(y.processX(-x,0,!1,!0),t.processX(0,null,!0)):o?(y.processX(-R,0,!1,!0),t.processX(R,0,!0)):(y.processX(-R,t.velocity.x,!1,!0),t.processX(R,null,!0)):L===3&&(n?(y.processX(0,null,!0),t.processX(-x,0,!1,!0)):i?(y.processX(R,0,!0),t.processX(-R,0,!1,!0)):(y.processX(R,t.velocity.y,!0),t.processX(-R,null,!1,!0)))}return!0},P=function(L){L===1?t.velocity.x=0:d?t.processX(x,e,!0):t.processX(-x,e,!1,!0),y.moves&&(t.y+=(y.y-y.prev.y)*y.friction.y,t._dy=t.y-t.prev.y)},M=function(L){L===2?y.velocity.x=0:p?y.processX(x,r,!0):y.processX(-x,r,!1,!0),t.moves&&(y.y+=(t.y-t.prev.y)*t.friction.y,y._dy=y.y-y.prev.y)};v.exports={BlockCheck:T,Check:C,Set:S,Run:E,RunImmovableBody1:P,RunImmovableBody2:M}},67050:v=>{var y,t,u,c,a,s,r,e,i,l,n,o,f,h,d,p,x,S=function(L,R,w){y=L,t=R;var D=y.velocity.y,B=t.velocity.y;return u=y.pushable,i=y._dy<0,l=y._dy>0,n=y._dy===0,d=Math.abs(y.bottom-t.y)<=Math.abs(t.bottom-y.y),r=B-D*y.bounce.y,c=t.pushable,o=t._dy<0,f=t._dy>0,h=t._dy===0,p=!d,e=D-B*t.bounce.y,x=Math.abs(w),T()},T=function(){return l&&d&&t.blocked.down?(y.processY(-x,r,!1,!0),1):i&&p&&t.blocked.up?(y.processY(x,r,!0),1):f&&p&&y.blocked.down?(t.processY(-x,e,!1,!0),2):o&&d&&y.blocked.up?(t.processY(x,e,!0),2):0},C=function(){var L=y.velocity.y,R=t.velocity.y,w=Math.sqrt(R*R*t.mass/y.mass)*(R>0?1:-1),D=Math.sqrt(L*L*y.mass/t.mass)*(L>0?1:-1),B=(w+D)*.5;return w-=B,D-=B,a=B+w*y.bounce.y,s=B+D*t.bounce.y,i&&p?E(0):o&&d?E(1):l&&d?E(2):f&&p?E(3):!1},E=function(L){if(u&&c)x*=.5,L===0||L===3?(y.processY(x,a),t.processY(-x,s)):(y.processY(-x,a),t.processY(x,s));else if(u&&!c)L===0||L===3?y.processY(x,r,!0):y.processY(-x,r,!1,!0);else if(!u&&c)L===0||L===3?t.processY(-x,e,!1,!0):t.processY(x,e,!0);else{var R=x*.5;L===0?h?(y.processY(x,0,!0),t.processY(0,null,!1,!0)):f?(y.processY(R,0,!0),t.processY(-R,0,!1,!0)):(y.processY(R,t.velocity.y,!0),t.processY(-R,null,!1,!0)):L===1?n?(y.processY(0,null,!1,!0),t.processY(x,0,!0)):l?(y.processY(-R,0,!1,!0),t.processY(R,0,!0)):(y.processY(-R,null,!1,!0),t.processY(R,y.velocity.y,!0)):L===2?h?(y.processY(-x,0,!1,!0),t.processY(0,null,!0)):o?(y.processY(-R,0,!1,!0),t.processY(R,0,!0)):(y.processY(-R,t.velocity.y,!1,!0),t.processY(R,null,!0)):L===3&&(n?(y.processY(0,null,!0),t.processY(-x,0,!1,!0)):i?(y.processY(R,0,!0),t.processY(-R,0,!1,!0)):(y.processY(R,t.velocity.y,!0),t.processY(-R,null,!1,!0)))}return!0},P=function(L){L===1?t.velocity.y=0:d?t.processY(x,e,!0):t.processY(-x,e,!1,!0),y.moves&&(t.x+=(y.x-y.prev.x)*y.friction.x,t._dx=t.x-t.prev.x)},M=function(L){L===2?y.velocity.y=0:p?y.processY(x,r,!0):y.processY(-x,r,!1,!0),t.moves&&(y.x+=(t.x-t.prev.x)*t.friction.x,y._dx=y.x-y.prev.x)};v.exports={BlockCheck:T,Check:C,Set:S,Run:E,RunImmovableBody1:P,RunImmovableBody2:M}},61777:(v,y,t)=>{var u=t(75671),c=t(22916),a=function(s,r,e,i,l){l===void 0&&(l=u(s,r,e,i));var n=s.immovable,o=r.immovable;if(e||l===0||n&&o||s.customSeparateX||r.customSeparateX)return l!==0||s.embedded&&r.embedded;var f=c.Set(s,r,l);return!n&&!o?f>0?!0:c.Check():(n?c.RunImmovableBody1(f):o&&c.RunImmovableBody2(f),!0)};v.exports=a},25299:(v,y,t)=>{var u=t(66185),c=t(67050),a=function(s,r,e,i,l){l===void 0&&(l=u(s,r,e,i));var n=s.immovable,o=r.immovable;if(e||l===0||n&&o||s.customSeparateY||r.customSeparateY)return l!==0||s.embedded&&r.embedded;var f=c.Set(s,r,l);return!n&&!o?f>0?!0:c.Check():(n?c.RunImmovableBody1(f):o&&c.RunImmovableBody2(f),!0)};v.exports=a},66634:(v,y,t)=>{var u=t(65650),c=t(56694),a=t(47401),s=t(94287),r=t(93736),e=new c({initialize:function(l,n){var o=64,f=64,h={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},d=n!==void 0;d&&n.displayWidth&&(o=n.displayWidth,f=n.displayHeight),d||(n=h),this.world=l,this.gameObject=d?n:void 0,this.isBody=!0,this.debugShowBody=l.defaults.debugShowStaticBody,this.debugBodyColor=l.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new r,this.position=new r(n.x-o*n.originX,n.y-f*n.originY),this.width=o,this.height=f,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new r(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=r.ZERO,this.allowGravity=!1,this.gravity=r.ZERO,this.bounce=r.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=a.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(i,l){return i&&i!==this.gameObject&&(this.gameObject.body=null,i.body=this,this.gameObject=i),l&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var i=this.gameObject;return i.getTopLeft(this.position),this.width=i.displayWidth,this.height=i.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(i,l){return l===void 0&&(l=i),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(i,l),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(i,l,n){n===void 0&&(n=!0);var o=this.gameObject;if(!i&&o.frame&&(i=o.frame.realWidth),!l&&o.frame&&(l=o.frame.realHeight),this.world.staticTree.remove(this),this.width=i,this.height=l,this.halfWidth=Math.floor(i/2),this.halfHeight=Math.floor(l/2),n&&o.getCenter){var f=o.displayWidth/2,h=o.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(f-this.halfWidth,h-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(i,l,n){return l===void 0&&(l=this.offset.x),n===void 0&&(n=this.offset.y),i>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=i,this.width=i*2,this.height=i*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(l,n),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(i,l){var n=this.gameObject;i===void 0&&(i=n.x),l===void 0&&(l=n.y),this.world.staticTree.remove(this),n.setPosition(i,l),n.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(i){return i.x=this.x,i.y=this.y,i.right=this.right,i.bottom=this.bottom,i},hitTest:function(i,l){return this.isCircle?u(this,i,l):s(this,i,l)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(i){var l=this.position,n=l.x+this.halfWidth,o=l.y+this.halfHeight;this.debugShowBody&&(i.lineStyle(i.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?i.strokeCircle(n,o,this.width/2):i.strokeRect(l.x,l.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(i){return i<=0&&(i=.1),this.mass=i,this},x:{get:function(){return this.position.x},set:function(i){this.world.staticTree.remove(this),this.position.x=i,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(i){this.world.staticTree.remove(this),this.position.y=i,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});v.exports=e},46346:(v,y,t)=>{var u=t(25084),c=t(56694),a=t(47401),s=t(72632),r=t(59192),e=t(42911),i=new c({Extends:r,initialize:function(n,o,f,h){!f&&!h?h={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:u}:e(f)?(h=f,f=null,h.internalCreateCallback=this.createCallbackHandler,h.internalRemoveCallback=this.removeCallbackHandler,h.createMultipleCallback=this.createMultipleCallbackHandler,h.classType=s(h,"classType",u)):Array.isArray(f)&&e(f[0])?(h=f,f=null,h.forEach(function(d){d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler,d.createMultipleCallback=this.createMultipleCallbackHandler,d.classType=s(d,"classType",u)})):h={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=n,this.physicsType=a.STATIC_BODY,r.call(this,o,f,h),this.type="StaticPhysicsGroup"},createCallbackHandler:function(l){l.body||this.world.enableBody(l,a.STATIC_BODY)},removeCallbackHandler:function(l){l.body&&this.world.disableBody(l)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var l=this.children.entries,n=0;n<l.length;n++)l[n].body.reset();return this}});v.exports=i},85233:(v,y,t)=>{var u=t(94240),c=t(97602),a=t(82897),s=t(56694),r=t(3909),e=t(47401),i=t(53996),l=t(92951),n=t(6659),o=t(27037),f=t(88456),h=t(41935),d=t(54726),p=t(75671),x=t(66185),S=t(44662),T=t(10850),C=t(83392),E=t(74623),P=t(25163),M=t(74118),L=t(68687),R=t(27354),w=t(61777),D=t(25299),B=t(58403),z=t(66634),V=t(28808),Y=t(69360),H=t(93736),I=t(1071),U=new s({Extends:n,initialize:function(N,G){n.call(this),this.scene=N,this.bodies=new B,this.staticBodies=new B,this.pendingDestroy=new B,this.colliders=new E,this.gravity=new H(T(G,"gravity.x",0),T(G,"gravity.y",0)),this.bounds=new M(T(G,"x",0),T(G,"y",0),T(G,"width",N.sys.scale.width),T(G,"height",N.sys.scale.height)),this.checkCollision={up:T(G,"checkCollision.up",!0),down:T(G,"checkCollision.down",!0),left:T(G,"checkCollision.left",!0),right:T(G,"checkCollision.right",!0)},this.fps=T(G,"fps",60),this.fixedStep=T(G,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=T(G,"timeScale",1),this.OVERLAP_BIAS=T(G,"overlapBias",4),this.TILE_BIAS=T(G,"tileBias",16),this.forceX=T(G,"forceX",!1),this.isPaused=T(G,"isPaused",!1),this._total=0,this.drawDebug=T(G,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:T(G,"debugShowBody",!0),debugShowStaticBody:T(G,"debugShowStaticBody",!0),debugShowVelocity:T(G,"debugShowVelocity",!0),bodyDebugColor:T(G,"debugBodyColor",16711935),staticBodyDebugColor:T(G,"debugStaticBodyColor",255),velocityDebugColor:T(G,"debugVelocityColor",65280)},this.maxEntries=T(G,"maxEntries",16),this.useTree=T(G,"useTree",!0),this.tree=new L(this.maxEntries),this.staticTree=new L(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new Y,this._tempMatrix2=new Y,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(O,N){N===void 0&&(N=e.DYNAMIC_BODY),Array.isArray(O)||(O=[O]);for(var G=0;G<O.length;G++){var X=O[G];if(X.isParent)for(var W=X.getChildren(),b=0;b<W.length;b++){var K=W[b];K.isParent?this.enable(K,N):this.enableBody(K,N)}else this.enableBody(X,N)}},enableBody:function(O,N){return N===void 0&&(N=e.DYNAMIC_BODY),O.hasTransformComponent&&(O.body||(N===e.DYNAMIC_BODY?O.body=new c(this,O):N===e.STATIC_BODY&&(O.body=new z(this,O))),this.add(O.body)),O},add:function(O){return O.physicsType===e.DYNAMIC_BODY?this.bodies.set(O):O.physicsType===e.STATIC_BODY&&(this.staticBodies.set(O),this.staticTree.insert(O)),O.enable=!0,O},disable:function(O){Array.isArray(O)||(O=[O]);for(var N=0;N<O.length;N++){var G=O[N];if(G.isParent)for(var X=G.getChildren(),W=0;W<X.length;W++){var b=X[W];b.isParent?this.disable(b):this.disableBody(b.body)}else this.disableBody(G.body)}},disableBody:function(O){this.remove(O),O.enable=!1},remove:function(O){O.physicsType===e.DYNAMIC_BODY?(this.tree.remove(O),this.bodies.delete(O)):O.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(O),this.staticTree.remove(O))},createDebugGraphic:function(){var O=this.scene.sys.add.graphics({x:0,y:0});return O.setDepth(Number.MAX_VALUE),this.debugGraphic=O,this.drawDebug=!0,O},setBounds:function(O,N,G,X,W,b,K,Z){return this.bounds.setTo(O,N,G,X),W!==void 0&&this.setBoundsCollision(W,b,K,Z),this},setBoundsCollision:function(O,N,G,X){return O===void 0&&(O=!0),N===void 0&&(N=!0),G===void 0&&(G=!0),X===void 0&&(X=!0),this.checkCollision.left=O,this.checkCollision.right=N,this.checkCollision.up=G,this.checkCollision.down=X,this},pause:function(){return this.isPaused=!0,this.emit(o.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(o.RESUME),this},addCollider:function(O,N,G,X,W){G===void 0&&(G=null),X===void 0&&(X=null),W===void 0&&(W=G);var b=new r(this,!1,O,N,G,X,W);return this.colliders.add(b),b},addOverlap:function(O,N,G,X,W){G===void 0&&(G=null),X===void 0&&(X=null),W===void 0&&(W=G);var b=new r(this,!0,O,N,G,X,W);return this.colliders.add(b),b},removeCollider:function(O){return this.colliders.remove(O),this},setFPS:function(O){return this.fps=O,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(O,N){if(!(this.isPaused||this.bodies.size===0)){var G,X=this._frameTime,W=this._frameTimeMS*this.timeScale;this._elapsed+=N;var b,K=this.bodies.entries,Z=this._elapsed>=W;for(this.fixedStep||(X=N*.001,Z=!0,this._elapsed=0),G=0;G<K.length;G++)b=K[G],b.enable&&b.preUpdate(Z,X);if(Z){this._elapsed-=W,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(K));var Q=this.colliders.update();for(G=0;G<Q.length;G++){var J=Q[G];J.active&&J.update()}this.emit(o.WORLD_STEP,X)}for(;this._elapsed>=W;)this._elapsed-=W,this.step(X)}},step:function(O){var N,G,X=this.bodies.entries,W=X.length;for(N=0;N<W;N++)G=X[N],G.enable&&G.update(O);this.useTree&&(this.tree.clear(),this.tree.load(X));var b=this.colliders.update();for(N=0;N<b.length;N++){var K=b[N];K.active&&K.update()}this.emit(o.WORLD_STEP,O),this.stepsLastFrame++},postUpdate:function(){var O,N,G=this.bodies.entries,X=G.length,W=this.bodies,b=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,O=0;O<X;O++)N=G[O],N.enable&&N.postUpdate();if(this.drawDebug){var K=this.debugGraphic;for(K.clear(),O=0;O<X;O++)N=G[O],N.willDrawDebug()&&N.drawDebug(K);for(G=b.entries,X=G.length,O=0;O<X;O++)N=G[O],N.willDrawDebug()&&N.drawDebug(K)}var Z=this.pendingDestroy;if(Z.size>0){var Q=this.tree,J=this.staticTree;for(G=Z.entries,X=G.length,O=0;O<X;O++)N=G[O],N.physicsType===e.DYNAMIC_BODY?(Q.remove(N),W.delete(N)):N.physicsType===e.STATIC_BODY&&(J.remove(N),b.delete(N)),N.world=void 0,N.gameObject=void 0;Z.clear()}},updateMotion:function(O,N){O.allowRotation&&this.computeAngularVelocity(O,N),this.computeVelocity(O,N)},computeAngularVelocity:function(O,N){var G=O.angularVelocity,X=O.angularAcceleration,W=O.angularDrag,b=O.maxAngular;X?G+=X*N:O.allowDrag&&W&&(W*=N,h(G-W,0,.1)?G-=W:d(G+W,0,.1)?G+=W:G=0),G=a(G,-b,b);var K=G-O.angularVelocity;O.angularVelocity+=K,O.rotation+=O.angularVelocity*N},computeVelocity:function(O,N){var G=O.velocity.x,X=O.acceleration.x,W=O.drag.x,b=O.maxVelocity.x,K=O.velocity.y,Z=O.acceleration.y,Q=O.drag.y,J=O.maxVelocity.y,j=O.speed,k=O.maxSpeed,$=O.allowDrag,_=O.useDamping;O.allowGravity&&(G+=(this.gravity.x+O.gravity.x)*N,K+=(this.gravity.y+O.gravity.y)*N),X?G+=X*N:$&&W&&(_?(W=Math.pow(W,N),G*=W,j=Math.sqrt(G*G+K*K),f(j,0,.001)&&(G=0)):(W*=N,h(G-W,0,.01)?G-=W:d(G+W,0,.01)?G+=W:G=0)),Z?K+=Z*N:$&&Q&&(_?(Q=Math.pow(Q,N),K*=Q,j=Math.sqrt(G*G+K*K),f(j,0,.001)&&(K=0)):(Q*=N,h(K-Q,0,.01)?K-=Q:d(K+Q,0,.01)?K+=Q:K=0)),G=a(G,-b,b),K=a(K,-J,J),O.velocity.set(G,K),k>-1&&O.velocity.length()>k&&(O.velocity.normalize().scale(k),j=k),O.speed=j},separate:function(O,N,G,X,W){var b,K,Z=!1,Q=!0;if(!O.enable||!N.enable||O.checkCollision.none||N.checkCollision.none||!this.intersects(O,N)||G&&G.call(X,O.gameObject,N.gameObject)===!1)return Z;if(O.isCircle||N.isCircle){var J=this.separateCircle(O,N,W);J.result?(Z=!0,Q=!1):(b=J.x,K=J.y,Q=!0)}if(Q){var j=!1,k=!1,$=this.OVERLAP_BIAS;W?(j=w(O,N,W,$,b),k=D(O,N,W,$,K)):this.forceX||Math.abs(this.gravity.y+O.gravity.y)<Math.abs(this.gravity.x+O.gravity.x)?(j=w(O,N,W,$,b),this.intersects(O,N)&&(k=D(O,N,W,$,K))):(k=D(O,N,W,$,K),this.intersects(O,N)&&(j=w(O,N,W,$,b))),Z=j||k}return Z&&(W?(O.onOverlap||N.onOverlap)&&this.emit(o.OVERLAP,O.gameObject,N.gameObject,O,N):(O.onCollide||N.onCollide)&&this.emit(o.COLLIDE,O.gameObject,N.gameObject,O,N)),Z},separateCircle:function(O,N,G){p(O,N,!1,0),x(O,N,!1,0);var X=O.isCircle,W=N.isCircle,b=O.center,K=N.center,Z=O.immovable,Q=N.immovable,J=O.velocity,j=N.velocity,k=0,$=!0;if(X!==W){$=!1;var _=b.x,nt=b.y,at=O.halfWidth,st=N.position.x,q=N.position.y,it=N.right,et=N.bottom;W&&(_=K.x,nt=K.y,at=N.halfWidth,st=O.position.x,q=O.position.y,it=O.right,et=O.bottom),nt<q?_<st?k=i(_,nt,st,q)-at:_>it&&(k=i(_,nt,it,q)-at):nt>et&&(_<st?k=i(_,nt,st,et)-at:_>it&&(k=i(_,nt,it,et)-at)),k*=-1}else k=O.halfWidth+N.halfWidth-l(b,K);O.overlapR=k,N.overlapR=k;var lt=u(b,K),ot=(k+C.EPSILON)*Math.cos(lt),At=(k+C.EPSILON)*Math.sin(lt),mt={overlap:k,result:!1,x:ot,y:At};if(G&&(!$||$&&k!==0))return mt.result=!0,mt;if(!$&&k===0||Z&&Q||O.customSeparateX||N.customSeparateX)return mt.x=void 0,mt.y=void 0,mt;var ft=!O.pushable&&!N.pushable;if($){var ht=b.x-K.x,gt=b.y-K.y,Dt=Math.sqrt(Math.pow(ht,2)+Math.pow(gt,2)),Nt=(K.x-b.x)/Dt||0,Xt=(K.y-b.y)/Dt||0,he=2*(J.x*Nt+J.y*Xt-j.x*Nt-j.y*Xt)/(O.mass+N.mass);(Z||Q)&&(he*=2),Z||(J.x=J.x-he/O.mass*Nt,J.y=J.y-he/O.mass*Xt,J.multiply(O.bounce)),Q||(j.x=j.x+he/N.mass*Nt,j.y=j.y+he/N.mass*Xt,j.multiply(N.bounce)),!Z&&!Q&&(ot*=.5,At*=.5),Z||(O.x-=ot,O.y-=At,O.updateCenter()),Q||(N.x+=ot,N.y+=At,N.updateCenter()),mt.result=!0}else!Z||O.pushable||ft?(O.x-=ot,O.y-=At,O.updateCenter()):(!Q||N.pushable||ft)&&(N.x+=ot,N.y+=At,N.updateCenter()),mt.x=void 0,mt.y=void 0;return mt},intersects:function(O,N){return O===N?!1:!O.isCircle&&!N.isCircle?!(O.right<=N.left||O.bottom<=N.top||O.left>=N.right||O.top>=N.bottom):O.isCircle?N.isCircle?l(O.center,N.center)<=O.halfWidth+N.halfWidth:this.circleBodyIntersects(O,N):this.circleBodyIntersects(N,O)},circleBodyIntersects:function(O,N){var G=a(O.center.x,N.left,N.right),X=a(O.center.y,N.top,N.bottom),W=(O.center.x-G)*(O.center.x-G),b=(O.center.y-X)*(O.center.y-X);return W+b<=O.halfWidth*O.halfWidth},overlap:function(O,N,G,X,W){return G===void 0&&(G=null),X===void 0&&(X=null),W===void 0&&(W=G),this.collideObjects(O,N,G,X,W,!0)},collide:function(O,N,G,X,W){return G===void 0&&(G=null),X===void 0&&(X=null),W===void 0&&(W=G),this.collideObjects(O,N,G,X,W,!1)},collideObjects:function(O,N,G,X,W,b){var K,Z;O.isParent&&(O.physicsType===void 0||N===void 0||O===N)&&(O=O.children.entries),N&&N.isParent&&N.physicsType===void 0&&(N=N.children.entries);var Q=Array.isArray(O),J=Array.isArray(N);if(this._total=0,!Q&&!J)this.collideHandler(O,N,G,X,W,b);else if(!Q&&J)for(K=0;K<N.length;K++)this.collideHandler(O,N[K],G,X,W,b);else if(Q&&!J)if(N)for(K=0;K<O.length;K++)this.collideHandler(O[K],N,G,X,W,b);else for(K=0;K<O.length;K++){var j=O[K];for(Z=K+1;Z<O.length;Z++)K!==Z&&this.collideHandler(j,O[Z],G,X,W,b)}else for(K=0;K<O.length;K++)for(Z=0;Z<N.length;Z++)this.collideHandler(O[K],N[Z],G,X,W,b);return this._total>0},collideHandler:function(O,N,G,X,W,b){if(N===void 0&&O.isParent)return this.collideGroupVsGroup(O,O,G,X,W,b);if(!O||!N)return!1;if(O.body||O.isBody){if(N.body||N.isBody)return this.collideSpriteVsSprite(O,N,G,X,W,b);if(N.isParent)return this.collideSpriteVsGroup(O,N,G,X,W,b);if(N.isTilemap)return this.collideSpriteVsTilemapLayer(O,N,G,X,W,b)}else if(O.isParent){if(N.body||N.isBody)return this.collideSpriteVsGroup(N,O,G,X,W,b);if(N.isParent)return this.collideGroupVsGroup(O,N,G,X,W,b);if(N.isTilemap)return this.collideGroupVsTilemapLayer(O,N,G,X,W,b)}else if(O.isTilemap){if(N.body||N.isBody)return this.collideSpriteVsTilemapLayer(N,O,G,X,W,b);if(N.isParent)return this.collideGroupVsTilemapLayer(N,O,G,X,W,b)}},collideSpriteVsSprite:function(O,N,G,X,W,b){var K=O.isBody?O:O.body,Z=N.isBody?N:N.body;return!K||!Z?!1:(this.separate(K,Z,X,W,b)&&(G&&G.call(W,O,N),this._total++),!0)},collideSpriteVsGroup:function(O,N,G,X,W,b){var K=O.isBody?O:O.body;if(!(N.length===0||!K||!K.enable||K.checkCollision.none)){var Z,Q,J;if(this.useTree||N.physicsType===e.STATIC_BODY){var j=this.treeMinMax;j.minX=K.left,j.minY=K.top,j.maxX=K.right,j.maxY=K.bottom;var k=N.physicsType===e.DYNAMIC_BODY?this.tree.search(j):this.staticTree.search(j);for(Q=k.length,Z=0;Z<Q;Z++)J=k[Z],!(K===J||!J.enable||J.checkCollision.none||!N.contains(J.gameObject))&&this.separate(K,J,X,W,b)&&(G&&G.call(W,K.gameObject,J.gameObject),this._total++)}else{var $=N.getChildren(),_=N.children.entries.indexOf(O);for(Q=$.length,Z=0;Z<Q;Z++)J=$[Z].body,!(!J||Z===_||!J.enable)&&this.separate(K,J,X,W,b)&&(G&&G.call(W,K.gameObject,J.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(O,N,G,X,W,b){var K=O.getChildren();if(K.length===0)return!1;for(var Z=!1,Q=0;Q<K.length;Q++)(K[Q].body||K[Q].isBody)&&this.collideSpriteVsTilemapLayer(K[Q],N,G,X,W,b)&&(Z=!0);return Z},collideTiles:function(O,N,G,X,W){return N.length===0||O.body&&!O.body.enable||O.isBody&&!O.enable?!1:this.collideSpriteVsTilesHandler(O,N,G,X,W,!1,!1)},overlapTiles:function(O,N,G,X,W){return N.length===0||O.body&&!O.body.enable||O.isBody&&!O.enable?!1:this.collideSpriteVsTilesHandler(O,N,G,X,W,!0,!1)},collideSpriteVsTilemapLayer:function(O,N,G,X,W,b){var K=O.isBody?O:O.body;if(!K.enable||K.checkCollision.none)return!1;var Z=K.x,Q=K.y,J=K.width,j=K.height,k=N.layer;if(k.tileWidth>k.baseTileWidth){var $=(k.tileWidth-k.baseTileWidth)*N.scaleX;Z-=$,J+=$}if(k.tileHeight>k.baseTileHeight){var _=(k.tileHeight-k.baseTileHeight)*N.scaleY;j+=_}var nt=b?null:this.tileFilterOptions,at=S(Z,Q,J,j,nt,N.scene.cameras.main,N.layer);return at.length===0?!1:this.collideSpriteVsTilesHandler(O,at,G,X,W,b,!0)},collideSpriteVsTilesHandler:function(O,N,G,X,W,b,K){for(var Z=O.isBody?O:O.body,Q,J={left:0,right:0,top:0,bottom:0},j,k=!1,$=0;$<N.length;$++){Q=N[$],j=Q.tilemapLayer;var _=j.tileToWorldXY(Q.x,Q.y);J.left=_.x,J.top=_.y,Q.baseHeight!==Q.height&&(J.top-=(Q.height-Q.baseHeight)*j.scaleY),J.right=J.left+Q.width*j.scaleX,J.bottom=J.top+Q.height*j.scaleY,V(J,Z)&&(!X||X.call(W,O,Q))&&P(Q,O)&&(b||R($,Z,Q,J,j,this.TILE_BIAS,K))&&(this._total++,k=!0,G&&G.call(W,O,Q),b&&Z.onOverlap?this.emit(o.TILE_OVERLAP,O,Q,Z):Z.onCollide&&this.emit(o.TILE_COLLIDE,O,Q,Z))}return k},collideGroupVsGroup:function(O,N,G,X,W,b){if(!(O.length===0||N.length===0))for(var K=O.getChildren(),Z=0;Z<K.length;Z++)this.collideSpriteVsGroup(K[Z],N,G,X,W,b)},wrap:function(O,N){O.body?this.wrapObject(O,N):O.getChildren?this.wrapArray(O.getChildren(),N):Array.isArray(O)?this.wrapArray(O,N):this.wrapObject(O,N)},wrapArray:function(O,N){for(var G=0;G<O.length;G++)this.wrapObject(O[G],N)},wrapObject:function(O,N){N===void 0&&(N=0),O.x=I(O.x,this.bounds.left-N,this.bounds.right+N),O.y=I(O.y,this.bounds.top-N,this.bounds.bottom+N)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});v.exports=U},5321:v=>{var y={setAcceleration:function(t,u){return this.body.acceleration.set(t,u),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};v.exports=y},29257:v=>{var y={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};v.exports=y},62122:v=>{var y={setBounce:function(t,u){return this.body.bounce.set(t,u),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,u,c,a){return this.body.setCollideWorldBounds(t,u,c,a),this}};v.exports=y},99803:v=>{var y={setDebug:function(t,u,c){return this.debugShowBody=t,this.debugShowVelocity=u,this.debugBodyColor=c,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};v.exports=y},87145:v=>{var y={setDrag:function(t,u){return this.body.drag.set(t,u),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};v.exports=y},96174:v=>{var y={enableBody:function(t,u,c,a,s){return t&&this.body.reset(u,c),a&&(this.body.gameObject.active=!0),s&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,u){return t===void 0&&(t=!1),u===void 0&&(u=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),u&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};v.exports=y},51702:v=>{var y={setFriction:function(t,u){return this.body.friction.set(t,u),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};v.exports=y},25578:v=>{var y={setGravity:function(t,u){return this.body.gravity.set(t,u),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};v.exports=y},72029:v=>{var y={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};v.exports=y},34566:v=>{var y={setMass:function(t){return this.body.mass=t,this}};v.exports=y},2732:(v,y,t)=>{var u=t(15147),c=t(26673),a=t(22184),s=t(26535),r=function(e,i,l,n,o,f){var h=u(e,i-n,l-n,2*n,2*n,o,f);if(h.length===0)return h;for(var d=new c(i,l,n),p=new c,x=[],S=0;S<h.length;S++){var T=h[S];T.isCircle?(p.setTo(T.center.x,T.center.y,T.halfWidth),a(d,p)&&x.push(T)):s(d,T)&&x.push(T)}return x};v.exports=r},15147:v=>{var y=function(t,u,c,a,s,r,e){r===void 0&&(r=!0),e===void 0&&(e=!1);var i=[],l=[],n=t.treeMinMax;if(n.minX=u,n.minY=c,n.maxX=u+a,n.maxY=c+s,e&&(l=t.staticTree.search(n)),r&&t.useTree)i=t.tree.search(n);else if(r){var o=t.bodies,f={position:{x:u,y:c},left:u,top:c,right:u+a,bottom:c+s,isCircle:!1},h=t.intersects;o.iterate(function(d){h(d,f)&&i.push(d)})}return l.concat(i)};v.exports=y},57527:v=>{var y={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};v.exports=y},77687:v=>{var y={setOffset:function(t,u){return this.body.setOffset(t,u),this},setSize:function(t,u,c){return this.body.setSize(t,u,c),this},setBodySize:function(t,u,c){return this.body.setSize(t,u,c),this},setCircle:function(t,u,c){return this.body.setCircle(t,u,c),this}};v.exports=y},66536:v=>{var y={setVelocity:function(t,u){return this.body.setVelocity(t,u),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,u){return this.body.maxVelocity.set(t,u),this}};v.exports=y},7864:(v,y,t)=>{v.exports={Acceleration:t(5321),Angular:t(29257),Bounce:t(62122),Debug:t(99803),Drag:t(87145),Enable:t(96174),Friction:t(51702),Gravity:t(25578),Immovable:t(72029),Mass:t(34566),OverlapCirc:t(2732),OverlapRect:t(15147),Pushable:t(57527),Size:t(77687),Velocity:t(66536)}},47401:v=>{var y={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};v.exports=y},22346:v=>{v.exports="collide"},95092:v=>{v.exports="overlap"},15775:v=>{v.exports="pause"},74142:v=>{v.exports="resume"},22825:v=>{v.exports="tilecollide"},10851:v=>{v.exports="tileoverlap"},7543:v=>{v.exports="worldbounds"},1487:v=>{v.exports="worldstep"},27037:(v,y,t)=>{v.exports={COLLIDE:t(22346),OVERLAP:t(95092),PAUSE:t(15775),RESUME:t(74142),TILE_COLLIDE:t(22825),TILE_OVERLAP:t(10851),WORLD_BOUNDS:t(7543),WORLD_STEP:t(1487)}},39977:(v,y,t)=>{var u=t(47401),c=t(98611),a={ArcadePhysics:t(66150),Body:t(97602),Collider:t(3909),Components:t(7864),Events:t(27037),Factory:t(99523),GetOverlapX:t(75671),GetOverlapY:t(66185),SeparateX:t(61777),SeparateY:t(25299),Group:t(10481),Image:t(62832),Sprite:t(25084),StaticBody:t(66634),StaticGroup:t(46346),Tilemap:t(8413),World:t(85233)};a=c(!1,a,u),v.exports=a},25163:v=>{var y=function(t,u){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,u,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,u,t):!0};v.exports=y},98209:v=>{var y=function(t,u){u<0?(t.blocked.none=!1,t.blocked.left=!0):u>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=u,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};v.exports=y},72792:v=>{var y=function(t,u){u<0?(t.blocked.none=!1,t.blocked.up=!0):u>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=u,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};v.exports=y},27354:(v,y,t)=>{var u=t(14405),c=t(52926),a=t(28808),s=function(r,e,i,l,n,o,f){var h=l.left,d=l.top,p=l.right,x=l.bottom,S=i.faceLeft||i.faceRight,T=i.faceTop||i.faceBottom;if(f||(S=!0,T=!0),!S&&!T)return!1;var C=0,E=0,P=0,M=1;if(e.deltaAbsX()>e.deltaAbsY()?P=-1:e.deltaAbsX()<e.deltaAbsY()&&(M=-1),e.deltaX()!==0&&e.deltaY()!==0&&S&&T&&(P=Math.min(Math.abs(e.position.x-p),Math.abs(e.right-h)),M=Math.min(Math.abs(e.position.y-x),Math.abs(e.bottom-d))),P<M){if(S&&(C=u(e,i,h,p,o,f),C!==0&&!a(l,e)))return!0;T&&(E=c(e,i,d,x,o,f))}else{if(T&&(E=c(e,i,d,x,o,f),E!==0&&!a(l,e)))return!0;S&&(C=u(e,i,h,p,o,f))}return C!==0||E!==0};v.exports=s},14405:(v,y,t)=>{var u=t(98209),c=function(a,s,r,e,i,l){var n=0,o=s.faceLeft,f=s.faceRight,h=s.collideLeft,d=s.collideRight;return l||(o=!0,f=!0,h=!0,d=!0),a.deltaX()<0&&d&&a.checkCollision.left?f&&a.x<e&&(n=a.x-e,n<-i&&(n=0)):a.deltaX()>0&&h&&a.checkCollision.right&&o&&a.right>r&&(n=a.right-r,n>i&&(n=0)),n!==0&&(a.customSeparateX?a.overlapX=n:u(a,n)),n};v.exports=c},52926:(v,y,t)=>{var u=t(72792),c=function(a,s,r,e,i,l){var n=0,o=s.faceTop,f=s.faceBottom,h=s.collideUp,d=s.collideDown;return l||(o=!0,f=!0,h=!0,d=!0),a.deltaY()<0&&d&&a.checkCollision.up?f&&a.y<e&&(n=a.y-e,n<-i&&(n=0)):a.deltaY()>0&&h&&a.checkCollision.down&&o&&a.bottom>r&&(n=a.bottom-r,n>i&&(n=0)),n!==0&&(a.customSeparateY?a.overlapY=n:u(a,n)),n};v.exports=c},28808:v=>{var y=function(t,u){return!(u.right<=t.left||u.bottom<=t.top||u.position.x>=t.right||u.position.y>=t.bottom)};v.exports=y},8413:(v,y,t)=>{var u={ProcessTileCallbacks:t(25163),ProcessTileSeparationX:t(98209),ProcessTileSeparationY:t(72792),SeparateTile:t(27354),TileCheckX:t(14405),TileCheckY:t(52926),TileIntersectsBody:t(28808)};v.exports=u},53954:(v,y,t)=>{v.exports={Arcade:t(39977),Matter:t(45949)}},63568:(v,y,t)=>{var u=t(56694),c=t(93736),a=new u({initialize:function(){this.boundsCenter=new c,this.centerDiff=new c},parseBody:function(s){if(s=s.hasOwnProperty("body")?s.body:s,!s.hasOwnProperty("bounds")||!s.hasOwnProperty("centerOfMass"))return!1;var r=this.boundsCenter,e=this.centerDiff,i=s.bounds.max.x-s.bounds.min.x,l=s.bounds.max.y-s.bounds.min.y,n=i*s.centerOfMass.x,o=l*s.centerOfMass.y;return r.set(i/2,l/2),e.set(n-r.x,o-r.y),!0},getTopLeft:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var i=this.boundsCenter,l=this.centerDiff;return new c(r+i.x+l.x,e+i.y+l.y)}return!1},getTopCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var i=this.boundsCenter,l=this.centerDiff;return new c(r+l.x,e+i.y+l.y)}return!1},getTopRight:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var i=this.boundsCenter,l=this.centerDiff;return new c(r-(i.x-l.x),e+i.y+l.y)}return!1},getLeftCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var i=this.boundsCenter,l=this.centerDiff;return new c(r+i.x+l.x,e+l.y)}return!1},getCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var i=this.centerDiff;return new c(r+i.x,e+i.y)}return!1},getRightCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var i=this.boundsCenter,l=this.centerDiff;return new c(r-(i.x-l.x),e+l.y)}return!1},getBottomLeft:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var i=this.boundsCenter,l=this.centerDiff;return new c(r+i.x+l.x,e-(i.y-l.y))}return!1},getBottomCenter:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var i=this.boundsCenter,l=this.centerDiff;return new c(r+l.x,e-(i.y-l.y))}return!1},getBottomRight:function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),this.parseBody(s)){var i=this.boundsCenter,l=this.centerDiff;return new c(r-(i.x-l.x),e-(i.y-l.y))}return!1}});v.exports=a},18171:(v,y,t)=>{var u=t(16929);u.Body=t(84125),u.Composite=t(11299),u.World=t(72005),u.Collision=t(63454),u.Detector=t(13657),u.Pairs=t(91327),u.Pair=t(70584),u.Query=t(13390),u.Resolver=t(44272),u.Constraint=t(52838),u.Common=t(68758),u.Engine=t(45775),u.Events=t(39073),u.Sleeping=t(22806),u.Plugin=t(84474),u.Bodies=t(68516),u.Composites=t(56643),u.Axes=t(50658),u.Bounds=t(84091),u.Svg=t(92765),u.Vector=t(10438),u.Vertices=t(39745),u.World.add=u.Composite.add,u.World.remove=u.Composite.remove,u.World.addComposite=u.Composite.addComposite,u.World.addBody=u.Composite.addBody,u.World.addConstraint=u.Composite.addConstraint,u.World.clear=u.Composite.clear,v.exports=u},72653:(v,y,t)=>{var u=t(68516),c=t(56694),a=t(56643),s=t(52838),r=t(92765),e=t(3860),i=t(7030),l=t(73658),n=t(84720),o=t(10998),f=t(72829),h=t(88596),d=t(39745),p=new c({initialize:function(S){this.world=S,this.scene=S.scene,this.sys=S.scene.sys},rectangle:function(x,S,T,C,E){var P=u.rectangle(x,S,T,C,E);return this.world.add(P),P},trapezoid:function(x,S,T,C,E,P){var M=u.trapezoid(x,S,T,C,E,P);return this.world.add(M),M},circle:function(x,S,T,C,E){var P=u.circle(x,S,T,C,E);return this.world.add(P),P},polygon:function(x,S,T,C,E){var P=u.polygon(x,S,T,C,E);return this.world.add(P),P},fromVertices:function(x,S,T,C,E,P,M){typeof T=="string"&&(T=d.fromPath(T));var L=u.fromVertices(x,S,T,C,E,P,M);return this.world.add(L),L},fromPhysicsEditor:function(x,S,T,C,E){E===void 0&&(E=!0);var P=o.parseBody(x,S,T,C);return E&&!this.world.has(P)&&this.world.add(P),P},fromSVG:function(x,S,T,C,E,P){C===void 0&&(C=1),E===void 0&&(E={}),P===void 0&&(P=!0);for(var M=T.getElementsByTagName("path"),L=[],R=0;R<M.length;R++){var w=r.pathToVertices(M[R],30);C!==1&&d.scale(w,C,C),L.push(w)}var D=u.fromVertices(x,S,L,E);return P&&this.world.add(D),D},fromJSON:function(x,S,T,C,E){C===void 0&&(C={}),E===void 0&&(E=!0);var P=f.parseBody(x,S,T,C);return P&&E&&this.world.add(P),P},imageStack:function(x,S,T,C,E,P,M,L,R){M===void 0&&(M=0),L===void 0&&(L=0),R===void 0&&(R={});var w=this.world,D=this.sys.displayList;R.addToWorld=!1;var B=a.stack(T,C,E,P,M,L,function(z,V){var Y=new i(w,z,V,x,S,R);return D.add(Y),Y.body});return w.add(B),B},stack:function(x,S,T,C,E,P,M){var L=a.stack(x,S,T,C,E,P,M);return this.world.add(L),L},pyramid:function(x,S,T,C,E,P,M){var L=a.pyramid(x,S,T,C,E,P,M);return this.world.add(L),L},chain:function(x,S,T,C,E,P){return a.chain(x,S,T,C,E,P)},mesh:function(x,S,T,C,E){return a.mesh(x,S,T,C,E)},newtonsCradle:function(x,S,T,C,E){var P=a.newtonsCradle(x,S,T,C,E);return this.world.add(P),P},car:function(x,S,T,C,E){var P=a.car(x,S,T,C,E);return this.world.add(P),P},softBody:function(x,S,T,C,E,P,M,L,R,w){var D=a.softBody(x,S,T,C,E,P,M,L,R,w);return this.world.add(D),D},joint:function(x,S,T,C,E){return this.constraint(x,S,T,C,E)},spring:function(x,S,T,C,E){return this.constraint(x,S,T,C,E)},constraint:function(x,S,T,C,E){C===void 0&&(C=1),E===void 0&&(E={}),E.bodyA=x.type==="body"?x:x.body,E.bodyB=S.type==="body"?S:S.body,isNaN(T)||(E.length=T),E.stiffness=C;var P=s.create(E);return this.world.add(P),P},worldConstraint:function(x,S,T,C){T===void 0&&(T=1),C===void 0&&(C={}),C.bodyB=x.type==="body"?x:x.body,isNaN(S)||(C.length=S),C.stiffness=T;var E=s.create(C);return this.world.add(E),E},mouseSpring:function(x){return this.pointerConstraint(x)},pointerConstraint:function(x){x===void 0&&(x={}),x.hasOwnProperty("render")||(x.render={visible:!1});var S=new h(this.scene,this.world,x);return this.world.add(S.constraint),S},image:function(x,S,T,C,E){var P=new i(this.world,x,S,T,C,E);return this.sys.displayList.add(P),P},tileBody:function(x,S){return new n(this.world,x,S)},sprite:function(x,S,T,C,E){var P=new l(this.world,x,S,T,C,E);return this.sys.displayList.add(P),this.sys.updateList.add(P),P},gameObject:function(x,S,T){return e(this.world,x,S,T)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});v.exports=p},3860:(v,y,t)=>{var u=t(74527),c=t(72632),a=t(93736);function s(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var r=function(e,i,l,n){l===void 0&&(l={}),n===void 0&&(n=!0);var o=i.x,f=i.y;i.body={temp:!0,position:{x:o,y:f}};var h=[u.Bounce,u.Collision,u.Force,u.Friction,u.Gravity,u.Mass,u.Sensor,u.SetBody,u.Sleep,u.Static,u.Transform,u.Velocity];if(h.forEach(function(p){for(var x in p)s(p[x])?Object.defineProperty(i,x,{get:p[x].get,set:p[x].set}):Object.defineProperty(i,x,{value:p[x]})}),i.world=e,i._tempVec2=new a(o,f),l.hasOwnProperty("type")&&l.type==="body")i.setExistingBody(l,n);else{var d=c(l,"shape",null);d||(d="rectangle"),l.addToWorld=n,i.setBody(d,l)}return i};v.exports=r},7030:(v,y,t)=>{var u=t(56694),c=t(74527),a=t(89980),s=t(72632),r=t(1539),e=t(58210),i=t(93736),l=new u({Extends:r,Mixins:[c.Bounce,c.Collision,c.Force,c.Friction,c.Gravity,c.Mass,c.Sensor,c.SetBody,c.Sleep,c.Static,c.Transform,c.Velocity,e],initialize:function(o,f,h,d,p,x){a.call(this,o.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(d,p),this.setSizeToFrame(),this.setOrigin(),this.world=o,this._tempVec2=new i(f,h);var S=s(x,"shape",null);S?this.setBody(S,x):this.setRectangle(this.width,this.height,x),this.setPosition(f,h),this.initPipeline(),this.initPostPipeline(!0)}});v.exports=l},50583:(v,y,t)=>{var u=t(84093),c=t(50658),a=t(68516),s=t(84125),r=t(63568),e=t(84091),i=t(56694),l=t(63454),n=t(68758),o=t(11299),f=t(56643),h=t(52838),d=t(13657),p=t(53996),x=t(72653),S=t(72632),T=t(10850),C=t(1675),E=t(80391),P=t(16929),M=t(44097),L=t(30657),R=t(70584),w=t(91327),D=t(84474),B=t(91963),z=t(13390),V=t(44272),Y=t(7599),H=t(92765),I=t(10438),U=t(39745),O=t(31468);n.setDecomp(t(81084));var N=new i({initialize:function(X){this.scene=X,this.systems=X.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=s,this.composite=o,this.collision=l,this.detector=d,this.pair=R,this.pairs=w,this.query=z,this.resolver=V,this.constraint=h,this.bodies=a,this.composites=f,this.axes=c,this.bounds=e,this.svg=H,this.vector=I,this.vertices=U,this.verts=U,this._tempVec2=I.create(),T(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),T(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),T(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),V._restingThresh=T(this.config,"restingThresh",4),V._restingThreshTangent=T(this.config,"restingThreshTangent",6),V._positionDampen=T(this.config,"positionDampen",.9),V._positionWarming=T(this.config,"positionWarming",.8),V._frictionNormalMultiplier=T(this.config,"frictionNormalMultiplier",5),X.sys.events.once(Y.BOOT,this.boot,this),X.sys.events.on(Y.START,this.start,this)},boot:function(){this.world=new O(this.scene,this.config),this.add=new x(this.world),this.bodyBounds=new r,this.systems.events.once(Y.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new O(this.scene,this.config),this.add=new x(this.world));var G=this.systems.events;G.on(Y.UPDATE,this.world.update,this.world),G.on(Y.POST_UPDATE,this.world.postUpdate,this.world),G.once(Y.SHUTDOWN,this.shutdown,this)},getConfig:function(){var G=this.systems.game.config.physics,X=this.systems.settings.physics,W=L(S(X,"matter",{}),S(G,"matter",{}));return W},enableAttractorPlugin:function(){return D.register(C),D.use(P,C),this},enableWrapPlugin:function(){return D.register(M),D.use(P,M),this},enableCollisionEventsPlugin:function(){return D.register(E),D.use(P,E),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(G,X){this.world.step(G,X)},containsPoint:function(G,X,W){G=this.getMatterBodies(G);var b=I.create(X,W),K=z.point(G,b);return K.length>0},intersectPoint:function(G,X,W){W=this.getMatterBodies(W);var b=I.create(G,X),K=[],Z=z.point(W,b);return Z.forEach(function(Q){K.indexOf(Q)===-1&&K.push(Q)}),K},intersectRect:function(G,X,W,b,K,Z){K===void 0&&(K=!1),Z=this.getMatterBodies(Z);var Q={min:{x:G,y:X},max:{x:G+W,y:X+b}},J=[],j=z.region(Z,Q,K);return j.forEach(function(k){J.indexOf(k)===-1&&J.push(k)}),J},intersectRay:function(G,X,W,b,K,Z){K===void 0&&(K=1),Z=this.getMatterBodies(Z);for(var Q=[],J=z.ray(Z,I.create(G,X),I.create(W,b),K),j=0;j<J.length;j++)Q.push(J[j].body);return Q},intersectBody:function(G,X){X=this.getMatterBodies(X);for(var W=[],b=z.collides(G,X),K=0;K<b.length;K++){var Z=b[K];Z.bodyA===G?W.push(Z.bodyB):W.push(Z.bodyA)}return W},overlap:function(G,X,W,b,K){W===void 0&&(W=null),b===void 0&&(b=null),K===void 0&&(K=W),Array.isArray(G)||(G=[G]),G=this.getMatterBodies(G),X=this.getMatterBodies(X);for(var Z=!1,Q=0;Q<G.length;Q++)for(var J=G[Q],j=z.collides(J,X),k=0;k<j.length;k++){var $=j[k],_=$.bodyA.id===J.id?$.bodyB:$.bodyA;if(!b||b.call(K,J,_,$)){if(Z=!0,W)W.call(K,J,_,$);else if(!b)return!0}}return Z},setCollisionCategory:function(G,X){return G=this.getMatterBodies(G),G.forEach(function(W){W.collisionFilter.category=X}),this},setCollisionGroup:function(G,X){return G=this.getMatterBodies(G),G.forEach(function(W){W.collisionFilter.group=X}),this},setCollidesWith:function(G,X){G=this.getMatterBodies(G);var W=0;if(!Array.isArray(X))W=X;else for(var b=0;b<X.length;b++)W|=X[b];return G.forEach(function(K){K.collisionFilter.mask=W}),this},getMatterBodies:function(G){if(!G)return this.world.getAllBodies();Array.isArray(G)||(G=[G]);for(var X=[],W=0;W<G.length;W++){var b=G[W].hasOwnProperty("body")?G[W].body:G[W];X.push(b)}return X},setVelocity:function(G,X,W){G=this.getMatterBodies(G);var b=this._tempVec2;return b.x=X,b.y=W,G.forEach(function(K){s.setVelocity(K,b)}),this},setVelocityX:function(G,X){G=this.getMatterBodies(G);var W=this._tempVec2;return W.x=X,G.forEach(function(b){W.y=b.velocity.y,s.setVelocity(b,W)}),this},setVelocityY:function(G,X){G=this.getMatterBodies(G);var W=this._tempVec2;return W.y=X,G.forEach(function(b){W.x=b.velocity.x,s.setVelocity(b,W)}),this},setAngularVelocity:function(G,X){return G=this.getMatterBodies(G),G.forEach(function(W){s.setAngularVelocity(W,X)}),this},applyForce:function(G,X){G=this.getMatterBodies(G);var W=this._tempVec2;return G.forEach(function(b){W.x=b.position.x,W.y=b.position.y,s.applyForce(b,W,X)}),this},applyForceFromPosition:function(G,X,W,b){G=this.getMatterBodies(G);var K=this._tempVec2;return G.forEach(function(Z){b===void 0&&(b=Z.angle),K.x=W*Math.cos(b),K.y=W*Math.sin(b),s.applyForce(Z,X,K)}),this},applyForceFromAngle:function(G,X,W){G=this.getMatterBodies(G);var b=this._tempVec2;return G.forEach(function(K){W===void 0&&(W=K.angle),b.x=X*Math.cos(W),b.y=X*Math.sin(W),s.applyForce(K,{x:K.position.x,y:K.position.y},b)}),this},getConstraintLength:function(G){var X=G.pointA.x,W=G.pointA.y,b=G.pointB.x,K=G.pointB.y;return G.bodyA&&(X+=G.bodyA.position.x,W+=G.bodyA.position.y),G.bodyB&&(b+=G.bodyB.position.x,K+=G.bodyB.position.y),p(X,W,b,K)},alignBody:function(G,X,W,b){G=G.hasOwnProperty("body")?G.body:G;var K;switch(b){case u.TOP_LEFT:case u.LEFT_TOP:K=this.bodyBounds.getTopLeft(G,X,W);break;case u.TOP_CENTER:K=this.bodyBounds.getTopCenter(G,X,W);break;case u.TOP_RIGHT:case u.RIGHT_TOP:K=this.bodyBounds.getTopRight(G,X,W);break;case u.LEFT_CENTER:K=this.bodyBounds.getLeftCenter(G,X,W);break;case u.CENTER:K=this.bodyBounds.getCenter(G,X,W);break;case u.RIGHT_CENTER:K=this.bodyBounds.getRightCenter(G,X,W);break;case u.LEFT_BOTTOM:case u.BOTTOM_LEFT:K=this.bodyBounds.getBottomLeft(G,X,W);break;case u.BOTTOM_CENTER:K=this.bodyBounds.getBottomCenter(G,X,W);break;case u.BOTTOM_RIGHT:case u.RIGHT_BOTTOM:K=this.bodyBounds.getBottomRight(G,X,W);break}return K&&s.setPosition(G,K),this},shutdown:function(){var G=this.systems.events;this.world&&(G.off(Y.UPDATE,this.world.update,this.world),G.off(Y.POST_UPDATE,this.world.postUpdate,this.world)),G.off(Y.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(Y.START,this.start,this),this.scene=null,this.systems=null}});B.register("MatterPhysics",N,"matterPhysics"),v.exports=N},73658:(v,y,t)=>{var u=t(16569),c=t(56694),a=t(74527),s=t(89980),r=t(72632),e=t(58210),i=t(13747),l=t(93736),n=new c({Extends:i,Mixins:[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity,e],initialize:function(f,h,d,p,x,S){s.call(this,f.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new u(this),this.setTexture(p,x),this.setSizeToFrame(),this.setOrigin(),this.world=f,this._tempVec2=new l(h,d);var T=r(S,"shape",null);T?this.setBody(T,S):this.setRectangle(this.width,this.height,S),this.setPosition(h,d),this.initPipeline(),this.initPostPipeline(!0)}});v.exports=n},84720:(v,y,t)=>{var u=t(68516),c=t(84125),a=t(56694),s=t(74527),r=t(28699),e=t(6659),i=t(72632),l=t(19256),n=t(39745),o=new a({Extends:e,Mixins:[s.Bounce,s.Collision,s.Friction,s.Gravity,s.Mass,s.Sensor,s.Sleep,s.Static],initialize:function(h,d,p){e.call(this),this.tile=d,this.world=h,d.physics.matterBody&&d.physics.matterBody.destroy(),d.physics.matterBody=this;var x=i(p,"body",null),S=i(p,"addToWorld",!0);if(x)this.setBody(x,S);else{var T=d.getCollisionGroup(),C=i(T,"objects",[]);C.length>0?this.setFromTileCollision(p):this.setFromTileRectangle(p)}if(d.flipX||d.flipY){var E={x:d.getCenterX(),y:d.getCenterY()},P=d.flipX?-1:1,M=d.flipY?-1:1;c.scale(x,P,M,E)}},setFromTileRectangle:function(f){f===void 0&&(f={}),l(f,"isStatic")||(f.isStatic=!0),l(f,"addToWorld")||(f.addToWorld=!0);var h=this.tile.getBounds(),d=h.x+h.width/2,p=h.y+h.height/2,x=u.rectangle(d,p,h.width,h.height,f);return this.setBody(x,f.addToWorld),this},setFromTileCollision:function(f){f===void 0&&(f={}),l(f,"isStatic")||(f.isStatic=!0),l(f,"addToWorld")||(f.addToWorld=!0);for(var h=this.tile.tilemapLayer.scaleX,d=this.tile.tilemapLayer.scaleY,p=this.tile.getLeft(),x=this.tile.getTop(),S=this.tile.getCollisionGroup(),T=i(S,"objects",[]),C=[],E=0;E<T.length;E++){var P=T[E],M=p+P.x*h,L=x+P.y*d,R=P.width*h,w=P.height*d,D=null;if(P.rectangle)D=u.rectangle(M+R/2,L+w/2,R,w,f);else if(P.ellipse)D=u.circle(M+R/2,L+w/2,R/2,f);else if(P.polygon||P.polyline){var B=P.polygon?P.polygon:P.polyline,z=B.map(function(I){return{x:I.x*h,y:I.y*d}}),V=n.create(z),Y=n.centre(V);M+=Y.x,L+=Y.y,D=u.fromVertices(M,L,V,f)}D&&C.push(D)}if(C.length===1)this.setBody(C[0],f.addToWorld);else if(C.length>1){var H=r(f);H.parts=C,this.setBody(c.create(H),H.addToWorld)}return this},setBody:function(f,h){return h===void 0&&(h=!0),this.body&&this.removeBody(),this.body=f,this.body.gameObject=this,h&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});v.exports=o},10998:(v,y,t)=>{var u=t(68516),c=t(84125),a=t(68758),s=t(72632),r=t(39745),e={parseBody:function(i,l,n,o){o===void 0&&(o={});for(var f=s(n,"fixtures",[]),h=[],d=0;d<f.length;d++)for(var p=this.parseFixture(f[d]),x=0;x<p.length;x++)h.push(p[x]);var S=a.clone(n,!0);a.extend(S,o,!0),delete S.fixtures,delete S.type;var T=c.create(S);return c.setParts(T,h),c.setPosition(T,{x:i,y:l}),T},parseFixture:function(i){var l=a.extend({},!1,i);delete l.circle,delete l.vertices;var n;if(i.circle){var o=s(i.circle,"x"),f=s(i.circle,"y"),h=s(i.circle,"radius");n=[u.circle(o,f,h,l)]}else i.vertices&&(n=this.parseVertices(i.vertices,l));return n},parseVertices:function(i,l){l===void 0&&(l={});for(var n=[],o=0;o<i.length;o++)r.clockwiseSort(i[o]),n.push(c.create(a.extend({position:r.centre(i[o]),vertices:i[o]},l)));return u.flagCoincidentParts(n)}};v.exports=e},72829:(v,y,t)=>{var u=t(68516),c=t(84125),a={parseBody:function(s,r,e,i){i===void 0&&(i={});var l,n=e.vertices;if(n.length===1)i.vertices=n[0],l=c.create(i),u.flagCoincidentParts(l.parts);else{for(var o=[],f=0;f<n.length;f++){var h=c.create({vertices:n[f]});o.push(h)}u.flagCoincidentParts(o),i.parts=o,l=c.create(i)}return l.label=e.label,c.setPosition(l,{x:s,y:r}),l}};v.exports=a},88596:(v,y,t)=>{var u=t(84091),c=t(56694),a=t(11299),s=t(52838),r=t(13657),e=t(35416),i=t(33963),l=t(30657),n=t(22806),o=t(93736),f=t(39745),h=new c({initialize:function(p,x,S){S===void 0&&(S={});var T={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=p,this.world=x,this.camera=null,this.pointer=null,this.active=!0,this.position=new o,this.body=null,this.part=null,this.constraint=s.create(l(S,T)),this.world.on(e.BEFORE_UPDATE,this.update,this),p.sys.input.on(i.POINTER_DOWN,this.onDown,this),p.sys.input.on(i.POINTER_UP,this.onUp,this)},onDown:function(d){this.pointer||(this.pointer=d,this.camera=d.camera)},onUp:function(d){d===this.pointer&&(this.pointer=null)},getBody:function(d){var p=this.position,x=this.constraint;this.camera.getWorldPoint(d.x,d.y,p);for(var S=a.allBodies(this.world.localWorld),T=0;T<S.length;T++){var C=S[T];if(!C.ignorePointer&&u.contains(C.bounds,p)&&r.canCollide(C.collisionFilter,x.collisionFilter)&&this.hitTestBody(C,p))return this.world.emit(e.DRAG_START,C,this.part,this),!0}return!1},hitTestBody:function(d,p){for(var x=this.constraint,S=d.parts.length,T=S>1?1:0,C=T;C<S;C++){var E=d.parts[C];if(f.contains(E.vertices,p))return x.pointA=p,x.pointB={x:p.x-d.position.x,y:p.y-d.position.y},x.bodyB=d,x.angleB=d.angle,n.set(d,!1),this.part=E,this.body=d,!0}return!1},update:function(){var d=this.pointer,p=this.body;if(!this.active||!d){p&&this.stopDrag();return}if(!d.isDown&&p){this.stopDrag();return}else if(d.isDown){if(!p&&!this.getBody(d))return;p=this.body;var x=this.position,S=this.constraint;this.camera.getWorldPoint(d.x,d.y,x),S.pointA.x=x.x,S.pointA.y=x.y,n.set(p,!1),this.world.emit(e.DRAG,p,this)}},stopDrag:function(){var d=this.body,p=this.constraint;p.bodyB=null,p.pointB=null,this.pointer=null,this.body=null,this.part=null,d&&this.world.emit(e.DRAG_END,d,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(i.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(i.POINTER_UP,this.onUp,this)}});v.exports=h},31468:(v,y,t)=>{var u=t(68516),c=t(84125),a=t(56694),s=t(68758),r=t(11299),e=t(45775),i=t(6659),l=t(35416),n=t(72632),o=t(10850),f=t(84125),h=t(39073),d=t(84720),p=t(72005),x=t(10438),S=new a({Extends:i,initialize:function(C,E){i.call(this),this.scene=C,this.engine=e.create(E),this.localWorld=this.engine.world;var P=o(E,"gravity",null);P?this.setGravity(P.x,P.y,P.scale):P===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=o(E,"enabled",!0),this.getDelta=o(E,"getDelta",this.update60Hz);var M=n(E,"runner",{}),L=n(M,"fps",!1),R=n(M,"fps",60),w=n(M,"delta",1e3/R),D=n(M,"deltaMin",1e3/R),B=n(M,"deltaMax",1e3/(R*.5));L||(R=1e3/w),this.runner={fps:R,deltaSampleSize:n(M,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:n(M,"isFixed",!1),delta:w,deltaMin:D,deltaMax:B},this.autoUpdate=o(E,"autoUpdate",!0);var z=o(E,"debug",!1);if(this.drawDebug=typeof z=="object"?!0:z,this.debugGraphic,this.debugConfig={showAxes:n(z,"showAxes",!1),showAngleIndicator:n(z,"showAngleIndicator",!1),angleColor:n(z,"angleColor",15208787),showBroadphase:n(z,"showBroadphase",!1),broadphaseColor:n(z,"broadphaseColor",16757760),showBounds:n(z,"showBounds",!1),boundsColor:n(z,"boundsColor",16777215),showVelocity:n(z,"showVelocity",!1),velocityColor:n(z,"velocityColor",44783),showCollisions:n(z,"showCollisions",!1),collisionColor:n(z,"collisionColor",16094476),showSeparations:n(z,"showSeparations",!1),separationColor:n(z,"separationColor",16753920),showBody:n(z,"showBody",!0),showStaticBody:n(z,"showStaticBody",!0),showInternalEdges:n(z,"showInternalEdges",!1),renderFill:n(z,"renderFill",!1),renderLine:n(z,"renderLine",!0),fillColor:n(z,"fillColor",1075465),fillOpacity:n(z,"fillOpacity",1),lineColor:n(z,"lineColor",2678297),lineOpacity:n(z,"lineOpacity",1),lineThickness:n(z,"lineThickness",1),staticFillColor:n(z,"staticFillColor",857979),staticLineColor:n(z,"staticLineColor",1255396),showSleeping:n(z,"showSleeping",!1),staticBodySleepOpacity:n(z,"staticBodySleepOpacity",.7),sleepFillColor:n(z,"sleepFillColor",4605510),sleepLineColor:n(z,"sleepLineColor",10066585),showSensors:n(z,"showSensors",!0),sensorFillColor:n(z,"sensorFillColor",857979),sensorLineColor:n(z,"sensorLineColor",1255396),showPositions:n(z,"showPositions",!0),positionSize:n(z,"positionSize",4),positionColor:n(z,"positionColor",14697178),showJoint:n(z,"showJoint",!0),jointColor:n(z,"jointColor",14737474),jointLineOpacity:n(z,"jointLineOpacity",1),jointLineThickness:n(z,"jointLineThickness",2),pinSize:n(z,"pinSize",4),pinColor:n(z,"pinColor",4382944),springColor:n(z,"springColor",14697184),anchorColor:n(z,"anchorColor",15724527),anchorSize:n(z,"anchorSize",4),showConvexHulls:n(z,"showConvexHulls",!1),hullColor:n(z,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),n(E,"setBounds",!1)){var V=E.setBounds;if(typeof V=="boolean")this.setBounds();else{var Y=n(V,"x",0),H=n(V,"y",0),I=n(V,"width",C.sys.scale.width),U=n(V,"height",C.sys.scale.height),O=n(V,"thickness",64),N=n(V,"left",!0),G=n(V,"right",!0),X=n(V,"top",!0),W=n(V,"bottom",!0);this.setBounds(Y,H,I,U,O,N,G,X,W)}}},setCompositeRenderStyle:function(T){var C=T.bodies,E=T.constraints,P=T.composites,M,L,R;for(M=0;M<C.length;M++)L=C[M],R=L.render,this.setBodyRenderStyle(L,R.lineColor,R.lineOpacity,R.lineThickness,R.fillColor,R.fillOpacity);for(M=0;M<E.length;M++)L=E[M],R=L.render,this.setConstraintRenderStyle(L,R.lineColor,R.lineOpacity,R.lineThickness,R.pinSize,R.anchorColor,R.anchorSize);for(M=0;M<P.length;M++)L=P[M],this.setCompositeRenderStyle(L);return this},setBodyRenderStyle:function(T,C,E,P,M,L){var R=T.render,w=this.debugConfig;return R?(C==null&&(C=T.isStatic?w.staticLineColor:w.lineColor),E==null&&(E=w.lineOpacity),P==null&&(P=w.lineThickness),M==null&&(M=T.isStatic?w.staticFillColor:w.fillColor),L==null&&(L=w.fillOpacity),C!==!1&&(R.lineColor=C),E!==!1&&(R.lineOpacity=E),P!==!1&&(R.lineThickness=P),M!==!1&&(R.fillColor=M),L!==!1&&(R.fillOpacity=L),this):this},setConstraintRenderStyle:function(T,C,E,P,M,L,R){var w=T.render,D=this.debugConfig;if(!w)return this;if(C==null){var B=w.type;B==="line"?C=D.jointColor:B==="pin"?C=D.pinColor:B==="spring"&&(C=D.springColor)}return E==null&&(E=D.jointLineOpacity),P==null&&(P=D.jointLineThickness),M==null&&(M=D.pinSize),L==null&&(L=D.anchorColor),R==null&&(R=D.anchorSize),C!==!1&&(w.lineColor=C),E!==!1&&(w.lineOpacity=E),P!==!1&&(w.lineThickness=P),M!==!1&&(w.pinSize=M),L!==!1&&(w.anchorColor=L),R!==!1&&(w.anchorSize=R),this},setEventsProxy:function(){var T=this,C=this.engine,E=this.localWorld;this.drawDebug&&(h.on(E,"compositeModified",function(P){T.setCompositeRenderStyle(P)}),h.on(E,"beforeAdd",function(P){for(var M=[].concat(P.object),L=0;L<M.length;L++){var R=M[L],w=R.render;R.type==="body"?T.setBodyRenderStyle(R,w.lineColor,w.lineOpacity,w.lineThickness,w.fillColor,w.fillOpacity):R.type==="composite"?T.setCompositeRenderStyle(R):R.type==="constraint"&&T.setConstraintRenderStyle(R,w.lineColor,w.lineOpacity,w.lineThickness,w.pinSize,w.anchorColor,w.anchorSize)}})),h.on(E,"beforeAdd",function(P){T.emit(l.BEFORE_ADD,P)}),h.on(E,"afterAdd",function(P){T.emit(l.AFTER_ADD,P)}),h.on(E,"beforeRemove",function(P){T.emit(l.BEFORE_REMOVE,P)}),h.on(E,"afterRemove",function(P){T.emit(l.AFTER_REMOVE,P)}),h.on(C,"beforeUpdate",function(P){T.emit(l.BEFORE_UPDATE,P)}),h.on(C,"afterUpdate",function(P){T.emit(l.AFTER_UPDATE,P)}),h.on(C,"collisionStart",function(P){var M=P.pairs,L,R;M.length>0&&(L=M[0].bodyA,R=M[0].bodyB),T.emit(l.COLLISION_START,P,L,R)}),h.on(C,"collisionActive",function(P){var M=P.pairs,L,R;M.length>0&&(L=M[0].bodyA,R=M[0].bodyB),T.emit(l.COLLISION_ACTIVE,P,L,R)}),h.on(C,"collisionEnd",function(P){var M=P.pairs,L,R;M.length>0&&(L=M[0].bodyA,R=M[0].bodyB),T.emit(l.COLLISION_END,P,L,R)})},setBounds:function(T,C,E,P,M,L,R,w,D){return T===void 0&&(T=0),C===void 0&&(C=0),E===void 0&&(E=this.scene.sys.scale.width),P===void 0&&(P=this.scene.sys.scale.height),M===void 0&&(M=64),L===void 0&&(L=!0),R===void 0&&(R=!0),w===void 0&&(w=!0),D===void 0&&(D=!0),this.updateWall(L,"left",T-M,C-M,M,P+M*2),this.updateWall(R,"right",T+E,C-M,M,P+M*2),this.updateWall(w,"top",T,C-M,E,M),this.updateWall(D,"bottom",T,C+P,E,M),this},updateWall:function(T,C,E,P,M,L){var R=this.walls[C];T?(R&&p.remove(this.localWorld,R),E+=M/2,P+=L/2,this.walls[C]=this.create(E,P,M,L,{isStatic:!0,friction:0,frictionStatic:0})):(R&&p.remove(this.localWorld,R),this.walls[C]=null)},createDebugGraphic:function(){var T=this.scene.sys.add.graphics({x:0,y:0});return T.setDepth(Number.MAX_VALUE),this.debugGraphic=T,this.drawDebug=!0,T},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(T,C,E){return T===void 0&&(T=0),C===void 0&&(C=1),E===void 0&&(E=.001),this.localWorld.gravity.x=T,this.localWorld.gravity.y=C,this.localWorld.gravity.scale=E,this},create:function(T,C,E,P,M){var L=u.rectangle(T,C,E,P,M);return p.add(this.localWorld,L),L},add:function(T){return p.add(this.localWorld,T),this},remove:function(T,C){Array.isArray(T)||(T=[T]);for(var E=0;E<T.length;E++){var P=T[E],M=P.body?P.body:P;r.remove(this.localWorld,M,C)}return this},removeConstraint:function(T,C){return r.remove(this.localWorld,T,C),this},convertTilemapLayer:function(T,C){var E=T.layer,P=T.getTilesWithin(0,0,E.width,E.height,{isColliding:!0});return this.convertTiles(P,C),this},convertTiles:function(T,C){if(T.length===0)return this;for(var E=0;E<T.length;E++)new d(this,T[E],C);return this},nextGroup:function(T){return f.nextGroup(T)},nextCategory:function(){return f.nextCategory()},pause:function(){return this.enabled=!1,this.emit(l.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(l.RESUME),this},update:function(T,C){if(!(!this.enabled||!this.autoUpdate)){var E=this.engine,P=this.runner,M=E.timing;P.isFixed?C=this.getDelta(T,C):(C=T-P.timePrev||P.delta,P.timePrev=T,P.deltaHistory.push(C),P.deltaHistory=P.deltaHistory.slice(-P.deltaSampleSize),C=Math.min.apply(null,P.deltaHistory),C=C<P.deltaMin?P.deltaMin:C,C=C>P.deltaMax?P.deltaMax:C,P.delta=C),P.timeScalePrev=M.timeScale,P.frameCounter+=1,T-P.counterTimestamp>=1e3&&(P.fps=P.frameCounter*((T-P.counterTimestamp)/1e3),P.counterTimestamp=T,P.frameCounter=0),e.update(E,C)}},step:function(T){e.update(this.engine,T)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(T){var C=T.hasOwnProperty("body")?T.body:T;return r.get(this.localWorld,C.id,C.type)!==null},getAllBodies:function(){return r.allBodies(this.localWorld)},getAllConstraints:function(){return r.allConstraints(this.localWorld)},getAllComposites:function(){return r.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var T=this.debugConfig,C=this.engine,E=this.debugGraphic,P=r.allBodies(this.localWorld);this.debugGraphic.clear(),T.showBroadphase&&C.broadphase.controller&&this.renderGrid(C.broadphase,E,T.broadphaseColor,.5),T.showBounds&&this.renderBodyBounds(P,E,T.boundsColor,.5),(T.showBody||T.showStaticBody)&&this.renderBodies(P),T.showJoint&&this.renderJoints(),(T.showAxes||T.showAngleIndicator)&&this.renderBodyAxes(P,E,T.showAxes,T.angleColor,.5),T.showVelocity&&this.renderBodyVelocity(P,E,T.velocityColor,1,2),T.showSeparations&&this.renderSeparations(C.pairs.list,E,T.separationColor),T.showCollisions&&this.renderCollisions(C.pairs.list,E,T.collisionColor)}},renderGrid:function(T,C,E,P){C.lineStyle(1,E,P);for(var M=s.keys(T.buckets),L=0;L<M.length;L++){var R=M[L];if(!(T.buckets[R].length<2)){var w=R.split(/C|R/);C.strokeRect(parseInt(w[1],10)*T.bucketWidth,parseInt(w[2],10)*T.bucketHeight,T.bucketWidth,T.bucketHeight)}}return this},renderSeparations:function(T,C,E){C.lineStyle(1,E,1);for(var P=0;P<T.length;P++){var M=T[P];if(M.isActive){var L=M.collision,R=L.bodyA,w=L.bodyB,D=R.position,B=w.position,z=L.penetration,V=!R.isStatic&&!w.isStatic?4:1;w.isStatic&&(V=0),C.lineBetween(B.x,B.y,B.x-z.x*V,B.y-z.y*V),V=!R.isStatic&&!w.isStatic?4:1,R.isStatic&&(V=0),C.lineBetween(D.x,D.y,D.x-z.x*V,D.y-z.y*V)}}return this},renderCollisions:function(T,C,E){C.lineStyle(1,E,.5),C.fillStyle(E,1);var P,M;for(P=0;P<T.length;P++)if(M=T[P],!!M.isActive)for(var L=0;L<M.activeContacts.length;L++){var R=M.activeContacts[L],w=R.vertex;C.fillRect(w.x-2,w.y-2,5,5)}for(P=0;P<T.length;P++)if(M=T[P],!!M.isActive){var D=M.collision,B=M.activeContacts;if(B.length>0){var z=B[0].vertex.x,V=B[0].vertex.y;B.length===2&&(z=(B[0].vertex.x+B[1].vertex.x)/2,V=(B[0].vertex.y+B[1].vertex.y)/2),D.bodyB===D.supports[0].body||D.bodyA.isStatic?C.lineBetween(z-D.normal.x*8,V-D.normal.y*8,z,V):C.lineBetween(z+D.normal.x*8,V+D.normal.y*8,z,V)}}return this},renderBodyBounds:function(T,C,E,P){C.lineStyle(1,E,P);for(var M=0;M<T.length;M++){var L=T[M];if(L.render.visible){var R=L.bounds;if(R)C.strokeRect(R.min.x,R.min.y,R.max.x-R.min.x,R.max.y-R.min.y);else for(var w=L.parts,D=w.length>1?1:0;D<w.length;D++){var B=w[D];C.strokeRect(B.bounds.min.x,B.bounds.min.y,B.bounds.max.x-B.bounds.min.x,B.bounds.max.y-B.bounds.min.y)}}}return this},renderBodyAxes:function(T,C,E,P,M){C.lineStyle(1,P,M);for(var L=0;L<T.length;L++){var R=T[L],w=R.parts;if(R.render.visible){var D,B,z;if(E)for(B=w.length>1?1:0;B<w.length;B++)for(D=w[B],z=0;z<D.axes.length;z++){var V=D.axes[z];C.lineBetween(D.position.x,D.position.y,D.position.x+V.x*20,D.position.y+V.y*20)}else for(B=w.length>1?1:0;B<w.length;B++)for(D=w[B],z=0;z<D.axes.length;z++)C.lineBetween(D.position.x,D.position.y,(D.vertices[0].x+D.vertices[D.vertices.length-1].x)/2,(D.vertices[0].y+D.vertices[D.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(T,C,E,P,M){C.lineStyle(M,E,P);for(var L=0;L<T.length;L++){var R=T[L];R.render.visible&&C.lineBetween(R.position.x,R.position.y,R.position.x+(R.position.x-R.positionPrev.x)*2,R.position.y+(R.position.y-R.positionPrev.y)*2)}return this},renderBodies:function(T){for(var C=this.debugGraphic,E=this.debugConfig,P=E.showBody,M=E.showStaticBody,L=E.showSleeping,R=E.showInternalEdges,w=E.showConvexHulls,D=E.renderFill,B=E.renderLine,z=E.staticBodySleepOpacity,V=E.sleepFillColor,Y=E.sleepLineColor,H=E.hullColor,I=0;I<T.length;I++){var U=T[I];if(U.render.visible&&!(!M&&U.isStatic||!P&&!U.isStatic)){var O=U.render.lineColor,N=U.render.lineOpacity,G=U.render.lineThickness,X=U.render.fillColor,W=U.render.fillOpacity;L&&U.isSleeping&&(U.isStatic?(N*=z,W*=z):(O=Y,X=V)),D||(X=null),B||(O=null),this.renderBody(U,C,R,O,N,G,X,W);var b=U.parts.length;w&&b>1&&this.renderConvexHull(U,C,H,G)}}},renderBody:function(T,C,E,P,M,L,R,w){P===void 0&&(P=null),M===void 0&&(M=null),L===void 0&&(L=1),R===void 0&&(R=null),w===void 0&&(w=null);for(var D=this.debugConfig,B=D.sensorFillColor,z=D.sensorLineColor,V=T.parts,Y=V.length,H=Y>1?1:0;H<Y;H++){var I=V[H],U=I.render,O=U.opacity;if(!(!U.visible||O===0||I.isSensor&&!D.showSensors)){var N=I.circleRadius;if(C.beginPath(),I.isSensor?(R!==null&&C.fillStyle(B,w*O),P!==null&&C.lineStyle(L,z,M*O)):(R!==null&&C.fillStyle(R,w*O),P!==null&&C.lineStyle(L,P,M*O)),N)C.arc(I.position.x,I.position.y,N,0,2*Math.PI);else{var G=I.vertices,X=G.length;C.moveTo(G[0].x,G[0].y);for(var W=1;W<X;W++){var b=G[W];if(!G[W-1].isInternal||E?C.lineTo(b.x,b.y):C.moveTo(b.x,b.y),W<X&&b.isInternal&&!E){var K=(W+1)%X;C.moveTo(G[K].x,G[K].y)}}C.closePath()}R!==null&&C.fillPath(),P!==null&&C.strokePath()}}if(D.showPositions&&!T.isStatic){var Z=T.position.x,Q=T.position.y,J=Math.ceil(D.positionSize/2);C.fillStyle(D.positionColor,1),C.fillRect(Z-J,Q-J,D.positionSize,D.positionSize)}return this},renderConvexHull:function(T,C,E,P){P===void 0&&(P=1);var M=T.parts,L=M.length;if(L>1){var R=T.vertices;C.lineStyle(P,E),C.beginPath(),C.moveTo(R[0].x,R[0].y);for(var w=1;w<R.length;w++)C.lineTo(R[w].x,R[w].y);C.lineTo(R[0].x,R[0].y),C.strokePath()}return this},renderJoints:function(){for(var T=this.debugGraphic,C=r.allConstraints(this.localWorld),E=0;E<C.length;E++){var P=C[E].render,M=P.lineColor,L=P.lineOpacity,R=P.lineThickness,w=P.pinSize,D=P.anchorColor,B=P.anchorSize;this.renderConstraint(C[E],T,M,L,R,w,D,B)}},renderConstraint:function(T,C,E,P,M,L,R,w){var D=T.render;if(!D.visible||!T.pointA||!T.pointB)return this;C.lineStyle(M,E,P);var B=T.bodyA,z=T.bodyB,V,Y;if(B?V=x.add(B.position,T.pointA):V=T.pointA,D.type==="pin")C.strokeCircle(V.x,V.y,L);else{if(z?Y=x.add(z.position,T.pointB):Y=T.pointB,C.beginPath(),C.moveTo(V.x,V.y),D.type==="spring")for(var H=x.sub(Y,V),I=x.perp(x.normalise(H)),U=Math.ceil(s.clamp(T.length/5,12,20)),O,N=1;N<U;N+=1)O=N%2===0?1:-1,C.lineTo(V.x+H.x*(N/U)+I.x*O*4,V.y+H.y*(N/U)+I.y*O*4);C.lineTo(Y.x,Y.y)}return C.strokePath(),D.anchors&&w>0&&(C.fillStyle(R),C.fillCircle(V.x,V.y,w),C.fillCircle(Y.x,Y.y,w)),this},resetCollisionIDs:function(){return c._nextCollidingGroupId=1,c._nextNonCollidingGroupId=-1,c._nextCategory=1,this},shutdown:function(){h.off(this.engine),this.removeAllListeners(),p.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});v.exports=S},95349:v=>{var y={setBounce:function(t){return this.body.restitution=t,this}};v.exports=y},70679:v=>{var y={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var u=0;if(!Array.isArray(t))u=t;else for(var c=0;c<t.length;c++)u|=t[c];return this.body.collisionFilter.mask=u,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,u){Array.isArray(t)||(t=[t]);for(var c=0;c<t.length;c++){var a=t[c].hasOwnProperty("body")?t[c].body:t[c];this.body.setOnCollideWith(a,u)}return this}};v.exports=y},77178:(v,y,t)=>{var u=t(84125),c={applyForce:function(a){return this._tempVec2.set(this.body.position.x,this.body.position.y),u.applyForce(this.body,this._tempVec2,a),this},applyForceFrom:function(a,s){return u.applyForce(this.body,a,s),this},thrust:function(a){var s=this.body.angle;return this._tempVec2.set(a*Math.cos(s),a*Math.sin(s)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(a){var s=this.body.angle-Math.PI/2;return this._tempVec2.set(a*Math.cos(s),a*Math.sin(s)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(a){var s=this.body.angle+Math.PI/2;return this._tempVec2.set(a*Math.cos(s),a*Math.sin(s)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(a){var s=this.body.angle-Math.PI;return this._tempVec2.set(a*Math.cos(s),a*Math.sin(s)),u.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};v.exports=c},74015:v=>{var y={setFriction:function(t,u,c){return this.body.friction=t,u!==void 0&&(this.body.frictionAir=u),c!==void 0&&(this.body.frictionStatic=c),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};v.exports=y},11535:v=>{var y={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};v.exports=y},74497:(v,y,t)=>{var u=t(84125),c=t(93736),a={setMass:function(s){return u.setMass(this.body,s),this},setDensity:function(s){return u.setDensity(this.body,s),this},centerOfMass:{get:function(){return new c(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};v.exports=a},75529:v=>{var y={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};v.exports=y},64024:(v,y,t)=>{var u=t(68516),c=t(84125),a=t(88456),s=t(72632),r=t(10998),e=t(72829),i=t(39745),l={setRectangle:function(n,o,f){return this.setBody({type:"rectangle",width:n,height:o},f)},setCircle:function(n,o){return this.setBody({type:"circle",radius:n},o)},setPolygon:function(n,o,f){return this.setBody({type:"polygon",sides:o,radius:n},f)},setTrapezoid:function(n,o,f,h){return this.setBody({type:"trapezoid",width:n,height:o,slope:f},h)},setExistingBody:function(n,o){o===void 0&&(o=!0),this.body&&this.world.remove(this.body,!0),this.body=n;for(var f=0;f<n.parts.length;f++)n.parts[f].gameObject=this;var h=this;if(n.destroy=function(){h.world.remove(h.body,!0),h.body.gameObject=null},o&&(this.world.has(n)&&this.world.remove(n,!0),this.world.add(n)),this._originComponent){var d=n.render.sprite.xOffset,p=n.render.sprite.yOffset,x=n.centerOfMass.x,S=n.centerOfMass.y;if(a(x,.5)&&a(S,.5))this.setOrigin(d+.5,p+.5);else{var T=n.centerOffset.x,C=n.centerOffset.y;this.setOrigin(d+T/this.displayWidth,p+C/this.displayHeight)}}return this},setBody:function(n,o){if(!n)return this;var f;typeof n=="string"&&(n={type:n});var h=s(n,"type","rectangle"),d=s(n,"x",this._tempVec2.x),p=s(n,"y",this._tempVec2.y),x=s(n,"width",this.width),S=s(n,"height",this.height);switch(h){case"rectangle":f=u.rectangle(d,p,x,S,o);break;case"circle":var T=s(n,"radius",Math.max(x,S)/2),C=s(n,"maxSides",25);f=u.circle(d,p,T,o,C);break;case"trapezoid":var E=s(n,"slope",.5);f=u.trapezoid(d,p,x,S,E,o);break;case"polygon":var P=s(n,"sides",5),M=s(n,"radius",Math.max(x,S)/2);f=u.polygon(d,p,P,M,o);break;case"fromVertices":case"fromVerts":var L=s(n,"verts",null);if(L)if(typeof L=="string"&&(L=i.fromPath(L)),this.body&&!this.body.hasOwnProperty("temp"))c.setVertices(this.body,L),f=this.body;else{var R=s(n,"flagInternal",!1),w=s(n,"removeCollinear",.01),D=s(n,"minimumArea",10);f=u.fromVertices(d,p,L,o,R,w,D)}break;case"fromPhysicsEditor":f=r.parseBody(d,p,n,o);break;case"fromPhysicsTracer":f=e.parseBody(d,p,n,o);break}return f&&this.setExistingBody(f,n.addToWorld),this}};v.exports=l},25106:(v,y,t)=>{var u=t(35416),c=t(22806),a=t(39073),s={setToSleep:function(){return c.set(this.body,!0),this},setAwake:function(){return c.set(this.body,!1),this},setSleepThreshold:function(r){return r===void 0&&(r=60),this.body.sleepThreshold=r,this},setSleepEvents:function(r,e){return this.setSleepStartEvent(r),this.setSleepEndEvent(e),this},setSleepStartEvent:function(r){if(r){var e=this.world;a.on(this.body,"sleepStart",function(i){e.emit(u.SLEEP_START,i,this)})}else a.off(this.body,"sleepStart");return this},setSleepEndEvent:function(r){if(r){var e=this.world;a.on(this.body,"sleepEnd",function(i){e.emit(u.SLEEP_END,i,this)})}else a.off(this.body,"sleepEnd");return this}};v.exports=s},82884:(v,y,t)=>{var u=t(84125),c={setStatic:function(a){return u.setStatic(this.body,a),this},isStatic:function(){return this.body.isStatic}};v.exports=c},4753:(v,y,t)=>{var u=t(84125),c=t(83392),a=t(35786),s=t(62138),r=4,e={x:{get:function(){return this.body.position.x},set:function(i){this._tempVec2.set(i,this.y),u.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(i){this._tempVec2.set(this.x,i),u.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(i){var l=1/this._scaleX,n=1/this._scaleY;this._scaleX=i,this._scaleX===0?this.renderFlags&=~r:this.renderFlags|=r,u.scale(this.body,l,n),u.scale(this.body,i,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(i){var l=1/this._scaleX,n=1/this._scaleY;this._scaleY=i,this._scaleY===0?this.renderFlags&=~r:this.renderFlags|=r,u.scale(this.body,l,n),u.scale(this.body,this._scaleX,i)}},angle:{get:function(){return s(this.body.angle*c.RAD_TO_DEG)},set:function(i){this.rotation=s(i)*c.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(i){this._rotation=a(i),u.setAngle(this.body,this._rotation)}},setPosition:function(i,l){return i===void 0&&(i=0),l===void 0&&(l=i),this._tempVec2.set(i,l),u.setPosition(this.body,this._tempVec2),this},setRotation:function(i){return i===void 0&&(i=0),this._rotation=a(i),u.setAngle(this.body,i),this},setFixedRotation:function(){return u.setInertia(this.body,1/0),this},setAngle:function(i){return i===void 0&&(i=0),this.angle=i,u.setAngle(this.body,this.rotation),this},setScale:function(i,l,n){i===void 0&&(i=1),l===void 0&&(l=i);var o=1/this._scaleX,f=1/this._scaleY;return this._scaleX=i,this._scaleY=l,u.scale(this.body,o,f,n),u.scale(this.body,i,l,n),this}};v.exports=e},37268:(v,y,t)=>{var u=t(84125),c={setVelocityX:function(a){return this._tempVec2.set(a,this.body.velocity.y),u.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(a){return this._tempVec2.set(this.body.velocity.x,a),u.setVelocity(this.body,this._tempVec2),this},setVelocity:function(a,s){return this._tempVec2.set(a,s),u.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return u.getVelocity(this.body)},setAngularVelocity:function(a){return u.setAngularVelocity(this.body,a),this},getAngularVelocity:function(){return u.getAngularVelocity(this.body)},setAngularSpeed:function(a){return u.setAngularSpeed(this.body,a),this},getAngularSpeed:function(){return u.getAngularSpeed(this.body)}};v.exports=c},74527:(v,y,t)=>{v.exports={Bounce:t(95349),Collision:t(70679),Force:t(77178),Friction:t(74015),Gravity:t(11535),Mass:t(74497),Sensor:t(75529),SetBody:t(64024),Sleep:t(25106),Static:t(82884),Transform:t(4753),Velocity:t(37268)}},63201:v=>{v.exports="afteradd"},30474:v=>{v.exports="afterremove"},44822:v=>{v.exports="afterupdate"},88820:v=>{v.exports="beforeadd"},94849:v=>{v.exports="beforeremove"},6391:v=>{v.exports="beforeupdate"},96738:v=>{v.exports="collisionactive"},7916:v=>{v.exports="collisionend"},59529:v=>{v.exports="collisionstart"},10219:v=>{v.exports="dragend"},183:v=>{v.exports="drag"},39143:v=>{v.exports="dragstart"},16483:v=>{v.exports="pause"},35806:v=>{v.exports="resume"},22106:v=>{v.exports="sleepend"},5803:v=>{v.exports="sleepstart"},35416:(v,y,t)=>{v.exports={AFTER_ADD:t(63201),AFTER_REMOVE:t(30474),AFTER_UPDATE:t(44822),BEFORE_ADD:t(88820),BEFORE_REMOVE:t(94849),BEFORE_UPDATE:t(6391),COLLISION_ACTIVE:t(96738),COLLISION_END:t(7916),COLLISION_START:t(59529),DRAG_END:t(10219),DRAG:t(183),DRAG_START:t(39143),PAUSE:t(16483),RESUME:t(35806),SLEEP_END:t(22106),SLEEP_START:t(5803)}},45949:(v,y,t)=>{v.exports={BodyBounds:t(63568),Components:t(74527),Events:t(35416),Factory:t(72653),MatterGameObject:t(3860),Image:t(7030),Matter:t(18171),MatterPhysics:t(50583),PolyDecomp:t(81084),Sprite:t(73658),TileBody:t(84720),PhysicsEditorParser:t(10998),PhysicsJSONParser:t(72829),PointerConstraint:t(88596),World:t(31468)}},84125:(v,y,t)=>{var u={};v.exports=u;var c=t(39745),a=t(10438),s=t(22806),r=t(68758),e=t(84091),i=t(50658);(function(){u._timeCorrection=!0,u._inertiaScale=4,u._nextCollidingGroupId=1,u._nextNonCollidingGroupId=-1,u._nextCategory=1,u._baseDelta=16.666666666666668,u.create=function(n){var o={id:r.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!n.hasOwnProperty("position")&&n.hasOwnProperty("vertices")?n.position=c.centre(n.vertices):n.hasOwnProperty("vertices")||(o.vertices=c.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var f=r.extend(o,n);return l(f,n),f.setOnCollideWith=function(h,d){return d?this.onCollideWith[h.id]=d:delete this.onCollideWith[h.id],this},f},u.nextGroup=function(n){return n?u._nextNonCollidingGroupId--:u._nextCollidingGroupId++},u.nextCategory=function(){return u._nextCategory=u._nextCategory<<1,u._nextCategory};var l=function(n,o){if(o=o||{},u.set(n,{bounds:n.bounds||e.create(n.vertices),positionPrev:n.positionPrev||a.clone(n.position),anglePrev:n.anglePrev||n.angle,vertices:n.vertices,parts:n.parts||[n],isStatic:n.isStatic,isSleeping:n.isSleeping,parent:n.parent||n}),c.rotate(n.vertices,n.angle,n.position),i.rotate(n.axes,n.angle),e.update(n.bounds,n.vertices,n.velocity),u.set(n,{axes:o.axes||n.axes,area:o.area||n.area,mass:o.mass||n.mass,inertia:o.inertia||n.inertia}),n.parts.length===1){var f=n.bounds,h=n.centerOfMass,d=n.centerOffset,p=f.max.x-f.min.x,x=f.max.y-f.min.y;h.x=-(f.min.x-n.position.x)/p,h.y=-(f.min.y-n.position.y)/x,d.x=p*h.x,d.y=x*h.y}};u.set=function(n,o,f){var h;typeof o=="string"&&(h=o,o={},o[h]=f);for(h in o)if(Object.prototype.hasOwnProperty.call(o,h))switch(f=o[h],h){case"isStatic":u.setStatic(n,f);break;case"isSleeping":s.set(n,f);break;case"mass":u.setMass(n,f);break;case"density":u.setDensity(n,f);break;case"inertia":u.setInertia(n,f);break;case"vertices":u.setVertices(n,f);break;case"position":u.setPosition(n,f);break;case"angle":u.setAngle(n,f);break;case"velocity":u.setVelocity(n,f);break;case"angularVelocity":u.setAngularVelocity(n,f);break;case"speed":u.setSpeed(n,f);break;case"angularSpeed":u.setAngularSpeed(n,f);break;case"parts":u.setParts(n,f);break;case"centre":u.setCentre(n,f);break;default:n[h]=f}},u.setStatic=function(n,o){for(var f=0;f<n.parts.length;f++){var h=n.parts[f];o?(h.isStatic||(h._original={restitution:h.restitution,friction:h.friction,mass:h.mass,inertia:h.inertia,density:h.density,inverseMass:h.inverseMass,inverseInertia:h.inverseInertia}),h.restitution=0,h.friction=1,h.mass=h.inertia=h.density=1/0,h.inverseMass=h.inverseInertia=0,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.anglePrev=h.angle,h.angularVelocity=0,h.speed=0,h.angularSpeed=0,h.motion=0):h._original&&(h.restitution=h._original.restitution,h.friction=h._original.friction,h.mass=h._original.mass,h.inertia=h._original.inertia,h.density=h._original.density,h.inverseMass=h._original.inverseMass,h.inverseInertia=h._original.inverseInertia,h._original=null),h.isStatic=o}},u.setMass=function(n,o){var f=n.inertia/(n.mass/6);n.inertia=f*(o/6),n.inverseInertia=1/n.inertia,n.mass=o,n.inverseMass=1/n.mass,n.density=n.mass/n.area},u.setDensity=function(n,o){u.setMass(n,o*n.area),n.density=o},u.setInertia=function(n,o){n.inertia=o,n.inverseInertia=1/n.inertia},u.setVertices=function(n,o){o[0].body===n?n.vertices=o:n.vertices=c.create(o,n),n.axes=i.fromVertices(n.vertices),n.area=c.area(n.vertices),u.setMass(n,n.density*n.area);var f=c.centre(n.vertices);c.translate(n.vertices,f,-1),u.setInertia(n,u._inertiaScale*c.inertia(n.vertices,n.mass)),c.translate(n.vertices,n.position),e.update(n.bounds,n.vertices,n.velocity)},u.setParts=function(n,o,f){var h;for(o=o.slice(0),n.parts.length=0,n.parts.push(n),n.parent=n,h=0;h<o.length;h++){var d=o[h];d!==n&&(d.parent=n,n.parts.push(d))}if(n.parts.length!==1){if(f=typeof f<"u"?f:!0,f){var p=[];for(h=0;h<o.length;h++)p=p.concat(o[h].vertices);c.clockwiseSort(p);var x=c.hull(p),S=c.centre(x);u.setVertices(n,x),c.translate(n.vertices,S)}var T=u._totalProperties(n),C=T.centre.x,E=T.centre.y,P=n.bounds,M=n.centerOfMass,L=n.centerOffset;e.update(P,n.vertices,n.velocity),M.x=-(P.min.x-C)/(P.max.x-P.min.x),M.y=-(P.min.y-E)/(P.max.y-P.min.y),L.x=C,L.y=E,n.area=T.area,n.parent=n,n.position.x=C,n.position.y=E,n.positionPrev.x=C,n.positionPrev.y=E,u.setMass(n,T.mass),u.setInertia(n,T.inertia),u.setPosition(n,T.centre)}},u.setCentre=function(n,o,f){f?(n.positionPrev.x+=o.x,n.positionPrev.y+=o.y,n.position.x+=o.x,n.position.y+=o.y):(n.positionPrev.x=o.x-(n.position.x-n.positionPrev.x),n.positionPrev.y=o.y-(n.position.y-n.positionPrev.y),n.position.x=o.x,n.position.y=o.y)},u.setPosition=function(n,o,f){var h=a.sub(o,n.position);f?(n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.velocity.x=h.x,n.velocity.y=h.y,n.speed=a.magnitude(h)):(n.positionPrev.x+=h.x,n.positionPrev.y+=h.y);for(var d=0;d<n.parts.length;d++){var p=n.parts[d];p.position.x+=h.x,p.position.y+=h.y,c.translate(p.vertices,h),e.update(p.bounds,p.vertices,n.velocity)}},u.setAngle=function(n,o,f){var h=o-n.angle;f?(n.anglePrev=n.angle,n.angularVelocity=h,n.angularSpeed=Math.abs(h)):n.anglePrev+=h;for(var d=0;d<n.parts.length;d++){var p=n.parts[d];p.angle+=h,c.rotate(p.vertices,h,n.position),i.rotate(p.axes,h),e.update(p.bounds,p.vertices,n.velocity),d>0&&a.rotateAbout(p.position,h,n.position,p.position)}},u.setVelocity=function(n,o){var f=n.deltaTime/u._baseDelta;n.positionPrev.x=n.position.x-o.x*f,n.positionPrev.y=n.position.y-o.y*f,n.velocity.x=(n.position.x-n.positionPrev.x)/f,n.velocity.y=(n.position.y-n.positionPrev.y)/f,n.speed=a.magnitude(n.velocity)},u.getVelocity=function(n){var o=u._baseDelta/n.deltaTime;return{x:(n.position.x-n.positionPrev.x)*o,y:(n.position.y-n.positionPrev.y)*o}},u.getSpeed=function(n){return a.magnitude(u.getVelocity(n))},u.setSpeed=function(n,o){u.setVelocity(n,a.mult(a.normalise(u.getVelocity(n)),o))},u.setAngularVelocity=function(n,o){var f=n.deltaTime/u._baseDelta;n.anglePrev=n.angle-o*f,n.angularVelocity=(n.angle-n.anglePrev)/f,n.angularSpeed=Math.abs(n.angularVelocity)},u.getAngularVelocity=function(n){return(n.angle-n.anglePrev)*u._baseDelta/n.deltaTime},u.getAngularSpeed=function(n){return Math.abs(u.getAngularVelocity(n))},u.setAngularSpeed=function(n,o){u.setAngularVelocity(n,r.sign(u.getAngularVelocity(n))*o)},u.translate=function(n,o,f){u.setPosition(n,a.add(n.position,o),f)},u.rotate=function(n,o,f,h){if(!f)u.setAngle(n,n.angle+o,h);else{var d=Math.cos(o),p=Math.sin(o),x=n.position.x-f.x,S=n.position.y-f.y;u.setPosition(n,{x:f.x+(x*d-S*p),y:f.y+(x*p+S*d)},h),u.setAngle(n,n.angle+o,h)}},u.scale=function(n,o,f,h){var d=0,p=0;h=h||n.position;for(var x=0;x<n.parts.length;x++){var S=n.parts[x];S.scale.x=o,S.scale.y=f,c.scale(S.vertices,o,f,h),S.axes=i.fromVertices(S.vertices),S.area=c.area(S.vertices),u.setMass(S,n.density*S.area),c.translate(S.vertices,{x:-S.position.x,y:-S.position.y}),u.setInertia(S,u._inertiaScale*c.inertia(S.vertices,S.mass)),c.translate(S.vertices,{x:S.position.x,y:S.position.y}),x>0&&(d+=S.area,p+=S.inertia),S.position.x=h.x+(S.position.x-h.x)*o,S.position.y=h.y+(S.position.y-h.y)*f,e.update(S.bounds,S.vertices,n.velocity)}n.parts.length>1&&(n.area=d,n.isStatic||(u.setMass(n,n.density*d),u.setInertia(n,p))),n.circleRadius&&(o===f?n.circleRadius*=o:n.circleRadius=null)},u.update=function(n,o){o=(typeof o<"u"?o:16.666666666666668)*n.timeScale;var f=o*o,h=u._timeCorrection?o/(n.deltaTime||o):1,d=1-n.frictionAir*(o/r._baseDelta),p=(n.position.x-n.positionPrev.x)*h,x=(n.position.y-n.positionPrev.y)*h;n.velocity.x=p*d+n.force.x/n.mass*f,n.velocity.y=x*d+n.force.y/n.mass*f,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.position.x+=n.velocity.x,n.position.y+=n.velocity.y,n.deltaTime=o,n.angularVelocity=(n.angle-n.anglePrev)*d*h+n.torque/n.inertia*f,n.anglePrev=n.angle,n.angle+=n.angularVelocity,n.speed=a.magnitude(n.velocity),n.angularSpeed=Math.abs(n.angularVelocity);for(var S=0;S<n.parts.length;S++){var T=n.parts[S];c.translate(T.vertices,n.velocity),S>0&&(T.position.x+=n.velocity.x,T.position.y+=n.velocity.y),n.angularVelocity!==0&&(c.rotate(T.vertices,n.angularVelocity,n.position),i.rotate(T.axes,n.angularVelocity),S>0&&a.rotateAbout(T.position,n.angularVelocity,n.position,T.position)),e.update(T.bounds,T.vertices,n.velocity)}},u.updateVelocities=function(n){var o=u._baseDelta/n.deltaTime,f=n.velocity;f.x=(n.position.x-n.positionPrev.x)*o,f.y=(n.position.y-n.positionPrev.y)*o,n.speed=Math.sqrt(f.x*f.x+f.y*f.y),n.angularVelocity=(n.angle-n.anglePrev)*o,n.angularSpeed=Math.abs(n.angularVelocity)},u.applyForce=function(n,o,f){var h={x:o.x-n.position.x,y:o.y-n.position.y};n.force.x+=f.x,n.force.y+=f.y,n.torque+=h.x*f.y-h.y*f.x},u._totalProperties=function(n){for(var o={mass:0,area:0,inertia:0,centre:{x:0,y:0}},f=n.parts.length===1?0:1;f<n.parts.length;f++){var h=n.parts[f],d=h.mass!==1/0?h.mass:1;o.mass+=d,o.area+=h.area,o.inertia+=h.inertia,o.centre=a.add(o.centre,a.mult(h.position,d))}return o.centre=a.div(o.centre,o.mass),o}})()},11299:(v,y,t)=>{var u={};v.exports=u;var c=t(39073),a=t(68758),s=t(84091),r=t(84125);(function(){u.create=function(e){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},u.setModified=function(e,i,l,n){if(c.trigger(e,"compositeModified",e),e.isModified=i,i&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),l&&e.parent&&u.setModified(e.parent,i,l,n),n)for(var o=0;o<e.composites.length;o++){var f=e.composites[o];u.setModified(f,i,l,n)}},u.add=function(e,i){var l=[].concat(i);c.trigger(e,"beforeAdd",{object:i});for(var n=0;n<l.length;n++){var o=l[n];switch(o.type){case"body":if(o.parent!==o){a.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}u.addBody(e,o);break;case"constraint":u.addConstraint(e,o);break;case"composite":u.addComposite(e,o);break;case"mouseConstraint":u.addConstraint(e,o.constraint);break}}return c.trigger(e,"afterAdd",{object:i}),e},u.remove=function(e,i,l){var n=[].concat(i);c.trigger(e,"beforeRemove",{object:i});for(var o=0;o<n.length;o++){var f=n[o];switch(f.type){case"body":u.removeBody(e,f,l);break;case"constraint":u.removeConstraint(e,f,l);break;case"composite":u.removeComposite(e,f,l);break;case"mouseConstraint":u.removeConstraint(e,f.constraint);break}}return c.trigger(e,"afterRemove",{object:i}),e},u.addComposite=function(e,i){return e.composites.push(i),i.parent=e,u.setModified(e,!0,!0,!1),e},u.removeComposite=function(e,i,l){var n=a.indexOf(e.composites,i);if(n!==-1&&u.removeCompositeAt(e,n),l)for(var o=0;o<e.composites.length;o++)u.removeComposite(e.composites[o],i,!0);return e},u.removeCompositeAt=function(e,i){return e.composites.splice(i,1),u.setModified(e,!0,!0,!1),e},u.addBody=function(e,i){return e.bodies.push(i),u.setModified(e,!0,!0,!1),e},u.removeBody=function(e,i,l){var n=a.indexOf(e.bodies,i);if(n!==-1&&u.removeBodyAt(e,n),l)for(var o=0;o<e.composites.length;o++)u.removeBody(e.composites[o],i,!0);return e},u.removeBodyAt=function(e,i){return e.bodies.splice(i,1),u.setModified(e,!0,!0,!1),e},u.addConstraint=function(e,i){return e.constraints.push(i),u.setModified(e,!0,!0,!1),e},u.removeConstraint=function(e,i,l){var n=a.indexOf(e.constraints,i);if(n!==-1&&u.removeConstraintAt(e,n),l)for(var o=0;o<e.composites.length;o++)u.removeConstraint(e.composites[o],i,!0);return e},u.removeConstraintAt=function(e,i){return e.constraints.splice(i,1),u.setModified(e,!0,!0,!1),e},u.clear=function(e,i,l){if(l)for(var n=0;n<e.composites.length;n++)u.clear(e.composites[n],i,!0);return i?e.bodies=e.bodies.filter(function(o){return o.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,u.setModified(e,!0,!0,!1),e},u.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var i=[].concat(e.bodies),l=0;l<e.composites.length;l++)i=i.concat(u.allBodies(e.composites[l]));return e.cache&&(e.cache.allBodies=i),i},u.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var i=[].concat(e.constraints),l=0;l<e.composites.length;l++)i=i.concat(u.allConstraints(e.composites[l]));return e.cache&&(e.cache.allConstraints=i),i},u.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var i=[].concat(e.composites),l=0;l<e.composites.length;l++)i=i.concat(u.allComposites(e.composites[l]));return e.cache&&(e.cache.allComposites=i),i},u.get=function(e,i,l){var n,o;switch(l){case"body":n=u.allBodies(e);break;case"constraint":n=u.allConstraints(e);break;case"composite":n=u.allComposites(e).concat(e);break}return n?(o=n.filter(function(f){return f.id.toString()===i.toString()}),o.length===0?null:o[0]):null},u.move=function(e,i,l){return u.remove(e,i),u.add(l,i),e},u.rebase=function(e){for(var i=u.allBodies(e).concat(u.allConstraints(e)).concat(u.allComposites(e)),l=0;l<i.length;l++)i[l].id=a.nextId();return e},u.translate=function(e,i,l){for(var n=l?u.allBodies(e):e.bodies,o=0;o<n.length;o++)r.translate(n[o],i);return e},u.rotate=function(e,i,l,n){for(var o=Math.cos(i),f=Math.sin(i),h=n?u.allBodies(e):e.bodies,d=0;d<h.length;d++){var p=h[d],x=p.position.x-l.x,S=p.position.y-l.y;r.setPosition(p,{x:l.x+(x*o-S*f),y:l.y+(x*f+S*o)}),r.rotate(p,i)}return e},u.scale=function(e,i,l,n,o){for(var f=o?u.allBodies(e):e.bodies,h=0;h<f.length;h++){var d=f[h],p=d.position.x-n.x,x=d.position.y-n.y;r.setPosition(d,{x:n.x+p*i,y:n.y+x*l}),r.scale(d,i,l)}return e},u.bounds=function(e){for(var i=u.allBodies(e),l=[],n=0;n<i.length;n+=1){var o=i[n];l.push(o.bounds.min,o.bounds.max)}return s.create(l)}})()},72005:(v,y,t)=>{var u={};v.exports=u;var c=t(11299);(function(){u.create=c.create,u.add=c.add,u.remove=c.remove,u.clear=c.clear,u.addComposite=c.addComposite,u.addBody=c.addBody,u.addConstraint=c.addConstraint})()},63454:(v,y,t)=>{var u={};v.exports=u;var c=t(39745),a=t(70584);(function(){var s=[],r={overlap:0,axis:null},e={overlap:0,axis:null};u.create=function(i,l){return{pair:null,collided:!1,bodyA:i,bodyB:l,parentA:i.parent,parentB:l.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},u.collides=function(i,l,n){if(u._overlapAxes(r,i.vertices,l.vertices,i.axes),r.overlap<=0||(u._overlapAxes(e,l.vertices,i.vertices,l.axes),e.overlap<=0))return null;var o=n&&n.table[a.id(i,l)],f;o?f=o.collision:(f=u.create(i,l),f.collided=!0,f.bodyA=i.id<l.id?i:l,f.bodyB=i.id<l.id?l:i,f.parentA=f.bodyA.parent,f.parentB=f.bodyB.parent),i=f.bodyA,l=f.bodyB;var h;r.overlap<e.overlap?h=r:h=e;var d=f.normal,p=f.supports,x=h.axis,S=x.x,T=x.y;S*(l.position.x-i.position.x)+T*(l.position.y-i.position.y)<0?(d.x=S,d.y=T):(d.x=-S,d.y=-T),f.tangent.x=-d.y,f.tangent.y=d.x,f.depth=h.overlap,f.penetration.x=d.x*f.depth,f.penetration.y=d.y*f.depth;var C=u._findSupports(i,l,d,1),E=0;if(c.contains(i.vertices,C[0])&&(p[E++]=C[0]),c.contains(i.vertices,C[1])&&(p[E++]=C[1]),E<2){var P=u._findSupports(l,i,d,-1);c.contains(l.vertices,P[0])&&(p[E++]=P[0]),E<2&&c.contains(l.vertices,P[1])&&(p[E++]=P[1])}return E===0&&(p[E++]=C[0]),p.length=E,f},u._overlapAxes=function(i,l,n,o){var f=l.length,h=n.length,d=l[0].x,p=l[0].y,x=n[0].x,S=n[0].y,T=o.length,C=Number.MAX_VALUE,E=0,P,M,L,R,w,D;for(w=0;w<T;w++){var B=o[w],z=B.x,V=B.y,Y=d*z+p*V,H=x*z+S*V,I=Y,U=H;for(D=1;D<f;D+=1)R=l[D].x*z+l[D].y*V,R>I?I=R:R<Y&&(Y=R);for(D=1;D<h;D+=1)R=n[D].x*z+n[D].y*V,R>U?U=R:R<H&&(H=R);if(M=I-H,L=U-Y,P=M<L?M:L,P<C&&(C=P,E=w,P<=0))break}i.axis=o[E],i.overlap=C},u._projectToAxis=function(i,l,n){for(var o=l[0].x*n.x+l[0].y*n.y,f=o,h=1;h<l.length;h+=1){var d=l[h].x*n.x+l[h].y*n.y;d>f?f=d:d<o&&(o=d)}i.min=o,i.max=f},u._findSupports=function(i,l,n,o){var f=l.vertices,h=f.length,d=i.position.x,p=i.position.y,x=n.x*o,S=n.y*o,T=Number.MAX_VALUE,C,E,P,M,L;for(L=0;L<h;L+=1)E=f[L],M=x*(d-E.x)+S*(p-E.y),M<T&&(T=M,C=E);return P=f[(h+C.index-1)%h],T=x*(d-P.x)+S*(p-P.y),E=f[(C.index+1)%h],x*(d-E.x)+S*(p-E.y)<T?(s[0]=C,s[1]=E,s):(s[0]=C,s[1]=P,s)}})()},17319:v=>{var y={};v.exports=y,function(){y.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},13657:(v,y,t)=>{var u={};v.exports=u;var c=t(68758),a=t(63454);(function(){u.create=function(s){var r={bodies:[],pairs:null};return c.extend(r,s)},u.setBodies=function(s,r){s.bodies=r.slice(0)},u.clear=function(s){s.bodies=[]},u.collisions=function(s){var r=[],e=s.pairs,i=s.bodies,l=i.length,n=u.canCollide,o=a.collides,f,h;for(i.sort(u._compareBoundsX),f=0;f<l;f++){var d=i[f],p=d.bounds,x=d.bounds.max.x,S=d.bounds.max.y,T=d.bounds.min.y,C=d.isStatic||d.isSleeping,E=d.parts.length,P=E===1;for(h=f+1;h<l;h++){var M=i[h],L=M.bounds;if(L.min.x>x)break;if(!(S<L.min.y||T>L.max.y)&&!(C&&(M.isStatic||M.isSleeping))&&n(d.collisionFilter,M.collisionFilter)){var R=M.parts.length;if(P&&R===1){var w=o(d,M,e);w&&r.push(w)}else for(var D=E>1?1:0,B=R>1?1:0,z=D;z<E;z++)for(var V=d.parts[z],p=V.bounds,Y=B;Y<R;Y++){var H=M.parts[Y],L=H.bounds;if(!(p.min.x>L.max.x||p.max.x<L.min.x||p.max.y<L.min.y||p.min.y>L.max.y)){var w=o(V,H,e);w&&r.push(w)}}}}}return r},u.canCollide=function(s,r){return s.group===r.group&&s.group!==0?s.group>0:(s.mask&r.category)!==0&&(r.mask&s.category)!==0},u._compareBoundsX=function(s,r){return s.bounds.min.x-r.bounds.min.x}})()},70584:(v,y,t)=>{var u={};v.exports=u;var c=t(17319);(function(){u.create=function(a,s){var r=a.bodyA,e=a.bodyB,i={id:u.id(r,e),bodyA:r,bodyB:e,collision:a,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:r.isSensor||e.isSensor,timeCreated:s,timeUpdated:s,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return u.update(i,a,s),i},u.update=function(a,s,r){var e=a.contacts,i=s.supports,l=a.activeContacts,n=s.parentA,o=s.parentB,f=n.vertices.length;a.isActive=!0,a.timeUpdated=r,a.collision=s,a.separation=s.depth,a.inverseMass=n.inverseMass+o.inverseMass,a.friction=n.friction<o.friction?n.friction:o.friction,a.frictionStatic=n.frictionStatic>o.frictionStatic?n.frictionStatic:o.frictionStatic,a.restitution=n.restitution>o.restitution?n.restitution:o.restitution,a.slop=n.slop>o.slop?n.slop:o.slop,s.pair=a,l.length=0;for(var h=0;h<i.length;h++){var d=i[h],p=d.body===n?d.index:f+d.index,x=e[p];x?l.push(x):l.push(e[p]=c.create(d))}},u.setActive=function(a,s,r){s?(a.isActive=!0,a.timeUpdated=r):(a.isActive=!1,a.activeContacts.length=0)},u.id=function(a,s){return a.id<s.id?"A"+a.id+"B"+s.id:"A"+s.id+"B"+a.id}})()},91327:(v,y,t)=>{var u={};v.exports=u;var c=t(70584),a=t(68758);(function(){u.create=function(s){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},s)},u.update=function(s,r,e){var i=s.list,l=i.length,n=s.table,o=r.length,f=s.collisionStart,h=s.collisionEnd,d=s.collisionActive,p,x,S,T;for(f.length=0,h.length=0,d.length=0,T=0;T<l;T++)i[T].confirmedActive=!1;for(T=0;T<o;T++)p=r[T],S=p.pair,S?(S.isActive?d.push(S):f.push(S),c.update(S,p,e),S.confirmedActive=!0):(S=c.create(p,e),n[S.id]=S,f.push(S),i.push(S));var C=[];for(l=i.length,T=0;T<l;T++)S=i[T],S.confirmedActive||(c.setActive(S,!1,e),h.push(S),!S.collision.bodyA.isSleeping&&!S.collision.bodyB.isSleeping&&C.push(T));for(T=0;T<C.length;T++)x=C[T]-T,S=i[x],i.splice(x,1),delete n[S.id]},u.clear=function(s){return s.table={},s.list.length=0,s.collisionStart.length=0,s.collisionActive.length=0,s.collisionEnd.length=0,s}})()},13390:(v,y,t)=>{var u={};v.exports=u;var c=t(10438),a=t(63454),s=t(84091),r=t(68516),e=t(39745);(function(){u.collides=function(i,l){for(var n=[],o=l.length,f=i.bounds,h=a.collides,d=s.overlaps,p=0;p<o;p++){var x=l[p],S=x.parts.length,T=S===1?0:1;if(i!==x&&d(x.bounds,f))for(var C=T;C<S;C++){var E=x.parts[C];if(d(E.bounds,f)){var P=h(E,i);if(P){n.push(P);break}}}}return n},u.ray=function(i,l,n,o){o=o||1e-100;for(var f=c.angle(l,n),h=c.magnitude(c.sub(l,n)),d=(n.x+l.x)*.5,p=(n.y+l.y)*.5,x=r.rectangle(d,p,h,o,{angle:f}),S=u.collides(x,i),T=0;T<S.length;T+=1){var C=S[T];C.body=C.bodyB=C.bodyA}return S},u.region=function(i,l,n){for(var o=[],f=0;f<i.length;f++){var h=i[f],d=s.overlaps(h.bounds,l);(d&&!n||!d&&n)&&o.push(h)}return o},u.point=function(i,l){for(var n=[],o=0;o<i.length;o++){var f=i[o];if(s.contains(f.bounds,l))for(var h=f.parts.length===1?0:1;h<f.parts.length;h++){var d=f.parts[h];if(s.contains(d.bounds,l)&&e.contains(d.vertices,l)){n.push(f);break}}}return n}})()},44272:(v,y,t)=>{var u={};v.exports=u;var c=t(39745),a=t(68758),s=t(84091);(function(){u._restingThresh=2,u._restingThreshTangent=Math.sqrt(6),u._positionDampen=.9,u._positionWarming=.8,u._frictionNormalMultiplier=5,u._frictionMaxStatic=Number.MAX_VALUE,u.preSolvePosition=function(r){var e,i,l,n=r.length;for(e=0;e<n;e++)i=r[e],i.isActive&&(l=i.activeContacts.length,i.collision.parentA.totalContacts+=l,i.collision.parentB.totalContacts+=l)},u.solvePosition=function(r,e,i){var l,n,o,f,h,d,p,x,S=u._positionDampen*(i||1),T=a.clamp(e/a._baseDelta,0,1),C=r.length;for(l=0;l<C;l++)n=r[l],!(!n.isActive||n.isSensor)&&(o=n.collision,f=o.parentA,h=o.parentB,d=o.normal,n.separation=d.x*(h.positionImpulse.x+o.penetration.x-f.positionImpulse.x)+d.y*(h.positionImpulse.y+o.penetration.y-f.positionImpulse.y));for(l=0;l<C;l++)n=r[l],!(!n.isActive||n.isSensor)&&(o=n.collision,f=o.parentA,h=o.parentB,d=o.normal,x=n.separation-n.slop*T,(f.isStatic||h.isStatic)&&(x*=2),f.isStatic||f.isSleeping||(p=S/f.totalContacts,f.positionImpulse.x+=d.x*x*p,f.positionImpulse.y+=d.y*x*p),h.isStatic||h.isSleeping||(p=S/h.totalContacts,h.positionImpulse.x-=d.x*x*p,h.positionImpulse.y-=d.y*x*p))},u.postSolvePosition=function(r){for(var e=u._positionWarming,i=r.length,l=c.translate,n=s.update,o=0;o<i;o++){var f=r[o],h=f.positionImpulse,d=h.x,p=h.y,x=f.velocity;if(f.totalContacts=0,d!==0||p!==0){for(var S=0;S<f.parts.length;S++){var T=f.parts[S];l(T.vertices,h),n(T.bounds,T.vertices,x),T.position.x+=d,T.position.y+=p}f.positionPrev.x+=d,f.positionPrev.y+=p,d*x.x+p*x.y<0?(h.x=0,h.y=0):(h.x*=e,h.y*=e)}}},u.preSolveVelocity=function(r){var e=r.length,i,l;for(i=0;i<e;i++){var n=r[i];if(!(!n.isActive||n.isSensor)){var o=n.activeContacts,f=o.length,h=n.collision,d=h.parentA,p=h.parentB,x=h.normal,S=h.tangent;for(l=0;l<f;l++){var T=o[l],C=T.vertex,E=T.normalImpulse,P=T.tangentImpulse;if(E!==0||P!==0){var M=x.x*E+S.x*P,L=x.y*E+S.y*P;d.isStatic||d.isSleeping||(d.positionPrev.x+=M*d.inverseMass,d.positionPrev.y+=L*d.inverseMass,d.anglePrev+=d.inverseInertia*((C.x-d.position.x)*L-(C.y-d.position.y)*M)),p.isStatic||p.isSleeping||(p.positionPrev.x-=M*p.inverseMass,p.positionPrev.y-=L*p.inverseMass,p.anglePrev-=p.inverseInertia*((C.x-p.position.x)*L-(C.y-p.position.y)*M))}}}}},u.solveVelocity=function(r,e){var i=e/a._baseDelta,l=i*i,n=l*i,o=-u._restingThresh*i,f=u._restingThreshTangent,h=u._frictionNormalMultiplier*i,d=u._frictionMaxStatic,p=r.length,x,S,T,C;for(T=0;T<p;T++){var E=r[T];if(!(!E.isActive||E.isSensor)){var P=E.collision,M=P.parentA,L=P.parentB,R=M.velocity,w=L.velocity,D=P.normal.x,B=P.normal.y,z=P.tangent.x,V=P.tangent.y,Y=E.activeContacts,H=Y.length,I=1/H,U=M.inverseMass+L.inverseMass,O=E.friction*E.frictionStatic*h;for(R.x=M.position.x-M.positionPrev.x,R.y=M.position.y-M.positionPrev.y,w.x=L.position.x-L.positionPrev.x,w.y=L.position.y-L.positionPrev.y,M.angularVelocity=M.angle-M.anglePrev,L.angularVelocity=L.angle-L.anglePrev,C=0;C<H;C++){var N=Y[C],G=N.vertex,X=G.x-M.position.x,W=G.y-M.position.y,b=G.x-L.position.x,K=G.y-L.position.y,Z=R.x-W*M.angularVelocity,Q=R.y+X*M.angularVelocity,J=w.x-K*L.angularVelocity,j=w.y+b*L.angularVelocity,k=Z-J,$=Q-j,_=D*k+B*$,nt=z*k+V*$,at=E.separation+_,st=Math.min(at,1);st=at<0?0:st;var q=st*O;nt<-q||nt>q?(S=nt>0?nt:-nt,x=E.friction*(nt>0?1:-1)*n,x<-S?x=-S:x>S&&(x=S)):(x=nt,S=d);var it=X*B-W*D,et=b*B-K*D,lt=I/(U+M.inverseInertia*it*it+L.inverseInertia*et*et),ot=(1+E.restitution)*_*lt;if(x*=lt,_<o)N.normalImpulse=0;else{var At=N.normalImpulse;N.normalImpulse+=ot,N.normalImpulse>0&&(N.normalImpulse=0),ot=N.normalImpulse-At}if(nt<-f||nt>f)N.tangentImpulse=0;else{var mt=N.tangentImpulse;N.tangentImpulse+=x,N.tangentImpulse<-S&&(N.tangentImpulse=-S),N.tangentImpulse>S&&(N.tangentImpulse=S),x=N.tangentImpulse-mt}var ft=D*ot+z*x,ht=B*ot+V*x;M.isStatic||M.isSleeping||(M.positionPrev.x+=ft*M.inverseMass,M.positionPrev.y+=ht*M.inverseMass,M.anglePrev+=(X*ht-W*ft)*M.inverseInertia),L.isStatic||L.isSleeping||(L.positionPrev.x-=ft*L.inverseMass,L.positionPrev.y-=ht*L.inverseMass,L.anglePrev-=(b*ht-K*ft)*L.inverseInertia)}}}}})()},52838:(v,y,t)=>{var u={};v.exports=u;var c=t(39745),a=t(10438),s=t(22806),r=t(84091),e=t(50658),i=t(68758);(function(){u._warming=.4,u._torqueDampen=1,u._minLength=1e-6,u.create=function(l){var n=l;n.bodyA&&!n.pointA&&(n.pointA={x:0,y:0}),n.bodyB&&!n.pointB&&(n.pointB={x:0,y:0});var o=n.bodyA?a.add(n.bodyA.position,n.pointA):n.pointA,f=n.bodyB?a.add(n.bodyB.position,n.pointB):n.pointB,h=a.magnitude(a.sub(o,f));n.length=typeof n.length<"u"?n.length:h,n.id=n.id||i.nextId(),n.label=n.label||"Constraint",n.type="constraint",n.stiffness=n.stiffness||(n.length>0?1:.7),n.damping=n.damping||0,n.angularStiffness=n.angularStiffness||0,n.angleA=n.bodyA?n.bodyA.angle:n.angleA,n.angleB=n.bodyB?n.bodyB.angle:n.angleB,n.plugin={};var d={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return n.length===0&&n.stiffness>.1?(d.type="pin",d.anchors=!1):n.stiffness<.9&&(d.type="spring"),n.render=i.extend(d,n.render),n},u.preSolveAll=function(l){for(var n=0;n<l.length;n+=1){var o=l[n],f=o.constraintImpulse;o.isStatic||f.x===0&&f.y===0&&f.angle===0||(o.position.x+=f.x,o.position.y+=f.y,o.angle+=f.angle)}},u.solveAll=function(l,n){for(var o=i.clamp(n/i._baseDelta,0,1),f=0;f<l.length;f+=1){var h=l[f],d=!h.bodyA||h.bodyA&&h.bodyA.isStatic,p=!h.bodyB||h.bodyB&&h.bodyB.isStatic;(d||p)&&u.solve(l[f],o)}for(f=0;f<l.length;f+=1)h=l[f],d=!h.bodyA||h.bodyA&&h.bodyA.isStatic,p=!h.bodyB||h.bodyB&&h.bodyB.isStatic,!d&&!p&&u.solve(l[f],o)},u.solve=function(l,n){var o=l.bodyA,f=l.bodyB,h=l.pointA,d=l.pointB;if(!(!o&&!f)){o&&!o.isStatic&&(a.rotate(h,o.angle-l.angleA,h),l.angleA=o.angle),f&&!f.isStatic&&(a.rotate(d,f.angle-l.angleB,d),l.angleB=f.angle);var p=h,x=d;if(o&&(p=a.add(o.position,h)),f&&(x=a.add(f.position,d)),!(!p||!x)){var S=a.sub(p,x),T=a.magnitude(S);T<u._minLength&&(T=u._minLength);var C=(T-l.length)/T,E=l.stiffness>=1||l.length===0,P=E?l.stiffness*n:l.stiffness*n*n,M=l.damping*n,L=a.mult(S,C*P),R=(o?o.inverseMass:0)+(f?f.inverseMass:0),w=(o?o.inverseInertia:0)+(f?f.inverseInertia:0),D=R+w,B,z,V,Y,H;if(M>0){var I=a.create();V=a.div(S,T),H=a.sub(f&&a.sub(f.position,f.positionPrev)||I,o&&a.sub(o.position,o.positionPrev)||I),Y=a.dot(V,H)}o&&!o.isStatic&&(z=o.inverseMass/R,o.constraintImpulse.x-=L.x*z,o.constraintImpulse.y-=L.y*z,o.position.x-=L.x*z,o.position.y-=L.y*z,M>0&&(o.positionPrev.x-=M*V.x*Y*z,o.positionPrev.y-=M*V.y*Y*z),B=a.cross(h,L)/D*u._torqueDampen*o.inverseInertia*(1-l.angularStiffness),o.constraintImpulse.angle-=B,o.angle-=B),f&&!f.isStatic&&(z=f.inverseMass/R,f.constraintImpulse.x+=L.x*z,f.constraintImpulse.y+=L.y*z,f.position.x+=L.x*z,f.position.y+=L.y*z,M>0&&(f.positionPrev.x+=M*V.x*Y*z,f.positionPrev.y+=M*V.y*Y*z),B=a.cross(d,L)/D*u._torqueDampen*f.inverseInertia*(1-l.angularStiffness),f.constraintImpulse.angle+=B,f.angle+=B)}}},u.postSolveAll=function(l){for(var n=0;n<l.length;n++){var o=l[n],f=o.constraintImpulse;if(!(o.isStatic||f.x===0&&f.y===0&&f.angle===0)){s.set(o,!1);for(var h=0;h<o.parts.length;h++){var d=o.parts[h];c.translate(d.vertices,f),h>0&&(d.position.x+=f.x,d.position.y+=f.y),f.angle!==0&&(c.rotate(d.vertices,f.angle,o.position),e.rotate(d.axes,f.angle),h>0&&a.rotateAbout(d.position,f.angle,o.position,d.position)),r.update(d.bounds,d.vertices,o.velocity)}f.angle*=u._warming,f.x*=u._warming,f.y*=u._warming}}},u.pointAWorld=function(l){return{x:(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),y:(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0)}},u.pointBWorld=function(l){return{x:(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),y:(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0)}},u.currentLength=function(l){var n=(l.bodyA?l.bodyA.position.x:0)+(l.pointA?l.pointA.x:0),o=(l.bodyA?l.bodyA.position.y:0)+(l.pointA?l.pointA.y:0),f=(l.bodyB?l.bodyB.position.x:0)+(l.pointB?l.pointB.x:0),h=(l.bodyB?l.bodyB.position.y:0)+(l.pointB?l.pointB.y:0),d=n-f,p=o-h;return Math.sqrt(d*d+p*p)}})()},68758:(v,y,t)=>{var u={};v.exports=u,function(){u._baseDelta=16.666666666666668,u._nextId=0,u._seed=0,u._nowStartTime=+new Date,u._warnedOnce={},u._decomp=null,u.extend=function(a,s){var r,e,i;typeof s=="boolean"?(r=2,i=s):(r=1,i=!0);for(var l=r;l<arguments.length;l++){var n=arguments[l];if(n)for(var o in n)i&&n[o]&&n[o].constructor===Object&&(!a[o]||a[o].constructor===Object)?(a[o]=a[o]||{},u.extend(a[o],i,n[o])):a[o]=n[o]}return a},u.clone=function(a,s){return u.extend({},s,a)},u.keys=function(a){if(Object.keys)return Object.keys(a);var s=[];for(var r in a)s.push(r);return s},u.values=function(a){var s=[];if(Object.keys){for(var r=Object.keys(a),e=0;e<r.length;e++)s.push(a[r[e]]);return s}for(var i in a)s.push(a[i]);return s},u.get=function(a,s,r,e){s=s.split(".").slice(r,e);for(var i=0;i<s.length;i+=1)a=a[s[i]];return a},u.set=function(a,s,r,e,i){var l=s.split(".").slice(e,i);return u.get(a,s,0,-1)[l[l.length-1]]=r,r},u.shuffle=function(a){for(var s=a.length-1;s>0;s--){var r=Math.floor(u.random()*(s+1)),e=a[s];a[s]=a[r],a[r]=e}return a},u.choose=function(a){return a[Math.floor(u.random()*a.length)]},u.isElement=function(a){return typeof HTMLElement<"u"?a instanceof HTMLElement:!!(a&&a.nodeType&&a.nodeName)},u.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"},u.isFunction=function(a){return typeof a=="function"},u.isPlainObject=function(a){return typeof a=="object"&&a.constructor===Object},u.isString=function(a){return toString.call(a)==="[object String]"},u.clamp=function(a,s,r){return a<s?s:a>r?r:a},u.sign=function(a){return a<0?-1:1},u.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-u._nowStartTime},u.random=function(a,s){return a=typeof a<"u"?a:0,s=typeof s<"u"?s:1,a+c()*(s-a)};var c=function(){return u._seed=(u._seed*9301+49297)%233280,u._seed/233280};u.colorToNumber=function(a){return a=a.replace("#",""),a.length==3&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)),parseInt(a,16)},u.logLevel=1,u.log=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.info=function(){console&&u.logLevel>0&&u.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warn=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warnOnce=function(){var a=Array.prototype.slice.call(arguments).join(" ");u._warnedOnce[a]||(u.warn(a),u._warnedOnce[a]=!0)},u.deprecated=function(a,s,r){a[s]=u.chain(function(){u.warnOnce("\u{1F505} deprecated \u{1F505}",r)},a[s])},u.nextId=function(){return u._nextId++},u.indexOf=function(a,s){if(a.indexOf)return a.indexOf(s);for(var r=0;r<a.length;r++)if(a[r]===s)return r;return-1},u.map=function(a,s){if(a.map)return a.map(s);for(var r=[],e=0;e<a.length;e+=1)r.push(s(a[e]));return r},u.topologicalSort=function(a){var s=[],r=[],e=[];for(var i in a)!r[i]&&!e[i]&&u._topologicalSort(i,r,e,a,s);return s},u._topologicalSort=function(a,s,r,e,i){var l=e[a]||[];r[a]=!0;for(var n=0;n<l.length;n+=1){var o=l[n];r[o]||s[o]||u._topologicalSort(o,s,r,e,i)}r[a]=!1,s[a]=!0,i.push(a)},u.chain=function(){for(var a=[],s=0;s<arguments.length;s+=1){var r=arguments[s];r._chained?a.push.apply(a,r._chained):a.push(r)}var e=function(){for(var i,l=new Array(arguments.length),n=0,o=arguments.length;n<o;n++)l[n]=arguments[n];for(n=0;n<a.length;n+=1){var f=a[n].apply(i,l);typeof f<"u"&&(i=f)}return i};return e._chained=a,e},u.chainPathBefore=function(a,s,r){return u.set(a,s,u.chain(r,u.get(a,s)))},u.chainPathAfter=function(a,s,r){return u.set(a,s,u.chain(u.get(a,s),r))},u.setDecomp=function(a){u._decomp=a},u.getDecomp=function(){var a=u._decomp;try{!a&&typeof window<"u"&&(a=window.decomp),!a&&typeof t.g<"u"&&(a=t.g.decomp)}catch{a=null}return a}}()},45775:(v,y,t)=>{var u={};v.exports=u;var c=t(22806),a=t(44272),s=t(13657),r=t(91327),e=t(39073),i=t(11299),l=t(52838),n=t(68758),o=t(84125);(function(){u.create=function(f){f=f||{};var h={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},d=n.extend(h,f);return d.world=f.world||i.create({label:"World"}),d.pairs=f.pairs||r.create(),d.detector=f.detector||s.create(),d.grid={buckets:[]},d.world.gravity=d.gravity,d.broadphase=d.grid,d.metrics={},d},u.update=function(f,h){var d=n.now(),p=f.world,x=f.detector,S=f.pairs,T=f.timing,C=T.timestamp,E;h=typeof h<"u"?h:n._baseDelta,h*=T.timeScale,T.timestamp+=h,T.lastDelta=h;var P={timestamp:T.timestamp,delta:h};e.trigger(f,"beforeUpdate",P);var M=i.allBodies(p),L=i.allConstraints(p);for(p.isModified&&(s.setBodies(x,M),i.setModified(p,!1,!1,!0)),f.enableSleeping&&c.update(M,h),u._bodiesApplyGravity(M,f.gravity),h>0&&u._bodiesUpdate(M,h),e.trigger(f,"beforeSolve",P),l.preSolveAll(M),E=0;E<f.constraintIterations;E++)l.solveAll(L,h);l.postSolveAll(M),x.pairs=f.pairs;var R=s.collisions(x);r.update(S,R,C),f.enableSleeping&&c.afterCollisions(S.list),S.collisionStart.length>0&&e.trigger(f,"collisionStart",{pairs:S.collisionStart,timestamp:T.timestamp,delta:h});var w=n.clamp(20/f.positionIterations,0,1);for(a.preSolvePosition(S.list),E=0;E<f.positionIterations;E++)a.solvePosition(S.list,h,w);for(a.postSolvePosition(M),l.preSolveAll(M),E=0;E<f.constraintIterations;E++)l.solveAll(L,h);for(l.postSolveAll(M),a.preSolveVelocity(S.list),E=0;E<f.velocityIterations;E++)a.solveVelocity(S.list,h);return u._bodiesUpdateVelocities(M),S.collisionActive.length>0&&e.trigger(f,"collisionActive",{pairs:S.collisionActive,timestamp:T.timestamp,delta:h}),S.collisionEnd.length>0&&e.trigger(f,"collisionEnd",{pairs:S.collisionEnd,timestamp:T.timestamp,delta:h}),u._bodiesClearForces(M),e.trigger(f,"afterUpdate",P),f.timing.lastElapsed=n.now()-d,f},u.merge=function(f,h){if(n.extend(f,h),h.world){f.world=h.world,u.clear(f);for(var d=i.allBodies(f.world),p=0;p<d.length;p++){var x=d[p];c.set(x,!1),x.id=n.nextId()}}},u.clear=function(f){r.clear(f.pairs),s.clear(f.detector)},u._bodiesClearForces=function(f){for(var h=f.length,d=0;d<h;d++){var p=f[d];p.force.x=0,p.force.y=0,p.torque=0}},u._bodiesApplyGravity=function(f,h){var d=typeof h.scale<"u"?h.scale:.001,p=f.length;if(!(h.x===0&&h.y===0||d===0))for(var x=0;x<p;x++){var S=f[x];S.isStatic||S.isSleeping||(S.force.y+=S.mass*h.y*d,S.force.x+=S.mass*h.x*d)}},u._bodiesUpdate=function(f,h){for(var d=f.length,p=0;p<d;p++){var x=f[p];x.isStatic||x.isSleeping||o.update(x,h)}},u._bodiesUpdateVelocities=function(f){for(var h=f.length,d=0;d<h;d++)o.updateVelocities(f[d])}})()},39073:(v,y,t)=>{var u={};v.exports=u;var c=t(68758);(function(){u.on=function(a,s,r){for(var e=s.split(" "),i,l=0;l<e.length;l++)i=e[l],a.events=a.events||{},a.events[i]=a.events[i]||[],a.events[i].push(r);return r},u.off=function(a,s,r){if(!s){a.events={};return}typeof s=="function"&&(r=s,s=c.keys(a.events).join(" "));for(var e=s.split(" "),i=0;i<e.length;i++){var l=a.events[e[i]],n=[];if(r&&l)for(var o=0;o<l.length;o++)l[o]!==r&&n.push(l[o]);a.events[e[i]]=n}},u.trigger=function(a,s,r){var e,i,l,n,o=a.events;if(o&&c.keys(o).length>0){r||(r={}),e=s.split(" ");for(var f=0;f<e.length;f++)if(i=e[f],l=o[i],l){n=c.clone(r,!1),n.name=i,n.source=a;for(var h=0;h<l.length;h++)l[h].apply(a,[n])}}}})()},16929:(v,y,t)=>{var u={};v.exports=u;var c=t(84474),a=t(68758);(function(){u.name="matter-js",u.version="0.19.0",u.uses=[],u.used=[],u.use=function(){c.use(u,Array.prototype.slice.call(arguments))},u.before=function(s,r){return s=s.replace(/^Matter./,""),a.chainPathBefore(u,s,r)},u.after=function(s,r){return s=s.replace(/^Matter./,""),a.chainPathAfter(u,s,r)}})()},84474:(v,y,t)=>{var u={};v.exports=u;var c=t(68758);(function(){u._registry={},u.register=function(a){if(u.isPlugin(a)||c.warn("Plugin.register:",u.toString(a),"does not implement all required fields."),a.name in u._registry){var s=u._registry[a.name],r=u.versionParse(a.version).number,e=u.versionParse(s.version).number;r>e?(c.warn("Plugin.register:",u.toString(s),"was upgraded to",u.toString(a)),u._registry[a.name]=a):r<e?c.warn("Plugin.register:",u.toString(s),"can not be downgraded to",u.toString(a)):a!==s&&c.warn("Plugin.register:",u.toString(a),"is already registered to different plugin object")}else u._registry[a.name]=a;return a},u.resolve=function(a){return u._registry[u.dependencyParse(a).name]},u.toString=function(a){return typeof a=="string"?a:(a.name||"anonymous")+"@"+(a.version||a.range||"0.0.0")},u.isPlugin=function(a){return a&&a.name&&a.version&&a.install},u.isUsed=function(a,s){return a.used.indexOf(s)>-1},u.isFor=function(a,s){var r=a.for&&u.dependencyParse(a.for);return!a.for||s.name===r.name&&u.versionSatisfies(s.version,r.range)},u.use=function(a,s){if(a.uses=(a.uses||[]).concat(s||[]),a.uses.length===0){c.warn("Plugin.use:",u.toString(a),"does not specify any dependencies to install.");return}for(var r=u.dependencies(a),e=c.topologicalSort(r),i=[],l=0;l<e.length;l+=1)if(e[l]!==a.name){var n=u.resolve(e[l]);if(!n){i.push("\u274C "+e[l]);continue}u.isUsed(a,n.name)||(u.isFor(n,a)||(c.warn("Plugin.use:",u.toString(n),"is for",n.for,"but installed on",u.toString(a)+"."),n._warned=!0),n.install?n.install(a):(c.warn("Plugin.use:",u.toString(n),"does not specify an install function."),n._warned=!0),n._warned?(i.push("\u{1F536} "+u.toString(n)),delete n._warned):i.push("\u2705 "+u.toString(n)),a.used.push(n.name))}i.length>0&&!n.silent&&c.info(i.join("  "))},u.dependencies=function(a,s){var r=u.dependencyParse(a),e=r.name;if(s=s||{},!(e in s)){a=u.resolve(a)||a,s[e]=c.map(a.uses||[],function(l){u.isPlugin(l)&&u.register(l);var n=u.dependencyParse(l),o=u.resolve(l);return o&&!u.versionSatisfies(o.version,n.range)?(c.warn("Plugin.dependencies:",u.toString(o),"does not satisfy",u.toString(n),"used by",u.toString(r)+"."),o._warned=!0,a._warned=!0):o||(c.warn("Plugin.dependencies:",u.toString(l),"used by",u.toString(r),"could not be resolved."),a._warned=!0),n.name});for(var i=0;i<s[e].length;i+=1)u.dependencies(s[e][i],s);return s}},u.dependencyParse=function(a){if(c.isString(a)){var s=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return s.test(a)||c.warn("Plugin.dependencyParse:",a,"is not a valid dependency string."),{name:a.split("@")[0],range:a.split("@")[1]||"*"}}return{name:a.name,range:a.range||a.version}},u.versionParse=function(a){var s=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;s.test(a)||c.warn("Plugin.versionParse:",a,"is not a valid version or range.");var r=s.exec(a),e=Number(r[4]),i=Number(r[5]),l=Number(r[6]);return{isRange:!!(r[1]||r[2]),version:r[3],range:a,operator:r[1]||r[2]||"",major:e,minor:i,patch:l,parts:[e,i,l],prerelease:r[7],number:e*1e8+i*1e4+l}},u.versionSatisfies=function(a,s){s=s||"*";var r=u.versionParse(s),e=u.versionParse(a);if(r.isRange){if(r.operator==="*"||a==="*")return!0;if(r.operator===">")return e.number>r.number;if(r.operator===">=")return e.number>=r.number;if(r.operator==="~")return e.major===r.major&&e.minor===r.minor&&e.patch>=r.patch;if(r.operator==="^")return r.major>0?e.major===r.major&&e.number>=r.number:r.minor>0?e.minor===r.minor&&e.patch>=r.patch:e.patch===r.patch}return a===s||a==="*"}})()},22806:(v,y,t)=>{var u={};v.exports=u;var c=t(84125),a=t(39073),s=t(68758);(function(){u._motionWakeThreshold=.18,u._motionSleepThreshold=.08,u._minBias=.9,u.update=function(r,e){for(var i=e/s._baseDelta,l=u._motionSleepThreshold,n=0;n<r.length;n++){var o=r[n],f=c.getSpeed(o),h=c.getAngularSpeed(o),d=f*f+h*h;if(o.force.x!==0||o.force.y!==0){u.set(o,!1);continue}var p=Math.min(o.motion,d),x=Math.max(o.motion,d);o.motion=u._minBias*p+(1-u._minBias)*x,o.sleepThreshold>0&&o.motion<l?(o.sleepCounter+=1,o.sleepCounter>=o.sleepThreshold/i&&u.set(o,!0)):o.sleepCounter>0&&(o.sleepCounter-=1)}},u.afterCollisions=function(r){for(var e=u._motionSleepThreshold,i=0;i<r.length;i++){var l=r[i];if(l.isActive){var n=l.collision,o=n.bodyA.parent,f=n.bodyB.parent;if(!(o.isSleeping&&f.isSleeping||o.isStatic||f.isStatic)&&(o.isSleeping||f.isSleeping)){var h=o.isSleeping&&!o.isStatic?o:f,d=h===o?f:o;!h.isStatic&&d.motion>e&&u.set(h,!1)}}}},u.set=function(r,e){var i=r.isSleeping;e?(r.isSleeping=!0,r.sleepCounter=r.sleepThreshold,r.positionImpulse.x=0,r.positionImpulse.y=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.speed=0,r.angularSpeed=0,r.motion=0,i||a.trigger(r,"sleepStart")):(r.isSleeping=!1,r.sleepCounter=0,i&&a.trigger(r,"sleepEnd"))}})()},68516:(v,y,t)=>{var u={};v.exports=u;var c=t(39745),a=t(68758),s=t(84125),r=t(84091),e=t(10438);(function(){u.rectangle=function(i,l,n,o,f){f=f||{};var h={label:"Rectangle Body",position:{x:i,y:l},vertices:c.fromPath("L 0 0 L "+n+" 0 L "+n+" "+o+" L 0 "+o)};if(f.chamfer){var d=f.chamfer;h.vertices=c.chamfer(h.vertices,d.radius,d.quality,d.qualityMin,d.qualityMax),delete f.chamfer}return s.create(a.extend({},h,f))},u.trapezoid=function(i,l,n,o,f,h){h=h||{},f*=.5;var d=(1-f*2)*n,p=n*f,x=p+d,S=x+p,T;f<.5?T="L 0 0 L "+p+" "+-o+" L "+x+" "+-o+" L "+S+" 0":T="L 0 0 L "+x+" "+-o+" L "+S+" 0";var C={label:"Trapezoid Body",position:{x:i,y:l},vertices:c.fromPath(T)};if(h.chamfer){var E=h.chamfer;C.vertices=c.chamfer(C.vertices,E.radius,E.quality,E.qualityMin,E.qualityMax),delete h.chamfer}return s.create(a.extend({},C,h))},u.circle=function(i,l,n,o,f){o=o||{};var h={label:"Circle Body",circleRadius:n};f=f||25;var d=Math.ceil(Math.max(10,Math.min(f,n)));return d%2===1&&(d+=1),u.polygon(i,l,d,n,a.extend({},h,o))},u.polygon=function(i,l,n,o,f){if(f=f||{},n<3)return u.circle(i,l,o,f);for(var h=2*Math.PI/n,d="",p=h*.5,x=0;x<n;x+=1){var S=p+x*h,T=Math.cos(S)*o,C=Math.sin(S)*o;d+="L "+T.toFixed(3)+" "+C.toFixed(3)+" "}var E={label:"Polygon Body",position:{x:i,y:l},vertices:c.fromPath(d)};if(f.chamfer){var P=f.chamfer;E.vertices=c.chamfer(E.vertices,P.radius,P.quality,P.qualityMin,P.qualityMax),delete f.chamfer}return s.create(a.extend({},E,f))},u.fromVertices=function(i,l,n,o,f,h,d,p){var x=a.getDecomp(),S,T,C,E,P,M,L,R,w,D,B;for(S=!!(x&&x.quickDecomp),o=o||{},C=[],f=typeof f<"u"?f:!1,h=typeof h<"u"?h:.01,d=typeof d<"u"?d:10,p=typeof p<"u"?p:.01,a.isArray(n[0])||(n=[n]),D=0;D<n.length;D+=1)if(M=n[D],E=c.isConvex(M),P=!E,P&&!S&&a.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),E||!S)E?M=c.clockwiseSort(M):M=c.hull(M),C.push({position:{x:i,y:l},vertices:M});else{var z=M.map(function(b){return[b.x,b.y]});x.makeCCW(z),h!==!1&&x.removeCollinearPoints(z,h),p!==!1&&x.removeDuplicatePoints&&x.removeDuplicatePoints(z,p);var V=x.quickDecomp(z);for(L=0;L<V.length;L++){var Y=V[L],H=Y.map(function(b){return{x:b[0],y:b[1]}});d>0&&c.area(H)<d||C.push({position:c.centre(H),vertices:H})}}for(L=0;L<C.length;L++)C[L]=s.create(a.extend(C[L],o));if(f){var I=5;for(L=0;L<C.length;L++){var U=C[L];for(R=L+1;R<C.length;R++){var O=C[R];if(r.overlaps(U.bounds,O.bounds)){var N=U.vertices,G=O.vertices;for(w=0;w<U.vertices.length;w++)for(B=0;B<O.vertices.length;B++){var X=e.magnitudeSquared(e.sub(N[(w+1)%N.length],G[B])),W=e.magnitudeSquared(e.sub(N[w],G[(B+1)%G.length]));X<I&&W<I&&(N[w].isInternal=!0,G[B].isInternal=!0)}}}}}return C.length>1?(T=s.create(a.extend({parts:C.slice(0)},o)),s.setPosition(T,{x:i,y:l}),T):C[0]},u.flagCoincidentParts=function(i,l){l===void 0&&(l=5);for(var n=0;n<i.length;n++)for(var o=i[n],f=n+1;f<i.length;f++){var h=i[f];if(r.overlaps(o.bounds,h.bounds))for(var d=o.vertices,p=h.vertices,x=0;x<o.vertices.length;x++)for(var S=0;S<h.vertices.length;S++){var T=e.magnitudeSquared(e.sub(d[(x+1)%d.length],p[S])),C=e.magnitudeSquared(e.sub(d[x],p[(S+1)%p.length]));T<l&&C<l&&(d[x].isInternal=!0,p[S].isInternal=!0)}}return i}})()},56643:(v,y,t)=>{var u={};v.exports=u;var c=t(11299),a=t(52838),s=t(68758),r=t(84125),e=t(68516);(function(){u.stack=function(i,l,n,o,f,h,d){for(var p=c.create({label:"Stack"}),x=i,S=l,T,C=0,E=0;E<o;E++){for(var P=0,M=0;M<n;M++){var L=d(x,S,M,E,T,C);if(L){var R=L.bounds.max.y-L.bounds.min.y,w=L.bounds.max.x-L.bounds.min.x;R>P&&(P=R),r.translate(L,{x:w*.5,y:R*.5}),x=L.bounds.max.x+f,c.addBody(p,L),T=L,C+=1}else x+=f}S+=P+h,x=i}return p},u.chain=function(i,l,n,o,f,h){for(var d=i.bodies,p=1;p<d.length;p++){var x=d[p-1],S=d[p],T=x.bounds.max.y-x.bounds.min.y,C=x.bounds.max.x-x.bounds.min.x,E=S.bounds.max.y-S.bounds.min.y,P=S.bounds.max.x-S.bounds.min.x,M={bodyA:x,pointA:{x:C*l,y:T*n},bodyB:S,pointB:{x:P*o,y:E*f}},L=s.extend(M,h);c.addConstraint(i,a.create(L))}return i.label+=" Chain",i},u.mesh=function(i,l,n,o,f){var h=i.bodies,d,p,x,S,T;for(d=0;d<n;d++){for(p=1;p<l;p++)x=h[p-1+d*l],S=h[p+d*l],c.addConstraint(i,a.create(s.extend({bodyA:x,bodyB:S},f)));if(d>0)for(p=0;p<l;p++)x=h[p+(d-1)*l],S=h[p+d*l],c.addConstraint(i,a.create(s.extend({bodyA:x,bodyB:S},f))),o&&p>0&&(T=h[p-1+(d-1)*l],c.addConstraint(i,a.create(s.extend({bodyA:T,bodyB:S},f)))),o&&p<l-1&&(T=h[p+1+(d-1)*l],c.addConstraint(i,a.create(s.extend({bodyA:T,bodyB:S},f))))}return i.label+=" Mesh",i},u.pyramid=function(i,l,n,o,f,h,d){return u.stack(i,l,n,o,f,h,function(p,x,S,T,C,E){var P=Math.min(o,Math.ceil(n/2)),M=C?C.bounds.max.x-C.bounds.min.x:0;if(!(T>P)){T=P-T;var L=T,R=n-1-T;if(!(S<L||S>R)){E===1&&r.translate(C,{x:(S+(n%2===1?1:-1))*M,y:0});var w=C?S*M:0;return d(i+w+S*f,x,S,T,C,E)}}})},u.newtonsCradle=function(i,l,n,o,f){for(var h=c.create({label:"Newtons Cradle"}),d=0;d<n;d++){var p=1.9,x=e.circle(i+d*(o*p),l+f,o,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),S=a.create({pointA:{x:i+d*(o*p),y:l},bodyB:x});c.addBody(h,x),c.addConstraint(h,S)}return h},u.car=function(i,l,n,o,f){var h=r.nextGroup(!0),d=20,p=-n*.5+d,x=n*.5-d,S=0,T=c.create({label:"Car"}),C=e.rectangle(i,l,n,o,{collisionFilter:{group:h},chamfer:{radius:o*.5},density:2e-4}),E=e.circle(i+p,l+S,f,{collisionFilter:{group:h},friction:.8}),P=e.circle(i+x,l+S,f,{collisionFilter:{group:h},friction:.8}),M=a.create({bodyB:C,pointB:{x:p,y:S},bodyA:E,stiffness:1,length:0}),L=a.create({bodyB:C,pointB:{x,y:S},bodyA:P,stiffness:1,length:0});return c.addBody(T,C),c.addBody(T,E),c.addBody(T,P),c.addConstraint(T,M),c.addConstraint(T,L),T},u.softBody=function(i,l,n,o,f,h,d,p,x,S){x=s.extend({inertia:1/0},x),S=s.extend({stiffness:.2,render:{type:"line",anchors:!1}},S);var T=u.stack(i,l,n,o,f,h,function(C,E){return e.circle(C,E,p,x)});return u.mesh(T,n,o,d,S),T.label="Soft Body",T}})()},50658:(v,y,t)=>{var u={};v.exports=u;var c=t(10438),a=t(68758);(function(){u.fromVertices=function(s){for(var r={},e=0;e<s.length;e++){var i=(e+1)%s.length,l=c.normalise({x:s[i].y-s[e].y,y:s[e].x-s[i].x}),n=l.y===0?1/0:l.x/l.y;n=n.toFixed(3).toString(),r[n]=l}return a.values(r)},u.rotate=function(s,r){if(r!==0)for(var e=Math.cos(r),i=Math.sin(r),l=0;l<s.length;l++){var n=s[l],o;o=n.x*e-n.y*i,n.y=n.x*i+n.y*e,n.x=o}}})()},84091:v=>{var y={};v.exports=y,function(){y.create=function(t){var u={min:{x:0,y:0},max:{x:0,y:0}};return t&&y.update(u,t),u},y.update=function(t,u,c){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var a=0;a<u.length;a++){var s=u[a];s.x>t.max.x&&(t.max.x=s.x),s.x<t.min.x&&(t.min.x=s.x),s.y>t.max.y&&(t.max.y=s.y),s.y<t.min.y&&(t.min.y=s.y)}c&&(c.x>0?t.max.x+=c.x:t.min.x+=c.x,c.y>0?t.max.y+=c.y:t.min.y+=c.y)},y.contains=function(t,u){return u.x>=t.min.x&&u.x<=t.max.x&&u.y>=t.min.y&&u.y<=t.max.y},y.overlaps=function(t,u){return t.min.x<=u.max.x&&t.max.x>=u.min.x&&t.max.y>=u.min.y&&t.min.y<=u.max.y},y.translate=function(t,u){t.min.x+=u.x,t.max.x+=u.x,t.min.y+=u.y,t.max.y+=u.y},y.shift=function(t,u){var c=t.max.x-t.min.x,a=t.max.y-t.min.y;t.min.x=u.x,t.max.x=u.x+c,t.min.y=u.y,t.max.y=u.y+a}}()},92765:(v,y,t)=>{var u={};v.exports=u;var c=t(84091),a=t(68758);(function(){u.pathToVertices=function(s,r){typeof window<"u"&&!("SVGPathSeg"in window)&&a.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var e,i,l,n,o,f,h,d,p,x,S=[],T,C,E=0,P=0,M=0;r=r||15;var L=function(w,D,B){var z=B%2===1&&B>1;if(!p||w!=p.x||D!=p.y){p&&z?(T=p.x,C=p.y):(T=0,C=0);var V={x:T+w,y:C+D};(z||!p)&&(p=V),S.push(V),P=T+w,M=C+D}},R=function(w){var D=w.pathSegTypeAsLetter.toUpperCase();if(D!=="Z"){switch(D){case"M":case"L":case"T":case"C":case"S":case"Q":P=w.x,M=w.y;break;case"H":P=w.x;break;case"V":M=w.y;break}L(P,M,w.pathSegType)}};for(u._svgPathToAbsolute(s),l=s.getTotalLength(),f=[],e=0;e<s.pathSegList.numberOfItems;e+=1)f.push(s.pathSegList.getItem(e));for(h=f.concat();E<l;){if(x=s.getPathSegAtLength(E),o=f[x],o!=d){for(;h.length&&h[0]!=o;)R(h.shift());d=o}switch(o.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":n=s.getPointAtLength(E),L(n.x,n.y,0);break}E+=r}for(e=0,i=h.length;e<i;++e)R(h[e]);return S},u._svgPathToAbsolute=function(s){for(var r,e,i,l,n,o,f=s.pathSegList,h=0,d=0,p=f.numberOfItems,x=0;x<p;++x){var S=f.getItem(x),T=S.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(T))"x"in S&&(h=S.x),"y"in S&&(d=S.y);else switch("x1"in S&&(i=h+S.x1),"x2"in S&&(n=h+S.x2),"y1"in S&&(l=d+S.y1),"y2"in S&&(o=d+S.y2),"x"in S&&(h+=S.x),"y"in S&&(d+=S.y),T){case"m":f.replaceItem(s.createSVGPathSegMovetoAbs(h,d),x);break;case"l":f.replaceItem(s.createSVGPathSegLinetoAbs(h,d),x);break;case"h":f.replaceItem(s.createSVGPathSegLinetoHorizontalAbs(h),x);break;case"v":f.replaceItem(s.createSVGPathSegLinetoVerticalAbs(d),x);break;case"c":f.replaceItem(s.createSVGPathSegCurvetoCubicAbs(h,d,i,l,n,o),x);break;case"s":f.replaceItem(s.createSVGPathSegCurvetoCubicSmoothAbs(h,d,n,o),x);break;case"q":f.replaceItem(s.createSVGPathSegCurvetoQuadraticAbs(h,d,i,l),x);break;case"t":f.replaceItem(s.createSVGPathSegCurvetoQuadraticSmoothAbs(h,d),x);break;case"a":f.replaceItem(s.createSVGPathSegArcAbs(h,d,S.r1,S.r2,S.angle,S.largeArcFlag,S.sweepFlag),x);break;case"z":case"Z":h=r,d=e;break}(T=="M"||T=="m")&&(r=h,e=d)}}})()},10438:v=>{var y={};v.exports=y,function(){y.create=function(t,u){return{x:t||0,y:u||0}},y.clone=function(t){return{x:t.x,y:t.y}},y.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},y.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},y.rotate=function(t,u,c){var a=Math.cos(u),s=Math.sin(u);c||(c={});var r=t.x*a-t.y*s;return c.y=t.x*s+t.y*a,c.x=r,c},y.rotateAbout=function(t,u,c,a){var s=Math.cos(u),r=Math.sin(u);a||(a={});var e=c.x+((t.x-c.x)*s-(t.y-c.y)*r);return a.y=c.y+((t.x-c.x)*r+(t.y-c.y)*s),a.x=e,a},y.normalise=function(t){var u=y.magnitude(t);return u===0?{x:0,y:0}:{x:t.x/u,y:t.y/u}},y.dot=function(t,u){return t.x*u.x+t.y*u.y},y.cross=function(t,u){return t.x*u.y-t.y*u.x},y.cross3=function(t,u,c){return(u.x-t.x)*(c.y-t.y)-(u.y-t.y)*(c.x-t.x)},y.add=function(t,u,c){return c||(c={}),c.x=t.x+u.x,c.y=t.y+u.y,c},y.sub=function(t,u,c){return c||(c={}),c.x=t.x-u.x,c.y=t.y-u.y,c},y.mult=function(t,u){return{x:t.x*u,y:t.y*u}},y.div=function(t,u){return{x:t.x/u,y:t.y/u}},y.perp=function(t,u){return u=u===!0?-1:1,{x:u*-t.y,y:u*t.x}},y.neg=function(t){return{x:-t.x,y:-t.y}},y.angle=function(t,u){return Math.atan2(u.y-t.y,u.x-t.x)},y._temp=[y.create(),y.create(),y.create(),y.create(),y.create(),y.create()]}()},39745:(v,y,t)=>{var u={};v.exports=u;var c=t(10438),a=t(68758);(function(){u.create=function(s,r){for(var e=[],i=0;i<s.length;i++){var l=s[i],n={x:l.x,y:l.y,index:i,body:r,isInternal:!1};e.push(n)}return e},u.fromPath=function(s,r){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,i=[];return s.replace(e,function(l,n,o){i.push({x:parseFloat(n),y:parseFloat(o)})}),u.create(i,r)},u.centre=function(s){for(var r=u.area(s,!0),e={x:0,y:0},i,l,n,o=0;o<s.length;o++)n=(o+1)%s.length,i=c.cross(s[o],s[n]),l=c.mult(c.add(s[o],s[n]),i),e=c.add(e,l);return c.div(e,6*r)},u.mean=function(s){for(var r={x:0,y:0},e=0;e<s.length;e++)r.x+=s[e].x,r.y+=s[e].y;return c.div(r,s.length)},u.area=function(s,r){for(var e=0,i=s.length-1,l=0;l<s.length;l++)e+=(s[i].x-s[l].x)*(s[i].y+s[l].y),i=l;return r?e/2:Math.abs(e)/2},u.inertia=function(s,r){for(var e=0,i=0,l=s,n,o,f=0;f<l.length;f++)o=(f+1)%l.length,n=Math.abs(c.cross(l[o],l[f])),e+=n*(c.dot(l[o],l[o])+c.dot(l[o],l[f])+c.dot(l[f],l[f])),i+=n;return r/6*(e/i)},u.translate=function(s,r,e){e=typeof e<"u"?e:1;var i=s.length,l=r.x*e,n=r.y*e,o;for(o=0;o<i;o++)s[o].x+=l,s[o].y+=n;return s},u.rotate=function(s,r,e){if(r!==0){var i=Math.cos(r),l=Math.sin(r),n=e.x,o=e.y,f=s.length,h,d,p,x;for(x=0;x<f;x++)h=s[x],d=h.x-n,p=h.y-o,h.x=n+(d*i-p*l),h.y=o+(d*l+p*i);return s}},u.contains=function(s,r){for(var e=r.x,i=r.y,l=s.length,n=s[l-1],o,f=0;f<l;f++){if(o=s[f],(e-n.x)*(o.y-n.y)+(i-n.y)*(n.x-o.x)>0)return!1;n=o}return!0},u.scale=function(s,r,e,i){if(r===1&&e===1)return s;i=i||u.centre(s);for(var l,n,o=0;o<s.length;o++)l=s[o],n=c.sub(l,i),s[o].x=i.x+n.x*r,s[o].y=i.y+n.y*e;return s},u.chamfer=function(s,r,e,i,l){typeof r=="number"?r=[r]:r=r||[8],e=typeof e<"u"?e:-1,i=i||2,l=l||14;for(var n=[],o=0;o<s.length;o++){var f=s[o-1>=0?o-1:s.length-1],h=s[o],d=s[(o+1)%s.length],p=r[o<r.length?o:r.length-1];if(p===0){n.push(h);continue}var x=c.normalise({x:h.y-f.y,y:f.x-h.x}),S=c.normalise({x:d.y-h.y,y:h.x-d.x}),T=Math.sqrt(2*Math.pow(p,2)),C=c.mult(a.clone(x),p),E=c.normalise(c.mult(c.add(x,S),.5)),P=c.sub(h,c.mult(E,T)),M=e;e===-1&&(M=Math.pow(p,.32)*1.75),M=a.clamp(M,i,l),M%2===1&&(M+=1);for(var L=Math.acos(c.dot(x,S)),R=L/M,w=0;w<M;w++)n.push(c.add(c.rotate(C,R*w),P))}return n},u.clockwiseSort=function(s){var r=u.mean(s);return s.sort(function(e,i){return c.angle(r,e)-c.angle(r,i)}),s},u.isConvex=function(s){var r=0,e=s.length,i,l,n,o;if(e<3)return null;for(i=0;i<e;i++)if(l=(i+1)%e,n=(i+2)%e,o=(s[l].x-s[i].x)*(s[n].y-s[l].y),o-=(s[l].y-s[i].y)*(s[n].x-s[l].x),o<0?r|=1:o>0&&(r|=2),r===3)return!1;return r!==0?!0:null},u.hull=function(s){var r=[],e=[],i,l;for(s=s.slice(0),s.sort(function(n,o){var f=n.x-o.x;return f!==0?f:n.y-o.y}),l=0;l<s.length;l+=1){for(i=s[l];e.length>=2&&c.cross3(e[e.length-2],e[e.length-1],i)<=0;)e.pop();e.push(i)}for(l=s.length-1;l>=0;l-=1){for(i=s[l];r.length>=2&&c.cross3(r[r.length-2],r[r.length-1],i)<=0;)r.pop();r.push(i)}return r.pop(),e.pop(),r.concat(e)}})()},1675:(v,y,t)=>{var u=t(18171),c={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(a){a.after("Body.create",function(){c.Body.init(this)}),a.before("Engine.update",function(s){c.Engine.update(s)})},Body:{init:function(a){a.plugin.attractors=a.plugin.attractors||[]}},Engine:{update:function(a){for(var s=u.Composite.allBodies(a.world),r=0;r<s.length;r++){var e=s[r],i=e.plugin.attractors;if(i&&i.length>0)for(var l=0;l<s.length;l++){var n=s[l];if(r!==l)for(var o=0;o<i.length;o++){var f=i[o],h=f;u.Common.isFunction(f)&&(h=f(e,n)),h&&u.Body.applyForce(n,n.position,h)}}}}},Attractors:{gravityConstant:.001,gravity:function(a,s){var r=u.Vector.sub(s.position,a.position),e=u.Vector.magnitudeSquared(r)||1e-4,i=u.Vector.normalise(r),l=-c.Attractors.gravityConstant*(a.mass*s.mass/e),n=u.Vector.mult(i,l);u.Body.applyForce(a,a.position,u.Vector.neg(n)),u.Body.applyForce(s,s.position,n)}}};v.exports=c},80391:v=>{var y={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(t){t.after("Engine.create",function(){t.Events.on(this,"collisionStart",function(u){u.pairs.map(function(c){var a=c.bodyA,s=c.bodyB;a.gameObject&&a.gameObject.emit("collide",a,s,c),s.gameObject&&s.gameObject.emit("collide",s,a,c),t.Events.trigger(a,"onCollide",{pair:c}),t.Events.trigger(s,"onCollide",{pair:c}),a.onCollideCallback&&a.onCollideCallback(c),s.onCollideCallback&&s.onCollideCallback(c),a.onCollideWith[s.id]&&a.onCollideWith[s.id](s,c),s.onCollideWith[a.id]&&s.onCollideWith[a.id](a,c)})}),t.Events.on(this,"collisionActive",function(u){u.pairs.map(function(c){var a=c.bodyA,s=c.bodyB;a.gameObject&&a.gameObject.emit("collideActive",a,s,c),s.gameObject&&s.gameObject.emit("collideActive",s,a,c),t.Events.trigger(a,"onCollideActive",{pair:c}),t.Events.trigger(s,"onCollideActive",{pair:c}),a.onCollideActiveCallback&&a.onCollideActiveCallback(c),s.onCollideActiveCallback&&s.onCollideActiveCallback(c)})}),t.Events.on(this,"collisionEnd",function(u){u.pairs.map(function(c){var a=c.bodyA,s=c.bodyB;a.gameObject&&a.gameObject.emit("collideEnd",a,s,c),s.gameObject&&s.gameObject.emit("collideEnd",s,a,c),t.Events.trigger(a,"onCollideEnd",{pair:c}),t.Events.trigger(s,"onCollideEnd",{pair:c}),a.onCollideEndCallback&&a.onCollideEndCallback(c),s.onCollideEndCallback&&s.onCollideEndCallback(c)})})})}};v.exports=y},44097:(v,y,t)=>{var u=t(18171),c={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(a){a.after("Engine.update",function(){c.Engine.update(this)})},Engine:{update:function(a){for(var s=a.world,r=u.Composite.allBodies(s),e=u.Composite.allComposites(s),i=0;i<r.length;i+=1){var l=r[i];l.plugin.wrap&&c.Body.wrap(l,l.plugin.wrap)}for(i=0;i<e.length;i+=1){var n=e[i];n.plugin.wrap&&c.Composite.wrap(n,n.plugin.wrap)}}},Bounds:{wrap:function(a,s){var r=null,e=null;if(typeof s.min.x<"u"&&typeof s.max.x<"u"&&(a.min.x>s.max.x?r=s.min.x-a.max.x:a.max.x<s.min.x&&(r=s.max.x-a.min.x)),typeof s.min.y<"u"&&typeof s.max.y<"u"&&(a.min.y>s.max.y?e=s.min.y-a.max.y:a.max.y<s.min.y&&(e=s.max.y-a.min.y)),r!==null||e!==null)return{x:r||0,y:e||0}}},Body:{wrap:function(a,s){var r=c.Bounds.wrap(a.bounds,s);return r&&u.Body.translate(a,r),r}},Composite:{bounds:function(a){for(var s=u.Composite.allBodies(a),r=[],e=0;e<s.length;e+=1){var i=s[e];r.push(i.bounds.min,i.bounds.max)}return u.Bounds.create(r)},wrap:function(a,s){var r=c.Bounds.wrap(c.Composite.bounds(a),s);return r&&u.Composite.translate(a,r),r}}};v.exports=c},81084:v=>{v.exports={decomp:L,quickDecomp:B,isSimple:w,removeCollinearPoints:z,removeDuplicatePoints:V,makeCCW:d};function y(I,U,O){O=O||0;var N=[0,0],G,X,W,b,K,Z,Q;return G=I[1][1]-I[0][1],X=I[0][0]-I[1][0],W=G*I[0][0]+X*I[0][1],b=U[1][1]-U[0][1],K=U[0][0]-U[1][0],Z=b*U[0][0]+K*U[0][1],Q=G*K-b*X,Y(Q,0,O)||(N[0]=(K*W-X*Z)/Q,N[1]=(G*Z-b*W)/Q),N}function t(I,U,O,N){var G=U[0]-I[0],X=U[1]-I[1],W=N[0]-O[0],b=N[1]-O[1];if(W*X-b*G===0)return!1;var K=(G*(O[1]-I[1])+X*(I[0]-O[0]))/(W*X-b*G),Z=(W*(I[1]-O[1])+b*(O[0]-I[0]))/(b*G-W*X);return K>=0&&K<=1&&Z>=0&&Z<=1}function u(I,U,O){return(U[0]-I[0])*(O[1]-I[1])-(O[0]-I[0])*(U[1]-I[1])}function c(I,U,O){return u(I,U,O)>0}function a(I,U,O){return u(I,U,O)>=0}function s(I,U,O){return u(I,U,O)<0}function r(I,U,O){return u(I,U,O)<=0}var e=[],i=[];function l(I,U,O,N){if(N){var G=e,X=i;G[0]=U[0]-I[0],G[1]=U[1]-I[1],X[0]=O[0]-U[0],X[1]=O[1]-U[1];var W=G[0]*X[0]+G[1]*X[1],b=Math.sqrt(G[0]*G[0]+G[1]*G[1]),K=Math.sqrt(X[0]*X[0]+X[1]*X[1]),Z=Math.acos(W/(b*K));return Z<N}else return u(I,U,O)===0}function n(I,U){var O=U[0]-I[0],N=U[1]-I[1];return O*O+N*N}function o(I,U){var O=I.length;return I[U<0?U%O+O:U%O]}function f(I){I.length=0}function h(I,U,O,N){for(var G=O;G<N;G++)I.push(U[G])}function d(I){for(var U=0,O=I,N=1;N<I.length;++N)(O[N][1]<O[U][1]||O[N][1]===O[U][1]&&O[N][0]>O[U][0])&&(U=N);return c(o(I,U-1),o(I,U),o(I,U+1))?!1:(p(I),!0)}function p(I){for(var U=[],O=I.length,N=0;N!==O;N++)U.push(I.pop());for(var N=0;N!==O;N++)I[N]=U[N]}function x(I,U){return s(o(I,U-1),o(I,U),o(I,U+1))}var S=[],T=[];function C(I,U,O){var N,G,X=S,W=T;if(a(o(I,U+1),o(I,U),o(I,O))&&r(o(I,U-1),o(I,U),o(I,O)))return!1;G=n(o(I,U),o(I,O));for(var b=0;b!==I.length;++b)if(!((b+1)%I.length===U||b===U)&&a(o(I,U),o(I,O),o(I,b+1))&&r(o(I,U),o(I,O),o(I,b))&&(X[0]=o(I,U),X[1]=o(I,O),W[0]=o(I,b),W[1]=o(I,b+1),N=y(X,W),n(o(I,U),N)<G))return!1;return!0}function E(I,U,O){for(var N=0;N!==I.length;++N)if(!(N===U||N===O||(N+1)%I.length===U||(N+1)%I.length===O)&&t(o(I,U),o(I,O),o(I,N),o(I,N+1)))return!1;return!0}function P(I,U,O,N){var G=N||[];if(f(G),U<O)for(var X=U;X<=O;X++)G.push(I[X]);else{for(var X=0;X<=O;X++)G.push(I[X]);for(var X=U;X<I.length;X++)G.push(I[X])}return G}function M(I){for(var U=[],O=[],N=[],G=[],X=Number.MAX_VALUE,W=0;W<I.length;++W)if(x(I,W)){for(var b=0;b<I.length;++b)if(C(I,W,b)){O=M(P(I,W,b,G)),N=M(P(I,b,W,G));for(var K=0;K<N.length;K++)O.push(N[K]);O.length<X&&(U=O,X=O.length,U.push([o(I,W),o(I,b)]))}}return U}function L(I){var U=M(I);return U.length>0?R(I,U):[I]}function R(I,U){if(U.length===0)return[I];if(U instanceof Array&&U.length&&U[0]instanceof Array&&U[0].length===2&&U[0][0]instanceof Array){for(var O=[I],N=0;N<U.length;N++)for(var G=U[N],X=0;X<O.length;X++){var W=O[X],b=R(W,G);if(b){O.splice(X,1),O.push(b[0],b[1]);break}}return O}else{var G=U,N=I.indexOf(G[0]),X=I.indexOf(G[1]);return N!==-1&&X!==-1?[P(I,N,X),P(I,X,N)]:!1}}function w(I){var U=I,O;for(O=0;O<U.length-1;O++)for(var N=0;N<O-1;N++)if(t(U[O],U[O+1],U[N],U[N+1]))return!1;for(O=1;O<U.length-2;O++)if(t(U[0],U[U.length-1],U[O],U[O+1]))return!1;return!0}function D(I,U,O,N,G){G=G||0;var X=U[1]-I[1],W=I[0]-U[0],b=X*I[0]+W*I[1],K=N[1]-O[1],Z=O[0]-N[0],Q=K*O[0]+Z*O[1],J=X*Z-K*W;return Y(J,0,G)?[0,0]:[(Z*b-W*Q)/J,(X*Q-K*b)/J]}function B(I,U,O,N,G,X,W){X=X||100,W=W||0,G=G||25,U=typeof U<"u"?U:[],O=O||[],N=N||[];var b=[0,0],K=[0,0],Z=[0,0],Q=0,J=0,j=0,k=0,$=0,_=0,nt=0,at=[],st=[],q=I,it=I;if(it.length<3)return U;if(W++,W>X)return console.warn("quickDecomp: max level ("+X+") reached."),U;for(var et=0;et<I.length;++et)if(x(q,et)){O.push(q[et]),Q=J=Number.MAX_VALUE;for(var lt=0;lt<I.length;++lt)c(o(q,et-1),o(q,et),o(q,lt))&&r(o(q,et-1),o(q,et),o(q,lt-1))&&(Z=D(o(q,et-1),o(q,et),o(q,lt),o(q,lt-1)),s(o(q,et+1),o(q,et),Z)&&(j=n(q[et],Z),j<J&&(J=j,K=Z,_=lt))),c(o(q,et+1),o(q,et),o(q,lt+1))&&r(o(q,et+1),o(q,et),o(q,lt))&&(Z=D(o(q,et+1),o(q,et),o(q,lt),o(q,lt+1)),c(o(q,et-1),o(q,et),Z)&&(j=n(q[et],Z),j<Q&&(Q=j,b=Z,$=lt)));if(_===($+1)%I.length)Z[0]=(K[0]+b[0])/2,Z[1]=(K[1]+b[1])/2,N.push(Z),et<$?(h(at,q,et,$+1),at.push(Z),st.push(Z),_!==0&&h(st,q,_,q.length),h(st,q,0,et+1)):(et!==0&&h(at,q,et,q.length),h(at,q,0,$+1),at.push(Z),st.push(Z),h(st,q,_,et+1));else{if(_>$&&($+=I.length),k=Number.MAX_VALUE,$<_)return U;for(var lt=_;lt<=$;++lt)a(o(q,et-1),o(q,et),o(q,lt))&&r(o(q,et+1),o(q,et),o(q,lt))&&(j=n(o(q,et),o(q,lt)),j<k&&E(q,et,lt)&&(k=j,nt=lt%I.length));et<nt?(h(at,q,et,nt+1),nt!==0&&h(st,q,nt,it.length),h(st,q,0,et+1)):(et!==0&&h(at,q,et,it.length),h(at,q,0,nt+1),h(st,q,nt,et+1))}return at.length<st.length?(B(at,U,O,N,G,X,W),B(st,U,O,N,G,X,W)):(B(st,U,O,N,G,X,W),B(at,U,O,N,G,X,W)),U}return U.push(I),U}function z(I,U){for(var O=0,N=I.length-1;I.length>3&&N>=0;--N)l(o(I,N-1),o(I,N),o(I,N+1),U)&&(I.splice(N%I.length,1),O++);return O}function V(I,U){for(var O=I.length-1;O>=1;--O)for(var N=I[O],G=O-1;G>=0;--G)if(H(N,I[G],U)){I.splice(O,1);continue}}function Y(I,U,O){return O=O||0,Math.abs(I-U)<=O}function H(I,U,O){return Y(I[0],U[0],O)&&Y(I[1],U[1],O)}},88257:(v,y,t)=>{var u=t(56694),c=new u({initialize:function(s){this.pluginManager=s,this.game=s.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});v.exports=c},18360:v=>{var y={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};v.exports=y},91963:v=>{var y={},t={},u={};u.register=function(c,a,s,r){r===void 0&&(r=!1),y[c]={plugin:a,mapping:s,custom:r}},u.registerCustom=function(c,a,s,r){t[c]={plugin:a,mapping:s,data:r}},u.hasCore=function(c){return y.hasOwnProperty(c)},u.hasCustom=function(c){return t.hasOwnProperty(c)},u.getCore=function(c){return y[c]},u.getCustom=function(c){return t[c]},u.getCustomClass=function(c){return t.hasOwnProperty(c)?t[c].plugin:null},u.remove=function(c){y.hasOwnProperty(c)&&delete y[c]},u.removeCustom=function(c){t.hasOwnProperty(c)&&delete t[c]},u.destroyCorePlugins=function(){for(var c in y)y.hasOwnProperty(c)&&delete y[c]},u.destroyCustomPlugins=function(){for(var c in t)t.hasOwnProperty(c)&&delete t[c]},v.exports=u},49274:(v,y,t)=>{var u=t(56694),c=t(97081),a=t(6659),s=t(76846),r=t(99325),e=t(61286),i=t(72632),l=t(91963),n=t(66458),o=new u({Extends:a,initialize:function(h){a.call(this),this.game=h,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],h.isBooted?this.boot():h.events.once(c.BOOT,this.boot,this)},boot:function(){var f,h,d,p,x,S,T,C=this.game.config,E=C.installGlobalPlugins;for(E=E.concat(this._pendingGlobal),f=0;f<E.length;f++)h=E[f],d=i(h,"key",null),p=i(h,"plugin",null),x=i(h,"start",!1),S=i(h,"mapping",null),T=i(h,"data",null),d&&(p?this.install(d,p,x,S,T):console.warn("Missing `plugin` for key: "+d));for(E=C.installScenePlugins,E=E.concat(this._pendingScene),f=0;f<E.length;f++)h=E[f],d=i(h,"key",null),p=i(h,"plugin",null),S=i(h,"mapping",null),d&&(p?this.installScenePlugin(d,p,S):console.warn("Missing `plugin` for key: "+d));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(c.DESTROY,this.destroy,this)},addToScene:function(f,h,d){var p,x,S,T=this.game,C=f.scene,E=f.settings.map,P=f.settings.isBooted;for(p=0;p<h.length;p++)x=h[p],T[x]?(f[x]=T[x],E.hasOwnProperty(x)&&(C[E[x]]=f[x])):x==="game"&&E.hasOwnProperty(x)&&(C[E[x]]=T);for(var M=0;M<d.length;M++)for(S=d[M],p=0;p<S.length;p++)if(x=S[p],!!l.hasCore(x)){var L=l.getCore(x),R=L.mapping,w=new L.plugin(C,this,R);f[R]=w,L.custom?C[R]=w:E.hasOwnProperty(R)&&(C[E[R]]=w),P&&w.boot()}for(S=this.plugins,p=0;p<S.length;p++){var D=S[p];D.mapping&&(C[D.mapping]=D.plugin)}},getDefaultScenePlugins:function(){var f=this.game.config.defaultPlugins;return f=f.concat(this.scenePlugins),f},installScenePlugin:function(f,h,d,p,x){if(x===void 0&&(x=!1),typeof h!="function"){console.warn("Invalid Scene Plugin: "+f);return}if(l.hasCore(f)||l.register(f,h,d,!0),this.scenePlugins.indexOf(f)===-1)this.scenePlugins.push(f);else if(!x&&l.hasCore(f)){console.warn("Scene Plugin key in use: "+f);return}if(p){var S=new h(p,this,f);p.sys[f]=S,d&&d!==""&&(p[d]=S),S.boot()}},install:function(f,h,d,p,x){if(d===void 0&&(d=!1),p===void 0&&(p=null),x===void 0&&(x=null),typeof h!="function")return console.warn("Invalid Plugin: "+f),null;if(l.hasCustom(f))return console.warn("Plugin key in use: "+f),null;if(p!==null&&(d=!0),!this.game.isBooted)this._pendingGlobal.push({key:f,plugin:h,start:d,mapping:p,data:x});else if(l.registerCustom(f,h,p,x),d)return this.start(f);return null},getIndex:function(f){for(var h=this.plugins,d=0;d<h.length;d++){var p=h[d];if(p.key===f)return d}return-1},getEntry:function(f){var h=this.getIndex(f);if(h!==-1)return this.plugins[h]},isActive:function(f){var h=this.getEntry(f);return h&&h.active},start:function(f,h){h===void 0&&(h=f);var d=this.getEntry(h);return d&&!d.active?(d.active=!0,d.plugin.start()):d||(d=this.createEntry(f,h)),d?d.plugin:null},createEntry:function(f,h){var d=l.getCustom(f);if(d){var p=new d.plugin(this);d={key:h,plugin:p,active:!0,mapping:d.mapping,data:d.data},this.plugins.push(d),p.init(d.data),p.start()}return d},stop:function(f){var h=this.getEntry(f);return h&&h.active&&(h.active=!1,h.plugin.stop()),this},get:function(f,h){h===void 0&&(h=!0);var d=this.getEntry(f);if(d)return d.plugin;var p=this.getClass(f);return p&&h?(d=this.createEntry(f,f),d?d.plugin:null):p||null},getClass:function(f){return l.getCustomClass(f)},removeGlobalPlugin:function(f){var h=this.getEntry(f);h&&n(this.plugins,h),l.removeCustom(f)},removeScenePlugin:function(f){n(this.scenePlugins,f),l.remove(f)},registerGameObject:function(f,h,d){return h&&e.register(f,h),d&&r.register(f,d),this},removeGameObject:function(f,h,d){return h===void 0&&(h=!0),d===void 0&&(d=!0),h&&e.remove(f),d&&r.remove(f),this},registerFileType:function(f,h,d){s.register(f,h),d&&d.sys.load&&(d.sys.load[f]=h)},destroy:function(){for(var f=0;f<this.plugins.length;f++)this.plugins[f].plugin.destroy();l.destroyCustomPlugins(),this.game.noReturn&&l.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});v.exports=o},39283:(v,y,t)=>{var u=t(88257),c=t(56694),a=t(7599),s=new c({Extends:u,initialize:function(e,i,l){u.call(this,i),this.scene=e,this.systems=e.sys,this.pluginKey=l,e.sys.events.once(a.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});v.exports=s},45615:(v,y,t)=>{v.exports={BasePlugin:t(88257),DefaultPlugins:t(18360),PluginCache:t(91963),PluginManager:t(49274),ScenePlugin:t(39283)}},75205:()=>{!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(v){let y=performance.now(),t=this.getVideoPlaybackQuality(),u=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,c=(a,s)=>{let r=this.getVideoPlaybackQuality(),e=this.mozPresentedFrames||this.mozPaintedFrames||r.totalVideoFrames-r.droppedVideoFrames;if(e>u){let i=this.mozFrameDelay||r.totalFrameDelay-t.totalFrameDelay||0,l=s-a;v(s,{presentationTime:s+i*1e3,expectedDisplayTime:s+l,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+l/1e3,presentedFrames:e,processingDuration:i}),delete this._rvfcpolyfillmap[y]}else this._rvfcpolyfillmap[y]=requestAnimationFrame(i=>c(s,i))};return this._rvfcpolyfillmap[y]=requestAnimationFrame(a=>c(y,a)),y},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(v){cancelAnimationFrame(this._rvfcpolyfillmap[v]),delete this._rvfcpolyfillmap[v]})},95723:v=>{v.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},27394:v=>{var y={DEFAULT:0,LINEAR:0,NEAREST:1};v.exports=y},91135:(v,y,t)=>{var u=t(89787),c=t(61840),a=t(56694),s=t(86459),r=t(6659),e=t(81044),i=t(32834),l=t(40444),n=t(38203),o=t(69360),f=new a({Extends:r,initialize:function(d){r.call(this);var p=d.config;this.config={clearBeforeRender:p.clearBeforeRender,backgroundColor:p.backgroundColor,antialias:p.antialias,roundPixels:p.roundPixels},this.game=d,this.type=s.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=d.canvas;var x={alpha:d.config.transparent,desynchronized:d.config.desynchronized,willReadFrequently:!1};this.gameContext=p.context?p.context:this.gameCanvas.getContext("2d",x),this.currentContext=this.gameContext,this.antialias=d.config.antialias,this.blendModes=i(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new o,this._tempMatrix2=new o,this._tempMatrix3=new o,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(n.READY,this.boot,this)},boot:function(){var h=this.game,d=h.scale.baseSize;this.width=d.width,this.height=d.height,this.isBooted=!0,h.scale.on(l.RESIZE,this.onResize,this),this.resize(d.width,d.height)},onResize:function(h,d){(d.width!==this.width||d.height!==this.height)&&this.resize(d.width,d.height)},resize:function(h,d){this.width=h,this.height=d,this.emit(e.RESIZE,h,d)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(h){return this.currentContext.globalCompositeOperation=h,this},setContext:function(h){return this.currentContext=h||this.gameContext,this},setAlpha:function(h){return this.currentContext.globalAlpha=h,this},preRender:function(){var h=this.gameContext,d=this.config,p=this.width,x=this.height;h.globalAlpha=1,h.globalCompositeOperation="source-over",h.setTransform(1,0,0,1,0,0),d.clearBeforeRender&&(h.clearRect(0,0,p,x),d.transparent||(h.fillStyle=d.backgroundColor.rgba,h.fillRect(0,0,p,x))),h.save(),this.drawCount=0,this.emit(e.PRE_RENDER)},render:function(h,d,p){var x=d.length;this.emit(e.RENDER,h,p);var S=p.x,T=p.y,C=p.width,E=p.height,P=p.renderToTexture?p.context:h.sys.context;P.save(),this.game.scene.customViewports&&(P.beginPath(),P.rect(S,T,C,E),P.clip()),p.emit(u.PRE_RENDER,p),this.currentContext=P;var M=p.mask;M&&M.preRenderCanvas(this,null,p._maskCamera),p.transparent||(P.fillStyle=p.backgroundColor.rgba,P.fillRect(S,T,C,E)),P.globalAlpha=p.alpha,P.globalCompositeOperation="source-over",this.drawCount+=x,p.renderToTexture&&p.emit(u.PRE_RENDER,p),p.matrix.copyToContext(P);for(var L=0;L<x;L++){var R=d[L];R.mask&&R.mask.preRenderCanvas(this,R,p),R.renderCanvas(this,R,p),R.mask&&R.mask.postRenderCanvas(this,R,p)}P.setTransform(1,0,0,1,0,0),P.globalCompositeOperation="source-over",P.globalAlpha=1,p.flashEffect.postRenderCanvas(P),p.fadeEffect.postRenderCanvas(P),p.dirty=!1,M&&M.postRenderCanvas(this),P.restore(),p.renderToTexture&&(p.emit(u.POST_RENDER,p),p.renderToGame&&h.sys.context.drawImage(p.canvas,S,T)),p.emit(u.POST_RENDER,p)},postRender:function(){var h=this.gameContext;h.restore(),this.emit(e.POST_RENDER);var d=this.snapshotState;d.callback&&(c(this.gameCanvas,d),d.callback=null)},snapshotCanvas:function(h,d,p,x,S,T,C,E,P){p===void 0&&(p=!1),this.snapshotArea(x,S,T,C,d,E,P);var M=this.snapshotState;return M.getPixel=p,c(h,M),M.callback=null,this},snapshot:function(h,d,p){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,h,d,p)},snapshotArea:function(h,d,p,x,S,T,C){var E=this.snapshotState;return E.callback=S,E.type=T,E.encoder=C,E.getPixel=!1,E.x=h,E.y=d,E.width=Math.min(p,this.gameCanvas.width),E.height=Math.min(x,this.gameCanvas.height),this},snapshotPixel:function(h,d,p){return this.snapshotArea(h,d,1,1,p),this.snapshotState.getPixel=!0,this},batchSprite:function(h,d,p,x){var S=p.alpha*h.alpha;if(S!==0){var T=this.currentContext,C=this._tempMatrix1,E=this._tempMatrix2,P=d.canvasData,M=P.x,L=P.y,R=d.cutWidth,w=d.cutHeight,D=d.customPivot,B=d.source.resolution,z=h.displayOriginX,V=h.displayOriginY,Y=-z+d.x,H=-V+d.y;if(h.isCropped){var I=h._crop;(I.flipX!==h.flipX||I.flipY!==h.flipY)&&d.updateCropUVs(I,h.flipX,h.flipY),R=I.cw,w=I.ch,M=I.cx,L=I.cy,Y=-z+I.x,H=-V+I.y,h.flipX&&(Y>=0?Y=-(Y+R):Y<0&&(Y=Math.abs(Y)-R)),h.flipY&&(H>=0?H=-(H+w):H<0&&(H=Math.abs(H)-w))}var U=1,O=1;h.flipX&&(D||(Y+=-d.realWidth+z*2),U=-1),h.flipY&&(D||(H+=-d.realHeight+V*2),O=-1);var N=h.x,G=h.y;p.roundPixels&&(N=Math.floor(N),G=Math.floor(G)),E.applyITRS(N,G,h.rotation,h.scaleX*U,h.scaleY*O),C.copyFrom(p.matrix),x?(C.multiplyWithOffset(x,-p.scrollX*h.scrollFactorX,-p.scrollY*h.scrollFactorY),E.e=N,E.f=G):(E.e-=p.scrollX*h.scrollFactorX,E.f-=p.scrollY*h.scrollFactorY),C.multiply(E),p.roundPixels&&(C.e=Math.round(C.e),C.f=Math.round(C.f)),T.save(),C.setToContext(T),T.globalCompositeOperation=this.blendModes[h.blendMode],T.globalAlpha=S,T.imageSmoothingEnabled=!d.source.scaleMode,h.mask&&h.mask.preRenderCanvas(this,h,p),R>0&&w>0&&T.drawImage(d.source.image,M,L,R,w,Y,H,R/B,w/B),h.mask&&h.mask.postRenderCanvas(this,h,p),T.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});v.exports=f},6046:(v,y,t)=>{v.exports={CanvasRenderer:t(91135),GetBlendModes:t(32834),SetTransform:t(49584)}},32834:(v,y,t)=>{var u=t(95723),c=t(98581),a=function(){var s=[],r=c.supportNewBlendModes,e="source-over";return s[u.NORMAL]=e,s[u.ADD]="lighter",s[u.MULTIPLY]=r?"multiply":e,s[u.SCREEN]=r?"screen":e,s[u.OVERLAY]=r?"overlay":e,s[u.DARKEN]=r?"darken":e,s[u.LIGHTEN]=r?"lighten":e,s[u.COLOR_DODGE]=r?"color-dodge":e,s[u.COLOR_BURN]=r?"color-burn":e,s[u.HARD_LIGHT]=r?"hard-light":e,s[u.SOFT_LIGHT]=r?"soft-light":e,s[u.DIFFERENCE]=r?"difference":e,s[u.EXCLUSION]=r?"exclusion":e,s[u.HUE]=r?"hue":e,s[u.SATURATION]=r?"saturation":e,s[u.COLOR]=r?"color":e,s[u.LUMINOSITY]=r?"luminosity":e,s[u.ERASE]="destination-out",s[u.SOURCE_IN]="source-in",s[u.SOURCE_OUT]="source-out",s[u.SOURCE_ATOP]="source-atop",s[u.DESTINATION_OVER]="destination-over",s[u.DESTINATION_IN]="destination-in",s[u.DESTINATION_OUT]="destination-out",s[u.DESTINATION_ATOP]="destination-atop",s[u.LIGHTER]="lighter",s[u.COPY]="copy",s[u.XOR]="xor",s};v.exports=a},49584:(v,y,t)=>{var u=t(73329),c=function(a,s,r,e,i){var l=e.alpha*r.alpha;if(l<=0)return!1;var n=u(r,e,i).calc;return s.globalCompositeOperation=a.blendModes[r.blendMode],s.globalAlpha=l,s.save(),n.setToContext(s),s.imageSmoothingEnabled=r.frame?!r.frame.source.scaleMode:a.antialias,!0};v.exports=c},70936:v=>{v.exports="postrender"},99298:v=>{v.exports="prerender"},7743:v=>{v.exports="render"},99519:v=>{v.exports="resize"},81044:(v,y,t)=>{v.exports={POST_RENDER:t(70936),PRE_RENDER:t(99298),RENDER:t(7743),RESIZE:t(99519)}},42069:(v,y,t)=>{v.exports={Canvas:t(6046),Events:t(81044),Snapshot:t(95528),WebGL:t(55478)}},61840:(v,y,t)=>{var u=t(61068),c=t(27119),a=t(72632),s=function(r,e){var i=a(e,"callback"),l=a(e,"type","image/png"),n=a(e,"encoder",.92),o=Math.abs(Math.round(a(e,"x",0))),f=Math.abs(Math.round(a(e,"y",0))),h=Math.floor(a(e,"width",r.width)),d=Math.floor(a(e,"height",r.height)),p=a(e,"getPixel",!1);if(p){var x=r.getContext("2d",{willReadFrequently:!1}),S=x.getImageData(o,f,1,1),T=S.data;i.call(null,new c(T[0],T[1],T[2],T[3]))}else if(o!==0||f!==0||h!==r.width||d!==r.height){var C=u.createWebGL(this,h,d),E=C.getContext("2d",{willReadFrequently:!0});h>0&&d>0&&E.drawImage(r,o,f,h,d,0,0,h,d);var P=new Image;P.onerror=function(){i.call(null),u.remove(C)},P.onload=function(){i.call(null,P),u.remove(C)},P.src=C.toDataURL(l,n)}else{var M=new Image;M.onerror=function(){i.call(null)},M.onload=function(){i.call(null,M)},M.src=r.toDataURL(l,n)}};v.exports=s},1217:(v,y,t)=>{var u=t(61068),c=t(27119),a=t(72632),s=function(r,e){var i=r,l=a(e,"callback"),n=a(e,"type","image/png"),o=a(e,"encoder",.92),f=Math.abs(Math.round(a(e,"x",0))),h=Math.abs(Math.round(a(e,"y",0))),d=a(e,"getPixel",!1),p=a(e,"isFramebuffer",!1),x=p?a(e,"bufferWidth",1):i.drawingBufferWidth,S=p?a(e,"bufferHeight",1):i.drawingBufferHeight;if(d){var T=new Uint8Array(4),C=p?h:S-h;i.readPixels(f,C,1,1,i.RGBA,i.UNSIGNED_BYTE,T),l.call(null,new c(T[0],T[1],T[2],T[3]))}else{var E=Math.floor(a(e,"width",x)),P=Math.floor(a(e,"height",S)),M=E*P*4,L=new Uint8Array(M);i.readPixels(f,S-h-P,E,P,i.RGBA,i.UNSIGNED_BYTE,L);for(var R=u.createWebGL(this,E,P),w=R.getContext("2d",{willReadFrequently:!0}),D=w.getImageData(0,0,E,P),B=D.data,z=0;z<P;z++)for(var V=0;V<E;V++){var Y=((P-z-1)*E+V)*4,H=p?M-(z*E+(E-V))*4:(z*E+V)*4;B[H+0]=L[Y+0],B[H+1]=L[Y+1],B[H+2]=L[Y+2],B[H+3]=L[Y+3]}w.putImageData(D,0,0);var I=new Image;I.onerror=function(){l.call(null),u.remove(R)},I.onload=function(){l.call(null,I),u.remove(R)},I.src=R.toDataURL(n,o)}};v.exports=s},95528:(v,y,t)=>{v.exports={Canvas:t(61840),WebGL:t(1217)}},35217:(v,y,t)=>{var u=t(56694),c=t(65641),a=t(33885),s=t(77290),r=t(72632),e=t(37410),i=t(82127),l=t(5583),n=t(58136),o=t(47406),f=t(81828),h=t(66901),d=t(71264),p=t(77310),x=t(10919),S=t(21213),T=t(51212),C=t(60848),E=new u({initialize:function(M){this.game=M.game,this.renderer=M,this.classes=new a([[c.UTILITY_PIPELINE,C],[c.MULTI_PIPELINE,p],[c.BITMAPMASK_PIPELINE,l],[c.SINGLE_PIPELINE,T],[c.ROPE_PIPELINE,S],[c.LIGHT_PIPELINE,h],[c.POINTLIGHT_PIPELINE,x],[c.MOBILE_PIPELINE,d],[c.FX_PIPELINE,f]]),this.postPipelineClasses=new a([[String(o.BARREL),n.Barrel],[String(o.BLOOM),n.Bloom],[String(o.BLUR),n.Blur],[String(o.BOKEH),n.Bokeh],[String(o.CIRCLE),n.Circle],[String(o.COLOR_MATRIX),n.ColorMatrix],[String(o.DISPLACEMENT),n.Displacement],[String(o.GLOW),n.Glow],[String(o.GRADIENT),n.Gradient],[String(o.PIXELATE),n.Pixelate],[String(o.SHADOW),n.Shadow],[String(o.SHINE),n.Shine],[String(o.VIGNETTE),n.Vignette],[String(o.WIPE),n.Wipe]]),this.pipelines=new a,this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(P,M,L){var R=this.renderer,w=this.renderTargets;this.frameInc=Math.floor(r(P,"frameInc",32));for(var D=R.width,B=R.height,z=Math.min(D,B),V=Math.ceil(z/this.frameInc),Y=1;Y<V;Y++){var H=Y*this.frameInc;w.push(new e(R,H,H)),w.push(new e(R,H,H)),w.push(new e(R,H,H)),this.maxDimension=H}w.push(new e(R,D,B,1,0,!0,!0)),w.push(new e(R,D,B,1,0,!0,!0)),w.push(new e(R,D,B,1,0,!0,!0));var I,U,O=this,N=this.game;if(this.classes.each(function(X,W){I=O.add(X,new W({game:N})),X===c.UTILITY_PIPELINE&&(O.UTILITY_PIPELINE=I,O.fullFrame1=I.fullFrame1,O.fullFrame2=I.fullFrame2,O.halfFrame1=I.halfFrame1,O.halfFrame2=I.halfFrame2)}),this.MULTI_PIPELINE=this.get(c.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(c.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(c.MOBILE_PIPELINE),this.FX_PIPELINE=this.get(c.FX_PIPELINE),P)for(U in P){var G=P[U];I=new G(N),I.name=U,I.isPostFX?this.postPipelineClasses.set(U,G):this.has(U)||(this.classes.set(U,G),this.add(U,I))}this.default=this.get(M),L&&!s.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(P){var M=this.get(P);return M&&(this.default=M),M},add:function(P,M){if(M.isPostFX){console.warn(P+" is a Post Pipeline. Use `addPostPipeline` instead");return}var L=this.pipelines,R=this.renderer;return L.has(P)?console.warn("Pipeline exists: "+P):(M.name=P,M.manager=this,L.set(P,M)),M.hasBooted||M.boot(),R.width!==0&&R.height!==0&&!M.isPreFX&&M.resize(R.width,R.height),M},addPostPipeline:function(P,M){this.postPipelineClasses.has(P)||this.postPipelineClasses.set(P,M)},flush:function(){this.current&&this.current.flush()},has:function(P){var M=this.pipelines;return typeof P=="string"?M.has(P):!!M.contains(P)},get:function(P){var M=this.pipelines;if(typeof P=="string")return M.get(P);if(M.contains(P))return P},getPostPipeline:function(P,M,L){var R=this.postPipelineClasses,w,D="",B=typeof P;if(B==="string"||B==="number"?(w=R.get(P),D=P):B==="function"?(R.contains(P)&&(w=P),D=P.name):B==="object"&&(w=R.get(P.name),D=P.name),w){var z=new w(this.game,L);return z.name=D,M&&(z.gameObject=M),z}},remove:function(P,M,L){M===void 0&&(M=!0),L===void 0&&(L=!0),this.pipelines.delete(P),M&&this.classes.delete(P),L&&this.postPipelineClasses.delete(P)},set:function(P,M,L){if(!P.isPostFX)return this.isCurrent(P,L)||(this.flush(),this.current&&this.current.unbind(),this.current=P,P.bind(L)),P.updateProjectionMatrix(),P.onBind(M),P},preBatch:function(P){if(P.hasPostPipeline){this.flush();for(var M=P.postPipelines,L=M.length-1;L>=0;L--){var R=M[L];R.active&&R.preBatch(P)}}},postBatch:function(P){if(P.hasPostPipeline){this.flush();for(var M=P.postPipelines,L=0;L<M.length;L++){var R=M[L];R.active&&R.postBatch(P)}}},preBatchCamera:function(P){if(P.hasPostPipeline){this.flush();for(var M=P.postPipelines,L=M.length-1;L>=0;L--){var R=M[L];R.active&&R.preBatch(P)}}},postBatchCamera:function(P){if(P.hasPostPipeline){this.flush();for(var M=P.postPipelines,L=0;L<M.length;L++){var R=M[L];R.active&&R.postBatch(P)}}},isCurrent:function(P,M){var L=this.renderer,R=this.current;return R&&!M&&(M=R.currentShader),!(R!==P||M.program!==L.currentProgram)},copyFrame:function(P,M,L,R,w){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(P,M,L,R,w),this},copyToGame:function(P){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(P),this},drawFrame:function(P,M,L,R){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(P,M,L,R),this},blendFrames:function(P,M,L,R,w){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(P,M,L,R,w),this},blendFramesAdditive:function(P,M,L,R,w){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(P,M,L,R,w),this},clearFrame:function(P,M){return this.UTILITY_PIPELINE.clearFrame(P,M),this},blitFrame:function(P,M,L,R,w,D){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(P,M,L,R,w,D),this},copyFrameRect:function(P,M,L,R,w,D,B,z){return this.UTILITY_PIPELINE.copyFrameRect(P,M,L,R,w,D,B,z),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(P){return this.UTILITY_PIPELINE.bind(P)},setFX:function(){return this.set(this.FX_PIPELINE)},rebind:function(P){P===void 0&&this.previous&&(P=this.previous);var M=this.renderer,L=M.gl;L.disable(L.DEPTH_TEST),L.disable(L.CULL_FACE),M.hasActiveStencilMask()?L.clear(L.DEPTH_BUFFER_BIT):(L.disable(L.STENCIL_TEST),L.clear(L.DEPTH_BUFFER_BIT|L.STENCIL_BUFFER_BIT)),L.viewport(0,0,M.width,M.height),M.currentProgram=null,M.setBlendMode(0,!0);var R=M.vaoExtension;R&&R.bindVertexArrayOES(null);var w=this.pipelines.entries;for(var D in w)w[D].glReset=!0;P&&(this.current=P,P.rebind())},clear:function(){var P=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,P.currentProgram=null,P.setBlendMode(0,!0);var M=P.vaoExtension;M&&M.bindVertexArrayOES(null)},getRenderTarget:function(P){var M=this.renderTargets,L=3;if(P>this.maxDimension)return this.targetIndex=M.length-L,M[this.targetIndex];var R=(i(P,this.frameInc,0,!0)-1)*L;return this.targetIndex=R,M[R]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});v.exports=E},37410:(v,y,t)=>{var u=t(56694),c=t(81044),a=new u({initialize:function(r,e,i,l,n,o,f,h,d){l===void 0&&(l=1),n===void 0&&(n=0),o===void 0&&(o=!0),f===void 0&&(f=!1),h===void 0&&(h=!0),d===void 0&&(d=!0),this.renderer=r,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=l,this.minFilter=n,this.autoClear=o,this.autoResize=!0,this.hasDepthBuffer=h,this.forceClamp=d,this.resize(e,i),f?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(s){return s&&!this.autoResize?(this.renderer.on(c.RESIZE,this.resize,this),this.autoResize=!0):!s&&this.autoResize&&(this.renderer.off(c.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(s,r){var e=s*this.scale,i=r*this.scale;if(this.autoResize&&(e!==this.width||i!==this.height)){var l=this.renderer;l.deleteFramebuffer(this.framebuffer),l.deleteTexture(this.texture),s*=this.scale,r*=this.scale,s=Math.round(s),r=Math.round(r),s<=0&&(s=1),r<=0&&(r=1),this.texture=l.createTextureFromSource(null,s,r,this.minFilter,this.forceClamp),this.framebuffer=l.createFramebuffer(s,r,this.texture,this.hasDepthBuffer),this.width=s,this.height=r}return this},bind:function(s,r,e){s===void 0&&(s=!1);var i=this.renderer;if(s&&i.flush(),r&&e&&this.resize(r,e),i.pushFramebuffer(this.framebuffer,!1,!1),s&&this.adjustViewport(),this.autoClear){var l=this.renderer.gl;l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT)}i.clearStencilMask()},adjustViewport:function(){var s=this.renderer.gl;s.viewport(0,0,this.width,this.height),s.disable(s.SCISSOR_TEST)},clear:function(){var s=this.renderer,r=s.gl;s.pushFramebuffer(this.framebuffer),r.disable(r.SCISSOR_TEST),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),s.popFramebuffer(),s.resetScissor()},unbind:function(s){s===void 0&&(s=!1);var r=this.renderer;return s&&r.flush(),r.popFramebuffer()},destroy:function(){var s=this.renderer;s.deleteFramebuffer(this.framebuffer),s.deleteTexture(this.texture),s.off(c.RESIZE,this.resize,this),this.renderer=null,this.framebuffer=null,this.texture=null}});v.exports=a},75512:v=>{v.exports={getTintFromFloats:function(y,t,u,c){var a=(y*255|0)&255,s=(t*255|0)&255,r=(u*255|0)&255,e=(c*255|0)&255;return(e<<24|a<<16|s<<8|r)>>>0},getTintAppendFloatAlpha:function(y,t){var u=(t*255|0)&255;return(u<<24|y)>>>0},getTintAppendFloatAlphaAndSwap:function(y,t){var u=(y>>16|0)&255,c=(y>>8|0)&255,a=(y|0)&255,s=(t*255|0)&255;return(s<<24|a<<16|c<<8|u)>>>0},getFloatsFromUintRGB:function(y){var t=(y>>16|0)&255,u=(y>>8|0)&255,c=(y|0)&255;return[t/255,u/255,c/255]},checkShaderMax:function(y,t){var u=Math.min(16,y.getParameter(y.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?u:Math.min(u,t)},parseFragmentShaderMaxTextures:function(y,t){if(!y)return"";for(var u="",c=0;c<t;c++)c>0&&(u+=`
	else `),c<t-1&&(u+="if (outTexId < "+c+".5)"),u+=`
	{`,u+=`
		texture = texture2D(uMainSampler[`+c+"], outTexCoord);",u+=`
	}`;return y=y.replace(/%count%/gi,t.toString()),y.replace(/%forloop%/gi,u)},setGlowQuality:function(y,t,u,c){return u===void 0&&(u=t.config.glowFXQuality),c===void 0&&(c=t.config.glowFXDistance),y=y.replace(/__SIZE__/gi,(1/u/c).toFixed(7)),y=y.replace(/__DIST__/gi,c.toFixed(0)+".0"),y}}},44775:(v,y,t)=>{var u=t(56694),c=t(28699),a=t(6659),s=t(18970),r=t(72632),e=t(16650),i=t(81044),l=t(37410),n=t(75512),o=t(71305),f=new u({Extends:a,initialize:function(d){a.call(this);var p=d.game,x=p.renderer,S=x.gl;this.name=r(d,"name","WebGLPipeline"),this.game=p,this.renderer=x,this.manager,this.gl=S,this.view=p.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=r(d,"topology",S.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=r(d,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=d,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[]},boot:function(){var h,d=this.gl,p=this.config,x=this.renderer;this.isPostFX||(this.projectionMatrix=new e().identity());var S=this.renderTargets,T=r(p,"renderTarget",!1);typeof T=="boolean"&&T&&(T=1);var C=x.width,E=x.height;if(typeof T=="number")for(h=0;h<T;h++)S.push(new l(x,C,E,1,0,!0));else if(Array.isArray(T))for(h=0;h<T.length;h++){var P=r(T[h],"scale",1),M=r(T[h],"minFilter",0),L=r(T[h],"autoClear",1),R=r(T[h],"width",null),w=r(T[h],"height",R);R?S.push(new l(x,R,w,1,M,L)):S.push(new l(x,C,E,P,M,L))}S.length&&(this.currentRenderTarget=S[0]),this.setShadersFromConfig(p);var D=this.shaders,B=0;for(h=0;h<D.length;h++)D[h].vertexSize>B&&(B=D[h].vertexSize);var z=r(p,"batchSize",x.config.batchSize);this.vertexCapacity=z*6;var V=new ArrayBuffer(this.vertexCapacity*B);this.vertexData=V,this.bytes=new Uint8Array(V),this.vertexViewF32=new Float32Array(V),this.vertexViewU32=new Uint32Array(V);var Y=r(p,"vertices",null);for(Y?(this.vertexViewF32.set(Y),this.vertexBuffer=x.createVertexBuffer(V,d.STATIC_DRAW)):this.vertexBuffer=x.createVertexBuffer(V.byteLength,d.DYNAMIC_DRAW),this.setVertexBuffer(),h=D.length-1;h>=0;h--)D[h].rebind();this.hasBooted=!0,x.on(i.RESIZE,this.resize,this),x.on(i.PRE_RENDER,this.onPreRender,this),x.on(i.RENDER,this.onRender,this),x.on(i.POST_RENDER,this.onPostRender,this),this.emit(s.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(h,d,p){var x=this.renderer;if(h!==this.currentShader||x.currentProgram!==this.currentShader.program){this.flush();var S=this.setVertexBuffer(p);S&&!d&&(d=!0),h.bind(d,!1),this.currentShader=h}return this},getShaderByName:function(h){for(var d=this.shaders,p=0;p<d.length;p++)if(d[p].name===h)return d[p]},setShadersFromConfig:function(h){var d,p=this.shaders,x=this.renderer;for(d=0;d<p.length;d++)p[d].destroy();var S="vertShader",T="fragShader",C="attributes",E=r(h,S,null),P=n.parseFragmentShaderMaxTextures(r(h,T,null),x.maxTextures),M=r(h,C,null),L=r(h,"shaders",[]),R=L.length;if(R===0)E&&P&&(this.shaders=[new o(this,"default",E,P,c(M))]);else{var w=[];for(d=0;d<R;d++){var D=L[d],B,z,V,Y;if(typeof D=="string"?(B="default",z=E,V=n.parseFragmentShaderMaxTextures(D,x.maxTextures),Y=M):(B=r(D,"name","default"),z=r(D,S,E),V=n.parseFragmentShaderMaxTextures(r(D,T,P),x.maxTextures),Y=r(D,C,M)),B==="default"){var H=V.split(`
`),I=H[0].trim();I.indexOf("#define SHADER_NAME")>-1&&(B=I.substring(20))}z&&V&&w.push(new o(this,B,z,V,c(Y)))}this.shaders=w}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(h){return this.currentBatch={start:this.vertexCount,count:0,texture:[h],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=h,this.batch.push(this.currentBatch),0},addTextureToBatch:function(h){var d=this.currentBatch;d&&(d.texture.push(h),d.unit++,d.maxUnit++)},pushBatch:function(h){if(!this.currentBatch||this.forceZero&&h!==this.currentTexture)return this.createBatch(h);if(h===this.currentTexture)return this.currentUnit;var d=this.currentBatch,p=d.texture.indexOf(h);return p===-1?d.texture.length===this.renderer.maxTextures?this.createBatch(h):(d.unit++,d.maxUnit++,d.texture.push(h),this.currentUnit=d.unit,this.currentTexture=h,d.unit):(this.currentUnit=p,this.currentTexture=h,p)},setGameObject:function(h,d){return d===void 0&&(d=h.frame),this.pushBatch(d.source.glTexture)},shouldFlush:function(h){return h===void 0&&(h=0),this.vertexCount+h>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(h,d){(h!==this.width||d!==this.height)&&this.flush(),this.width=h,this.height=d;for(var p=this.renderTargets,x=0;x<p.length;x++)p[x].resize(h,d);return this.setProjectionMatrix(h,d),this.emit(s.RESIZE,h,d,this),this.onResize(h,d),this},setProjectionMatrix:function(h,d){var p=this.projectionMatrix;if(!p)return this;this.projectionWidth=h,this.projectionHeight=d,p.ortho(0,h,d,0,-1e3,1e3);for(var x=this.shaders,S="uProjectionMatrix",T=0;T<x.length;T++){var C=x[T];C.hasUniform(S)&&(C.resetUniform(S),C.setMatrix4fv(S,!1,p.val,C))}return this},flipProjectionMatrix:function(h){h===void 0&&(h=!0);var d=this.projectionMatrix;if(!d)return this;var p=this.projectionWidth,x=this.projectionHeight;h?d.ortho(0,p,0,x,-1e3,1e3):d.ortho(0,p,x,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,d.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var h=this.renderer.projectionWidth,d=this.renderer.projectionHeight;(this.projectionWidth!==h||this.projectionHeight!==d)&&this.setProjectionMatrix(h,d)}},bind:function(h){if(h===void 0&&(h=this.currentShader),this.glReset)return this.rebind(h);var d=!1,p=this.gl;return p.getParameter(p.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(p.bindBuffer(p.ARRAY_BUFFER,this.vertexBuffer),this.activeBuffer=this.vertexBuffer,d=!0),h.bind(d),this.currentShader=h,this.activeTextures.length=0,this.emit(s.BIND,this,h),this.onActive(h),this},rebind:function(h){this.activeBuffer=null,this.setVertexBuffer();for(var d=this.shaders,p=d.length-1;p>=0;p--){var x=d[p].rebind();(!h||x===h)&&(this.currentShader=x)}return this.activeTextures.length=0,this.emit(s.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},setVertexBuffer:function(h){if(h===void 0&&(h=this.vertexBuffer),h!==this.activeBuffer){var d=this.gl;return this.gl.bindBuffer(d.ARRAY_BUFFER,h),this.activeBuffer=h,!0}return!1},preBatch:function(h){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(h),this},postBatch:function(h){return this.onDraw(this.currentRenderTarget),this.onPostBatch(h),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(h){if(h===void 0&&(h=!1),this.vertexCount>0){this.emit(s.BEFORE_FLUSH,this,h),this.onBeforeFlush(h);var d=this.gl,p=this.vertexCount,x=this.currentShader.vertexSize,S=this.topology;if(this.active){this.setVertexBuffer(),p===this.vertexCapacity?d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.DYNAMIC_DRAW):d.bufferSubData(d.ARRAY_BUFFER,0,this.bytes.subarray(0,p*x));var T,C,E,P=this.batch,M=this.activeTextures;if(this.forceZero)for(M[0]||d.activeTexture(d.TEXTURE0),T=0;T<P.length;T++)C=P[T],E=C.texture[0],M[0]!==E&&(d.bindTexture(d.TEXTURE_2D,E),M[0]=E),d.drawArrays(S,C.start,C.count);else for(T=0;T<P.length;T++){C=P[T];for(var L=0;L<=C.maxUnit;L++)E=C.texture[L],M[L]!==E&&(d.activeTexture(d.TEXTURE0+L),d.bindTexture(d.TEXTURE_2D,E),M[L]=E);d.drawArrays(S,C.start,C.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(s.AFTER_FLUSH,this,h),this.onAfterFlush(h)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(h,d,p,x,S,T,C){var E=this.vertexViewF32,P=this.vertexViewU32,M=this.vertexCount*this.currentShader.vertexComponentCount-1;E[++M]=h,E[++M]=d,E[++M]=p,E[++M]=x,E[++M]=S,E[++M]=T,P[++M]=C,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(h,d,p,x,S,T,C,E,P,M,L,R,w,D,B,z,V,Y,H,I){I===void 0&&(I=this.currentUnit);var U=!1;this.shouldFlush(6)&&(this.flush(),U=!0),this.currentBatch||(I=this.setTexture2D(H));var O=this.vertexViewF32,N=this.vertexViewU32,G=this.vertexCount*this.currentShader.vertexComponentCount-1;return O[++G]=d,O[++G]=p,O[++G]=M,O[++G]=L,O[++G]=I,O[++G]=Y,N[++G]=D,O[++G]=x,O[++G]=S,O[++G]=M,O[++G]=w,O[++G]=I,O[++G]=Y,N[++G]=z,O[++G]=T,O[++G]=C,O[++G]=R,O[++G]=w,O[++G]=I,O[++G]=Y,N[++G]=V,O[++G]=d,O[++G]=p,O[++G]=M,O[++G]=L,O[++G]=I,O[++G]=Y,N[++G]=D,O[++G]=T,O[++G]=C,O[++G]=R,O[++G]=w,O[++G]=I,O[++G]=Y,N[++G]=V,O[++G]=E,O[++G]=P,O[++G]=R,O[++G]=L,O[++G]=I,O[++G]=Y,N[++G]=B,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(h),U},batchTri:function(h,d,p,x,S,T,C,E,P,M,L,R,w,D,B,z,V){V===void 0&&(V=this.currentUnit);var Y=!1;this.shouldFlush(3)&&(this.flush(),Y=!0),this.currentBatch||(V=this.setTexture2D(z));var H=this.vertexViewF32,I=this.vertexViewU32,U=this.vertexCount*this.currentShader.vertexComponentCount-1;return H[++U]=d,H[++U]=p,H[++U]=E,H[++U]=P,H[++U]=V,H[++U]=B,I[++U]=R,H[++U]=x,H[++U]=S,H[++U]=E,H[++U]=L,H[++U]=V,H[++U]=B,I[++U]=w,H[++U]=T,H[++U]=C,H[++U]=M,H[++U]=L,H[++U]=V,H[++U]=B,I[++U]=D,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(h),Y},drawFillRect:function(h,d,p,x,S,T,C,E){C===void 0&&(C=this.renderer.whiteTexture),E===void 0&&(E=!0),h=Math.floor(h),d=Math.floor(d);var P=Math.floor(h+p),M=Math.floor(d+x),L=this.setTexture2D(C),R=n.getTintAppendFloatAlphaAndSwap(S,T),w=0,D=0,B=1,z=1;E&&(D=1,z=0),this.batchQuad(null,h,d,h,M,P,M,P,d,w,D,B,z,R,R,R,R,0,C,L)},setTexture2D:function(h){return h===void 0&&(h=this.renderer.whiteTexture),this.pushBatch(h)},bindTexture:function(h,d){d===void 0&&(d=0);var p=this.gl;return p.activeTexture(p.TEXTURE0+d),p.bindTexture(p.TEXTURE_2D,h),this},bindRenderTarget:function(h,d){return this.bindTexture(h.texture,d)},setTime:function(h,d){return this.set1f(h,this.game.loop.getDuration(),d),this},setBoolean:function(h,d,p){return p===void 0&&(p=this.currentShader),p.setBoolean(h,d),this},set1f:function(h,d,p){return p===void 0&&(p=this.currentShader),p.set1f(h,d),this},set2f:function(h,d,p,x){return x===void 0&&(x=this.currentShader),x.set2f(h,d,p),this},set3f:function(h,d,p,x,S){return S===void 0&&(S=this.currentShader),S.set3f(h,d,p,x),this},set4f:function(h,d,p,x,S,T){return T===void 0&&(T=this.currentShader),T.set4f(h,d,p,x,S),this},set1fv:function(h,d,p){return p===void 0&&(p=this.currentShader),p.set1fv(h,d),this},set2fv:function(h,d,p){return p===void 0&&(p=this.currentShader),p.set2fv(h,d),this},set3fv:function(h,d,p){return p===void 0&&(p=this.currentShader),p.set3fv(h,d),this},set4fv:function(h,d,p){return p===void 0&&(p=this.currentShader),p.set4fv(h,d),this},set1iv:function(h,d,p){return p===void 0&&(p=this.currentShader),p.set1iv(h,d),this},set2iv:function(h,d,p){return p===void 0&&(p=this.currentShader),p.set2iv(h,d),this},set3iv:function(h,d,p){return p===void 0&&(p=this.currentShader),p.set3iv(h,d),this},set4iv:function(h,d,p){return p===void 0&&(p=this.currentShader),p.set4iv(h,d),this},set1i:function(h,d,p){return p===void 0&&(p=this.currentShader),p.set1i(h,d),this},set2i:function(h,d,p,x){return x===void 0&&(x=this.currentShader),x.set2i(h,d,p),this},set3i:function(h,d,p,x,S){return S===void 0&&(S=this.currentShader),S.set3i(h,d,p,x),this},set4i:function(h,d,p,x,S,T){return T===void 0&&(T=this.currentShader),T.set4i(h,d,p,x,S),this},setMatrix2fv:function(h,d,p,x){return x===void 0&&(x=this.currentShader),x.setMatrix2fv(h,d,p),this},setMatrix3fv:function(h,d,p,x){return x===void 0&&(x=this.currentShader),x.setMatrix3fv(h,d,p),this},setMatrix4fv:function(h,d,p,x){return x===void 0&&(x=this.currentShader),x.setMatrix4fv(h,d,p),this},destroy:function(){this.emit(s.DESTROY,this);var h,d=this.shaders;for(h=0;h<d.length;h++)d[h].destroy();var p=this.renderTargets;for(h=0;h<p.length;h++)p[h].destroy();this.gl.deleteBuffer(this.vertexBuffer);var x=this.renderer;return x.off(i.RESIZE,this.resize,this),x.off(i.PRE_RENDER,this.onPreRender,this),x.off(i.RENDER,this.onRender,this),x.off(i.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});v.exports=f},11857:(v,y,t)=>{var u=t(66458),c=t(89787),a=t(56694),s=t(86459),r=t(6659),e=t(81044),i=t(28621),l=t(16650),n=t(72283),o=t(35217),f=t(37410),h=t(40444),d=t(38203),p=t(75512),x=t(1217),S=!1;if(!1)var T;var C=new a({Extends:r,initialize:function(P){r.call(this);var M=P.config,L={alpha:M.transparent,desynchronized:M.desynchronized,depth:!0,antialias:M.antialiasGL,premultipliedAlpha:M.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:M.failIfMajorPerformanceCaveat,powerPreference:M.powerPreference,preserveDrawingBuffer:M.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:M.clearBeforeRender,antialias:M.antialias,backgroundColor:M.backgroundColor,contextCreation:L,roundPixels:M.roundPixels,maxTextures:M.maxTextures,maxTextureSize:M.maxTextureSize,batchSize:M.batchSize,maxLights:M.maxLights,mipmapFilter:M.mipmapFilter},this.game=P,this.type=s.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=P.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=n,this.contextRestoredHandler=n,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(E){var P,M=this.game,L=this.canvas,R=E.backgroundColor;if(S&&(this.spector=new T.Spector,this.spector.onCapture.add(this.onCapture.bind(this))),M.config.context?P=M.config.context:P=L.getContext("webgl",E.contextCreation)||L.getContext("experimental-webgl",E.contextCreation),!P||P.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=P;var w=this;this.contextLostHandler=function(I){w.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),I.preventDefault()},L.addEventListener("webglcontextlost",this.contextLostHandler,!1),M.context=P;for(var D=0;D<=27;D++)this.blendModes.push({func:[P.ONE,P.ONE_MINUS_SRC_ALPHA],equation:P.FUNC_ADD});this.blendModes[1].func=[P.ONE,P.DST_ALPHA],this.blendModes[2].func=[P.DST_COLOR,P.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[P.ONE,P.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[P.ZERO,P.ONE_MINUS_SRC_ALPHA],equation:P.FUNC_REVERSE_SUBTRACT},this.glFormats=[P.BYTE,P.SHORT,P.UNSIGNED_BYTE,P.UNSIGNED_SHORT,P.FLOAT],this.glFuncMap={mat2:{func:P.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:P.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:P.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:P.uniform1f,length:1},"1fv":{func:P.uniform1fv,length:1},"1i":{func:P.uniform1i,length:1},"1iv":{func:P.uniform1iv,length:1},"2f":{func:P.uniform2f,length:2},"2fv":{func:P.uniform2fv,length:1},"2i":{func:P.uniform2i,length:2},"2iv":{func:P.uniform2iv,length:1},"3f":{func:P.uniform3f,length:3},"3fv":{func:P.uniform3fv,length:1},"3i":{func:P.uniform3i,length:3},"3iv":{func:P.uniform3iv,length:1},"4f":{func:P.uniform4f,length:4},"4fv":{func:P.uniform4fv,length:1},"4i":{func:P.uniform4i,length:4},"4iv":{func:P.uniform4iv,length:1}};var B=P.getSupportedExtensions();(!E.maxTextures||E.maxTextures===-1)&&(E.maxTextures=P.getParameter(P.MAX_TEXTURE_IMAGE_UNITS)),E.maxTextureSize||(E.maxTextureSize=P.getParameter(P.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),this.supportedExtensions=B;var z="ANGLE_instanced_arrays";this.instancedArraysExtension=B.indexOf(z)>-1?P.getExtension(z):null;var V="OES_vertex_array_object";this.vaoExtension=B.indexOf(V)>-1?P.getExtension(V):null,P.disable(P.DEPTH_TEST),P.disable(P.CULL_FACE),P.enable(P.BLEND),P.clearColor(R.redGL,R.greenGL,R.blueGL,R.alphaGL),E.mipmapFilter!==""&&(this.mipmapFilter=P[E.mipmapFilter]),this.maxTextures=p.checkShaderMax(P,E.maxTextures),this.textureIndexes=[];for(var Y=0;Y<this.maxTextures;Y++){var H=P.createTexture();P.activeTexture(P.TEXTURE0+Y),P.bindTexture(P.TEXTURE_2D,H),P.texImage2D(P.TEXTURE_2D,0,P.RGBA,1,1,0,P.RGBA,P.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(Y)}return this.pipelines=new o(this),this.setBlendMode(s.BlendModes.NORMAL),this.projectionMatrix=new l().identity(),M.textures.once(d.READY,this.boot,this),this},boot:function(){var E=this.game,P=this.pipelines,M=E.scale.baseSize,L=M.width,R=M.height;this.width=L,this.height=R,this.isBooted=!0,this.renderTarget=new f(this,L,R,1,0,!0,!0),this.maskTarget=new f(this,L,R,1,0,!0,!0),this.maskSource=new f(this,L,R,1,0,!0,!0);var w=E.config;P.boot(w.pipeline,w.defaultPipeline,w.autoMobilePipeline),this.blankTexture=E.textures.getFrame("__DEFAULT").glTexture,this.whiteTexture=E.textures.getFrame("__WHITE").glTexture;var D=this.gl;D.bindFramebuffer(D.FRAMEBUFFER,null),D.enable(D.SCISSOR_TEST),E.scale.on(h.RESIZE,this.onResize,this),this.resize(L,R)},captureFrame:function(E,P){E===void 0&&(E=!1),P===void 0&&(P=!1),S&&this.spector&&!this._debugCapture&&(this.spector.captureCanvas(this.canvas,0,E,P),this._debugCapture=!0)},captureNextFrame:function(){S&&this.spector&&!this._debugCapture&&(this._debugCapture=!0,this.spector.captureNextFrame(this.canvas))},getFps:function(){if(S&&this.spector)return this.spector.getFps()},log:function(){if(S&&this.spector){var E=Array.prototype.slice.call(arguments).join(" ");return this.spector.log(E)}},startCapture:function(E,P,M){E===void 0&&(E=0),P===void 0&&(P=!1),M===void 0&&(M=!1),S&&this.spector&&!this._debugCapture&&(this.spector.startCapture(this.canvas,E,P,M),this._debugCapture=!0)},stopCapture:function(){if(S&&this.spector&&this._debugCapture)return this.spector.stopCapture()},onCapture:function(E){if(S){var P=this.spector.getResultUI();P.display(E),this._debugCapture=!1}},onResize:function(E,P){(P.width!==this.width||P.height!==this.height)&&this.resize(P.width,P.height)},beginCapture:function(E,P){E===void 0&&(E=this.width),P===void 0&&(P=this.height),this.renderTarget.bind(!0,E,P),this.setProjectionMatrix(E,P)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(E,P){var M=this.gl;return this.width=E,this.height=P,this.setProjectionMatrix(E,P),M.viewport(0,0,E,P),this.drawingBufferHeight=M.drawingBufferHeight,M.scissor(0,M.drawingBufferHeight-P,E,P),this.defaultScissor[2]=E,this.defaultScissor[3]=P,this.emit(e.RESIZE,E,P),this},getCompressedTextures:function(){var E="WEBGL_compressed_texture_",P="WEBKIT_"+E,M=function(R,w){var D=R.getExtension(E+w)||R.getExtension(P+w);if(D){var B={};for(var z in D)B[D[z]]=z;return B}},L=this.gl;return{ETC:M(L,"etc"),ETC1:M(L,"etc1"),ATC:M(L,"atc"),ASTC:M(L,"astc"),BPTC:M(L,"bptc"),RGTC:M(L,"rgtc"),PVRTC:M(L,"pvrtc"),S3TC:M(L,"s3tc"),S3TCSRGB:M(L,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(E,P){var M=this.compression[E.toUpperCase()];if(P in M)return M[P]},supportsCompressedTexture:function(E,P){var M=this.compression[E.toUpperCase()];return M?P?P in M:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(E,P){return(E!==this.projectionWidth||P!==this.projectionHeight)&&(this.projectionWidth=E,this.projectionHeight=P,this.projectionMatrix.ortho(0,E,P,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(E){return this.supportedExtensions?this.supportedExtensions.indexOf(E):!1},getExtension:function(E){return this.hasExtension(E)?(E in this.extensions||(this.extensions[E]=this.gl.getExtension(E)),this.extensions[E]):null},flush:function(){this.pipelines.flush()},pushScissor:function(E,P,M,L,R){R===void 0&&(R=this.drawingBufferHeight);var w=this.scissorStack,D=[E,P,M,L];return w.push(D),this.setScissor(E,P,M,L,R),this.currentScissor=D,D},setScissor:function(E,P,M,L,R){R===void 0&&(R=this.drawingBufferHeight);var w=this.gl,D=this.currentScissor,B=M>0&&L>0;if(D&&B){var z=D[0],V=D[1],Y=D[2],H=D[3];B=z!==E||V!==P||Y!==M||H!==L}B&&(this.flush(),w.scissor(E,R-P-L,M,L))},resetScissor:function(){var E=this.gl;E.enable(E.SCISSOR_TEST);var P=this.currentScissor;if(P){var M=P[0],L=P[1],R=P[2],w=P[3];R>0&&w>0&&E.scissor(M,this.drawingBufferHeight-L-w,R,w)}},popScissor:function(){var E=this.scissorStack;E.pop();var P=E[E.length-1];P&&this.setScissor(P[0],P[1],P[2],P[3]),this.currentScissor=P},hasActiveStencilMask:function(){var E=this.currentMask.mask,P=this.currentCameraMask.mask;return E&&E.isStencil||P&&P.isStencil},resetViewport:function(){var E=this.gl;E.viewport(0,0,this.width,this.height),this.drawingBufferHeight=E.drawingBufferHeight},setBlendMode:function(E,P){P===void 0&&(P=!1);var M=this.gl,L=this.blendModes[E];return P||E!==s.BlendModes.SKIP_CHECK&&this.currentBlendMode!==E?(this.flush(),M.enable(M.BLEND),M.blendEquation(L.equation),L.func.length>2?M.blendFuncSeparate(L.func[0],L.func[1],L.func[2],L.func[3]):M.blendFunc(L.func[0],L.func[1]),this.currentBlendMode=E,!0):!1},addBlendMode:function(E,P){var M=this.blendModes.push({func:E,equation:P});return M-1},updateBlendMode:function(E,P,M){return this.blendModes[E]&&(this.blendModes[E].func=P,M&&(this.blendModes[E].equation=M)),this},removeBlendMode:function(E){return E>17&&this.blendModes[E]&&this.blendModes.splice(E,1),this},pushFramebuffer:function(E,P,M,L,R){return E===this.currentFramebuffer?this:(this.fboStack.push(E),this.setFramebuffer(E,P,M,L,R))},setFramebuffer:function(E,P,M,L,R){if(P===void 0&&(P=!1),M===void 0&&(M=!0),L===void 0&&(L=null),R===void 0&&(R=!1),E===this.currentFramebuffer)return this;var w=this.gl,D=this.width,B=this.height;return E&&E.renderTexture&&M?(D=E.renderTexture.width,B=E.renderTexture.height):this.flush(),w.bindFramebuffer(w.FRAMEBUFFER,E),M&&w.viewport(0,0,D,B),L&&w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,L,0),R&&(w.clearColor(0,0,0,0),w.clear(w.COLOR_BUFFER_BIT)),P&&(E?(this.drawingBufferHeight=B,this.pushScissor(0,0,D,B)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=E,this},popFramebuffer:function(E,P){E===void 0&&(E=!1),P===void 0&&(P=!0);var M=this.fboStack;M.pop();var L=M[M.length-1];return L||(L=null),this.setFramebuffer(L,E,P),L},restoreFramebuffer:function(E,P){E===void 0&&(E=!1),P===void 0&&(P=!0);var M=this.fboStack,L=M[M.length-1];L||(L=null),this.currentFramebuffer=null,this.setFramebuffer(L,E,P)},setProgram:function(E){return E!==this.currentProgram?(this.flush(),this.gl.useProgram(E),this.currentProgram=E,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(E,P,M,L,R){R===void 0&&(R=!1);var w=this.gl,D=w.NEAREST,B=w.NEAREST,z=w.CLAMP_TO_EDGE,V=null;P=E?E.width:P,M=E?E.height:M;var Y=i(P,M);return Y&&!R&&(z=w.REPEAT),L===s.ScaleModes.LINEAR&&this.config.antialias&&(D=Y&&this.mipmapFilter?this.mipmapFilter:w.LINEAR,B=w.LINEAR),E&&E.compressed&&(D=w.LINEAR,B=w.LINEAR),!E&&typeof P=="number"&&typeof M=="number"?V=this.createTexture2D(0,D,B,z,z,w.RGBA,null,P,M):V=this.createTexture2D(0,D,B,z,z,w.RGBA,E),V},createTexture2D:function(E,P,M,L,R,w,D,B,z,V,Y,H){V=V??!0,Y===void 0&&(Y=!1),H===void 0&&(H=!1);var I=this.gl,U=I.createTexture();I.activeTexture(I.TEXTURE0);var O=I.getParameter(I.TEXTURE_BINDING_2D);I.bindTexture(I.TEXTURE_2D,U),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MIN_FILTER,P),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MAG_FILTER,M),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_S,R),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_T,L),I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V),H&&I.pixelStorei(I.UNPACK_FLIP_Y_WEBGL,!0);var N=!1;if(D==null)I.texImage2D(I.TEXTURE_2D,E,w,B,z,0,w,I.UNSIGNED_BYTE,null),N=i(B,z);else if(D.compressed){B=D.width,z=D.height,N=D.generateMipmap;for(var G=0;G<D.mipmaps.length;G++)I.compressedTexImage2D(I.TEXTURE_2D,G,D.internalFormat,D.mipmaps[G].width,D.mipmaps[G].height,0,D.mipmaps[G].data)}else Y||(B=D.width,z=D.height),I.texImage2D(I.TEXTURE_2D,E,w,w,I.UNSIGNED_BYTE,D),N=i(B,z);return N&&I.generateMipmap(I.TEXTURE_2D),O&&I.bindTexture(I.TEXTURE_2D,O),U.isAlphaPremultiplied=V,U.isRenderTexture=!1,U.width=B,U.height=z,U},createFramebuffer:function(E,P,M,L){L===void 0&&(L=!0);var R=this.gl,w=R.createFramebuffer(),D=0;if(this.setFramebuffer(w),M.isRenderTexture=!0,M.isAlphaPremultiplied=!1,R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,M,0),D=R.checkFramebufferStatus(R.FRAMEBUFFER),D!==R.FRAMEBUFFER_COMPLETE){var B={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer status: "+(B[D]||D))}if(w.renderTexture=M,L){var z=R.createRenderbuffer();R.bindRenderbuffer(R.RENDERBUFFER,z),R.renderbufferStorage(R.RENDERBUFFER,R.DEPTH_STENCIL,E,P),R.framebufferRenderbuffer(R.FRAMEBUFFER,R.DEPTH_STENCIL_ATTACHMENT,R.RENDERBUFFER,z)}return this.setFramebuffer(null),w},beginBitmapMask:function(E,P){var M=this.gl;M&&(this.flush(),this.maskTarget.bind(),this.currentCameraMask.mask!==E&&(this.currentMask.mask=E,this.currentMask.camera=P))},drawBitmapMask:function(E,P,M){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),E.renderWebGL(this,E,P),this.maskSource.unbind(!0),this.maskTarget.unbind();var L=this.gl,R=this.getCurrentStencilMask();R?(L.enable(L.STENCIL_TEST),R.mask.applyStencil(this,R.camera,!0)):this.currentMask.mask=null,this.pipelines.set(M),L.activeTexture(L.TEXTURE0),L.bindTexture(L.TEXTURE_2D,this.maskTarget.texture),L.activeTexture(L.TEXTURE1),L.bindTexture(L.TEXTURE_2D,this.maskSource.texture)},createProgram:function(E,P){var M=this.gl,L=M.createProgram(),R=M.createShader(M.VERTEX_SHADER),w=M.createShader(M.FRAGMENT_SHADER);M.shaderSource(R,E),M.shaderSource(w,P),M.compileShader(R),M.compileShader(w);var D=`Shader failed:
`;if(!M.getShaderParameter(R,M.COMPILE_STATUS))throw new Error("Vertex "+D+M.getShaderInfoLog(R));if(!M.getShaderParameter(w,M.COMPILE_STATUS))throw new Error("Fragment "+D+M.getShaderInfoLog(w));if(M.attachShader(L,R),M.attachShader(L,w),M.linkProgram(L),!M.getProgramParameter(L,M.LINK_STATUS))throw new Error("Link "+D+M.getProgramInfoLog(L));return M.useProgram(L),L},createVertexBuffer:function(E,P){var M=this.gl,L=M.createBuffer();return M.bindBuffer(M.ARRAY_BUFFER,L),M.bufferData(M.ARRAY_BUFFER,E,P),M.bindBuffer(M.ARRAY_BUFFER,null),L},createIndexBuffer:function(E,P){var M=this.gl,L=M.createBuffer();return M.bindBuffer(M.ELEMENT_ARRAY_BUFFER,L),M.bufferData(M.ELEMENT_ARRAY_BUFFER,E,P),M.bindBuffer(M.ELEMENT_ARRAY_BUFFER,null),L},deleteTexture:function(E){return E&&this.gl.deleteTexture(E),this},deleteFramebuffer:function(E){if(E){var P=this.gl;P.bindFramebuffer(P.FRAMEBUFFER,E);var M=P.getParameter(P.RENDERBUFFER_BINDING);M&&P.deleteRenderbuffer(M),P.bindFramebuffer(P.FRAMEBUFFER,null),P.deleteFramebuffer(E),u(this.fboStack,E),this.currentFramebuffer===E&&(this.currentFramebuffer=null)}return this},deleteProgram:function(E){return E&&this.gl.deleteProgram(E),this},deleteBuffer:function(E){return this.gl.deleteBuffer(E),this},preRenderCamera:function(E){var P=E.x,M=E.y,L=E.width,R=E.height,w=E.backgroundColor;if(E.emit(c.PRE_RENDER,E),this.pipelines.preBatchCamera(E),this.pushScissor(P,M,L,R),E.mask&&(this.currentCameraMask.mask=E.mask,this.currentCameraMask.camera=E._maskCamera,E.mask.preRenderWebGL(this,E,E._maskCamera)),w.alphaGL>0){var D=this.pipelines.setMulti();D.drawFillRect(P,M,L,R,p.getTintFromFloats(w.blueGL,w.greenGL,w.redGL,1),w.alphaGL)}},getCurrentStencilMask:function(){var E=null,P=this.maskStack,M=this.currentCameraMask;return P.length>0?E=P[P.length-1]:M.mask&&M.mask.isStencil&&(E=M),E},postRenderCamera:function(E){var P=E.flashEffect,M=E.fadeEffect;if(P.isRunning||M.isRunning||M.isComplete){var L=this.pipelines.setMulti();P.postRenderWebGL(L,p.getTintFromFloats),M.postRenderWebGL(L,p.getTintFromFloats)}E.dirty=!1,this.popScissor(),E.mask&&(this.currentCameraMask.mask=null,E.mask.postRenderWebGL(this,E._maskCamera)),this.pipelines.postBatchCamera(E),E.emit(c.POST_RENDER,E)},preRender:function(){if(!this.contextLost){var E=this.gl;if(E.bindFramebuffer(E.FRAMEBUFFER,null),this.config.clearBeforeRender){var P=this.config.backgroundColor;E.clearColor(P.redGL,P.greenGL,P.blueGL,P.alphaGL),E.clear(E.COLOR_BUFFER_BIT|E.DEPTH_BUFFER_BIT|E.STENCIL_BUFFER_BIT)}E.enable(E.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&E.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(e.PRE_RENDER)}},render:function(E,P,M){if(!this.contextLost){var L=P.length;if(this.emit(e.RENDER,E,M),this.preRenderCamera(M),L===0){this.setBlendMode(s.BlendModes.NORMAL),this.postRenderCamera(M);return}this.currentType="";for(var R=this.currentMask,w=0;w<L;w++){this.finalType=w===L-1;var D=P[w],B=D.mask;R=this.currentMask,R.mask&&R.mask!==B&&R.mask.postRenderWebGL(this,R.camera),B&&R.mask!==B&&B.preRenderWebGL(this,D,M),D.blendMode!==this.currentBlendMode&&this.setBlendMode(D.blendMode);var z=D.type;z!==this.currentType&&(this.newType=!0,this.currentType=z),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=P[w+1].type===this.currentType,D.renderWebGL(this,D,M),this.newType=!1}R=this.currentMask,R.mask&&R.mask.postRenderWebGL(this,R.camera),this.setBlendMode(s.BlendModes.NORMAL),this.postRenderCamera(M)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(e.POST_RENDER);var E=this.snapshotState;E.callback&&(x(this.gl,E),E.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var E=this.gl,P=this.getCurrentStencilMask();if(P){var M=P.mask;E.enable(E.STENCIL_TEST),M.invertAlpha?E.stencilFunc(E.NOTEQUAL,M.level,255):E.stencilFunc(E.EQUAL,M.level,255)}},snapshot:function(E,P,M){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,E,P,M)},snapshotArea:function(E,P,M,L,R,w,D){var B=this.snapshotState;return B.callback=R,B.type=w,B.encoder=D,B.getPixel=!1,B.x=E,B.y=P,B.width=M,B.height=L,this},snapshotPixel:function(E,P,M){return this.snapshotArea(E,P,1,1,M),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(E,P,M,L,R,w,D,B,z,V,Y){R===void 0&&(R=!1),w===void 0&&(w=0),D===void 0&&(D=0),B===void 0&&(B=P),z===void 0&&(z=M),V==="pixel"&&(R=!0,V="image/png");var H=this.currentFramebuffer;this.snapshotArea(w,D,B,z,L,V,Y);var I=this.snapshotState;return I.getPixel=R,I.isFramebuffer=!0,I.bufferWidth=P,I.bufferHeight=M,I.width=Math.min(I.width,P),I.height=Math.min(I.height,M),this.setFramebuffer(E),x(this.gl,I),this.setFramebuffer(H),I.callback=null,I.isFramebuffer=!1,this},canvasToTexture:function(E,P,M,L){return M===void 0&&(M=!1),L===void 0&&(L=!1),P?this.updateCanvasTexture(E,P,L):this.createCanvasTexture(E,M,L)},createCanvasTexture:function(E,P,M){P===void 0&&(P=!1),M===void 0&&(M=!1);var L=this.gl,R=L.NEAREST,w=L.NEAREST,D=E.width,B=E.height,z=L.CLAMP_TO_EDGE,V=i(D,B);return!P&&V&&(z=L.REPEAT),this.config.antialias&&(R=V&&this.mipmapFilter?this.mipmapFilter:L.LINEAR,w=L.LINEAR),this.createTexture2D(0,R,w,z,z,L.RGBA,E,D,B,!0,!1,M)},updateCanvasTexture:function(E,P,M){M===void 0&&(M=!1);var L=this.gl,R=E.width,w=E.height;if(R>0&&w>0){L.activeTexture(L.TEXTURE0);var D=L.getParameter(L.TEXTURE_BINDING_2D);L.bindTexture(L.TEXTURE_2D,P),M&&L.pixelStorei(L.UNPACK_FLIP_Y_WEBGL,!0),L.pixelStorei(L.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),L.texImage2D(L.TEXTURE_2D,0,L.RGBA,L.RGBA,L.UNSIGNED_BYTE,E),P.width=R,P.height=w,D&&L.bindTexture(L.TEXTURE_2D,D)}return P},createVideoTexture:function(E,P,M){P===void 0&&(P=!1),M===void 0&&(M=!1);var L=this.gl,R=L.NEAREST,w=L.NEAREST,D=E.videoWidth,B=E.videoHeight,z=L.CLAMP_TO_EDGE,V=i(D,B);return!P&&V&&(z=L.REPEAT),this.config.antialias&&(R=V&&this.mipmapFilter?this.mipmapFilter:L.LINEAR,w=L.LINEAR),this.createTexture2D(0,R,w,z,z,L.RGBA,E,D,B,!0,!0,M)},updateVideoTexture:function(E,P,M){M===void 0&&(M=!1);var L=this.gl,R=E.videoWidth,w=E.videoHeight;if(R>0&&w>0){L.activeTexture(L.TEXTURE0);var D=L.getParameter(L.TEXTURE_BINDING_2D);L.bindTexture(L.TEXTURE_2D,P),L.pixelStorei(L.UNPACK_FLIP_Y_WEBGL,M),L.texImage2D(L.TEXTURE_2D,0,L.RGBA,L.RGBA,L.UNSIGNED_BYTE,E),P.width=R,P.height=w,D&&L.bindTexture(L.TEXTURE_2D,D)}return P},setTextureFilter:function(E,P){var M=this.gl,L=[M.LINEAR,M.NEAREST][P];M.activeTexture(M.TEXTURE0);var R=M.getParameter(M.TEXTURE_BINDING_2D);return M.bindTexture(M.TEXTURE_2D,E),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,L),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,L),R&&M.bindTexture(M.TEXTURE_2D,R),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null,S&&(this.spector=null)}});v.exports=C},71305:(v,y,t)=>{var u=t(56694),c=t(72632),a=t(71402),s=new u({initialize:function(e,i,l,n,o){this.pipeline=e,this.name=i,this.renderer=e.renderer,this.gl=this.renderer.gl,this.fragSrc=n,this.vertSrc=l,this.program=this.renderer.createProgram(l,n),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(o),this.createUniforms()},createAttributes:function(r){var e=0,i=0,l=[];this.vertexComponentCount=0;for(var n=0;n<r.length;n++){var o=r[n],f=o.name,h=c(o,"size",1),d=c(o,"type",a.FLOAT),p=d.enum,x=d.size,S=!!o.normalized;l.push({name:f,size:h,type:p,normalized:S,offset:i,enabled:!1,location:-1}),x===4?e+=h:e++,i+=h*x}this.vertexSize=i,this.vertexComponentCount=e,this.attributes=l},bind:function(r,e){return r===void 0&&(r=!1),e===void 0&&(e=!1),e&&this.pipeline.flush(),this.renderer.setProgram(this.program),r&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(r){r===void 0&&(r=!1);for(var e=this.gl,i=this.vertexSize,l=this.attributes,n=this.program,o=0;o<l.length;o++){var f=l[o],h=f.size,d=f.type,p=f.offset,x=f.enabled,S=f.location,T=!!f.normalized;if(r){var C=e.getAttribLocation(n,f.name);C>=0?(e.enableVertexAttribArray(C),e.vertexAttribPointer(C,h,d,T,i,p),f.enabled=!0,f.location=C):C!==-1&&e.disableVertexAttribArray(C)}else x?e.vertexAttribPointer(S,h,d,T,i,p):!x&&S>-1&&(e.disableVertexAttribArray(S),f.location=-1)}return this},createUniforms:function(){var r=this.gl,e=this.program,i=this.uniforms,l,n,o,f=r.getProgramParameter(e,r.ACTIVE_UNIFORMS);for(l=0;l<f;l++){var h=r.getActiveUniform(e,l);if(h){n=h.name,o=r.getUniformLocation(e,n),o!==null&&(i[n]={name:n,location:o,value1:null,value2:null,value3:null,value4:null});var d=n.indexOf("[");d>0&&(n=n.substr(0,d),i.hasOwnProperty(n)||(o=r.getUniformLocation(e,n),o!==null&&(i[n]={name:n,location:o,value1:null,value2:null,value3:null,value4:null})))}}return this},hasUniform:function(r){return this.uniforms.hasOwnProperty(r)},resetUniform:function(r){var e=this.uniforms[r];return e&&(e.value1=null,e.value2=null,e.value3=null,e.value4=null),this},setUniform1:function(r,e,i,l){var n=this.uniforms[e];return n?((l||n.value1!==i)&&(n.value1=i,this.renderer.setProgram(this.program),r.call(this.gl,n.location,i),this.pipeline.currentShader=this),this):this},setUniform2:function(r,e,i,l,n){var o=this.uniforms[e];return o?((n||o.value1!==i||o.value2!==l)&&(o.value1=i,o.value2=l,this.renderer.setProgram(this.program),r.call(this.gl,o.location,i,l),this.pipeline.currentShader=this),this):this},setUniform3:function(r,e,i,l,n,o){var f=this.uniforms[e];return f?((o||f.value1!==i||f.value2!==l||f.value3!==n)&&(f.value1=i,f.value2=l,f.value3=n,this.renderer.setProgram(this.program),r.call(this.gl,f.location,i,l,n),this.pipeline.currentShader=this),this):this},setUniform4:function(r,e,i,l,n,o,f){var h=this.uniforms[e];return h?((f||h.value1!==i||h.value2!==l||h.value3!==n||h.value4!==o)&&(h.value1=i,h.value2=l,h.value3=n,h.value4=o,this.renderer.setProgram(this.program),r.call(this.gl,h.location,i,l,n,o),this.pipeline.currentShader=this),this):this},setBoolean:function(r,e){return this.setUniform1(this.gl.uniform1i,r,Number(e))},set1f:function(r,e){return this.setUniform1(this.gl.uniform1f,r,e)},set2f:function(r,e,i){return this.setUniform2(this.gl.uniform2f,r,e,i)},set3f:function(r,e,i,l){return this.setUniform3(this.gl.uniform3f,r,e,i,l)},set4f:function(r,e,i,l,n){return this.setUniform4(this.gl.uniform4f,r,e,i,l,n)},set1fv:function(r,e){return this.setUniform1(this.gl.uniform1fv,r,e,!0)},set2fv:function(r,e){return this.setUniform1(this.gl.uniform2fv,r,e,!0)},set3fv:function(r,e){return this.setUniform1(this.gl.uniform3fv,r,e,!0)},set4fv:function(r,e){return this.setUniform1(this.gl.uniform4fv,r,e,!0)},set1iv:function(r,e){return this.setUniform1(this.gl.uniform1iv,r,e,!0)},set2iv:function(r,e){return this.setUniform1(this.gl.uniform2iv,r,e,!0)},set3iv:function(r,e){return this.setUniform1(this.gl.uniform3iv,r,e,!0)},set4iv:function(r,e){return this.setUniform1(this.gl.uniform4iv,r,e,!0)},set1i:function(r,e){return this.setUniform1(this.gl.uniform1i,r,e)},set2i:function(r,e,i){return this.setUniform2(this.gl.uniform2i,r,e,i)},set3i:function(r,e,i,l){return this.setUniform3(this.gl.uniform3i,r,e,i,l)},set4i:function(r,e,i,l,n){return this.setUniform4(this.gl.uniform4i,r,e,i,l,n)},setMatrix2fv:function(r,e,i){return this.setUniform2(this.gl.uniformMatrix2fv,r,e,i,!0)},setMatrix3fv:function(r,e,i){return this.setUniform2(this.gl.uniformMatrix3fv,r,e,i,!0)},setMatrix4fv:function(r,e,i){return this.setUniform2(this.gl.uniformMatrix4fv,r,e,i,!0)},createProgram:function(r,e){r===void 0&&(r=this.vertSrc),e===void 0&&(e=this.fragSrc);var i=this.gl;return this.program&&i.deleteProgram(this.program),this.vertSrc=r,this.fragSrc=e,this.program=this.renderer.createProgram(r,e),this.createUniforms(),this.rebind()},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});v.exports=s},71402:v=>{var y={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};v.exports=y},55478:(v,y,t)=>{var u=t(71402),c=t(98611),a={PipelineManager:t(35217),Pipelines:t(62253),RenderTarget:t(37410),Utils:t(75512),WebGLPipeline:t(44775),WebGLRenderer:t(11857),WebGLShader:t(71305)};a=c(!1,a,u),v.exports=a},5583:(v,y,t)=>{var u=t(56694),c=t(72632),a=t(91679),s=t(89053),r=t(71402),e=t(44775),i=new u({Extends:e,initialize:function(n){n.fragShader=c(n,"fragShader",a),n.vertShader=c(n,"vertShader",s),n.batchSize=c(n,"batchSize",1),n.vertices=c(n,"vertices",[-1,1,-1,-7,7,1]),n.attributes=c(n,"attributes",[{name:"inPosition",size:2,type:r.FLOAT}]),e.call(this,n)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(l,n){e.prototype.resize.call(this,l,n),this.set2f("uResolution",l,n)},beginMask:function(l,n,o){this.renderer.beginBitmapMask(l,o)},endMask:function(l,n,o){var f=this.gl,h=this.renderer,d=l.bitmapMask;d&&f&&(h.drawBitmapMask(d,n,this),o&&this.set2f("uResolution",o.width,o.height),this.set1i("uInvertMaskAlpha",l.invertAlpha),f.drawArrays(this.topology,0,3),o&&this.set2f("uResolution",this.width,this.height),f.bindTexture(f.TEXTURE_2D,null))}});v.exports=i},81828:(v,y,t)=>{var u=t(56694),c=t(58136),a=t(47406),s=t(72632),r=t(87228),e=t(92462),i=t(75512),l=new u({Extends:r,initialize:function(o){o.shaders=[i.setGlowQuality(e.FXGlowFrag,o.game),e.FXShadowFrag,e.FXPixelateFrag,e.FXVignetteFrag,e.FXShineFrag,e.FXBlurLowFrag,e.FXBlurMedFrag,e.FXBlurHighFrag,e.FXGradientFrag,e.FXBloomFrag,e.ColorMatrixFrag,e.FXCircleFrag,e.FXBarrelFrag,e.FXDisplacementFrag,e.FXWipeFrag,e.FXBokehFrag],r.call(this,o);var f=this.game;this.glow=new c.Glow(f),this.shadow=new c.Shadow(f),this.pixelate=new c.Pixelate(f),this.vignette=new c.Vignette(f),this.shine=new c.Shine(f),this.gradient=new c.Gradient(f),this.circle=new c.Circle(f),this.barrel=new c.Barrel(f),this.wipe=new c.Wipe(f),this.bokeh=new c.Bokeh(f);var h=[];h[a.GLOW]=this.onGlow,h[a.SHADOW]=this.onShadow,h[a.PIXELATE]=this.onPixelate,h[a.VIGNETTE]=this.onVignette,h[a.SHINE]=this.onShine,h[a.BLUR]=this.onBlur,h[a.GRADIENT]=this.onGradient,h[a.BLOOM]=this.onBloom,h[a.COLOR_MATRIX]=this.onColorMatrix,h[a.CIRCLE]=this.onCircle,h[a.BARREL]=this.onBarrel,h[a.DISPLACEMENT]=this.onDisplacement,h[a.WIPE]=this.onWipe,h[a.BOKEH]=this.onBokeh,this.fxHandlers=h,this.source,this.target,this.swap},onDraw:function(n,o,f){this.source=n,this.target=o,this.swap=f;var h=n.width,d=n.height,p=this.tempSprite,x=this.fxHandlers;if(p&&p.preFX)for(var S=p.preFX.list,T=0;T<S.length;T++){var C=S[T];C.active&&x[C.type].call(this,C,h,d)}this.drawToGame(this.source)},runDraw:function(){var n=this.source,o=this.target;this.copy(n,o),this.source=o,this.target=n},onGlow:function(n,o,f){var h=this.shaders[a.GLOW];this.setShader(h),this.glow.onPreRender(n,h,o,f),this.runDraw()},onShadow:function(n){var o=this.shaders[a.SHADOW];this.setShader(o),this.shadow.onPreRender(n,o),this.runDraw()},onPixelate:function(n,o,f){var h=this.shaders[a.PIXELATE];this.setShader(h),this.pixelate.onPreRender(n,h,o,f),this.runDraw()},onVignette:function(n){var o=this.shaders[a.VIGNETTE];this.setShader(o),this.vignette.onPreRender(n,o),this.runDraw()},onShine:function(n,o,f){var h=this.shaders[a.SHINE];this.setShader(h),this.shine.onPreRender(n,h,o,f),this.runDraw()},onBlur:function(n,o,f){var h=s(n,"quality"),d=this.shaders[a.BLUR+h];this.setShader(d),this.set1i("uMainSampler",0),this.set2f("resolution",o,f),this.set1f("strength",s(n,"strength")),this.set3fv("color",s(n,"glcolor"));for(var p=s(n,"x"),x=s(n,"y"),S=s(n,"steps"),T=0;T<S;T++)this.set2f("offset",p,0),this.runDraw(),this.set2f("offset",0,x),this.runDraw()},onGradient:function(n){var o=this.shaders[a.GRADIENT];this.setShader(o),this.gradient.onPreRender(n,o),this.runDraw()},onBloom:function(n,o,f){var h=this.shaders[a.BLOOM];this.copySprite(this.source,this.swap),this.setShader(h),this.set1i("uMainSampler",0),this.set1f("strength",s(n,"blurStrength")),this.set3fv("color",s(n,"glcolor"));for(var d=2/o*s(n,"offsetX"),p=2/f*s(n,"offsetY"),x=s(n,"steps"),S=0;S<x;S++)this.set2f("offset",d,0),this.runDraw(),this.set2f("offset",0,p),this.runDraw();this.blendFrames(this.swap,this.source,this.target,s(n,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(n){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",n.getData()),this.set1f("uAlpha",n.alpha),this.runDraw()},onCircle:function(n,o,f){var h=this.shaders[a.CIRCLE];this.setShader(h),this.circle.onPreRender(n,h,o,f),this.runDraw()},onBarrel:function(n){var o=this.shaders[a.BARREL];this.setShader(o),this.barrel.onPreRender(n,o),this.runDraw()},onDisplacement:function(n){this.setShader(this.shaders[a.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",n.x,n.y),this.bindTexture(n.glTexture,1),this.runDraw()},onWipe:function(n){var o=this.shaders[a.WIPE];this.setShader(o),this.wipe.onPreRender(n,o),this.runDraw()},onBokeh:function(n,o,f){var h=this.shaders[a.BOKEH];this.setShader(h),this.bokeh.onPreRender(n,h,o,f),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,r.prototype.destroy.call(this),this}});v.exports=l},66901:(v,y,t)=>{var u=t(56694),c=t(72632),a=t(65045),s=t(77310),r=t(69360),e=t(93736),i=t(44775),l=new u({Extends:s,initialize:function(o){var f=c(o,"fragShader",a);o.fragShader=f.replace("%LIGHT_COUNT%",o.game.renderer.config.maxLights),s.call(this,o),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.defaultNormalMap,this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new e,this._tempMatrix=new r,this._tempMatrix2=new r},boot:function(){i.prototype.boot.call(this);var n=this.gl,o=n.createTexture();n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,o),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:o}},onRender:function(n,o){var f=n.sys.lights;if(this.lightsActive=!1,!(!f||!f.active)){var h=f.getLights(o),d=h.length;this.lightsActive=!0;var p,x=this.renderer,S=x.height,T=o.matrix,C=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",o.x,o.y,o.rotation,o.zoom),this.set3f("uAmbientLightColor",f.ambientColor.r,f.ambientColor.g,f.ambientColor.b),this.set1i("uLightCount",d),p=0;p<d;p++){var E=h[p].light,P=E.color,M="uLights["+p+"].";T.transformPoint(E.x,E.y,C),this.set2f(M+"position",C.x-o.scrollX*E.scrollFactorX*o.zoom,S-(C.y-o.scrollY*E.scrollFactorY*o.zoom)),this.set3f(M+"color",P.r,P.g,P.b),this.set1f(M+"intensity",E.intensity),this.set1f(M+"radius",E.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(n){if(n!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var o=this.inverseRotationMatrix;if(n){var f=-n,h=Math.cos(f),d=Math.sin(f);o[1]=d,o[3]=-d,o[0]=o[4]=h}else o[0]=o[4]=1,o[1]=o[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,o),this.currentNormalMapRotation=n}},setTexture2D:function(n,o){var f=this.renderer;n===void 0&&(n=f.whiteTexture);var h=this.getNormalMap(o);this.isNewNormalMap(n,h)&&(this.flush(),this.createBatch(n),this.addTextureToBatch(h),this.currentNormalMap=h);var d=0;if(o&&o.parentContainer){var p=o.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);d=p.rotationNormalized}else o&&(d=o.rotation);return this.setNormalMapRotation(d),0},setGameObject:function(n,o){o===void 0&&(o=n.frame);var f=o.glTexture,h=this.getNormalMap(n);if(this.isNewNormalMap(f,h)&&(this.flush(),this.createBatch(f),this.addTextureToBatch(h),this.currentNormalMap=h),n.parentContainer){var d=n.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(d.rotationNormalized)}else this.setNormalMapRotation(n.rotation);return 0},isNewNormalMap:function(n,o){return this.currentTexture!==n||this.currentNormalMap!==o},getNormalMap:function(n){var o;return n?n.displayTexture?o=n.displayTexture.dataSource[n.displayFrame.sourceIndex]:n.texture?o=n.texture.dataSource[n.frame.sourceIndex]:n.tileset&&(Array.isArray(n.tileset)?o=n.tileset[0].image.dataSource[0]:o=n.tileset.image.dataSource[0]):o=this.defaultNormalMap,o||(o=this.defaultNormalMap),o.glTexture},batchSprite:function(n,o,f){this.lightsActive&&s.prototype.batchSprite.call(this,n,o,f)},batchTexture:function(n,o,f,h,d,p,x,S,T,C,E,P,M,L,R,w,D,B,z,V,Y,H,I,U,O,N,G,X,W,b,K,Z){this.lightsActive&&s.prototype.batchTexture.call(this,n,o,f,h,d,p,x,S,T,C,E,P,M,L,R,w,D,B,z,V,Y,H,I,U,O,N,G,X,W,b,K,Z)},batchTextureFrame:function(n,o,f,h,d,p,x){this.lightsActive&&s.prototype.batchTextureFrame.call(this,n,o,f,h,d,p,x)}});v.exports=l},71264:(v,y,t)=>{var u=t(56694),c=t(72632),a=t(77310),s=t(85060),r=t(18166),e=t(71402),i=t(44775),l=new u({Extends:a,initialize:function(o){o.fragShader=c(o,"fragShader",s),o.vertShader=c(o,"vertShader",r),o.attributes=c(o,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),o.forceZero=!0,a.call(this,o)},boot:function(){i.prototype.boot.call(this),this.set1i("uMainSampler",0)}});v.exports=l},77310:(v,y,t)=>{var u=t(56694),c=t(11117),a=t(72632),s=t(53787),r=t(15968),e=t(69360),i=t(75512),l=t(71402),n=t(44775),o=new u({Extends:n,initialize:function(h){var d=h.game.renderer,p=a(h,"fragShader",s);h.fragShader=i.parseFragmentShaderMaxTextures(p,d.maxTextures),h.vertShader=a(h,"vertShader",r),h.attributes=a(h,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:l.UNSIGNED_BYTE,normalized:!0}]),n.call(this,h),this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){n.prototype.boot.call(this),this.currentShader.set1iv("uMainSampler",this.renderer.textureIndexes)},batchSprite:function(f,h,d){this.manager.set(this,f);var p=this._tempMatrix1,x=this._tempMatrix2,S=this._tempMatrix3,T=f.frame,C=T.glTexture,E=T.u0,P=T.v0,M=T.u1,L=T.v1,R=T.x,w=T.y,D=T.cutWidth,B=T.cutHeight,z=T.customPivot,V=f.displayOriginX,Y=f.displayOriginY,H=-V+R,I=-Y+w;if(f.isCropped){var U=f._crop;(U.flipX!==f.flipX||U.flipY!==f.flipY)&&T.updateCropUVs(U,f.flipX,f.flipY),E=U.u0,P=U.v0,M=U.u1,L=U.v1,D=U.width,B=U.height,R=U.x,w=U.y,H=-V+R,I=-Y+w}var O=1,N=1;f.flipX&&(z||(H+=-T.realWidth+V*2),O=-1),(f.flipY||T.source.isGLTexture&&!C.flipY)&&(z||(I+=-T.realHeight+Y*2),N=-1);var G=f.x,X=f.y;x.applyITRS(G,X,f.rotation,f.scaleX*O,f.scaleY*N),p.copyFrom(h.matrix),d?(p.multiplyWithOffset(d,-h.scrollX*f.scrollFactorX,-h.scrollY*f.scrollFactorY),x.e=G,x.f=X):(x.e-=h.scrollX*f.scrollFactorX,x.f-=h.scrollY*f.scrollFactorY),p.multiply(x,S);var W=S.setQuad(H,I,H+D,I+B,h.roundPixels),b=i.getTintAppendFloatAlpha,K=h.alpha,Z=b(f.tintTopLeft,K*f._alphaTL),Q=b(f.tintTopRight,K*f._alphaTR),J=b(f.tintBottomLeft,K*f._alphaBL),j=b(f.tintBottomRight,K*f._alphaBR);this.shouldFlush(6)&&this.flush();var k=this.setGameObject(f,T);this.manager.preBatch(f),this.batchQuad(f,W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],E,P,M,L,Z,Q,J,j,f.tintFill,C,k),this.manager.postBatch(f)},batchTexture:function(f,h,d,p,x,S,T,C,E,P,M,L,R,w,D,B,z,V,Y,H,I,U,O,N,G,X,W,b,K,Z,Q,J){this.manager.set(this,f);var j=this._tempMatrix1,k=this._tempMatrix2,$=this._tempMatrix3,_=V/d+W,nt=Y/p+b,at=(V+H)/d+W,st=(Y+I)/p+b,q=T,it=C,et=-B,lt=-z;if(f.isCropped){var ot=f._crop,At=ot.width,mt=ot.height;q=At,it=mt,T=At,C=mt,V=ot.x,Y=ot.y;var ft=V,ht=Y;L&&(ft=H-ot.x-At),R&&(ht=I-ot.y-mt),_=ft/d+W,nt=ht/p+b,at=(ft+At)/d+W,st=(ht+mt)/p+b,et=-B+V,lt=-z+Y}R=R^(!Q&&h.isRenderTexture?1:0),L&&(q*=-1,et+=T),R&&(it*=-1,lt+=C),k.applyITRS(x,S,M,E,P),j.copyFrom(K.matrix),Z?(j.multiplyWithOffset(Z,-K.scrollX*w,-K.scrollY*D),k.e=x,k.f=S):(k.e-=K.scrollX*w,k.f-=K.scrollY*D),j.multiply(k,$);var gt=$.setQuad(et,lt,et+q,lt+it,K.roundPixels);J===void 0&&(J=this.setTexture2D(h)),f&&this.manager.preBatch(f),this.batchQuad(f,gt[0],gt[1],gt[2],gt[3],gt[4],gt[5],gt[6],gt[7],_,nt,at,st,U,O,N,G,X,h,J),f&&this.manager.postBatch(f)},batchTextureFrame:function(f,h,d,p,x,S,T){this.manager.set(this);var C=this._tempMatrix1.copyFrom(S),E=this._tempMatrix2;T?C.multiply(T,E):E=C;var P=E.setQuad(h,d,h+f.width,d+f.height,!1),M=this.setTexture2D(f.source.glTexture);p=i.getTintAppendFloatAlpha(p,x),this.batchQuad(null,P[0],P[1],P[2],P[3],P[4],P[5],P[6],P[7],f.u0,f.v0,f.u1,f.v1,p,p,p,p,0,f.glTexture,M)},batchFillRect:function(f,h,d,p,x,S){this.renderer.pipelines.set(this);var T=this.calcMatrix;S&&S.multiply(x,T);var C=T.setQuad(f,h,f+d,h+p,!1),E=this.fillTint;this.batchQuad(null,C[0],C[1],C[2],C[3],C[4],C[5],C[6],C[7],0,0,1,1,E.TL,E.TR,E.BL,E.BR,2)},batchFillTriangle:function(f,h,d,p,x,S,T,C){this.renderer.pipelines.set(this);var E=this.calcMatrix;C&&C.multiply(T,E);var P=E.getX(f,h),M=E.getY(f,h),L=E.getX(d,p),R=E.getY(d,p),w=E.getX(x,S),D=E.getY(x,S),B=this.fillTint;this.batchTri(null,P,M,L,R,w,D,0,0,1,1,B.TL,B.TR,B.BL,2)},batchStrokeTriangle:function(f,h,d,p,x,S,T,C,E){var P=this.tempTriangle;P[0].x=f,P[0].y=h,P[0].width=T,P[1].x=d,P[1].y=p,P[1].width=T,P[2].x=x,P[2].y=S,P[2].width=T,P[3].x=f,P[3].y=h,P[3].width=T,this.batchStrokePath(P,T,!1,C,E)},batchFillPath:function(f,h,d){this.renderer.pipelines.set(this);var p=this.calcMatrix;d&&d.multiply(h,p);for(var x=f.length,S=this.polygonCache,T,C,E=this.fillTint.TL,P=this.fillTint.TR,M=this.fillTint.BL,L=0;L<x;++L)C=f[L],S.push(C.x,C.y);T=c(S),x=T.length;for(var R=0;R<x;R+=3){var w=T[R+0]*2,D=T[R+1]*2,B=T[R+2]*2,z=S[w+0],V=S[w+1],Y=S[D+0],H=S[D+1],I=S[B+0],U=S[B+1],O=p.getX(z,V),N=p.getY(z,V),G=p.getX(Y,H),X=p.getY(Y,H),W=p.getX(I,U),b=p.getY(I,U);this.batchTri(null,O,N,G,X,W,b,0,0,1,1,E,P,M,2)}S.length=0},batchStrokePath:function(f,h,d,p,x){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var S=f.length-1,T=0;T<S;T++){var C=f[T],E=f[T+1];this.batchLine(C.x,C.y,E.x,E.y,C.width/2,E.width/2,h,T,!d&&T===S-1,p,x)}},batchLine:function(f,h,d,p,x,S,T,C,E,P,M){this.renderer.pipelines.set(this);var L=this.calcMatrix;M&&M.multiply(P,L);var R=d-f,w=p-h,D=Math.sqrt(R*R+w*w);if(D!==0){var B=x*(p-h)/D,z=x*(f-d)/D,V=S*(p-h)/D,Y=S*(f-d)/D,H=d-V,I=p-Y,U=f-B,O=h-z,N=d+V,G=p+Y,X=f+B,W=h+z,b=L.getX(H,I),K=L.getY(H,I),Z=L.getX(U,O),Q=L.getY(U,O),J=L.getX(N,G),j=L.getY(N,G),k=L.getX(X,W),$=L.getY(X,W),_=this.strokeTint,nt=_.TL,at=_.TR,st=_.BL,q=_.BR;if(this.batchQuad(null,k,$,Z,Q,b,K,J,j,0,0,1,1,nt,at,st,q,2),!(T<=2)){var it=this.prevQuad,et=this.firstQuad;C>0&&it[4]?this.batchQuad(null,k,$,Z,Q,it[0],it[1],it[2],it[3],0,0,1,1,nt,at,st,q,2):(et[0]=k,et[1]=$,et[2]=Z,et[3]=Q,et[4]=1),E&&et[4]?this.batchQuad(null,b,K,J,j,et[0],et[1],et[2],et[3],0,0,1,1,nt,at,st,q,2):(it[0]=b,it[1]=K,it[2]=J,it[3]=j,it[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,n.prototype.destroy.call(this),this}});v.exports=o},10919:(v,y,t)=>{var u=t(56694),c=t(72632),a=t(83327),s=t(54677),r=t(44775),e=new u({Extends:r,initialize:function(l){l.vertShader=c(l,"vertShader",s),l.fragShader=c(l,"fragShader",a),l.attributes=c(l,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),r.call(this,l)},onRender:function(i,l){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",l.zoom)},batchPointLight:function(i,l,n,o,f,h,d,p,x,S,T,C){var E=i.color,P=i.intensity,M=i.radius,L=i.attenuation,R=E.r*P,w=E.g*P,D=E.b*P,B=l.alpha*i.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(n,o,T,C,M,L,R,w,D,B),this.batchLightVert(f,h,T,C,M,L,R,w,D,B),this.batchLightVert(d,p,T,C,M,L,R,w,D,B),this.batchLightVert(n,o,T,C,M,L,R,w,D,B),this.batchLightVert(d,p,T,C,M,L,R,w,D,B),this.batchLightVert(x,S,T,C,M,L,R,w,D,B),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(i,l,n,o,f,h,d,p,x,S){var T=this.vertexViewF32,C=this.vertexCount*this.currentShader.vertexComponentCount-1;T[++C]=i,T[++C]=l,T[++C]=n,T[++C]=o,T[++C]=f,T[++C]=h,T[++C]=d,T[++C]=p,T[++C]=x,T[++C]=S,this.vertexCount++}});v.exports=e},80486:(v,y,t)=>{var u=t(56694),c=t(65246),a=t(72632),s=t(12569),r=t(99365),e=t(44775),i=new u({Extends:e,initialize:function(n){n.renderTarget=a(n,"renderTarget",1),n.fragShader=a(n,"fragShader",s),n.vertShader=a(n,"vertShader",r),n.attributes=a(n,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),n.batchSize=1,n.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.call(this,n),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new c,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){e.prototype.boot.call(this);var l=this.manager.UTILITY_PIPELINE;this.fullFrame1=l.fullFrame1,this.fullFrame2=l.fullFrame2,this.halfFrame1=l.halfFrame1,this.halfFrame2=l.halfFrame2,this.set1i("uMainSampler",0)},onDraw:function(l){this.bindAndDraw(l)},getController:function(l){return l!==void 0?l:this.controller?this.controller:this},copySprite:function(l,n,o){o===void 0&&(o=!1);var f=this.gl;f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,l.texture);var h=f.getParameter(f.FRAMEBUFFER_BINDING);f.bindFramebuffer(f.FRAMEBUFFER,n.framebuffer),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,n.texture,0),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6),o&&(f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,h))},copyFrame:function(l,n,o,f,h){this.manager.copyFrame(l,n,o,f,h)},copyToGame:function(l){this.manager.copyToGame(l)},drawFrame:function(l,n,o){this.manager.drawFrame(l,n,o,this.colorMatrix)},blendFrames:function(l,n,o,f,h){this.manager.blendFrames(l,n,o,f,h)},blendFramesAdditive:function(l,n,o,f,h){this.manager.blendFramesAdditive(l,n,o,f,h)},clearFrame:function(l,n){this.manager.clearFrame(l,n)},blitFrame:function(l,n,o,f,h,d){this.manager.blitFrame(l,n,o,f,h,d)},copyFrameRect:function(l,n,o,f,h,d,p,x){this.manager.copyFrameRect(l,n,o,f,h,d,p,x)},bindAndDraw:function(l,n,o,f,h){o===void 0&&(o=!0),f===void 0&&(f=!0);var d=this.gl,p=this.renderer;this.bind(h),this.set1i("uMainSampler",0),n?(d.viewport(0,0,n.width,n.height),d.bindFramebuffer(d.FRAMEBUFFER,n.framebuffer),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,n.texture,0),o&&(f?d.clearColor(0,0,0,0):d.clearColor(0,0,0,1),d.clear(d.COLOR_BUFFER_BIT))):(p.popFramebuffer(!1,!1),p.currentFramebuffer||d.viewport(0,0,p.width,p.height)),p.restoreStencilMask(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,l.texture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6),n&&(d.bindTexture(d.TEXTURE_2D,null),d.bindFramebuffer(d.FRAMEBUFFER,p.currentFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,e.prototype.destroy.call(this),this}});v.exports=i},87228:(v,y,t)=>{var u=t(95723),c=t(79993),a=t(56694),s=t(37486),r=t(72632),e=t(77310),i=t(12569),l=t(74118),n=t(37410),o=t(85060),f=t(18166),h=t(44775),d=new a({Extends:e,initialize:function(x){var S=r(x,"fragShader",i),T=r(x,"vertShader",f),C=r(x,"drawShader",i),E=[{name:"DrawSprite",fragShader:o,vertShader:f},{name:"CopySprite",fragShader:S,vertShader:T},{name:"DrawGame",fragShader:C,vertShader:f},{name:"ColorMatrix",fragShader:s}],P=r(x,"shaders",[]);x.shaders=E.concat(P),x.vertShader||(x.vertShader=T),x.batchSize=1,e.call(this,x),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new l,this.targetBounds=new l,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){h.prototype.boot.call(this);var p=this.shaders,x=this.renderer;this.drawSpriteShader=p[0],this.copyShader=p[1],this.gameShader=p[2],this.colorMatrixShader=p[3],this.fsTarget=new n(x,x.width,x.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var S=new ArrayBuffer(168);this.quadVertexData=S,this.quadVertexViewF32=new Float32Array(S),this.quadVertexBuffer=x.createVertexBuffer(S,this.gl.STATIC_DRAW),this.onResize(x.width,x.height),this.currentShader=this.copyShader},onResize:function(p,x){var S=this.quadVertexViewF32;S[1]=x,S[22]=x,S[14]=p,S[28]=p,S[35]=p,S[36]=x},batchQuad:function(p,x,S,T,C,E,P,M,L,R,w,D,B,z,V,Y,H,I,U){var O=Math.min(x,T,E,M),N=Math.min(S,C,P,L),G=Math.max(x,T,E,M),X=Math.max(S,C,P,L),W=G-O,b=X-N,K=this.spriteBounds.setTo(O,N,W,b),Z=p?p.preFX.padding:0,Q=W+Z*2,J=b+Z*2,j=Math.abs(Math.max(Q,J)),k=this.manager.getRenderTarget(j),$=this.targetBounds.setTo(0,0,k.width,k.height);c($,K.centerX,K.centerY),this.tempSprite=p;var _=this.gl,nt=this.renderer;nt.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.flipProjectionMatrix(!0),p&&(this.onDrawSprite(p,k),p.preFX.onFX(this));var at=this.fsTarget;return this.flush(),_.viewport(0,0,nt.width,nt.height),_.bindFramebuffer(_.FRAMEBUFFER,at.framebuffer),_.framebufferTexture2D(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0,_.TEXTURE_2D,at.texture,0),_.clearColor(0,0,0,0),_.clear(_.COLOR_BUFFER_BIT),this.setTexture2D(U),this.batchVert(x,S,R,w,0,I,z),this.batchVert(T,C,R,B,0,I,Y),this.batchVert(E,P,D,B,0,I,H),this.batchVert(x,S,R,w,0,I,z),this.batchVert(E,P,D,B,0,I,H),this.batchVert(M,L,D,w,0,I,V),this.flush(),this.flipProjectionMatrix(!1),_.activeTexture(_.TEXTURE0),_.bindTexture(_.TEXTURE_2D,k.texture),_.copyTexSubImage2D(_.TEXTURE_2D,0,0,0,$.x,$.y,$.width,$.height),_.bindFramebuffer(_.FRAMEBUFFER,null),_.bindTexture(_.TEXTURE_2D,null),this.onBatch(p),this.currentShader=this.copyShader,this.onDraw(k,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(p,x,S,T,C,E,P){S===void 0&&(S=!0),T===void 0&&(T=!0),C===void 0&&(C=!1),P===void 0&&(P=this.copyShader);var M=this.gl,L=this.tempSprite;E&&(P=this.colorMatrixShader),this.currentShader=P;var R=this.setVertexBuffer(this.quadVertexBuffer);if(P.bind(R,!1),this.set1i("uMainSampler",0),L.preFX.onFXCopy(this),this.onCopySprite(p,x,L),E&&(this.set1fv("uColorMatrix",E.getData()),this.set1f("uAlpha",E.alpha)),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,p.texture),p.height>x.height)M.viewport(0,0,p.width,p.height),this.setTargetUVs(p,x);else{var w=x.height-p.height;M.viewport(0,w,p.width,p.height),this.resetUVs()}if(M.bindFramebuffer(M.FRAMEBUFFER,x.framebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,x.texture,0),S&&(M.clearColor(0,0,0,+!T),M.clear(M.COLOR_BUFFER_BIT)),C){var D=this.renderer.currentBlendMode;this.renderer.setBlendMode(u.ERASE)}M.bufferData(M.ARRAY_BUFFER,this.quadVertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),C&&this.renderer.setBlendMode(D),M.bindFramebuffer(M.FRAMEBUFFER,null)},copy:function(p,x){var S=this.gl;this.set1i("uMainSampler",0),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,p.texture),S.viewport(0,0,p.width,p.height),this.setUVs(0,0,0,1,1,1,1,0),S.bindFramebuffer(S.FRAMEBUFFER,x.framebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,x.texture,0),S.clearColor(0,0,0,0),S.clear(S.COLOR_BUFFER_BIT),S.bufferData(S.ARRAY_BUFFER,this.quadVertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null)},blendFrames:function(p,x,S,T,C){this.manager.blendFrames(p,x,S,T,C)},blendFramesAdditive:function(p,x,S,T,C){this.manager.blendFramesAdditive(p,x,S,T,C)},drawToGame:function(p){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(p)},copyToGame:function(p){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(p)},bindAndDraw:function(p){var x=this.gl,S=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(p.texture);var T=this._tempMatrix1.loadIdentity(),C=this.targetBounds.x,E=this.targetBounds.y,P=C+p.width,M=E+p.height,L=T.getX(C,E),R=T.getX(C,M),w=T.getX(P,M),D=T.getX(P,E),B=T.getY(C,E),z=T.getY(C,M),V=T.getY(P,M),Y=T.getY(P,E),H=16777215;this.batchVert(L,B,0,0,0,0,H),this.batchVert(R,z,0,1,0,0,H),this.batchVert(w,V,1,1,0,0,H),this.batchVert(L,B,0,0,0,0,H),this.batchVert(w,V,1,1,0,0,H),this.batchVert(D,Y,1,0,0,0,H),S.restoreFramebuffer(!1,!0),S.currentFramebuffer||x.viewport(0,0,S.width,S.height),S.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(p){this.drawToGame(p)},setUVs:function(p,x,S,T,C,E,P,M){var L=this.quadVertexViewF32;L[2]=p,L[3]=x,L[9]=S,L[10]=T,L[16]=C,L[17]=E,L[23]=p,L[24]=x,L[30]=C,L[31]=E,L[37]=P,L[38]=M},setTargetUVs:function(p,x){var S=x.height/p.height;S>.5?S=.5-(S-.5):S=.5+(.5-S),this.setUVs(0,S,0,1+S,1,1+S,1,S)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.gl.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,e.prototype.destroy.call(this),this}});v.exports=d},21213:(v,y,t)=>{var u=t(56694),c=t(72632),a=t(77310),s=new u({Extends:a,initialize:function(e){e.topology=5,e.batchSize=c(e,"batchSize",256),a.call(this,e)}});v.exports=s},51212:(v,y,t)=>{var u=t(56694),c=t(72632),a=t(77310),s=t(85060),r=t(18166),e=t(44775),i=new u({Extends:a,initialize:function(n){n.fragShader=c(n,"fragShader",s),n.vertShader=c(n,"vertShader",r),n.forceZero=!0,a.call(this,n)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0)}});v.exports=i},60848:(v,y,t)=>{var u=t(2529),c=t(95723),a=t(56694),s=t(65246),r=t(37486),e=t(79060),i=t(72632),l=t(98921),n=t(99365),o=t(44775),f=new a({Extends:o,initialize:function(d){d.renderTarget=i(d,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),d.vertShader=i(d,"vertShader",n),d.shaders=i(d,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:u},{name:"LinearBlend",fragShader:l},{name:"ColorMatrix",fragShader:r}]),d.attributes=i(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),d.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],d.batchSize=1,o.call(this,d),this.colorMatrix=new s,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){o.prototype.boot.call(this);var h=this.shaders,d=this.renderTargets;this.copyShader=h[0],this.addShader=h[1],this.linearShader=h[2],this.colorMatrixShader=h[3],this.fullFrame1=d[0],this.fullFrame2=d[1],this.halfFrame1=d[2],this.halfFrame2=d[3]},copyFrame:function(h,d,p,x,S){p===void 0&&(p=1),x===void 0&&(x=!0),S===void 0&&(S=!0);var T=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",p),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,h.texture),d?(T.viewport(0,0,d.width,d.height),T.bindFramebuffer(T.FRAMEBUFFER,d.framebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,d.texture,0)):T.viewport(0,0,h.width,h.height),x&&(S?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT)),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blitFrame:function(h,d,p,x,S,T,C){p===void 0&&(p=1),x===void 0&&(x=!0),S===void 0&&(S=!0),T===void 0&&(T=!1),C===void 0&&(C=!1);var E=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",p),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,h.texture),h.height>d.height)E.viewport(0,0,h.width,h.height),this.setTargetUVs(h,d);else{var P=d.height-h.height;E.viewport(0,P,h.width,h.height)}if(E.bindFramebuffer(E.FRAMEBUFFER,d.framebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,d.texture,0),x&&(S?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT)),T){var M=this.renderer.currentBlendMode;this.renderer.setBlendMode(c.ERASE)}C&&this.flipY(),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),T&&this.renderer.setBlendMode(M),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(h,d,p,x,S,T,C,E){C===void 0&&(C=!0),E===void 0&&(E=!0);var P=this.gl;P.bindFramebuffer(P.FRAMEBUFFER,h.framebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,h.texture,0),C&&(E?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT)),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,d.texture),P.copyTexSubImage2D(P.TEXTURE_2D,0,0,0,p,x,S,T),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null)},copyToGame:function(h){var d=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,h.texture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6)},drawFrame:function(h,d,p,x){p===void 0&&(p=!0),x===void 0&&(x=this.colorMatrix);var S=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",x.getData()),this.set1f("uAlpha",x.alpha),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,h.texture),d?(S.viewport(0,0,d.width,d.height),S.bindFramebuffer(S.FRAMEBUFFER,d.framebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,d.texture,0)):S.viewport(0,0,h.width,h.height),p?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null)},blendFrames:function(h,d,p,x,S,T){x===void 0&&(x=1),S===void 0&&(S=!0),T===void 0&&(T=this.linearShader);var C=this.gl;this.setShader(T),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",x),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,h.texture),C.activeTexture(C.TEXTURE1),C.bindTexture(C.TEXTURE_2D,d.texture),p?(C.bindFramebuffer(C.FRAMEBUFFER,p.framebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,p.texture,0),C.viewport(0,0,p.width,p.height)):C.viewport(0,0,h.width,h.height),S?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT),C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null)},blendFramesAdditive:function(h,d,p,x,S){this.blendFrames(h,d,p,x,S,this.addShader)},clearFrame:function(h,d){d===void 0&&(d=!0);var p=this.gl;p.viewport(0,0,h.width,h.height),p.bindFramebuffer(p.FRAMEBUFFER,h.framebuffer),d?p.clearColor(0,0,0,0):p.clearColor(0,0,0,1),p.clear(p.COLOR_BUFFER_BIT);var x=this.renderer.currentFramebuffer;p.bindFramebuffer(p.FRAMEBUFFER,x)},setUVs:function(h,d,p,x,S,T,C,E){var P=this.vertexViewF32;P[2]=h,P[3]=d,P[6]=p,P[7]=x,P[10]=S,P[11]=T,P[14]=h,P[15]=d,P[18]=S,P[19]=T,P[22]=C,P[23]=E},setTargetUVs:function(h,d){var p=d.height/h.height;p>.5?p=.5-(p-.5):p=.5+(.5-p),this.setUVs(0,p,0,1+p,1,1+p,1,p)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});v.exports=f},65641:v=>{var y={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};v.exports=y},68726:v=>{v.exports="pipelineafterflush"},67186:v=>{v.exports="pipelinebeforeflush"},22709:v=>{v.exports="pipelinebind"},74469:v=>{v.exports="pipelineboot"},93953:v=>{v.exports="pipelinedestroy"},51687:v=>{v.exports="pipelinerebind"},25034:v=>{v.exports="pipelineresize"},18970:(v,y,t)=>{v.exports={AFTER_FLUSH:t(68726),BEFORE_FLUSH:t(67186),BIND:t(22709),BOOT:t(74469),DESTROY:t(93953),REBIND:t(51687),RESIZE:t(25034)}},32469:(v,y,t)=>{var u=t(56694),c=t(87751),a=t(80486),s=new u({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.amount=1},onPreRender:function(r,e){r=this.getController(r),this.set1f("amount",r.amount,e)}});v.exports=s},2134:(v,y,t)=>{var u=t(56694),c=t(88222),a=t(80486),s=new u({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(r){r=this.getController(r),this.set1f("strength",r.blurStrength),this.set3fv("color",r.glcolor)},onDraw:function(r){var e=this.getController(),i=this.fullFrame1,l=this.fullFrame2;this.copyFrame(r,l);for(var n=2/r.width*e.offsetX,o=2/r.height*e.offsetY,f=0;f<e.steps;f++)this.set2f("offset",n,0),this.copySprite(r,i),this.set2f("offset",0,o),this.copySprite(i,r);this.blendFrames(l,r,i,e.strength),this.copyToGame(i)}});v.exports=s},63377:(v,y,t)=>{var u=t(56694),c=t(35491),a=t(75568),s=t(44481),r=t(80486),e=new u({Extends:r,initialize:function(l){r.call(this,{game:l,shaders:[{name:"Gaussian5",fragShader:c},{name:"Gaussian9",fragShader:a},{name:"Gaussian13",fragShader:s}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(i){var l=this.getController(),n=this.gl,o=this.fullFrame1,f=n.getParameter(n.FRAMEBUFFER_BINDING);this.bind(this.activeShader),n.activeTexture(n.TEXTURE0),n.viewport(0,0,i.width,i.height),this.set1i("uMainSampler",0),this.set2f("resolution",i.width,i.height),this.set1f("strength",l.strength),this.set3fv("color",l.glcolor);for(var h=0;h<l.steps;h++)this.set2f("offset",l.x,0),this.copySprite(i,o),this.set2f("offset",0,l.y),this.copySprite(o,i);n.bindFramebuffer(n.FRAMEBUFFER,f),n.bindTexture(n.TEXTURE_2D,null),this.copyToGame(i)}});v.exports=e},49745:(v,y,t)=>{var u=t(56694),c=t(69960),a=t(80486),s=new u({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(r,e,i,l){r=this.getController(r),this.set1f("radius",r.radius,e),this.set1f("amount",r.amount,e),this.set1f("contrast",r.contrast,e),this.set1f("strength",r.strength,e),this.set2f("blur",r.blurX,r.blurY,e),this.setBoolean("isTiltShift",r.isTiltShift,e),i&&l&&this.set2f("resolution",i,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});v.exports=s},4323:(v,y,t)=>{var u=t(56694),c=t(33754),a=t(80486),s=new u({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(r,e,i,l){r=this.getController(r),this.set1f("scale",r.scale,e),this.set1f("feather",r.feather,e),this.set1f("thickness",r.thickness,e),this.set3fv("color",r.glcolor,e),this.set4fv("backgroundColor",r.glcolor2,e),i&&l&&this.set2f("resolution",i,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});v.exports=s},92066:(v,y,t)=>{var u=t(56694),c=t(80486),a=new u({Extends:c,initialize:function(r){c.call(this,{game:r})},onDraw:function(s){var r=this.fullFrame1;this.controller?this.manager.drawFrame(s,r,!0,this.controller):this.drawFrame(s,r),this.copyToGame(r)}});v.exports=a},89581:(v,y,t)=>{var u=t(56694),c=t(35668),a=t(80486),s=new u({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(r){var e=this.game.textures.getFrame(r);e&&(this.glTexture=e.glTexture)},onDraw:function(r){var e=this.getController(),i=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.copySprite(r,i),this.copyToGame(i)}});v.exports=s},55084:(v,y,t)=>{var u=t(56694),c=t(72632),a=t(69675),s=t(80486),r=t(75512),e=new u({Extends:s,initialize:function(l,n){var o=c(n,"quality",.1),f=c(n,"distance",10);s.call(this,{game:l,fragShader:r.setGlowQuality(a,l,o,f)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(i,l,n,o){i=this.getController(i),this.set1f("outerStrength",i.outerStrength,l),this.set1f("innerStrength",i.innerStrength,l),this.set4fv("glowColor",i.glcolor,l),this.setBoolean("knockout",i.knockout,l),n&&o&&this.set2f("resolution",n,o,l)},onDraw:function(i){this.set2f("resolution",i.width,i.height),this.bindAndDraw(i)}});v.exports=e},41653:(v,y,t)=>{var u=t(56694),c=t(90993),a=t(80486),s=new u({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(r,e){r=this.getController(r),this.set1f("alpha",r.alpha,e),this.set1i("size",r.size,e),this.set3fv("color1",r.glcolor1,e),this.set3fv("color2",r.glcolor2,e),this.set2f("positionFrom",r.fromX,r.fromY,e),this.set2f("positionTo",r.toX,r.toY,e)}});v.exports=s},73416:(v,y,t)=>{var u=t(56694),c=t(37945),a=t(80486),s=new u({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.amount=1},onPreRender:function(r,e,i,l){r=this.getController(r),this.set1f("amount",r.amount,e),i&&l&&this.set2f("resolution",i,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});v.exports=s},58049:(v,y,t)=>{var u=t(56694),c=t(85718),a=t(80486),s=new u({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(r,e){r=this.getController(r);var i=r.samples;this.set1i("samples",i,e),this.set1f("intensity",r.intensity,e),this.set1f("decay",r.decay,e),this.set1f("power",r.power/i,e),this.set2f("lightPosition",r.x,r.y,e),this.set4fv("color",r.glcolor,e)}});v.exports=s},18026:(v,y,t)=>{var u=t(56694),c=t(13740),a=t(80486),s=new u({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(r,e,i,l){r=this.getController(r),this.setTime("time",e),this.set1f("speed",r.speed,e),this.set1f("lineWidth",r.lineWidth,e),this.set1f("gradient",r.gradient,e),this.setBoolean("reveal",r.reveal,e),i&&l&&this.set2f("resolution",i,l,e)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});v.exports=s},72381:(v,y,t)=>{var u=t(56694),c=t(80617),a=t(80486),s=new u({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(r,e){r=this.getController(r),this.set1f("radius",r.radius,e),this.set1f("strength",r.strength,e),this.set2f("position",r.x,r.y,e)}});v.exports=s},80542:(v,y,t)=>{var u=t(56694),c=t(62879),a=t(80486),s=new u({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:c}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(r,e){r=this.getController(r);var i=r.progress,l=r.wipeWidth,n=r.direction,o=r.axis;this.set4f("config",i,l,n,o,e),this.setBoolean("reveal",r.reveal,e)}});v.exports=s},58136:(v,y,t)=>{var u={Barrel:t(32469),Bloom:t(2134),Blur:t(63377),Bokeh:t(49745),Circle:t(4323),ColorMatrix:t(92066),Displacement:t(89581),Glow:t(55084),Gradient:t(41653),Pixelate:t(73416),Shadow:t(58049),Shine:t(18026),Vignette:t(72381),Wipe:t(80542)};v.exports=u},62253:(v,y,t)=>{var u=t(65641),c=t(98611),a={FX:t(58136),BitmapMaskPipeline:t(5583),Events:t(18970),FXPipeline:t(81828),LightPipeline:t(66901),MobilePipeline:t(71264),MultiPipeline:t(77310),PointLightPipeline:t(10919),PostFXPipeline:t(80486),PreFXPipeline:t(87228),RopePipeline:t(21213),SinglePipeline:t(51212),UtilityPipeline:t(60848)};a=c(!1,a,u),v.exports=a},2529:v=>{v.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},91679:v=>{v.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},89053:v=>{v.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},37486:v=>{v.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},79060:v=>{v.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},87751:v=>{v.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},88222:v=>{v.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},44481:v=>{v.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},35491:v=>{v.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},75568:v=>{v.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},69960:v=>{v.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},33754:v=>{v.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},35668:v=>{v.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},69675:v=>{v.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},90993:v=>{v.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},37945:v=>{v.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},85718:v=>{v.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},13740:v=>{v.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},80617:v=>{v.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},62879:v=>{v.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},65045:v=>{v.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},98921:v=>{v.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},25005:v=>{v.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},94914:v=>{v.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},11263:v=>{v.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},51852:v=>{v.exports=["#define SHADER_NAME PHASER_MOBILE_VS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},53787:v=>{v.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},15968:v=>{v.exports=["#define SHADER_NAME PHASER_MULTI_VS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},83327:v=>{v.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},54677:v=>{v.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},12569:v=>{v.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},99365:v=>{v.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},85060:v=>{v.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},18166:v=>{v.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},92462:(v,y,t)=>{v.exports={AddBlendFrag:t(2529),BitmapMaskFrag:t(91679),BitmapMaskVert:t(89053),ColorMatrixFrag:t(37486),CopyFrag:t(79060),FXBarrelFrag:t(87751),FXBloomFrag:t(88222),FXBlurHighFrag:t(44481),FXBlurLowFrag:t(35491),FXBlurMedFrag:t(75568),FXBokehFrag:t(69960),FXCircleFrag:t(33754),FXDisplacementFrag:t(35668),FXGlowFrag:t(69675),FXGradientFrag:t(90993),FXPixelateFrag:t(37945),FXShadowFrag:t(85718),FXShineFrag:t(13740),FXVignetteFrag:t(80617),FXWipeFrag:t(62879),LightFrag:t(65045),LinearBlendFrag:t(98921),MeshFrag:t(25005),MeshVert:t(94914),MobileFrag:t(11263),MobileVert:t(51852),MultiFrag:t(53787),MultiVert:t(15968),PointLightFrag:t(83327),PointLightVert:t(54677),PostFXFrag:t(12569),QuadVert:t(99365),SingleFrag:t(85060),SingleVert:t(18166)}},756:(v,y,t)=>{var u=t(55301),c=t(56694),a=t(6659),s=t(40444),r=t(97081),e=t(74181),i=t(2893),l=t(9229),n=t(72283),o=t(74118),f=t(90881),h=t(84314),d=t(93736),p=t(47751),x=new c({Extends:a,initialize:function(T){a.call(this),this.game=T,this.canvas,this.canvasBounds=new o,this.parent=null,this.parentIsWindow=!1,this.parentSize=new f,this.gameSize=new f,this.baseSize=new f,this.displaySize=new f,this.scaleMode=u.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new d(1,1),this.autoRound=!1,this.autoCenter=u.CENTER.NO_CENTER,this.orientation=u.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:n,windowResize:n,fullScreenChange:n,fullScreenError:n}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(r.BOOT,this.boot,this)},boot:function(){var S=this.game;this.canvas=S.canvas,this.fullscreen=S.device.fullscreen,this.scaleMode!==u.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===u.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),S.events.on(r.PRE_STEP,this.step,this),S.events.once(r.READY,this.refresh,this),S.events.once(r.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(S){this.getParent(S),this.getParentBounds();var T=S.width,C=S.height,E=S.scaleMode,P=S.zoom,M=S.autoRound;if(typeof T=="string"){var L=this.parentSize.width;L===0&&(L=window.innerWidth);var R=parseInt(T,10)/100;T=Math.floor(L*R)}if(typeof C=="string"){var w=this.parentSize.height;w===0&&(w=window.innerHeight);var D=parseInt(C,10)/100;C=Math.floor(w*D)}this.scaleMode=E,this.autoRound=M,this.autoCenter=S.autoCenter,this.resizeInterval=S.resizeInterval,M&&(T=Math.floor(T),C=Math.floor(C)),this.gameSize.setSize(T,C),P===u.ZOOM.MAX_ZOOM&&(P=this.getMaxZoom()),this.zoom=P,P!==1&&(this._resetZoom=!0),this.baseSize.setSize(T,C),M&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),S.minWidth>0&&this.displaySize.setMin(S.minWidth*P,S.minHeight*P),S.maxWidth>0&&this.displaySize.setMax(S.maxWidth*P,S.maxHeight*P),this.displaySize.setSize(T,C),this.orientation=l(T,C)},getParent:function(S){var T=S.parent;if(T!==null){if(this.parent=i(T),this.parentIsWindow=this.parent===document.body,S.expandParent&&S.scaleMode!==u.SCALE_MODE.NONE){var C=this.parent.getBoundingClientRect();(this.parentIsWindow||C.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",C=this.parent.getBoundingClientRect(),!this.parentIsWindow&&C.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}S.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=i(S.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var S=this.parentSize,T=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(T.height=e(!0));var C=T.width,E=T.height;if(S.width!==C||S.height!==E)return S.setSize(C,E),!0;if(this.canvas){var P=this.canvasBounds,M=this.canvas.getBoundingClientRect();if(M.x!==P.x||M.y!==P.y)return!0}return!1},lockOrientation:function(S){var T=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return T?T.call(screen,S):!1},setParentSize:function(S,T){return this.parentSize.setSize(S,T),this.refresh()},setGameSize:function(S,T){var C=this.autoRound;C&&(S=Math.floor(S),T=Math.floor(T));var E=this.width,P=this.height;return this.gameSize.resize(S,T),this.baseSize.resize(S,T),C&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(S/T),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(E,P)},resize:function(S,T){var C=this.zoom,E=this.autoRound;E&&(S=Math.floor(S),T=Math.floor(T));var P=this.width,M=this.height;this.gameSize.resize(S,T),this.baseSize.resize(S,T),E&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(S*C,T*C),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var L=this.canvas.style,R=S*C,w=T*C;return E&&(R=Math.floor(R),w=Math.floor(w)),(R!==S||w!==T)&&(L.width=R+"px",L.height=w+"px"),this.refresh(P,M)},setZoom:function(S){return this.zoom=S,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(S,T){S===void 0&&(S=this.width),T===void 0&&(T=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var C=this.game.domContainer;if(C){this.baseSize.setCSS(C);var E=this.canvas.style,P=C.style;P.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",P.marginLeft=E.marginLeft,P.marginTop=E.marginTop}return this.emit(s.RESIZE,this.gameSize,this.baseSize,this.displaySize,S,T),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var S=l(this.width,this.height);S!==this.orientation&&(this.orientation=S,this.emit(s.ORIENTATION_CHANGE,S))}},updateScale:function(){var S=this.canvas.style,T=this.gameSize.width,C=this.gameSize.height,E,P,M=this.zoom,L=this.autoRound;this.scaleMode===u.SCALE_MODE.NONE?(this.displaySize.setSize(T*M,C*M),E=this.displaySize.width,P=this.displaySize.height,L&&(E=Math.floor(E),P=Math.floor(P)),this._resetZoom&&(S.width=E+"px",S.height=P+"px",this._resetZoom=!1)):this.scaleMode===u.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),E=this.displaySize.width,P=this.displaySize.height,L&&(E=Math.floor(E),P=Math.floor(P)),this.canvas.width=E,this.canvas.height=P):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),E=this.displaySize.width,P=this.displaySize.height,L&&(E=Math.floor(E),P=Math.floor(P)),S.width=E+"px",S.height=P+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var S=h(this.parentSize.width,this.gameSize.width,0,!0),T=h(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(S,T),1)},updateCenter:function(){var S=this.autoCenter;if(S!==u.CENTER.NO_CENTER){var T=this.canvas,C=T.style,E=T.getBoundingClientRect(),P=E.width,M=E.height,L=Math.floor((this.parentSize.width-P)/2),R=Math.floor((this.parentSize.height-M)/2);S===u.CENTER.CENTER_HORIZONTALLY?R=0:S===u.CENTER.CENTER_VERTICALLY&&(L=0),C.marginLeft=L+"px",C.marginTop=R+"px"}},updateBounds:function(){var S=this.canvasBounds,T=this.canvas.getBoundingClientRect();S.x=T.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),S.y=T.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),S.width=T.width,S.height=T.height},transformX:function(S){return(S-this.canvasBounds.left)*this.displayScale.x},transformY:function(S){return(S-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(S){S===void 0&&(S={navigationUI:"hide"});var T=this.fullscreen;if(!T.available){this.emit(s.FULLSCREEN_UNSUPPORTED);return}if(!T.active){var C=this.getFullscreenTarget();T.keyboard?C[T.request](Element.ALLOW_KEYBOARD_INPUT):C[T.request](S)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(s.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(S){this.removeFullscreenTarget(),this.emit(s.FULLSCREEN_FAILED,S)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var S=document.createElement("div");S.style.margin="0",S.style.padding="0",S.style.width="100%",S.style.height="100%",this.fullscreenTarget=S,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var T=this.canvas.parentNode;T.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var S=this.fullscreenTarget;if(S&&S.parentNode){var T=S.parentNode;T.insertBefore(this.canvas,S),T.removeChild(S)}}},stopFullscreen:function(){var S=this.fullscreen;if(!S.available)return this.emit(s.FULLSCREEN_UNSUPPORTED),!1;S.active&&document[S.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(s.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(S){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(S)},startListeners:function(){var S=this,T=this.domlisteners;if(T.orientationChange=function(){S.updateBounds(),S._checkOrientation=!0,S.dirty=!0},T.windowResize=function(){S.updateBounds(),S.dirty=!0},window.addEventListener("orientationchange",T.orientationChange,!1),window.addEventListener("resize",T.windowResize,!1),this.fullscreen.available){T.fullScreenChange=function(E){return S.onFullScreenChange(E)},T.fullScreenError=function(E){return S.onFullScreenError(E)};var C=["webkit","moz",""];C.forEach(function(E){document.addEventListener(E+"fullscreenchange",T.fullScreenChange,!1),document.addEventListener(E+"fullscreenerror",T.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",T.fullScreenChange,!1),document.addEventListener("MSFullscreenError",T.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(S,T){S instanceof p||(T=S,S=void 0),T===void 0&&(T=new o);var C=this.baseSize,E=this.parentSize,P=this.canvasBounds,M=this.displayScale,L=P.x>=0?0:-(P.x*M.x),R=P.y>=0?0:-(P.y*M.y),w;E.width>=P.width?w=C.width:w=C.width-(P.width-E.width)*M.x;var D;return E.height>=P.height?D=C.height:D=C.height-(P.height-E.height)*M.y,T.setTo(L,R,w,D),S&&(T.width/=S.zoomX,T.height/=S.zoomY,T.centerX=S.centerX+S.scrollX,T.centerY=S.centerY+S.scrollY),T},step:function(S,T){this.parent&&(this._lastCheck+=T,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var S=this.domlisteners;window.removeEventListener("orientationchange",S.orientationChange,!1),window.removeEventListener("resize",S.windowResize,!1);var T=["webkit","moz",""];T.forEach(function(C){document.removeEventListener(C+"fullscreenchange",S.fullScreenChange,!1),document.removeEventListener(C+"fullscreenerror",S.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",S.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",S.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===u.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===u.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});v.exports=x},35098:v=>{v.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},53539:v=>{v.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},12637:v=>{v.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},10217:v=>{v.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},55301:(v,y,t)=>{var u={CENTER:t(35098),ORIENTATION:t(53539),SCALE_MODE:t(12637),ZOOM:t(10217)};v.exports=u},82085:v=>{v.exports="enterfullscreen"},11826:v=>{v.exports="fullscreenfailed"},56691:v=>{v.exports="fullscreenunsupported"},34739:v=>{v.exports="leavefullscreen"},26681:v=>{v.exports="orientationchange"},11428:v=>{v.exports="resize"},40444:(v,y,t)=>{v.exports={ENTER_FULLSCREEN:t(82085),FULLSCREEN_FAILED:t(11826),FULLSCREEN_UNSUPPORTED:t(56691),LEAVE_FULLSCREEN:t(34739),ORIENTATION_CHANGE:t(26681),RESIZE:t(11428)}},86754:(v,y,t)=>{var u=t(98611),c=t(55301),a={Center:t(35098),Events:t(40444),Orientation:t(53539),ScaleManager:t(756),ScaleModes:t(12637),Zoom:t(10217)};a=u(!1,a,c.CENTER),a=u(!1,a,c.ORIENTATION),a=u(!1,a,c.SCALE_MODE),a=u(!1,a,c.ZOOM),v.exports=a},47736:(v,y,t)=>{var u=t(72632),c=t(40587),a=function(s){var r=s.game.config.defaultPhysicsSystem,e=u(s.settings,"physics",!1);if(!(!r&&!e)){var i=[];if(r&&i.push(c(r+"Physics")),e)for(var l in e)l=c(l.concat("Physics")),i.indexOf(l)===-1&&i.push(l);return i}};v.exports=a},91088:(v,y,t)=>{var u=t(72632),c=function(a){var s=a.plugins.getDefaultScenePlugins(),r=u(a.settings,"plugins",!1);return Array.isArray(r)?r:s||[]};v.exports=c},90415:v=>{var y={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};v.exports=y},87157:(v,y,t)=>{var u=t(56694),c=t(63946),a=new u({initialize:function(r){this.sys=new c(this,r),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});v.exports=a},13553:(v,y,t)=>{var u=t(56694),c=t(92980),a=t(7599),s=t(97081),r=t(10850),e=t(683),i=t(72283),l=t(87157),n=t(63946),o=new u({initialize:function(h,d){if(this.game=h,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,d){Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++)this._pending.push({key:"default",scene:d[p],autoStart:p===0,data:{}})}h.events.once(s.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new l);var f,h,d,p;for(f=0;f<this._pending.length;f++){h=this._pending[f],d=h.key,p=h.scene;var x;p instanceof l?x=this.createSceneFromInstance(d,p):typeof p=="object"?x=this.createSceneFromObject(d,p):typeof p=="function"&&(x=this.createSceneFromFunction(d,p)),d=x.sys.settings.key,this.keys[d]=x,this.scenes.push(x),this._data[d]&&(x.sys.settings.data=this._data[d].data,this._data[d].autoStart&&(h.autoStart=!0)),(h.autoStart||x.sys.settings.active)&&this._start.push(d)}for(this._pending.length=0,this._data={},this.isBooted=!0,f=0;f<this._start.length;f++)h=this._start[f],this.start(h);this._start.length=0}},processQueue:function(){var f=this._pending.length,h=this._queue.length;if(!(f===0&&h===0)){var d,p;if(f){for(d=0;d<f;d++)p=this._pending[d],this.add(p.key,p.scene,p.autoStart,p.data);for(d=0;d<this._start.length;d++)p=this._start[d],this.start(p);this._start.length=0,this._pending.length=0}for(d=0;d<this._queue.length;d++)p=this._queue[d],this[p.op](p.keyA,p.keyB);this._queue.length=0}},add:function(f,h,d,p){if(d===void 0&&(d=!1),p===void 0&&(p={}),this.isProcessing||!this.isBooted)return this._pending.push({key:f,scene:h,autoStart:d,data:p}),this.isBooted||(this._data[f]={data:p}),null;f=this.getKey(f,h);var x;return h instanceof l?x=this.createSceneFromInstance(f,h):typeof h=="object"?(h.key=f,x=this.createSceneFromObject(f,h)):typeof h=="function"&&(x=this.createSceneFromFunction(f,h)),x.sys.settings.data=p,f=x.sys.settings.key,this.keys[f]=x,this.scenes.push(x),(d||x.sys.settings.active)&&(this._pending.length?this._start.push(f):this.start(f)),x},remove:function(f){if(this.isProcessing)this._queue.push({op:"remove",keyA:f,keyB:null});else{var h=this.getScene(f);if(!h||h.sys.isTransitioning())return this;var d=this.scenes.indexOf(h),p=h.sys.settings.key;d>-1&&(delete this.keys[p],this.scenes.splice(d,1),this._start.indexOf(p)>-1&&(d=this._start.indexOf(p),this._start.splice(d,1)),h.sys.destroy())}return this},bootScene:function(f){var h=f.sys,d=h.settings;h.sceneUpdate=i,f.init&&(f.init.call(f,d.data),d.status=c.INIT,d.isTransition&&h.events.emit(a.TRANSITION_INIT,d.transitionFrom,d.transitionDuration));var p;h.load&&(p=h.load,p.reset()),p&&f.preload?(f.preload.call(f),d.status=c.LOADING,p.once(e.COMPLETE,this.loadComplete,this),p.start()):this.create(f)},loadComplete:function(f){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(f.scene)},payloadComplete:function(f){this.bootScene(f.scene)},update:function(f,h){this.processQueue(),this.isProcessing=!0;for(var d=this.scenes.length-1;d>=0;d--){var p=this.scenes[d].sys;p.settings.status>c.START&&p.settings.status<=c.RUNNING&&p.step(f,h),p.scenePlugin._target&&p.scenePlugin.step(f,h)}},render:function(f){for(var h=0;h<this.scenes.length;h++){var d=this.scenes[h].sys;d.settings.visible&&d.settings.status>=c.LOADING&&d.settings.status<c.SLEEPING&&d.render(f)}this.isProcessing=!1},create:function(f){var h=f.sys,d=h.settings;f.create&&(d.status=c.CREATING,f.create.call(f,d.data),d.status===c.DESTROYED)||(d.isTransition&&h.events.emit(a.TRANSITION_START,d.transitionFrom,d.transitionDuration),f.update&&(h.sceneUpdate=f.update),d.status=c.RUNNING,h.events.emit(a.CREATE,f))},createSceneFromFunction:function(f,h){var d=new h;if(d instanceof l){var p=d.sys.settings.key;if(p!==""&&(f=p),this.keys.hasOwnProperty(f))throw new Error("Cannot add a Scene with duplicate key: "+f);return this.createSceneFromInstance(f,d)}else return d.sys=new n(d),d.sys.settings.key=f,d.sys.init(this.game),d},createSceneFromInstance:function(f,h){var d=h.sys.settings.key;return d===""&&(h.sys.settings.key=f),h.sys.init(this.game),h},createSceneFromObject:function(f,h){var d=new l(h),p=d.sys.settings.key;p!==""?f=p:d.sys.settings.key=f,d.sys.init(this.game);for(var x=["init","preload","create","update","render"],S=0;S<x.length;S++){var T=r(h,x[S],null);T&&(d[x[S]]=T)}if(h.hasOwnProperty("extend")){for(var C in h.extend)if(h.extend.hasOwnProperty(C)){var E=h.extend[C];C==="data"&&d.hasOwnProperty("data")&&typeof E=="object"?d.data.merge(E):C!=="sys"&&(d[C]=E)}}return d},getKey:function(f,h){if(f||(f="default"),typeof h=="function")return f;if(h instanceof l?f=h.sys.settings.key:typeof h=="object"&&h.hasOwnProperty("key")&&(f=h.key),this.keys.hasOwnProperty(f))throw new Error("Cannot add a Scene with duplicate key: "+f);return f},getScenes:function(f,h){f===void 0&&(f=!0),h===void 0&&(h=!1);for(var d=[],p=this.scenes,x=0;x<p.length;x++){var S=p[x];S&&(!f||f&&S.sys.isActive())&&d.push(S)}return h?d.reverse():d},getScene:function(f){if(typeof f=="string"){if(this.keys[f])return this.keys[f]}else for(var h=0;h<this.scenes.length;h++)if(f===this.scenes[h])return f;return null},isActive:function(f){var h=this.getScene(f);return h?h.sys.isActive():null},isPaused:function(f){var h=this.getScene(f);return h?h.sys.isPaused():null},isVisible:function(f){var h=this.getScene(f);return h?h.sys.isVisible():null},isSleeping:function(f){var h=this.getScene(f);return h?h.sys.isSleeping():null},pause:function(f,h){var d=this.getScene(f);return d&&d.sys.pause(h),this},resume:function(f,h){var d=this.getScene(f);return d&&d.sys.resume(h),this},sleep:function(f,h){var d=this.getScene(f);return d&&!d.sys.isTransitioning()&&d.sys.sleep(h),this},wake:function(f,h){var d=this.getScene(f);return d&&d.sys.wake(h),this},run:function(f,h){var d=this.getScene(f);if(!d){for(var p=0;p<this._pending.length;p++)if(this._pending[p].key===f){this.queueOp("start",f,h);break}return this}d.sys.isSleeping()?d.sys.wake(h):d.sys.isPaused()?d.sys.resume(h):this.start(f,h)},start:function(f,h){if(!this.isBooted)return this._data[f]={autoStart:!0,data:h},this;var d=this.getScene(f);if(!d)return console.warn("Scene not found for key: "+f),this;var p=d.sys,x=p.settings.status;if(x>=c.START&&x<=c.CREATING)return this;if(x>=c.RUNNING&&x<=c.SLEEPING)p.shutdown(),p.sceneUpdate=i,p.start(h);else{p.sceneUpdate=i,p.start(h);var S;if(p.load&&(S=p.load),S&&p.settings.hasOwnProperty("pack")&&(S.reset(),S.addPack({payload:p.settings.pack})))return p.settings.status=c.LOADING,S.once(e.COMPLETE,this.payloadComplete,this),S.start(),this}return this.bootScene(d),this},stop:function(f,h){var d=this.getScene(f);if(d&&!d.sys.isTransitioning()&&d.sys.settings.status!==c.SHUTDOWN){var p=d.sys.load;p&&(p.off(e.COMPLETE,this.loadComplete,this),p.off(e.COMPLETE,this.payloadComplete,this)),d.sys.shutdown(h)}return this},switch:function(f,h){var d=this.getScene(f),p=this.getScene(h);return d&&p&&d!==p&&(this.sleep(f),this.isSleeping(h)?this.wake(h):this.start(h)),this},getAt:function(f){return this.scenes[f]},getIndex:function(f){var h=this.getScene(f);return this.scenes.indexOf(h)},bringToTop:function(f){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:f,keyB:null});else{var h=this.getIndex(f);if(h!==-1&&h<this.scenes.length){var d=this.getScene(f);this.scenes.splice(h,1),this.scenes.push(d)}}return this},sendToBack:function(f){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:f,keyB:null});else{var h=this.getIndex(f);if(h!==-1&&h>0){var d=this.getScene(f);this.scenes.splice(h,1),this.scenes.unshift(d)}}return this},moveDown:function(f){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:f,keyB:null});else{var h=this.getIndex(f);if(h>0){var d=h-1,p=this.getScene(f),x=this.getAt(d);this.scenes[h]=x,this.scenes[d]=p}}return this},moveUp:function(f){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:f,keyB:null});else{var h=this.getIndex(f);if(h<this.scenes.length-1){var d=h+1,p=this.getScene(f),x=this.getAt(d);this.scenes[h]=x,this.scenes[d]=p}}return this},moveAbove:function(f,h){if(f===h)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:f,keyB:h});else{var d=this.getIndex(f),p=this.getIndex(h);if(d!==-1&&p!==-1&&p<d){var x=this.getAt(p);this.scenes.splice(p,1),this.scenes.splice(d+(p>d),0,x)}}return this},moveBelow:function(f,h){if(f===h)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:f,keyB:h});else{var d=this.getIndex(f),p=this.getIndex(h);if(d!==-1&&p!==-1&&p>d){var x=this.getAt(p);this.scenes.splice(p,1),d===0?this.scenes.unshift(x):this.scenes.splice(d-(p<d),0,x)}}return this},queueOp:function(f,h,d){return this._queue.push({op:f,keyA:h,keyB:d}),this},swapPosition:function(f,h){if(f===h)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:f,keyB:h});else{var d=this.getIndex(f),p=this.getIndex(h);if(d!==p&&d!==-1&&p!==-1){var x=this.getAt(d);this.scenes[d]=this.scenes[p],this.scenes[p]=x}}return this},dump:function(){for(var f=[],h=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],d=0;d<this.scenes.length;d++){var p=this.scenes[d].sys,x=p.settings.visible&&(p.settings.status===c.RUNNING||p.settings.status===c.PAUSED)?"[*] ":"[-] ";x+=p.settings.key+" ("+h[p.settings.status]+")",f.push(x)}console.log(f.join(`
`))},destroy:function(){for(var f=0;f<this.scenes.length;f++){var h=this.scenes[f].sys;h.destroy()}this.systemScene.sys.destroy(),this.update=i,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});v.exports=o},64051:(v,y,t)=>{var u=t(82897),c=t(56694),a=t(7599),s=t(72632),r=t(91963),e=new c({initialize:function(l){this.scene=l,this.systems=l.sys,this.settings=l.sys.settings,this.key=l.sys.settings.key,this.manager=l.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,l.sys.events.once(a.BOOT,this.boot,this),l.sys.events.on(a.START,this.pluginStart,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(a.SHUTDOWN,this.shutdown,this)},start:function(i,l){return i===void 0&&(i=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",i,l),this},restart:function(i){var l=this.key;return this.manager.queueOp("stop",l),this.manager.queueOp("start",l,i),this},transition:function(i){i===void 0&&(i={});var l=s(i,"target",!1),n=this.manager.getScene(l);if(!l||!this.checkValidTransition(n))return!1;var o=s(i,"duration",1e3);this._elapsed=0,this._target=n,this._duration=o,this._willSleep=s(i,"sleep",!1),this._willRemove=s(i,"remove",!1);var f=s(i,"onUpdate",null);f&&(this._onUpdate=f,this._onUpdateScope=s(i,"onUpdateScope",this.scene));var h=s(i,"allowInput",!1);this.settings.transitionAllowInput=h;var d=n.sys.settings;d.isTransition=!0,d.transitionFrom=this.scene,d.transitionDuration=o,d.transitionAllowInput=h,s(i,"moveAbove",!1)?this.manager.moveAbove(this.key,l):s(i,"moveBelow",!1)&&this.manager.moveBelow(this.key,l),n.sys.isSleeping()?n.sys.wake(s(i,"data")):this.manager.start(l,s(i,"data"));var p=s(i,"onStart",null),x=s(i,"onStartScope",this.scene);return p&&p.call(x,this.scene,n,o),this.systems.events.emit(a.TRANSITION_OUT,n,o),!0},checkValidTransition:function(i){return!(!i||i.sys.isActive()||i.sys.isTransitioning()||i===this.scene||this.systems.isTransitioning())},step:function(i,l){this._elapsed+=l,this.transitionProgress=u(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var i=this._target.sys,l=this._target.sys.settings;i.events.emit(a.TRANSITION_COMPLETE,this.scene),l.isTransition=!1,l.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(i,l,n,o){return this.manager.add(i,l,n,o)},launch:function(i,l){return i&&i!==this.key&&this.manager.queueOp("start",i,l),this},run:function(i,l){return i&&i!==this.key&&this.manager.queueOp("run",i,l),this},pause:function(i,l){return i===void 0&&(i=this.key),this.manager.queueOp("pause",i,l),this},resume:function(i,l){return i===void 0&&(i=this.key),this.manager.queueOp("resume",i,l),this},sleep:function(i,l){return i===void 0&&(i=this.key),this.manager.queueOp("sleep",i,l),this},wake:function(i,l){return i===void 0&&(i=this.key),this.manager.queueOp("wake",i,l),this},switch:function(i){return i!==this.key&&this.manager.queueOp("switch",this.key,i),this},stop:function(i,l){return i===void 0&&(i=this.key),this.manager.queueOp("stop",i,l),this},setActive:function(i,l,n){l===void 0&&(l=this.key);var o=this.manager.getScene(l);return o&&o.sys.setActive(i,n),this},setVisible:function(i,l){l===void 0&&(l=this.key);var n=this.manager.getScene(l);return n&&n.sys.setVisible(i),this},isSleeping:function(i){return i===void 0&&(i=this.key),this.manager.isSleeping(i)},isActive:function(i){return i===void 0&&(i=this.key),this.manager.isActive(i)},isPaused:function(i){return i===void 0&&(i=this.key),this.manager.isPaused(i)},isVisible:function(i){return i===void 0&&(i=this.key),this.manager.isVisible(i)},swapPosition:function(i,l){return l===void 0&&(l=this.key),i!==l&&this.manager.swapPosition(i,l),this},moveAbove:function(i,l){return l===void 0&&(l=this.key),i!==l&&this.manager.moveAbove(i,l),this},moveBelow:function(i,l){return l===void 0&&(l=this.key),i!==l&&this.manager.moveBelow(i,l),this},remove:function(i){return i===void 0&&(i=this.key),this.manager.remove(i),this},moveUp:function(i){return i===void 0&&(i=this.key),this.manager.moveUp(i),this},moveDown:function(i){return i===void 0&&(i=this.key),this.manager.moveDown(i),this},bringToTop:function(i){return i===void 0&&(i=this.key),this.manager.bringToTop(i),this},sendToBack:function(i){return i===void 0&&(i=this.key),this.manager.sendToBack(i),this},get:function(i){return this.manager.getScene(i)},getStatus:function(i){var l=this.manager.getScene(i);if(l)return l.sys.getStatus()},getIndex:function(i){return i===void 0&&(i=this.key),this.manager.getIndex(i)},shutdown:function(){var i=this.systems.events;i.off(a.SHUTDOWN,this.shutdown,this),i.off(a.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});r.register("ScenePlugin",e,"scenePlugin"),v.exports=e},36765:(v,y,t)=>{var u=t(92980),c=t(10850),a=t(30657),s=t(90415),r={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:u.PENDING,key:c(e,"key",""),active:c(e,"active",!1),visible:c(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:c(e,"pack",!1),cameras:c(e,"cameras",null),map:c(e,"map",a(s,c(e,"mapAdd",{}))),physics:c(e,"physics",{}),loader:c(e,"loader",{}),plugins:c(e,"plugins",!1),input:c(e,"input",{})}}};v.exports=r},63946:(v,y,t)=>{var u=t(56694),c=t(92980),a=t(18360),s=t(7599),r=t(47736),e=t(91088),i=t(72283),l=t(36765),n=new u({initialize:function(f,h){this.scene=f,this.game,this.renderer,this.config=h,this.settings=l.create(h),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=i},init:function(o){this.settings.status=c.INIT,this.sceneUpdate=i,this.game=o,this.renderer=o.renderer,this.canvas=o.canvas,this.context=o.context;var f=o.plugins;this.plugins=f,f.addToScene(this,a.Global,[a.CoreScene,e(this),r(this)]),this.events.emit(s.BOOT,this),this.settings.isBooted=!0},step:function(o,f){var h=this.events;h.emit(s.PRE_UPDATE,o,f),h.emit(s.UPDATE,o,f),this.sceneUpdate.call(this.scene,o,f),h.emit(s.POST_UPDATE,o,f)},render:function(o){var f=this.displayList;f.depthSort(),this.events.emit(s.PRE_RENDER,o),this.cameras.render(o,f),this.events.emit(s.RENDER,o)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(o){var f=this.settings,h=this.getStatus();return h!==c.CREATING&&h!==c.RUNNING?console.warn("Cannot pause non-running Scene",f.key):this.settings.active&&(f.status=c.PAUSED,f.active=!1,this.events.emit(s.PAUSE,this,o)),this},resume:function(o){var f=this.events,h=this.settings;return this.settings.active||(h.status=c.RUNNING,h.active=!0,f.emit(s.RESUME,this,o)),this},sleep:function(o){var f=this.settings,h=this.getStatus();return h!==c.CREATING&&h!==c.RUNNING?console.warn("Cannot sleep non-running Scene",f.key):(f.status=c.SLEEPING,f.active=!1,f.visible=!1,this.events.emit(s.SLEEP,this,o)),this},wake:function(o){var f=this.events,h=this.settings;return h.status=c.RUNNING,h.active=!0,h.visible=!0,f.emit(s.WAKE,this,o),h.isTransition&&f.emit(s.TRANSITION_WAKE,h.transitionFrom,h.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var o=this.settings.status;return o>c.PENDING&&o<=c.RUNNING},isSleeping:function(){return this.settings.status===c.SLEEPING},isActive:function(){return this.settings.status===c.RUNNING},isPaused:function(){return this.settings.status===c.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(o){return this.settings.visible=o,this},setActive:function(o,f){return o?this.resume(f):this.pause(f)},start:function(o){var f=this.events,h=this.settings;o&&(h.data=o),h.status=c.START,h.active=!0,h.visible=!0,f.emit(s.START,this),f.emit(s.READY,this,o)},shutdown:function(o){var f=this.events,h=this.settings;f.off(s.TRANSITION_INIT),f.off(s.TRANSITION_START),f.off(s.TRANSITION_COMPLETE),f.off(s.TRANSITION_OUT),h.status=c.SHUTDOWN,h.active=!1,h.visible=!1,f.emit(s.SHUTDOWN,this,o)},destroy:function(){var o=this.events,f=this.settings;f.status=c.DESTROYED,f.active=!1,f.visible=!1,o.emit(s.DESTROY,this),o.removeAllListeners();for(var h=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],d=0;d<h.length;d++)this[h[d]]=null}});v.exports=n},92980:v=>{var y={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};v.exports=y},31803:v=>{v.exports="addedtoscene"},94817:v=>{v.exports="boot"},28977:v=>{v.exports="create"},91959:v=>{v.exports="destroy"},363:v=>{v.exports="pause"},15643:v=>{v.exports="postupdate"},17058:v=>{v.exports="prerender"},77125:v=>{v.exports="preupdate"},76018:v=>{v.exports="ready"},28620:v=>{v.exports="removedfromscene"},41538:v=>{v.exports="render"},34268:v=>{v.exports="resume"},2342:v=>{v.exports="shutdown"},96541:v=>{v.exports="sleep"},74244:v=>{v.exports="start"},17046:v=>{v.exports="transitioncomplete"},13637:v=>{v.exports="transitioninit"},14733:v=>{v.exports="transitionout"},33899:v=>{v.exports="transitionstart"},52418:v=>{v.exports="transitionwake"},31735:v=>{v.exports="update"},8470:v=>{v.exports="wake"},7599:(v,y,t)=>{v.exports={ADDED_TO_SCENE:t(31803),BOOT:t(94817),CREATE:t(28977),DESTROY:t(91959),PAUSE:t(363),POST_UPDATE:t(15643),PRE_RENDER:t(17058),PRE_UPDATE:t(77125),READY:t(76018),REMOVED_FROM_SCENE:t(28620),RENDER:t(41538),RESUME:t(34268),SHUTDOWN:t(2342),SLEEP:t(96541),START:t(74244),TRANSITION_COMPLETE:t(17046),TRANSITION_INIT:t(13637),TRANSITION_OUT:t(14733),TRANSITION_START:t(33899),TRANSITION_WAKE:t(52418),UPDATE:t(31735),WAKE:t(8470)}},20436:(v,y,t)=>{var u=t(92980),c=t(98611),a={Events:t(7599),GetPhysicsPlugins:t(47736),GetScenePlugins:t(91088),SceneManager:t(13553),ScenePlugin:t(64051),Settings:t(36765),Systems:t(63946)};a=c(!1,a,u),v.exports=a},25798:(v,y,t)=>{var u=t(56694),c=t(6659),a=t(76038),s=t(98611),r=t(72283),e=new u({Extends:c,initialize:function(l,n,o){c.call(this),this.manager=l,this.key=n,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=s(this.config,o),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(i){return!i||!i.name||typeof i.name!="string"?!1:this.markers[i.name]?(console.error("addMarker "+i.name+" already exists in Sound"),!1):(i=s(!0,{name:"",start:0,duration:this.totalDuration-(i.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},i),this.markers[i.name]=i,!0)},updateMarker:function(i){return!i||!i.name||typeof i.name!="string"?!1:this.markers[i.name]?(this.markers[i.name]=s(!0,this.markers[i.name],i),!0):(console.warn("Audio Marker: "+i.name+" missing in Sound: "+this.key),!1)},removeMarker:function(i){var l=this.markers[i];return l?(this.markers[i]=null,l):null},play:function(i,l){if(i===void 0&&(i=""),typeof i=="object"&&(l=i,i=""),typeof i!="string")return!1;if(!i)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[i])return console.warn("Marker: "+i+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[i],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=s(this.currentConfig,l),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:r,calculateRate:function(){var i=1.0005777895065548,l=this.currentConfig.detune+this.manager.detune,n=Math.pow(i,l);this.totalRate=this.currentConfig.rate*this.manager.rate*n},destroy:function(){this.pendingRemove||(this.emit(a.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});v.exports=e},12486:(v,y,t)=>{var u=t(56694),c=t(32742),a=t(6659),s=t(76038),r=t(97081),e=t(71608),i=t(51463),l=t(72283),n=t(93736),o=new u({Extends:a,initialize:function(h){a.call(this),this.game=h,this.jsonCache=h.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new n,h.events.on(r.BLUR,this.onGameBlur,this),h.events.on(r.FOCUS,this.onGameFocus,this),h.events.on(r.PRE_STEP,this.update,this),h.events.once(r.DESTROY,this.destroy,this)},add:l,addAudioSprite:function(f,h){h===void 0&&(h={});var d=this.add(f,h);d.spritemap=this.jsonCache.get(f).spritemap;for(var p in d.spritemap)if(d.spritemap.hasOwnProperty(p)){var x=c(h),S=d.spritemap[p];x.loop=S.hasOwnProperty("loop")?S.loop:!1,d.addMarker({name:p,start:S.start,duration:S.end-S.start,config:x})}return d},get:function(f){return i(this.sounds,"key",f)},getAll:function(f){return f?e(this.sounds,"key",f):e(this.sounds)},getAllPlaying:function(){return e(this.sounds,"isPlaying",!0)},play:function(f,h){var d=this.add(f);return d.once(s.COMPLETE,d.destroy,d),h?h.name?(d.addMarker(h),d.play(h.name)):d.play(h):d.play()},playAudioSprite:function(f,h,d){var p=this.addAudioSprite(f);return p.once(s.COMPLETE,p.destroy,p),p.play(h,d)},remove:function(f){var h=this.sounds.indexOf(f);return h!==-1?(f.destroy(),this.sounds.splice(h,1),!0):!1},removeAll:function(){this.sounds.forEach(function(f){f.destroy()}),this.sounds.length=0},removeByKey:function(f){for(var h=0,d=this.sounds.length-1;d>=0;d--){var p=this.sounds[d];p.key===f&&(p.destroy(),this.sounds.splice(d,1),h++)}return h},pauseAll:function(){this.forEachActiveSound(function(f){f.pause()}),this.emit(s.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(f){f.resume()}),this.emit(s.RESUME_ALL,this)},setListenerPosition:l,stopAll:function(){this.forEachActiveSound(function(f){f.stop()}),this.emit(s.STOP_ALL,this)},stopByKey:function(f){var h=0;return this.getAll(f).forEach(function(d){d.stop()&&h++}),h},unlock:l,onBlur:l,onFocus:l,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(f,h){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(s.UNLOCKED,this));for(var d=this.sounds.length-1;d>=0;d--)this.sounds[d].pendingRemove&&this.sounds.splice(d,1);this.sounds.forEach(function(p){p.update(f,h)})},destroy:function(){this.game.events.off(r.BLUR,this.onGameBlur,this),this.game.events.off(r.FOCUS,this.onGameFocus,this),this.game.events.off(r.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(f,h){var d=this;this.sounds.forEach(function(p,x){p&&!p.pendingRemove&&f.call(h||d,p,x,d.sounds)})},setRate:function(f){return this.rate=f,this},rate:{get:function(){return this._rate},set:function(f){this._rate=f,this.forEachActiveSound(function(h){h.calculateRate()}),this.emit(s.GLOBAL_RATE,this,f)}},setDetune:function(f){return this.detune=f,this},detune:{get:function(){return this._detune},set:function(f){this._detune=f,this.forEachActiveSound(function(h){h.calculateRate()}),this.emit(s.GLOBAL_DETUNE,this,f)}}});v.exports=o},84191:(v,y,t)=>{var u=t(27622),c=t(17546),a=t(55491),s={create:function(r){var e=r.config.audio,i=r.device.audio;return e.noAudio||!i.webAudio&&!i.audioData?new c(r):i.webAudio&&!e.disableWebAudio?new a(r):new u(r)}};v.exports=s},77578:v=>{v.exports="complete"},19679:v=>{v.exports="decodedall"},56951:v=>{v.exports="decoded"},16436:v=>{v.exports="destroy"},55154:v=>{v.exports="detune"},57818:v=>{v.exports="detune"},57890:v=>{v.exports="mute"},83022:v=>{v.exports="rate"},99170:v=>{v.exports="volume"},64289:v=>{v.exports="looped"},67214:v=>{v.exports="loop"},53128:v=>{v.exports="mute"},73078:v=>{v.exports="pan"},76763:v=>{v.exports="pauseall"},88426:v=>{v.exports="pause"},13765:v=>{v.exports="play"},80291:v=>{v.exports="rate"},11124:v=>{v.exports="resumeall"},55382:v=>{v.exports="resume"},71157:v=>{v.exports="seek"},31776:v=>{v.exports="stopall"},39450:v=>{v.exports="stop"},21939:v=>{v.exports="unlocked"},33019:v=>{v.exports="volume"},76038:(v,y,t)=>{v.exports={COMPLETE:t(77578),DECODED:t(56951),DECODED_ALL:t(19679),DESTROY:t(16436),DETUNE:t(55154),GLOBAL_DETUNE:t(57818),GLOBAL_MUTE:t(57890),GLOBAL_RATE:t(83022),GLOBAL_VOLUME:t(99170),LOOP:t(67214),LOOPED:t(64289),MUTE:t(53128),PAN:t(73078),PAUSE_ALL:t(76763),PAUSE:t(88426),PLAY:t(13765),RATE:t(80291),RESUME_ALL:t(11124),RESUME:t(55382),SEEK:t(71157),STOP_ALL:t(31776),STOP:t(39450),UNLOCKED:t(21939),VOLUME:t(33019)}},34350:(v,y,t)=>{var u=t(25798),c=t(56694),a=t(76038),s=t(82897),r=new c({Extends:u,initialize:function(i,l,n){if(n===void 0&&(n={}),this.tags=i.game.cache.audio.get(l),!this.tags)throw new Error('No cached audio asset with key "'+l);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,u.call(this,i,l,n)},play:function(e,i){return this.manager.isLocked(this,"play",[e,i])||!u.prototype.play.call(this,e,i)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!u.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!u.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!u.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(a.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,i=this.currentConfig.delay,l=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=l,this.audio.currentTime=l,this.applyConfig(),i===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+i*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var i=this.tags[e];if(i.dataset.used==="false")return i.dataset.used="true",this.audio=i,!0}if(!this.manager.override)return!1;var l=[];this.manager.forEachActiveSound(function(o){o.key===this.key&&o.audio&&l.push(o)},this),l.sort(function(o,f){return o.loop===f.loop?f.seek/f.duration-o.seek/o.duration:o.loop?1:-1});var n=l[0];return this.audio=n.audio,n.reset(),n.audio=null,n.startTime=0,n.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(i){console.warn(i)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){u.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var i=this.currentMarker?this.currentMarker.start:0,l=i+this.duration,n=this.audio.currentTime;if(this.currentConfig.loop)n>=l-this.manager.loopEndOffset?(this.audio.currentTime=i+Math.max(0,n-l),n=this.audio.currentTime):n<i&&(this.audio.currentTime+=i,n=this.audio.currentTime),n<this.previousTime&&this.emit(a.LOOPED,this);else if(n>=l){this.reset(),this.stopAndReleaseAudioTag(),this.emit(a.COMPLETE,this);return}this.previousTime=n}},destroy:function(){u.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=s(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){u.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,!this.manager.isLocked(this,"mute",e)&&(this.updateMute(),this.emit(a.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,!this.manager.isLocked(this,"volume",e)&&(this.updateVolume(),this.emit(a.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,!this.manager.isLocked(this,a.RATE,e)&&(this.calculateRate(),this.emit(a.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,!this.manager.isLocked(this,a.DETUNE,e)&&(this.calculateRate(),this.emit(a.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(a.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,!this.manager.isLocked(this,"loop",e)&&(this.audio&&(this.audio.loop=e),this.emit(a.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(a.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});v.exports=r},27622:(v,y,t)=>{var u=t(12486),c=t(56694),a=t(76038),s=t(34350),r=new c({Extends:u,initialize:function(i){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,u.call(this,i)},add:function(e,i){var l=new s(this,e,i);return this.sounds.push(l),l},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(o,f){for(var h=0;h<f.length;h++)if(f[h].dataset.locked==="true")return e.locked=!0,!1;return!0}),!!this.locked){var i=!1,l=function(){i=!0},n=function(){if(i){i=!1;return}document.body.removeEventListener("touchmove",l),document.body.removeEventListener("touchend",n);var o=[];if(e.game.cache.audio.entries.each(function(h,d){for(var p=0;p<d.length;p++){var x=d[p];x.dataset.locked==="true"&&o.push(x)}return!0}),o.length!==0){var f=o[o.length-1];f.oncanplaythrough=function(){f.oncanplaythrough=null,o.forEach(function(h){h.dataset.locked="false"}),e.unlocked=!0},o.forEach(function(h){h.load()})}};this.once(a.UNLOCKED,function(){for(this.forEachActiveSound(function(f){f.currentMarker===null&&f.duration===0&&(f.duration=f.tags[0].duration),f.totalDuration=f.tags[0].duration});this.lockedActionsQueue.length;){var o=this.lockedActionsQueue.shift();o.sound[o.prop].apply?o.sound[o.prop].apply(o.sound,o.value||[]):o.sound[o.prop]=o.value}},this),document.body.addEventListener("touchmove",l,!1),document.body.addEventListener("touchend",n,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){u.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,i,l){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:i,value:l}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(i){i.updateMute()}),this.emit(a.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(i){i.updateVolume()}),this.emit(a.GLOBAL_VOLUME,this,e)}}});v.exports=r},56751:(v,y,t)=>{v.exports={SoundManagerCreator:t(84191),Events:t(76038),BaseSound:t(25798),BaseSoundManager:t(12486),WebAudioSound:t(96008),WebAudioSoundManager:t(55491),HTML5AudioSound:t(34350),HTML5AudioSoundManager:t(27622),NoAudioSound:t(38662),NoAudioSoundManager:t(17546)}},38662:(v,y,t)=>{var u=t(25798),c=t(56694),a=t(6659),s=t(98611),r=t(72283),e=function(){return!1},i=function(){return null},l=function(){return this},n=new c({Extends:a,initialize:function(f,h,d){d===void 0&&(d={}),a.call(this),this.manager=f,this.key=h,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=s({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},d),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:e,updateMarker:e,removeMarker:i,play:e,pause:e,resume:e,stop:e,setMute:l,setVolume:l,setRate:l,setDetune:l,setSeek:l,setLoop:l,setPan:l,applyConfig:i,resetConfig:i,update:r,calculateRate:i,destroy:function(){u.prototype.destroy.call(this)}});v.exports=n},17546:(v,y,t)=>{var u=t(12486),c=t(56694),a=t(6659),s=t(38662),r=t(72283),e=new c({Extends:a,initialize:function(l){a.call(this),this.game=l,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(i,l){var n=new s(this,i,l);return this.sounds.push(n),n},addAudioSprite:function(i,l){var n=this.add(i,l);return n.spritemap={},n},get:function(i){return u.prototype.get.call(this,i)},getAll:function(i){return u.prototype.getAll.call(this,i)},play:function(i,l){return!1},playAudioSprite:function(i,l,n){return!1},remove:function(i){return u.prototype.remove.call(this,i)},removeAll:function(){return u.prototype.removeAll.call(this)},removeByKey:function(i){return u.prototype.removeByKey.call(this,i)},stopByKey:function(i){return u.prototype.stopByKey.call(this,i)},onBlur:r,onFocus:r,onGameBlur:r,onGameFocus:r,pauseAll:r,resumeAll:r,stopAll:r,update:r,setRate:r,setDetune:r,setMute:r,setVolume:r,unlock:r,forEachActiveSound:function(i,l){u.prototype.forEachActiveSound.call(this,i,l)},destroy:function(){u.prototype.destroy.call(this)}});v.exports=e},96008:(v,y,t)=>{var u=t(25798),c=t(56694),a=t(76038),s=t(72632),r=new c({Extends:u,initialize:function(i,l,n){if(n===void 0&&(n={}),this.audioBuffer=i.game.cache.audio.get(l),!this.audioBuffer)throw new Error('Audio key "'+l+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=i.context.createGain(),this.volumeNode=i.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),i.context.createPanner&&(this.spatialNode=i.context.createPanner(),this.volumeNode.connect(this.spatialNode)),i.context.createStereoPanner?(this.pannerNode=i.context.createStereoPanner(),i.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(i.destination)):i.context.createPanner?this.spatialNode.connect(i.destination):this.volumeNode.connect(i.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,u.call(this,i,l,n)},play:function(e,i){return u.prototype.play.call(this,e,i)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(a.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!u.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!u.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(a.RESUME,this),!0)},stop:function(){return u.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(a.STOP,this),!0):!1},createAndStartBufferSource:function(){var e=this.currentConfig.seek,i=this.currentConfig.delay,l=this.manager.context.currentTime+i,n=(this.currentMarker?this.currentMarker.start:0)+e,o=this.duration-e;this.playTime=l-e,this.startTime=l,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,l),Math.max(0,n),Math.max(0,o)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),i=this.currentMarker?this.currentMarker.start:0,l=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,i),Math.max(0,l))},createBufferSource:function(){var e=this,i=this.manager.context.createBufferSource();return i.buffer=this.audioBuffer,i.connect(this.muteNode),i.onended=function(l){l.target===e.source&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},i},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var i=this.spatialNode;i.panningModel=s(e,"panningModel","equalpower"),i.distanceModel=s(e,"distanceModel","inverse"),i.orientationX.value=s(e,"orientationX",0),i.orientationY.value=s(e,"orientationY",0),i.orientationZ.value=s(e,"orientationZ",-1),i.refDistance=s(e,"refDistance",1),i.maxDistance=s(e,"maxDistance",1e4),i.rolloffFactor=s(e,"rolloffFactor",1),i.coneInnerAngle=s(e,"coneInnerAngle",360),i.coneOuterAngle=s(e,"coneOuterAngle",0),i.coneOuterGain=s(e,"coneOuterGain",0),this.spatialSource=s(e,"follow",null),this.spatialSource||(i.positionX.value=s(e,"x",0),i.positionY.value=s(e,"y",0),i.positionZ.value=s(e,"z",0))}u.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=s(this.spatialSource,"x",null),i=s(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),i&&i!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=i)}this.hasEnded?(this.hasEnded=!1,u.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(a.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(a.LOOPED,this))},destroy:function(){this.pendingRemove||(u.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){u.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,i=0;i<this.rateUpdates.length;i++){var l=0;i<this.rateUpdates.length-1?l=this.rateUpdates[i+1].time:l=this.manager.context.currentTime-this.playTime,e+=(l-this.rateUpdates[i].time)*this.rateUpdates[i].rate}return e},getLoopTime:function(){for(var e=0,i=0;i<this.rateUpdates.length-1;i++)e+=(this.rateUpdates[i+1].time-this.rateUpdates[i].time)*this.rateUpdates[i].rate;var l=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+l.time+(this.duration-e)/l.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(a.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(a.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(a.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(a.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(a.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(a.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(a.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});v.exports=r},55491:(v,y,t)=>{var u=t(82329),c=t(12486),a=t(56694),s=t(76038),r=t(97081),e=t(96008),i=t(72632),l=new a({Extends:c,initialize:function(o){this.context=this.createAudioContext(o),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),c.call(this,o),this.locked&&o.isBooted?this.unlock():o.events.once(r.BOOT,this.unlock,this)},createAudioContext:function(n){var o=n.config.audio;if(o.context)return o.context.resume(),o.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(n){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=n,this.masterMuteNode=n.createGain(),this.masterVolumeNode=n.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(n.destination),this.destination=this.masterMuteNode,this},add:function(n,o){var f=new e(this,n,o);return this.sounds.push(f),f},decodeAudio:function(n,o){var f;Array.isArray(n)?f=n:f=[{key:n,data:o}];for(var h=this.game.cache.audio,d=f.length,p=0;p<f.length;p++){var x=f[p],S=x.key,T=x.data;typeof T=="string"&&(T=u(T));var C=function(P,M){h.add(P,M),this.emit(s.DECODED,P),d--,d===0&&this.emit(s.DECODED_ALL)}.bind(this,S),E=function(P,M){console.error("Error decoding audio: "+P+" - ",M?M.message:""),d--,d===0&&this.emit(s.DECODED_ALL)}.bind(this,S);this.context.decodeAudioData(T,C,E)}},setListenerPosition:function(n,o){return n===void 0&&(n=this.game.scale.width/2),o===void 0&&(o=this.game.scale.height/2),this.listenerPosition.set(n,o),this},unlock:function(){var n=this,o=document.body,f=function h(){if(n.context&&o){var d=o.removeEventListener;n.context.resume().then(function(){d("touchstart",h),d("touchend",h),d("click",h),d("keydown",h),n.unlocked=!0},function(){d("touchstart",h),d("touchend",h),d("click",h),d("keydown",h)})}};o&&(o.addEventListener("touchstart",f,!1),o.addEventListener("touchend",f,!1),o.addEventListener("click",f,!1),o.addEventListener("keydown",f,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var n=this.context;n&&!this.locked&&(n.state==="suspended"||n.state==="interrupted")&&n.resume()},update:function(n,o){var f=this.context.listener;if(f&&f.positionX!==void 0){var h=i(this.listenerPosition,"x",null),d=i(this.listenerPosition,"y",null);h&&h!==this._spatialx&&(this._spatialx=f.positionX.value=h),d&&d!==this._spatialy&&(this._spatialy=f.positionY.value=d)}c.prototype.update.call(this,n,o),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var n=this;this.context.close().then(function(){n.context=null})}c.prototype.destroy.call(this)},setMute:function(n){return this.mute=n,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(n){this.masterMuteNode.gain.setValueAtTime(n?0:1,0),this.emit(s.GLOBAL_MUTE,this,n)}},setVolume:function(n){return this.volume=n,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(n){this.masterVolumeNode.gain.setValueAtTime(n,0),this.emit(s.GLOBAL_VOLUME,this,n)}}});v.exports=l},71207:(v,y,t)=>{var u=t(59959),c=t(56694),a=t(72283),s=t(17922),r=new c({initialize:function(i){this.parent=i,this.list=[],this.position=0,this.addCallback=a,this.removeCallback=a,this._sortKey=""},add:function(e,i){return i?u.Add(this.list,e):u.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,i,l){return l?u.AddAt(this.list,e,i):u.AddAt(this.list,e,i,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,i){return e?(i===void 0&&(i=function(l,n){return l[e]-n[e]}),s(this.list,i),this):this},getByName:function(e){return u.GetFirst(this.list,"name",e)},getRandom:function(e,i){return u.GetRandom(this.list,e,i)},getFirst:function(e,i,l,n){return u.GetFirst(this.list,e,i,l,n)},getAll:function(e,i,l,n){return u.GetAll(this.list,e,i,l,n)},count:function(e,i){return u.CountAllMatching(this.list,e,i)},swap:function(e,i){u.Swap(this.list,e,i)},moveTo:function(e,i){return u.MoveTo(this.list,e,i)},moveAbove:function(e,i){return u.MoveAbove(this.list,e,i)},moveBelow:function(e,i){return u.MoveBelow(this.list,e,i)},remove:function(e,i){return i?u.Remove(this.list,e):u.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,i){return i?u.RemoveAt(this.list,e):u.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,i,l){return l?u.RemoveBetween(this.list,e,i):u.RemoveBetween(this.list,e,i,this.removeCallback,this)},removeAll:function(e){for(var i=this.list.length;i--;)this.remove(this.list[i],e);return this},bringToTop:function(e){return u.BringToTop(this.list,e)},sendToBack:function(e){return u.SendToBack(this.list,e)},moveUp:function(e){return u.MoveUp(this.list,e),e},moveDown:function(e){return u.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return u.Shuffle(this.list),this},replace:function(e,i){return u.Replace(this.list,e,i)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,i,l,n){return u.SetAll(this.list,e,i,l,n),this},each:function(e,i){for(var l=[null],n=2;n<arguments.length;n++)l.push(arguments[n]);for(n=0;n<this.list.length;n++)l[0]=this.list[n],e.apply(i,l)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});v.exports=r},33885:(v,y,t)=>{var u=t(56694),c=new u({initialize:function(s){if(this.entries={},this.size=0,Array.isArray(s))for(var r=0;r<s.length;r++)this.set(s[r][0],s[r][1])},set:function(a,s){return this.has(a)||this.size++,this.entries[a]=s,this},get:function(a){if(this.has(a))return this.entries[a]},getArray:function(){var a=[],s=this.entries;for(var r in s)a.push(s[r]);return a},has:function(a){return this.entries.hasOwnProperty(a)},delete:function(a){return this.has(a)&&(delete this.entries[a],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(a){delete this.entries[a]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var a=[],s=this.entries;for(var r in s)a.push(s[r]);return a},dump:function(){var a=this.entries;console.group("Map");for(var s in a)console.log(s,a[s]);console.groupEnd()},each:function(a){var s=this.entries;for(var r in s)if(a(r,s[r])===!1)break;return this},contains:function(a){var s=this.entries;for(var r in s)if(s[r]===a)return!0;return!1},merge:function(a,s){s===void 0&&(s=!1);var r=this.entries,e=a.entries;for(var i in e)r.hasOwnProperty(i)&&s?r[i]=e[i]:this.set(i,e[i]);return this}});v.exports=c},74623:(v,y,t)=>{var u=t(56694),c=t(6659),a=t(36716),s=new u({Extends:c,initialize:function(){c.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(r){return this._active.indexOf(r)>-1},isPending:function(r){return this._toProcess>0&&this._pending.indexOf(r)>-1},isDestroying:function(r){return this._destroy.indexOf(r)>-1},add:function(r){return this.checkQueue&&this.isActive()&&!this.isDestroying()||this.isPending()||(this._pending.push(r),this._toProcess++),r},remove:function(r){if(this.isPending(r)){var e=this._pending,i=e.indexOf(r);i!==-1&&e.splice(i,1)}else this.isActive(r)&&(this._destroy.push(r),this._toProcess++);return r},removeAll:function(){for(var r=this._active,e=this._destroy,i=r.length;i--;)e.push(r[i]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var r=this._destroy,e=this._active,i,l;for(i=0;i<r.length;i++){l=r[i];var n=e.indexOf(l);n!==-1&&(e.splice(n,1),this.emit(a.PROCESS_QUEUE_REMOVE,l))}for(r.length=0,r=this._pending,i=0;i<r.length;i++)l=r[i],(!this.checkQueue||this.checkQueue&&e.indexOf(l)===-1)&&(e.push(l),this.emit(a.PROCESS_QUEUE_ADD,l));return r.length=0,this._toProcess=0,e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});v.exports=s},68687:(v,y,t)=>{var u=t(53466);function c(T){var C=[".left",".top",".right",".bottom"];if(!(this instanceof c))return new c(T,C);this._maxEntries=Math.max(4,T||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}c.prototype={all:function(){return this._all(this.data,[])},search:function(T){var C=this.data,E=[],P=this.toBBox;if(!p(T,C))return E;for(var M=[],L,R,w,D;C;){for(L=0,R=C.children.length;L<R;L++)w=C.children[L],D=C.leaf?P(w):w,p(T,D)&&(C.leaf?E.push(w):d(T,D)?this._all(w,E):M.push(w));C=M.pop()}return E},collides:function(T){var C=this.data,E=this.toBBox;if(!p(T,C))return!1;for(var P=[],M,L,R,w;C;){for(M=0,L=C.children.length;M<L;M++)if(R=C.children[M],w=C.leaf?E(R):R,p(T,w)){if(C.leaf||d(T,w))return!0;P.push(R)}C=P.pop()}return!1},load:function(T){if(!(T&&T.length))return this;if(T.length<this._minEntries){for(var C=0,E=T.length;C<E;C++)this.insert(T[C]);return this}var P=this._build(T.slice(),0,T.length-1,0);if(!this.data.children.length)this.data=P;else if(this.data.height===P.height)this._splitRoot(this.data,P);else{if(this.data.height<P.height){var M=this.data;this.data=P,P=M}this._insert(P,this.data.height-P.height-1,!0)}return this},insert:function(T){return T&&this._insert(T,this.data.height-1),this},clear:function(){return this.data=x([]),this},remove:function(T,C){if(!T)return this;for(var E=this.data,P=this.toBBox(T),M=[],L=[],R,w,D,B;E||M.length;){if(E||(E=M.pop(),w=M[M.length-1],R=L.pop(),B=!0),E.leaf&&(D=a(T,E.children,C),D!==-1))return E.children.splice(D,1),M.push(E),this._condense(M),this;!B&&!E.leaf&&d(E,P)?(M.push(E),L.push(R),R=0,w=E,E=E.children[0]):w?(R++,E=w.children[R],B=!1):E=null}return this},toBBox:function(T){return T},compareMinX:i,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(T){return this.data=T,this},_all:function(T,C){for(var E=[];T;)T.leaf?C.push.apply(C,T.children):E.push.apply(E,T.children),T=E.pop();return C},_build:function(T,C,E,P){var M=E-C+1,L=this._maxEntries,R;if(M<=L)return R=x(T.slice(C,E+1)),s(R,this.toBBox),R;P||(P=Math.ceil(Math.log(M)/Math.log(L)),L=Math.ceil(M/Math.pow(L,P-1))),R=x([]),R.leaf=!1,R.height=P;var w=Math.ceil(M/L),D=w*Math.ceil(Math.sqrt(L)),B,z,V,Y;for(S(T,C,E,D,this.compareMinX),B=C;B<=E;B+=D)for(V=Math.min(B+D-1,E),S(T,B,V,w,this.compareMinY),z=B;z<=V;z+=w)Y=Math.min(z+w-1,V),R.children.push(this._build(T,z,Y,P-1));return s(R,this.toBBox),R},_chooseSubtree:function(T,C,E,P){for(var M,L,R,w,D,B,z,V;P.push(C),!(C.leaf||P.length-1===E);){for(z=V=1/0,M=0,L=C.children.length;M<L;M++)R=C.children[M],D=n(R),B=f(T,R)-D,B<V?(V=B,z=D<z?D:z,w=R):B===V&&D<z&&(z=D,w=R);C=w||C.children[0]}return C},_insert:function(T,C,E){var P=this.toBBox,M=E?T:P(T),L=[],R=this._chooseSubtree(M,this.data,C,L);for(R.children.push(T),e(R,M);C>=0&&L[C].children.length>this._maxEntries;)this._split(L,C),C--;this._adjustParentBBoxes(M,L,C)},_split:function(T,C){var E=T[C],P=E.children.length,M=this._minEntries;this._chooseSplitAxis(E,M,P);var L=this._chooseSplitIndex(E,M,P),R=x(E.children.splice(L,E.children.length-L));R.height=E.height,R.leaf=E.leaf,s(E,this.toBBox),s(R,this.toBBox),C?T[C-1].children.push(R):this._splitRoot(E,R)},_splitRoot:function(T,C){this.data=x([T,C]),this.data.height=T.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(T,C,E){var P,M,L,R,w,D,B,z;for(D=B=1/0,P=C;P<=E-C;P++)M=r(T,0,P,this.toBBox),L=r(T,P,E,this.toBBox),R=h(M,L),w=n(M)+n(L),R<D?(D=R,z=P,B=w<B?w:B):R===D&&w<B&&(B=w,z=P);return z},_chooseSplitAxis:function(T,C,E){var P=T.leaf?this.compareMinX:i,M=T.leaf?this.compareMinY:l,L=this._allDistMargin(T,C,E,P),R=this._allDistMargin(T,C,E,M);L<R&&T.children.sort(P)},_allDistMargin:function(T,C,E,P){T.children.sort(P);var M=this.toBBox,L=r(T,0,C,M),R=r(T,E-C,E,M),w=o(L)+o(R),D,B;for(D=C;D<E-C;D++)B=T.children[D],e(L,T.leaf?M(B):B),w+=o(L);for(D=E-C-1;D>=C;D--)B=T.children[D],e(R,T.leaf?M(B):B),w+=o(R);return w},_adjustParentBBoxes:function(T,C,E){for(var P=E;P>=0;P--)e(C[P],T)},_condense:function(T){for(var C=T.length-1,E;C>=0;C--)T[C].children.length===0?C>0?(E=T[C-1].children,E.splice(E.indexOf(T[C]),1)):this.clear():s(T[C],this.toBBox)},compareMinX:function(T,C){return T.left-C.left},compareMinY:function(T,C){return T.top-C.top},toBBox:function(T){return{minX:T.left,minY:T.top,maxX:T.right,maxY:T.bottom}}};function a(T,C,E){if(!E)return C.indexOf(T);for(var P=0;P<C.length;P++)if(E(T,C[P]))return P;return-1}function s(T,C){r(T,0,T.children.length,C,T)}function r(T,C,E,P,M){M||(M=x(null)),M.minX=1/0,M.minY=1/0,M.maxX=-1/0,M.maxY=-1/0;for(var L=C,R;L<E;L++)R=T.children[L],e(M,T.leaf?P(R):R);return M}function e(T,C){return T.minX=Math.min(T.minX,C.minX),T.minY=Math.min(T.minY,C.minY),T.maxX=Math.max(T.maxX,C.maxX),T.maxY=Math.max(T.maxY,C.maxY),T}function i(T,C){return T.minX-C.minX}function l(T,C){return T.minY-C.minY}function n(T){return(T.maxX-T.minX)*(T.maxY-T.minY)}function o(T){return T.maxX-T.minX+(T.maxY-T.minY)}function f(T,C){return(Math.max(C.maxX,T.maxX)-Math.min(C.minX,T.minX))*(Math.max(C.maxY,T.maxY)-Math.min(C.minY,T.minY))}function h(T,C){var E=Math.max(T.minX,C.minX),P=Math.max(T.minY,C.minY),M=Math.min(T.maxX,C.maxX),L=Math.min(T.maxY,C.maxY);return Math.max(0,M-E)*Math.max(0,L-P)}function d(T,C){return T.minX<=C.minX&&T.minY<=C.minY&&C.maxX<=T.maxX&&C.maxY<=T.maxY}function p(T,C){return C.minX<=T.maxX&&C.minY<=T.maxY&&C.maxX>=T.minX&&C.maxY>=T.minY}function x(T){return{children:T,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function S(T,C,E,P,M){for(var L=[C,E],R;L.length;)E=L.pop(),C=L.pop(),!(E-C<=P)&&(R=C+Math.ceil((E-C)/P/2)*P,u(T,R,C,E,M),L.push(C,R,R,E))}v.exports=c},58403:(v,y,t)=>{var u=t(56694),c=new u({initialize:function(s){if(this.entries=[],Array.isArray(s))for(var r=0;r<s.length;r++)this.set(s[r])},set:function(a){return this.entries.indexOf(a)===-1&&this.entries.push(a),this},get:function(a,s){for(var r=0;r<this.entries.length;r++){var e=this.entries[r];if(e[a]===s)return e}},getArray:function(){return this.entries.slice(0)},delete:function(a){var s=this.entries.indexOf(a);return s>-1&&this.entries.splice(s,1),this},dump:function(){console.group("Set");for(var a=0;a<this.entries.length;a++){var s=this.entries[a];console.log(s)}console.groupEnd()},each:function(a,s){var r,e=this.entries.slice(),i=e.length;if(s)for(r=0;r<i&&a.call(s,e[r],r)!==!1;r++);else for(r=0;r<i&&a(e[r],r)!==!1;r++);return this},iterate:function(a,s){var r,e=this.entries.length;if(s)for(r=0;r<e&&a.call(s,this.entries[r],r)!==!1;r++);else for(r=0;r<e&&a(this.entries[r],r)!==!1;r++);return this},iterateLocal:function(a){var s,r=[];for(s=1;s<arguments.length;s++)r.push(arguments[s]);var e=this.entries.length;for(s=0;s<e;s++){var i=this.entries[s];i[a].apply(i,r)}return this},clear:function(){return this.entries.length=0,this},contains:function(a){return this.entries.indexOf(a)>-1},union:function(a){var s=new c;return a.entries.forEach(function(r){s.set(r)}),this.entries.forEach(function(r){s.set(r)}),s},intersect:function(a){var s=new c;return this.entries.forEach(function(r){a.contains(r)&&s.set(r)}),s},difference:function(a){var s=new c;return this.entries.forEach(function(r){a.contains(r)||s.set(r)}),s},size:{get:function(){return this.entries.length},set:function(a){return a<this.entries.length?this.entries.length=a:this.entries.length}}});v.exports=c},90881:(v,y,t)=>{var u=t(82897),c=t(56694),a=t(84314),s=t(93736),r=new c({initialize:function(i,l,n,o){i===void 0&&(i=0),l===void 0&&(l=i),n===void 0&&(n=0),o===void 0&&(o=null),this._width=i,this._height=l,this._parent=o,this.aspectMode=n,this.aspectRatio=l===0?1:i/l,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new s},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,i){return e===void 0&&(e=0),i===void 0&&(i=e),this.snapTo.set(e,i),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,i){return e===void 0&&(e=0),i===void 0&&(i=e),this.minWidth=u(e,0,this.maxWidth),this.minHeight=u(i,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,i){return e===void 0&&(e=Number.MAX_VALUE),i===void 0&&(i=e),this.maxWidth=u(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=u(i,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,i){switch(e===void 0&&(e=0),i===void 0&&(i=e),this.aspectMode){case r.NONE:this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(a(i,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case r.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case r.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(a(i,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case r.FIT:this.constrain(e,i,!0);break;case r.ENVELOP:this.constrain(e,i,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,i){return this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(a(i,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,i){return i===void 0&&(i=!0),e=u(e,this.minWidth,this.maxWidth),i&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,i){return i===void 0&&(i=!0),e=u(e,this.minHeight,this.maxHeight),i&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,i,l){e===void 0&&(e=0),i===void 0&&(i=e),l===void 0&&(l=!0),e=this.getNewWidth(e),i=this.getNewHeight(i);var n=this.snapTo,o=i===0?1:e/i;return l&&this.aspectRatio>o||!l&&this.aspectRatio<o?(e=a(e,n.x),i=e/this.aspectRatio,n.y>0&&(i=a(i,n.y),e=i*this.aspectRatio)):(l&&this.aspectRatio<o||!l&&this.aspectRatio>o)&&(i=a(i,n.y),e=i*this.aspectRatio,n.x>0&&(e=a(e,n.x),i=e*(1/this.aspectRatio))),this._width=e,this._height=i,this},fitTo:function(e,i){return this.constrain(e,i,!0)},envelop:function(e,i){return this.constrain(e,i,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});r.NONE=0,r.WIDTH_CONTROLS_HEIGHT=1,r.HEIGHT_CONTROLS_WIDTH=2,r.FIT=3,r.ENVELOP=4,v.exports=r},94160:v=>{v.exports="add"},95393:v=>{v.exports="remove"},36716:(v,y,t)=>{v.exports={PROCESS_QUEUE_ADD:t(94160),PROCESS_QUEUE_REMOVE:t(95393)}},20010:(v,y,t)=>{v.exports={Events:t(36716),List:t(71207),Map:t(33885),ProcessQueue:t(74623),RTree:t(68687),Set:t(58403),Size:t(90881)}},17487:(v,y,t)=>{var u=t(56694),c=t(82897),a=t(27119),s=t(86459),r=t(28621),e=t(31673),i=new u({Extends:e,initialize:function(n,o,f,h,d){e.call(this,n,o,f,h,d),this.add("__BASE",0,0,0,h,d),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=h,this.height=d,this.imageData=this.context.getImageData(0,0,h,d),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===s.WEBGL&&this.refresh(),this},draw:function(l,n,o,f){return f===void 0&&(f=!0),this.context.drawImage(o,l,n),f&&this.update(),this},drawFrame:function(l,n,o,f,h){o===void 0&&(o=0),f===void 0&&(f=0),h===void 0&&(h=!0);var d=this.manager.getFrame(l,n);if(d){var p=d.canvasData,x=d.cutWidth,S=d.cutHeight,T=d.source.resolution;this.context.drawImage(d.source.image,p.x,p.y,x,S,o,f,x/T,S/T),h&&this.update()}return this},setPixel:function(l,n,o,f,h,d){d===void 0&&(d=255),l=Math.abs(Math.floor(l)),n=Math.abs(Math.floor(n));var p=this.getIndex(l,n);if(p>-1){var x=this.context.getImageData(l,n,1,1);x.data[0]=o,x.data[1]=f,x.data[2]=h,x.data[3]=d,this.context.putImageData(x,l,n)}return this},putData:function(l,n,o,f,h,d,p){return f===void 0&&(f=0),h===void 0&&(h=0),d===void 0&&(d=l.width),p===void 0&&(p=l.height),this.context.putImageData(l,n,o,f,h,d,p),this},getData:function(l,n,o,f){l=c(Math.floor(l),0,this.width-1),n=c(Math.floor(n),0,this.height-1),o=c(o,1,this.width-l),f=c(f,1,this.height-n);var h=this.context.getImageData(l,n,o,f);return h},getPixel:function(l,n,o){o||(o=new a);var f=this.getIndex(l,n);if(f>-1){var h=this.data,d=h[f+0],p=h[f+1],x=h[f+2],S=h[f+3];o.setTo(d,p,x,S)}return o},getPixels:function(l,n,o,f){l===void 0&&(l=0),n===void 0&&(n=0),o===void 0&&(o=this.width),f===void 0&&(f=o),l=Math.abs(Math.round(l)),n=Math.abs(Math.round(n));for(var h=c(l,0,this.width),d=c(l+o,0,this.width),p=c(n,0,this.height),x=c(n+f,0,this.height),S=new a,T=[],C=p;C<x;C++){for(var E=[],P=h;P<d;P++)S=this.getPixel(P,C,S),E.push({x:P,y:C,color:S.color,alpha:S.alphaGL});T.push(E)}return T},getIndex:function(l,n){return l=Math.abs(Math.round(l)),n=Math.abs(Math.round(n)),l<this.width&&n<this.height?(l+n*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(l,n,o,f,h){return l===void 0&&(l=0),n===void 0&&(n=0),o===void 0&&(o=this.width),f===void 0&&(f=this.height),h===void 0&&(h=!0),this.context.clearRect(l,n,o,f),h&&this.update(),this},setSize:function(l,n){return n===void 0&&(n=l),(l!==this.width||n!==this.height)&&(this.canvas.width=l,this.canvas.height=n,this._source.width=l,this._source.height=n,this._source.isPowerOf2=r(l,n),this.frames.__BASE.setSize(l,n,0,0),this.width=l,this.height=n,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});v.exports=i},845:(v,y,t)=>{var u=t(95723),c=t(51052),a=t(61068),s=t(56694),r=t(86459),e=t(82047),i=t(72632),l=t(65641),n=t(37410),o=t(31673),f=t(75512),h=new s({Extends:o,initialize:function(p,x,S,T){S===void 0&&(S=256),T===void 0&&(T=256),this.type="DynamicTexture";var C=p.game.renderer,E=C&&C.type===r.CANVAS,P=E?a.create2D(this,S,T):[this];o.call(this,p,x,P,S,T),this.add("__BASE",0,0,0,S,T),this.renderer=C,this.isDrawing=!1,this.canvas=E?P:null,this.context=E?P.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new c(0,0,S,T).setScene(p.game.scene.systemScene,!1),this.renderTarget=E?null:new n(C,S,T,1,0,!1,!0,!0,!1),this.pipeline=E?null:C.pipelines.get(l.SINGLE_PIPELINE),this.setSize(S,T)},setSize:function(d,p){p===void 0&&(p=d);var x=this.get(),S=x.source;if(d!==this.width||p!==this.height){this.canvas&&(this.canvas.width=d,this.canvas.height=p);var T=this.renderTarget;T&&(T.resize(d,p),x.glTexture=T.texture,S.isRenderTexture=!0,S.isGLTexture=!0,S.glTexture=T.texture,S.glTexture.flipY=!0),this.camera.setSize(d,p),S.width=d,S.height=p,x.setSize(d,p),this.width=d,this.height=p}else{var C=this.getSourceImage();x.cutX+d>C.width&&(d=C.width-x.cutX),x.cutY+p>C.height&&(p=C.height-x.cutY),x.setSize(d,p,x.cutX,x.cutY)}return this},setIsSpriteTexture:function(d){return this.isSpriteTexture=d,this},fill:function(d,p,x,S,T,C){var E=this.camera,P=this.renderer;p===void 0&&(p=1),x===void 0&&(x=0),S===void 0&&(S=0),T===void 0&&(T=this.width),C===void 0&&(C=this.height);var M=d>>16&255,L=d>>8&255,R=d&255,w=this.renderTarget;if(E.preRender(),w){w.bind(!0);var D=this.pipeline.manager.set(this.pipeline),B=P.width/w.width,z=P.height/w.height;D.drawFillRect(x*B,S*z,T*B,C*z,f.getTintFromFloats(R/255,L/255,M/255,1),p),w.unbind(!0)}else{var V=this.context;P.setContext(V),V.globalCompositeOperation="source-over",V.fillStyle="rgba("+M+","+L+","+R+","+p+")",V.fillRect(x,S,T,C),P.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var d=this.context,p=this.renderTarget;p?p.clear():d&&(d.save(),d.setTransform(1,0,0,1,0,0),d.clearRect(0,0,this.width,this.height),d.restore()),this.dirty=!1}return this},stamp:function(d,p,x,S,T){x===void 0&&(x=0),S===void 0&&(S=0);var C=i(T,"alpha",1),E=i(T,"tint",16777215),P=i(T,"angle",0),M=i(T,"rotation",0),L=i(T,"scale",1),R=i(T,"scaleX",L),w=i(T,"scaleY",L),D=i(T,"originX",.5),B=i(T,"originY",.5),z=i(T,"blendMode",0),V=i(T,"erase",!1),Y=i(T,"skipBatch",!1),H=this.manager.resetStamp(C,E);return H.setAngle(0),P!==0?H.setAngle(P):M!==0&&H.setRotation(M),H.setScale(R,w),H.setTexture(d,p),H.setOrigin(D,B),H.setBlendMode(z),V&&(this._eraseMode=!0),Y?this.batchGameObject(H,x,S):this.draw(H,x,S),V&&(this._eraseMode=!1),this},erase:function(d,p,x){return this._eraseMode=!0,this.draw(d,p,x),this._eraseMode=!1,this},draw:function(d,p,x,S,T){return this.beginDraw(),this.batchDraw(d,p,x,S,T),this.endDraw(),this},drawFrame:function(d,p,x,S,T,C){return this.beginDraw(),this.batchDrawFrame(d,p,x,S,T,C),this.endDraw(),this},repeat:function(d,p,x,S,T,C,E,P,M){if(x===void 0&&(x=0),S===void 0&&(S=0),T===void 0&&(T=this.width),C===void 0&&(C=this.height),E===void 0&&(E=1),P===void 0&&(P=16777215),M===void 0&&(M=!1),d instanceof e?p=d:p=this.manager.getFrame(d,p),!p)return this;var L=this.manager.resetStamp(E,P);L.setFrame(p),L.setOrigin(0);var R=p.width,w=p.height;T=Math.floor(T),C=Math.floor(C);var D=Math.ceil(T/R),B=Math.ceil(C/w),z=D*R-T,V=B*w-C;z>0&&(z=R-z),V>0&&(V=w-V),x<0&&(D+=Math.ceil(Math.abs(x)/R)),S<0&&(B+=Math.ceil(Math.abs(S)/w));var Y=x,H=S,I=!1,U=this.manager.stampCrop.setTo(0,0,R,w);M||this.beginDraw();for(var O=0;O<B;O++){if(H+w<0){H+=w;continue}for(var N=0;N<D;N++){if(I=!1,Y+R<0){Y+=R;continue}else Y<0&&(I=!0,U.width=R+Y,U.x=R-U.width);H<0&&(I=!0,U.height=w+H,U.y=w-U.height),z>0&&N===D-1&&(I=!0,U.width=z),V>0&&O===B-1&&(I=!0,U.height=V),I&&L.setCrop(U),this.batchGameObject(L,Y,H),L.isCropped=!1,U.setTo(0,0,R,w),Y+=R}Y=x,H+=w}return M||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var d=this.camera,p=this.renderer,x=this.renderTarget;d.preRender(),x?p.beginCapture(x.width,x.height):p.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(d,p,x,S,T){return Array.isArray(d)||(d=[d]),this.batchList(d,p,x,S,T),this},batchDrawFrame:function(d,p,x,S,T,C){x===void 0&&(x=0),S===void 0&&(S=0),T===void 0&&(T=1),C===void 0&&(C=16777215);var E=this.manager.getFrame(d,p);return E&&(this.renderTarget?this.pipeline.batchTextureFrame(E,x,S,C,T,this.camera.matrix,null):this.batchTextureFrame(E,x,S,T,C)),this},endDraw:function(d){if(d===void 0&&(d=this._eraseMode),this.isDrawing){var p=this.renderer,x=this.renderTarget;if(x){var S=p.endCapture(),T=p.pipelines.setUtility();T.blitFrame(S,x,1,!1,!1,d,this.isSpriteTexture),p.resetScissor(),p.resetViewport()}else p.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(d,p,x,S,T){var C=d.length;if(C!==0)for(var E=0;E<C;E++){var P=d[E];!P||P===this||(P.renderWebGL||P.renderCanvas?this.batchGameObject(P,p,x):P.isParent||P.list?this.batchGroup(P.getChildren(),p,x):typeof P=="string"?this.batchTextureFrameKey(P,null,p,x,S,T):P instanceof e?this.batchTextureFrame(P,p,x,S,T):Array.isArray(P)&&this.batchList(P,p,x,S,T))}},batchGroup:function(d,p,x){p===void 0&&(p=0),x===void 0&&(x=0);for(var S=0;S<d.length;S++){var T=d[S];T.willRender(this.camera)&&this.batchGameObject(T,T.x+p,T.y+x)}},batchGameObject:function(d,p,x){p===void 0&&(p=d.x),x===void 0&&(x=d.y);var S=d.x,T=d.y,C=this.camera,E=this.renderer,P=this._eraseMode,M=d.mask;if(d.setPosition(p,x),this.canvas){if(P){var L=d.blendMode;d.blendMode=u.ERASE}M&&M.preRenderCanvas(E,d,C),d.renderCanvas(E,d,C,null),M&&M.postRenderCanvas(E,d,C),P&&(d.blendMode=L)}else E&&(M&&M.preRenderWebGL(E,d,C),P||E.setBlendMode(d.blendMode),d.renderWebGL(E,d,C),M&&M.postRenderWebGL(E,C,this.renderTarget));d.setPosition(S,T)},batchTextureFrameKey:function(d,p,x,S,T,C){var E=this.manager.getFrame(d,p);E&&this.batchTextureFrame(E,x,S,T,C)},batchTextureFrame:function(d,p,x,S,T){p===void 0&&(p=0),x===void 0&&(x=0),S===void 0&&(S=1),T===void 0&&(T=16777215);var C=this.camera.matrix,E=this.renderTarget;if(E)this.pipeline.batchTextureFrame(d,p,x,T,S,C,null);else{var P=this.context,M=d.canvasData,L=d.source.image;P.save(),P.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",P.globalAlpha=S,C.setToContext(P),M.width>0&&M.height>0&&P.drawImage(L,M.x,M.y,M.width,M.height,p,x,M.width,M.height),P.restore()}},snapshotArea:function(d,p,x,S,T,C,E){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,T,!1,d,p,x,S,C,E):this.renderer.snapshotCanvas(this.canvas,T,!1,d,p,x,S,C,E),this},snapshot:function(d,p,x){return this.snapshotArea(0,0,this.width,this.height,d,p,x)},snapshotPixel:function(d,p,x){return this.snapshotArea(d,p,1,1,x,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(d,p,x,S){var T=this.manager.resetStamp();T.setTexture(this),T.setOrigin(0),T.renderWebGL(d,T,x,S)},renderCanvas:function(){},preDestroy:function(){a.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.stamp.destroy(),this.canvas=null,this.context=null,this.renderer=null,this.scene=null}});v.exports=h},82047:(v,y,t)=>{var u=t(56694),c=t(82897),a=t(98611),s=new u({initialize:function(e,i,l,n,o,f,h){this.texture=e,this.name=i,this.source=e.source[l],this.sourceIndex=l,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(f,h,n,o)},setSize:function(r,e,i,l){i===void 0&&(i=0),l===void 0&&(l=0),this.cutX=i,this.cutY=l,this.cutWidth=r,this.cutHeight=e,this.width=r,this.height=e,this.halfWidth=Math.floor(r*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(r/2),this.centerY=Math.floor(e/2);var n=this.data,o=n.cut;o.x=i,o.y=l,o.w=r,o.h=e,o.r=i+r,o.b=l+e,n.sourceSize.w=r,n.sourceSize.h=e,n.spriteSourceSize.w=r,n.spriteSourceSize.h=e,n.radius=.5*Math.sqrt(r*r+e*e);var f=n.drawImage;return f.x=i,f.y=l,f.width=r,f.height=e,this.updateUVs()},setTrim:function(r,e,i,l,n,o){var f=this.data,h=f.spriteSourceSize;return f.trim=!0,f.sourceSize.w=r,f.sourceSize.h=e,h.x=i,h.y=l,h.w=n,h.h=o,h.r=i+n,h.b=l+o,this.x=i,this.y=l,this.width=n,this.height=o,this.halfWidth=n*.5,this.halfHeight=o*.5,this.centerX=Math.floor(n/2),this.centerY=Math.floor(o/2),this.updateUVs()},setCropUVs:function(r,e,i,l,n,o,f){var h=this.cutX,d=this.cutY,p=this.cutWidth,x=this.cutHeight,S=this.realWidth,T=this.realHeight;e=c(e,0,S),i=c(i,0,T),l=c(l,0,S-e),n=c(n,0,T-i);var C=h+e,E=d+i,P=l,M=n,L=this.data;if(L.trim){var R=L.spriteSourceSize;l=c(l,0,p-e),n=c(n,0,x-i);var w=e+l,D=i+n,B=!(R.r<e||R.b<i||R.x>w||R.y>D);if(B){var z=Math.max(R.x,e),V=Math.max(R.y,i),Y=Math.min(R.r,w)-z,H=Math.min(R.b,D)-V;P=Y,M=H,o?C=h+(p-(z-R.x)-Y):C=h+(z-R.x),f?E=d+(x-(V-R.y)-H):E=d+(V-R.y),e=z,i=V,l=Y,n=H}else C=0,E=0,P=0,M=0}else o&&(C=h+(p-e-l)),f&&(E=d+(x-i-n));var I=this.source.width,U=this.source.height;return r.u0=Math.max(0,C/I),r.v0=Math.max(0,E/U),r.u1=Math.min(1,(C+P)/I),r.v1=Math.min(1,(E+M)/U),r.x=e,r.y=i,r.cx=C,r.cy=E,r.cw=P,r.ch=M,r.width=l,r.height=n,r.flipX=o,r.flipY=f,r},updateCropUVs:function(r,e,i){return this.setCropUVs(r,r.x,r.y,r.width,r.height,e,i)},setUVs:function(r,e,i,l,n,o){var f=this.data.drawImage;return f.width=r,f.height=e,this.u0=i,this.v0=l,this.u1=n,this.v1=o,this},updateUVs:function(){var r=this.cutX,e=this.cutY,i=this.cutWidth,l=this.cutHeight,n=this.data.drawImage;n.width=i,n.height=l;var o=this.source.width,f=this.source.height;return this.u0=r/o,this.v0=e/f,this.u1=(r+i)/o,this.v1=(e+l)/f,this},updateUVsInverted:function(){var r=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/r,this.v0=this.cutY/e,this.u1=this.cutX/r,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var r=new s(this.texture,this.name,this.sourceIndex);return r.cutX=this.cutX,r.cutY=this.cutY,r.cutWidth=this.cutWidth,r.cutHeight=this.cutHeight,r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r.halfWidth=this.halfWidth,r.halfHeight=this.halfHeight,r.centerX=this.centerX,r.centerY=this.centerY,r.rotated=this.rotated,r.data=a(!0,r.data,this.data),r.updateUVs(),r},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});v.exports=s},31673:(v,y,t)=>{var u=t(56694),c=t(82047),a=t(32547),s='Texture "%s" has no frame "%s"',r=new u({initialize:function(i,l,n,o,f){Array.isArray(n)||(n=[n]),this.manager=i,this.key=l,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var h=0;h<n.length;h++)this.source.push(new a(this,n[h],o,f))},add:function(e,i,l,n,o,f){if(this.has(e))return null;var h=new c(this,e,i,l,n,o,f);return this.frames[e]=h,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,h},remove:function(e){if(this.has(e)){var i=this.get(e);return i.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var i=this.frames[e];return i||(console.warn(s,this.key,e),i=this.frames[this.firstFrame]),i},getTextureSourceIndex:function(e){for(var i=0;i<this.source.length;i++)if(this.source[i]===e)return i;return-1},getFramesFromTextureSource:function(e,i){i===void 0&&(i=!1);var l=[];for(var n in this.frames)if(!(n==="__BASE"&&!i)){var o=this.frames[n];o.sourceIndex===e&&l.push(o)}return l},getFrameNames:function(e){e===void 0&&(e=!1);var i=Object.keys(this.frames);if(!e){var l=i.indexOf("__BASE");l!==-1&&i.splice(l,1)}return i},getSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var i=this.frames[e];return i?i.source.image:(console.warn(s,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var i=this.frames[e],l;return i?l=i.sourceIndex:(console.warn(s,this.key,e),l=this.frames.__BASE.sourceIndex),this.dataSource[l].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var l=this.source[i];this.dataSource.push(new a(this,e[i],l.width,l.height))}},setFilter:function(e){var i;for(i=0;i<this.source.length;i++)this.source[i].setFilter(e);for(i=0;i<this.dataSource.length;i++)this.dataSource[i].setFilter(e)},destroy:function(){var e,i=this.source,l=this.dataSource;for(e=0;e<i.length;e++)i[e]&&i[e].destroy();for(e=0;e<l.length;e++)l[e]&&l[e].destroy();for(var n in this.frames){var o=this.frames[n];o&&o.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});v.exports=r},6237:(v,y,t)=>{var u=t(61068),c=t(17487),a=t(56694),s=t(27119),r=t(86459),e=t(845),i=t(6659),l=t(38203),n=t(82047),o=t(97081),f=t(52780),h=t(10850),d=t(1539),p=t(42911),x=t(69150),S=t(74118),T=t(31673),C=new a({Extends:i,initialize:function(P){i.call(this),this.game=P,this.name="TextureManager",this.list={},this._tempCanvas=u.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new S,this.silentWarnings=!1,P.events.once(o.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(l.LOAD,this.updatePending,this),this.on(l.ERROR,this.updatePending,this);var E=this.game.config;this.addBase64("__DEFAULT",E.defaultImage),this.addBase64("__MISSING",E.missingImage),this.addBase64("__WHITE",E.whiteImage),this.game.events.once(o.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(l.LOAD),this.off(l.ERROR),this.emit(l.READY),this.stamp=new d(this.game.scene.systemScene).setOrigin(0))},checkKey:function(E){return this.exists(E)?(this.silentWarnings||console.error("Texture key already in use: "+E),!1):!0},remove:function(E){if(typeof E=="string")if(this.exists(E))E=this.get(E);else return this.silentWarnings||console.warn("No texture found matching key: "+E),this;return this.list.hasOwnProperty(E.key)&&(E.destroy(),this.emit(l.REMOVE,E.key),this.emit(l.REMOVE_KEY+E.key)),this},removeKey:function(E){return this.list.hasOwnProperty(E)&&delete this.list[E],this},addBase64:function(E,P){if(this.checkKey(E)){var M=this,L=new Image;L.onerror=function(){M.emit(l.ERROR,E)},L.onload=function(){var R=M.create(E,L);x.Image(R,0),M.emit(l.ADD,E,R),M.emit(l.ADD_KEY+E,R),M.emit(l.LOAD,E,R)},L.src=P}return this},getBase64:function(E,P,M,L){M===void 0&&(M="image/png"),L===void 0&&(L=.92);var R="",w=this.getFrame(E,P);if(w&&(w.source.isRenderTexture||w.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(w){var D=w.canvasData,B=u.create2D(this,D.width,D.height),z=B.getContext("2d",{willReadFrequently:!0});D.width>0&&D.height>0&&z.drawImage(w.source.image,D.x,D.y,D.width,D.height,0,0,D.width,D.height),R=B.toDataURL(M,L),u.remove(B)}return R},addImage:function(E,P,M){var L=null;return this.checkKey(E)&&(L=this.create(E,P),x.Image(L,0),M&&L.setDataSource(M),this.emit(l.ADD,E,L),this.emit(l.ADD_KEY+E,L)),L},addGLTexture:function(E,P,M,L){var R=null;return this.checkKey(E)&&(M===void 0&&(M=P.width),L===void 0&&(L=P.height),R=this.create(E,P,M,L),R.add("__BASE",0,0,0,M,L),this.emit(l.ADD,E,R),this.emit(l.ADD_KEY+E,R)),R},addCompressedTexture:function(E,P,M){var L=null;if(this.checkKey(E)){if(L=this.create(E,P),L.add("__BASE",0,0,0,P.width,P.height),M)if(Array.isArray(M))for(var R=0;R<M.length;R++)x.JSONHash(L,R,M[R]);else x.JSONHash(L,0,M);this.emit(l.ADD,E,L),this.emit(l.ADD_KEY+E,L)}return L},addRenderTexture:function(E,P){var M=null;return this.checkKey(E)&&(M=this.create(E,P),M.add("__BASE",0,0,0,P.width,P.height),this.emit(l.ADD,E,M),this.emit(l.ADD_KEY+E,M)),M},generate:function(E,P){if(this.checkKey(E)){var M=u.create(this,1,1);return P.canvas=M,f(P),this.addCanvas(E,M)}else return null},createCanvas:function(E,P,M){if(P===void 0&&(P=256),M===void 0&&(M=256),this.checkKey(E)){var L=u.create(this,P,M,r.CANVAS,!0);return this.addCanvas(E,L)}return null},addCanvas:function(E,P,M){M===void 0&&(M=!1);var L=null;return M?L=new c(this,E,P,P.width,P.height):this.checkKey(E)&&(L=new c(this,E,P,P.width,P.height),this.list[E]=L,this.emit(l.ADD,E,L),this.emit(l.ADD_KEY+E,L)),L},addDynamicTexture:function(E,P,M){var L=null;return typeof E=="string"&&!this.exists(E)?L=new e(this,E,P,M):(L=E,E=L.key),this.checkKey(E)?(this.list[E]=L,this.emit(l.ADD,E,L),this.emit(l.ADD_KEY+E,L)):L=null,L},addAtlas:function(E,P,M,L){return Array.isArray(M.textures)||Array.isArray(M.frames)?this.addAtlasJSONArray(E,P,M,L):this.addAtlasJSONHash(E,P,M,L)},addAtlasJSONArray:function(E,P,M,L){var R=null;if(P instanceof T?(E=R.key,R=P):this.checkKey(E)&&(R=this.create(E,P)),R){if(Array.isArray(M))for(var w=M.length===1,D=0;D<R.source.length;D++){var B=w?M[0]:M[D];x.JSONArray(R,D,B)}else x.JSONArray(R,0,M);L&&R.setDataSource(L),this.emit(l.ADD,E,R),this.emit(l.ADD_KEY+E,R)}return R},addAtlasJSONHash:function(E,P,M,L){var R=null;if(P instanceof T?(E=R.key,R=P):this.checkKey(E)&&(R=this.create(E,P)),R){if(Array.isArray(M))for(var w=0;w<M.length;w++)x.JSONHash(R,w,M[w]);else x.JSONHash(R,0,M);L&&R.setDataSource(L),this.emit(l.ADD,E,R),this.emit(l.ADD_KEY+E,R)}return R},addAtlasXML:function(E,P,M,L){var R=null;return P instanceof T?(E=R.key,R=P):this.checkKey(E)&&(R=this.create(E,P)),R&&(x.AtlasXML(R,0,M),L&&R.setDataSource(L),this.emit(l.ADD,E,R),this.emit(l.ADD_KEY+E,R)),R},addUnityAtlas:function(E,P,M,L){var R=null;return P instanceof T?(E=R.key,R=P):this.checkKey(E)&&(R=this.create(E,P)),R&&(x.UnityYAML(R,0,M),L&&R.setDataSource(L),this.emit(l.ADD,E,R),this.emit(l.ADD_KEY+E,R)),R},addSpriteSheet:function(E,P,M,L){var R=null;if(P instanceof T?(E=R.key,R=P):this.checkKey(E)&&(R=this.create(E,P)),R){var w=R.source[0].width,D=R.source[0].height;x.SpriteSheet(R,0,0,0,w,D,M),L&&R.setDataSource(L),this.emit(l.ADD,E,R),this.emit(l.ADD_KEY+E,R)}return R},addSpriteSheetFromAtlas:function(E,P){if(!this.checkKey(E))return null;var M=h(P,"atlas",null),L=h(P,"frame",null);if(!(!M||!L)){var R=this.get(M),w=R.get(L);if(w){var D=this.create(E,w.source.image);return w.trimmed?x.SpriteSheetFromAtlas(D,w,P):x.SpriteSheet(D,0,w.cutX,w.cutY,w.cutWidth,w.cutHeight,P),this.emit(l.ADD,E,D),this.emit(l.ADD_KEY+E,D),D}}},create:function(E,P,M,L){var R=null;return this.checkKey(E)&&(R=new T(this,E,P,M,L),this.list[E]=R),R},exists:function(E){return this.list.hasOwnProperty(E)},get:function(E){return E===void 0&&(E="__DEFAULT"),this.list[E]?this.list[E]:E instanceof T?E:E instanceof n?E.texture:this.list.__MISSING},cloneFrame:function(E,P){if(this.list[E])return this.list[E].get(P).clone()},getFrame:function(E,P){if(this.list[E])return this.list[E].get(P)},parseFrame:function(E){if(E){if(typeof E=="string")return this.getFrame(E);if(Array.isArray(E)&&E.length===2)return this.getFrame(E[0],E[1]);if(p(E))return this.getFrame(E.key,E.frame);if(E instanceof T)return E.get();if(E instanceof n)return E}else return},getTextureKeys:function(){var E=[];for(var P in this.list)P!=="__DEFAULT"&&P!=="__MISSING"&&P!=="__WHITE"&&E.push(P);return E},getPixel:function(E,P,M,L){var R=this.getFrame(M,L);if(R){E-=R.x,P-=R.y;var w=R.data.cut;if(E+=w.x,P+=w.y,E>=w.x&&E<w.r&&P>=w.y&&P<w.b){var D=this._tempContext;D.clearRect(0,0,1,1),D.drawImage(R.source.image,E,P,1,1,0,0,1,1);var B=D.getImageData(0,0,1,1);return new s(B.data[0],B.data[1],B.data[2],B.data[3])}}return null},getPixelAlpha:function(E,P,M,L){var R=this.getFrame(M,L);if(R){E-=R.x,P-=R.y;var w=R.data.cut;if(E+=w.x,P+=w.y,E>=w.x&&E<w.r&&P>=w.y&&P<w.b){var D=this._tempContext;D.clearRect(0,0,1,1),D.drawImage(R.source.image,E,P,1,1,0,0,1,1);var B=D.getImageData(0,0,1,1);return B.data[3]}}return null},setTexture:function(E,P,M){return this.list[P]&&(E.texture=this.list[P],E.frame=E.texture.get(M)),E},renameTexture:function(E,P){var M=this.get(E);return M&&E!==P?(M.key=P,this.list[P]=M,delete this.list[E],!0):!1},each:function(E,P){for(var M=[null],L=1;L<arguments.length;L++)M.push(arguments[L]);for(var R in this.list)M[0]=this.list[R],E.apply(P,M)},resetStamp:function(E,P){E===void 0&&(E=1),P===void 0&&(P=16777215);var M=this.stamp;return M.setCrop(),M.setPosition(0),M.setAngle(0),M.setScale(1),M.setAlpha(E),M.setTint(P),M},destroy:function(){for(var E in this.list)this.list[E].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,u.remove(this._tempCanvas)}});v.exports=C},32547:(v,y,t)=>{var u=t(61068),c=t(56694),a=t(28621),s=t(27394),r=new c({initialize:function(i,l,n,o,f){f===void 0&&(f=!1);var h=i.manager.game;this.renderer=h.renderer,this.texture=i,this.source=l,this.image=l.compressed?null:l,this.compressionAlgorithm=l.compressed?l.format:null,this.resolution=1,this.width=n||l.naturalWidth||l.videoWidth||l.width||0,this.height=o||l.naturalHeight||l.videoHeight||l.height||0,this.scaleMode=s.DEFAULT,this.isCanvas=l instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&l instanceof HTMLVideoElement,this.isRenderTexture=l.type==="RenderTexture"||l.type==="DynamicTexture",this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&l instanceof WebGLTexture,this.isPowerOf2=a(this.width,this.height),this.glTexture=null,this.flipY=f,this.init(h)},init:function(e){var i=this.renderer;if(i){var l=this.source;if(i.gl){var n=this.image,o=this.flipY,f=this.width,h=this.height,d=this.scaleMode;this.isCanvas?this.glTexture=i.createCanvasTexture(n,!1,o):this.isVideo?this.glTexture=i.createVideoTexture(n,!1,o):this.isRenderTexture?this.glTexture=i.createTextureFromSource(null,f,h,d):this.isGLTexture?this.glTexture=l:this.compressionAlgorithm?this.glTexture=i.createTextureFromSource(l):this.glTexture=i.createTextureFromSource(n,f,h,d)}else this.isRenderTexture&&(this.image=l.canvas)}e.config.antialias||this.setFilter(1)},setFilter:function(e){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,e),this.scaleMode=e},setFlipY:function(e){return e===void 0&&(e=!0),this.flipY=e,this},update:function(){var e=this.renderer,i=this.image,l=this.flipY,n=e.gl;n&&this.isCanvas?this.glTexture=e.updateCanvasTexture(i,this.glTexture,l):n&&this.isVideo&&(this.glTexture=e.updateVideoTexture(i,this.glTexture,l))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture,!0),this.isCanvas&&u.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});v.exports=r},65154:v=>{var y={LINEAR:0,NEAREST:1};v.exports=y},49644:v=>{v.exports="addtexture"},29569:v=>{v.exports="addtexture-"},60079:v=>{v.exports="onerror"},72665:v=>{v.exports="onload"},93006:v=>{v.exports="ready"},69018:v=>{v.exports="removetexture"},85549:v=>{v.exports="removetexture-"},38203:(v,y,t)=>{v.exports={ADD:t(49644),ADD_KEY:t(29569),ERROR:t(60079),LOAD:t(72665),READY:t(93006),REMOVE:t(69018),REMOVE_KEY:t(85549)}},87499:(v,y,t)=>{var u=t(98611),c=t(65154),a={CanvasTexture:t(17487),DynamicTexture:t(845),Events:t(38203),FilterMode:c,Frame:t(82047),Parsers:t(69150),Texture:t(31673),TextureManager:t(6237),TextureSource:t(32547)};a=u(!1,a,c),v.exports=a},35082:v=>{var y=function(t,u,c){if(!c.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var a=t.source[u];t.add("__BASE",u,0,0,a.width,a.height);for(var s=c.getElementsByTagName("SubTexture"),r,e=0;e<s.length;e++){var i=s[e].attributes,l=i.name.value,n=parseInt(i.x.value,10),o=parseInt(i.y.value,10),f=parseInt(i.width.value,10),h=parseInt(i.height.value,10);if(r=t.add(l,u,n,o,f,h),i.frameX){var d=Math.abs(parseInt(i.frameX.value,10)),p=Math.abs(parseInt(i.frameY.value,10)),x=parseInt(i.frameWidth.value,10),S=parseInt(i.frameHeight.value,10);r.setTrim(f,h,d,p,x,S)}}return t};v.exports=y},83332:v=>{var y=function(t,u){var c=t.source[u];return t.add("__BASE",u,0,0,c.width,c.height),t};v.exports=y},21560:v=>{var y=function(t,u){var c=t.source[u];return t.add("__BASE",u,0,0,c.width,c.height),t};v.exports=y},64423:(v,y,t)=>{var u=t(32742),c=function(a,s,r){if(!r.frames&&!r.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=a.source[s];a.add("__BASE",s,0,0,e.width,e.height);for(var i=Array.isArray(r.textures)?r.textures[s].frames:r.frames,l,n=0;n<i.length;n++){var o=i[n];if(l=a.add(o.filename,s,o.frame.x,o.frame.y,o.frame.w,o.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+o.filename);continue}o.trimmed&&l.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(l.rotated=!0,l.updateUVsInverted());var f=o.anchor||o.pivot;f&&(l.customPivot=!0,l.pivotX=f.x,l.pivotY=f.y),l.customData=u(o)}for(var h in r)h!=="frames"&&(Array.isArray(r[h])?a.customData[h]=r[h].slice(0):a.customData[h]=r[h]);return a};v.exports=c},17264:(v,y,t)=>{var u=t(32742),c=function(a,s,r){if(!r.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=a.source[s];a.add("__BASE",s,0,0,e.width,e.height);var i=r.frames,l;for(var n in i)if(i.hasOwnProperty(n)){var o=i[n];if(l=a.add(n,s,o.frame.x,o.frame.y,o.frame.w,o.frame.h),!l){console.warn("Invalid atlas json, frame already exists: "+n);continue}o.trimmed&&l.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(l.rotated=!0,l.updateUVsInverted());var f=o.anchor||o.pivot;f&&(l.customPivot=!0,l.pivotX=f.x,l.pivotY=f.y),l.customData=u(o)}for(var h in r)h!=="frames"&&(Array.isArray(r[h])?a.customData[h]=r[h].slice(0):a.customData[h]=r[h]);return a};v.exports=c},67409:v=>{var y=function(t){var u=[171,75,84,88,32,49,49,187,13,10,26,10],c,a=new Uint8Array(t,0,12);for(c=0;c<a.length;c++)if(a[c]!==u[c]){console.warn("KTXParser - Invalid file format");return}var s=Uint32Array.BYTES_PER_ELEMENT,r=new DataView(t,12,13*s),e=r.getUint32(0,!0)===67305985,i=r.getUint32(1*s,e);if(i!==0){console.warn("KTXParser - Only compressed formats supported");return}var l=r.getUint32(4*s,e),n=r.getUint32(6*s,e),o=r.getUint32(7*s,e),f=Math.max(1,r.getUint32(11*s,e)),h=r.getUint32(12*s,e),d=new Array(f),p=12+13*4+h,x=n,S=o;for(c=0;c<f;c++){var T=new Int32Array(t,p,1)[0];p+=4,d[c]={data:new Uint8Array(t,p,T),width:x,height:S},x=Math.max(1,x>>1),S=Math.max(1,S>>1),p+=T}return{mipmaps:d,width:n,height:o,internalFormat:l,compressed:!0,generateMipmap:!1}};v.exports=y},24904:v=>{function y(E,P,M,L,R,w,D){return D===void 0&&(D=16),Math.floor((E+M)/R)*Math.floor((P+L)/w)*D}function t(E,P){return E=Math.max(E,16),P=Math.max(P,8),E*P/4}function u(E,P){return E=Math.max(E,8),P=Math.max(P,8),E*P/2}function c(E,P){return y(E,P,3,3,4,4,8)}function a(E,P){return y(E,P,3,3,4,4)}function s(E,P){return y(E,P,4,3,5,4)}function r(E,P){return y(E,P,4,4,5,5)}function e(E,P){return y(E,P,5,4,6,5)}function i(E,P){return y(E,P,5,5,6,6)}function l(E,P){return y(E,P,7,4,8,5)}function n(E,P){return y(E,P,7,5,8,6)}function o(E,P){return y(E,P,7,7,8,8)}function f(E,P){return y(E,P,9,4,10,5)}function h(E,P){return y(E,P,9,5,10,6)}function d(E,P){return y(E,P,9,7,10,8)}function p(E,P){return y(E,P,9,9,10,10)}function x(E,P){return y(E,P,11,9,12,10)}function S(E,P){return y(E,P,11,11,12,12)}var T={0:{sizeFunc:t,glFormat:35841},1:{sizeFunc:t,glFormat:35843},2:{sizeFunc:u,glFormat:35840},3:{sizeFunc:u,glFormat:35842},6:{sizeFunc:c,glFormat:36196},7:{sizeFunc:c,glFormat:33776},8:{sizeFunc:a,glFormat:33777},9:{sizeFunc:a,glFormat:33778},11:{sizeFunc:a,glFormat:33779},22:{sizeFunc:c,glFormat:37492},23:{sizeFunc:a,glFormat:37496},24:{sizeFunc:c,glFormat:37494},25:{sizeFunc:c,glFormat:37488},26:{sizeFunc:a,glFormat:37490},27:{sizeFunc:a,glFormat:37808},28:{sizeFunc:s,glFormat:37809},29:{sizeFunc:r,glFormat:37810},30:{sizeFunc:e,glFormat:37811},31:{sizeFunc:i,glFormat:37812},32:{sizeFunc:l,glFormat:37813},33:{sizeFunc:n,glFormat:37814},34:{sizeFunc:o,glFormat:37815},35:{sizeFunc:f,glFormat:37816},36:{sizeFunc:h,glFormat:37817},37:{sizeFunc:d,glFormat:37818},38:{sizeFunc:p,glFormat:37819},39:{sizeFunc:x,glFormat:37820},40:{sizeFunc:S,glFormat:37821}},C=function(E){for(var P=new Uint32Array(E,0,13),M=P[2],L=T[M].glFormat,R=T[M].sizeFunc,w=P[11],D=P[7],B=P[6],z=52+P[12],V=new Uint8Array(E,z),Y=new Array(w),H=0,I=D,U=B,O=0;O<w;O++){var N=R(I,U);Y[O]={data:new Uint8Array(V.buffer,V.byteOffset+H,N),width:I,height:U},I=Math.max(1,I>>1),U=Math.max(1,U>>1),H+=N}return{mipmaps:Y,width:D,height:B,internalFormat:L,compressed:!0,generateMipmap:!1}};v.exports=C},6143:(v,y,t)=>{var u=t(72632),c=function(a,s,r,e,i,l,n){var o=u(n,"frameWidth",null),f=u(n,"frameHeight",o);if(o===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var h=a.source[s];a.add("__BASE",s,0,0,h.width,h.height);var d=u(n,"startFrame",0),p=u(n,"endFrame",-1),x=u(n,"margin",0),S=u(n,"spacing",0),T=Math.floor((i-x+S)/(o+S)),C=Math.floor((l-x+S)/(f+S)),E=T*C;E===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",a.key),(d>E||d<-E)&&(d=0),d<0&&(d=E+d),(p===-1||p>E||p<d)&&(p=E);for(var P=x,M=x,L=0,R=0,w=0,D=0;D<E;D++){L=0,R=0;var B=P+o,z=M+f;B>i&&(L=B-i),z>l&&(R=z-l),D>=d&&D<=p&&(a.add(w,s,r+P,e+M,o-L,f-R),w++),P+=o+S,P+o>i&&(P=x,M+=f+S)}return a};v.exports=c},20030:(v,y,t)=>{var u=t(72632),c=function(a,s,r){var e=u(r,"frameWidth",null),i=u(r,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var l=a.source[0];a.add("__BASE",0,0,0,l.width,l.height);var n=u(r,"startFrame",0),o=u(r,"endFrame",-1),f=u(r,"margin",0),h=u(r,"spacing",0),d=s.cutX,p=s.cutY,x=s.cutWidth,S=s.cutHeight,T=s.realWidth,C=s.realHeight,E=Math.floor((T-f+h)/(e+h)),P=Math.floor((C-f+h)/(i+h)),M=E*P,L=s.x,R=e-L,w=e-(T-x-L),D=s.y,B=i-D,z=i-(C-S-D);(n>M||n<-M)&&(n=0),n<0&&(n=M+n),o!==-1&&(M=n+(o+1));for(var V,Y=f,H=f,I=0,U=0,O=0;O<P;O++){for(var N=O===0,G=O===P-1,X=0;X<E;X++){var W=X===0,b=X===E-1;if(V=a.add(I,U,d+Y,p+H,e,i),W||N||b||G){var K=W?L:0,Z=N?D:0,Q=0,J=0;W&&(Q+=e-R),b&&(Q+=e-w),N&&(J+=i-B),G&&(J+=i-z);var j=e-Q,k=i-J;V.cutWidth=j,V.cutHeight=k,V.setTrim(e,i,K,Z,j,k)}Y+=h,W?Y+=R:b?Y+=w:Y+=e,I++}Y=f,H+=h,N?H+=B:G?H+=z:H+=i}return a};v.exports=c},89187:v=>{var y=0,t=function(c,a,s,r){var e=y-r.y-r.height;c.add(s,a,r.x,e,r.width,r.height)},u=function(c,a,s){var r=c.source[a];c.add("__BASE",a,0,0,r.width,r.height),y=r.height;for(var e=s.split(`
`),i=/^[ ]*(- )*(\w+)+[: ]+(.*)/,l="",n="",o={x:0,y:0,width:0,height:0},f=0;f<e.length;f++){var h=e[f].match(i);if(h){var d=h[1]==="- ",p=h[2],x=h[3];if(d&&(n!==l&&(t(c,a,n,o),l=n),o={x:0,y:0,width:0,height:0}),p==="name"){n=x;continue}switch(p){case"x":case"y":case"width":case"height":o[p]=parseInt(x,10);break}}}return n!==l&&t(c,a,n,o),c};v.exports=u},69150:(v,y,t)=>{v.exports={AtlasXML:t(35082),Canvas:t(83332),Image:t(21560),JSONArray:t(64423),JSONHash:t(17264),KTXParser:t(67409),PVRParser:t(24904),SpriteSheet:t(6143),SpriteSheetFromAtlas:t(20030),UnityYAML:t(89187)}},93560:v=>{v.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},97042:(v,y,t)=>{var u=t(56694),c=new u({initialize:function(s,r,e,i,l,n,o){(e===void 0||e<=0)&&(e=32),(i===void 0||i<=0)&&(i=32),l===void 0&&(l=0),n===void 0&&(n=0),this.name=s,this.firstgid=r|0,this.imageWidth=e|0,this.imageHeight=i|0,this.imageMargin=l|0,this.imageSpacing=n|0,this.properties=o||{},this.images=[],this.total=0},containsImageIndex:function(a){return a>=this.firstgid&&a<this.firstgid+this.total},addImage:function(a,s){return this.images.push({gid:a,image:s}),this.total++,this}});v.exports=c},46422:(v,y,t)=>{var u=t(56694),c=new u({initialize:function(s){if(this.gids=[],s!==void 0)for(var r=0;r<s.length;++r)for(var e=s[r],i=0;i<e.total;++i)this.gids[e.firstgid+i]=e;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(a){this.gids=a?this._gids:void 0}},getTypeIncludingTile:function(a){if(a.type!==void 0&&a.type!=="")return a.type;if(!(!this.gids||a.gid===void 0)){var s=this.gids[a.gid];if(s){var r=s.getTileData(a.gid);if(r)return r.type}}},setTextureAndFrame:function(a,s,r,e){if(s===null&&this.gids&&e.gid!==void 0){var i=this.gids[e.gid];i&&(s===null&&i.image!==void 0&&(s=i.image.key),r===null&&(r=e.gid-i.firstgid),a.scene.textures.getFrame(s,r)||(s=null,r=null))}a.setTexture(s,r)},setPropertiesFromTiledObject:function(a,s){if(this.gids!==void 0&&s.gid!==void 0){var r=this.gids[s.gid];r!==void 0&&this.setFromJSON(a,r.getTileProperties(s.gid))}this.setFromJSON(a,s.properties)},setFromJSON:function(a,s){if(s){if(Array.isArray(s)){s.forEach(function(e){a.setData(e.name,e.value)});return}for(var r in s)a[r]!==void 0?a[r]=s[r]:a.setData(r,s[r])}}});v.exports=c},15043:(v,y,t)=>{var u=t(93560),c=t(16586),a=t(90715),s=t(89797),r=function(e,i,l,n,o,f,h,d){l===void 0&&(l=32),n===void 0&&(n=32),o===void 0&&(o=10),f===void 0&&(f=10),d===void 0&&(d=!1);var p=null;if(Array.isArray(h)){var x=i!==void 0?i:"map";p=a(x,u.ARRAY_2D,h,l,n,d)}else if(i!==void 0){var S=e.cache.tilemap.get(i);S?p=a(i,S.format,S.data,l,n,d):console.warn("No map data found for key "+i)}return p===null&&(p=new c({tileWidth:l,tileHeight:n,width:o,height:f})),new s(e,p)};v.exports=r},29633:(v,y,t)=>{var u=t(56694),c=t(64937),a=t(12920),s=t(28699),r=t(66658),e=new u({Mixins:[c.Alpha,c.Flip,c.Visible],initialize:function(l,n,o,f,h,d,p,x){this.layer=l,this.index=n,this.x=o,this.y=f,this.width=h,this.height=d,this.right,this.bottom,this.baseWidth=p!==void 0?p:h,this.baseHeight=x!==void 0?x:d,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(i,l){return!(i<this.pixelX||l<this.pixelY||i>this.right||l>this.bottom)},copy:function(i){return this.index=i.index,this.alpha=i.alpha,this.properties=s(i.properties),this.visible=i.visible,this.setFlip(i.flipX,i.flipY),this.tint=i.tint,this.rotation=i.rotation,this.collideUp=i.collideUp,this.collideDown=i.collideDown,this.collideLeft=i.collideLeft,this.collideRight=i.collideRight,this.collisionCallback=i.collisionCallback,this.collisionCallbackContext=i.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(i){var l=this.tilemapLayer;if(l){var n=l.tileToWorldXY(this.x,this.y,void 0,i);return n.x}return this.x*this.baseWidth},getRight:function(i){var l=this.tilemapLayer;return l?this.getLeft(i)+this.width*l.scaleX:this.getLeft(i)+this.width},getTop:function(i){var l=this.tilemapLayer;if(l){var n=l.tileToWorldXY(this.x,this.y,void 0,i);return n.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(i){var l=this.tilemapLayer;return l?this.getTop(i)+this.height*l.scaleY:this.getTop(i)+this.height},getBounds:function(i,l){return l===void 0&&(l=new r),l.x=this.getLeft(i),l.y=this.getTop(i),l.width=this.getRight(i)-l.x,l.height=this.getBottom(i)-l.y,l},getCenterX:function(i){return(this.getLeft(i)+this.getRight(i))/2},getCenterY:function(i){return(this.getTop(i)+this.getBottom(i))/2},intersects:function(i,l,n,o){return!(n<=this.pixelX||o<=this.pixelY||i>=this.right||l>=this.bottom)},isInteresting:function(i,l){return i&&l?this.canCollide||this.hasInterestingFace:i?this.collides:l?this.hasInterestingFace:!1},resetCollision:function(i){if(i===void 0&&(i=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,i){var l=this.tilemapLayer;l&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(i,l,n,o,f){if(l===void 0&&(l=i),n===void 0&&(n=i),o===void 0&&(o=i),f===void 0&&(f=!0),this.collideLeft=i,this.collideRight=l,this.collideUp=n,this.collideDown=o,this.faceLeft=i,this.faceRight=l,this.faceTop=n,this.faceBottom=o,f){var h=this.tilemapLayer;h&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(i,l){return i===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=i,this.collisionCallbackContext=l),this},setSize:function(i,l,n,o){return i!==void 0&&(this.width=i),l!==void 0&&(this.height=l),n!==void 0&&(this.baseWidth=n),o!==void 0&&(this.baseHeight=o),this.updatePixelXY(),this},updatePixelXY:function(){var i=this.layer.orientation;if(i===a.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(i===a.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(i===a.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(i===a.HEXAGONAL){var l=this.layer.staggerAxis,n=this.layer.staggerIndex,o=this.layer.hexSideLength,f,h;l==="y"?(h=(this.baseHeight-o)/2+o,n==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*h):l==="x"&&(f=(this.baseWidth-o)/2+o,this.pixelX=this.x*f,n==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var i=this.layer.tilemapLayer;if(i){var l=i.gidMap[this.index];if(l)return l}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var i=this.tilemapLayer;return i?i.tilemap:null}}});v.exports=e},89797:(v,y,t)=>{var u=t(14556),c=t(56694),a=t(75606),s=t(93560),r=t(72632),e=t(94990),i=t(46422),l=t(12920),n=t(52257),o=t(72677),f=t(13747),h=t(29633),d=t(5047),p=t(87177),x=t(47975),S=new c({initialize:function(C,E){this.scene=C,this.tileWidth=E.tileWidth,this.tileHeight=E.tileHeight,this.width=E.width,this.height=E.height,this.orientation=E.orientation,this.renderOrder=E.renderOrder,this.format=E.format,this.version=E.version,this.properties=E.properties,this.widthInPixels=E.widthInPixels,this.heightInPixels=E.heightInPixels,this.imageCollections=E.imageCollections,this.images=E.images,this.layers=E.layers,this.tiles=E.tiles,this.tilesets=E.tilesets,this.objects=E.objects,this.currentLayerIndex=0,this.hexSideLength=E.hexSideLength;var P=this.orientation;this._convert={WorldToTileXY:d.GetWorldToTileXYFunction(P),WorldToTileX:d.GetWorldToTileXFunction(P),WorldToTileY:d.GetWorldToTileYFunction(P),TileToWorldXY:d.GetTileToWorldXYFunction(P),TileToWorldX:d.GetTileToWorldXFunction(P),TileToWorldY:d.GetTileToWorldYFunction(P),GetTileCorners:d.GetTileCornersFunction(P)}},setRenderOrder:function(T){var C=["right-down","left-down","right-up","left-up"];return typeof T=="number"&&(T=C[T]),C.indexOf(T)>-1&&(this.renderOrder=T),this},addTilesetImage:function(T,C,E,P,M,L,R,w){if(T===void 0)return null;if(C==null&&(C=T),!this.scene.sys.textures.exists(C))return console.warn("Invalid Tileset Image: "+C),null;var D=this.scene.sys.textures.get(C),B=this.getTilesetIndex(T);if(B===null&&this.format===s.TILED_JSON)return console.warn("No data found for Tileset: "+T),null;var z=this.tilesets[B];return z?(z.setTileSize(E,P),z.setSpacing(M,L),z.setImage(D),z):(E===void 0&&(E=this.tileWidth),P===void 0&&(P=this.tileHeight),M===void 0&&(M=0),L===void 0&&(L=0),R===void 0&&(R=0),w===void 0&&(w={x:0,y:0}),z=new x(T,R,E,P,M,L,void 0,void 0,w),z.setImage(D),this.tilesets.push(z),this.tiles=u(this),z)},copy:function(T,C,E,P,M,L,R,w){return w=this.getLayer(w),w!==null?(d.Copy(T,C,E,P,M,L,R,w),this):null},createBlankLayer:function(T,C,E,P,M,L,R,w){E===void 0&&(E=0),P===void 0&&(P=0),M===void 0&&(M=this.width),L===void 0&&(L=this.height),R===void 0&&(R=this.tileWidth),w===void 0&&(w=this.tileHeight);var D=this.getLayerIndex(T);if(D!==null)return console.warn("Invalid Tilemap Layer ID: "+T),null;for(var B=new e({name:T,tileWidth:R,tileHeight:w,width:M,height:L,orientation:this.orientation}),z,V=0;V<L;V++){z=[];for(var Y=0;Y<M;Y++)z.push(new h(B,-1,Y,V,R,w,this.tileWidth,this.tileHeight));B.data.push(z)}this.layers.push(B),this.currentLayerIndex=this.layers.length-1;var H=new p(this.scene,this,this.currentLayerIndex,C,E,P);return H.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(H),H},createLayer:function(T,C,E,P){var M=this.getLayerIndex(T);if(M===null)return console.warn("Invalid Tilemap Layer ID: "+T),typeof T=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var L=this.layers[M];if(L.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+T),null;this.currentLayerIndex=M,E===void 0&&(E=L.x),P===void 0&&(P=L.y);var R=new p(this.scene,this,M,C,E,P);return R.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(R),R},createFromObjects:function(T,C,E){E===void 0&&(E=!0);var P=[],M=this.getObjectLayer(T);if(!M)return console.warn("createFromObjects: Invalid objectLayerName given: "+T),P;var L=new i(E?this.tilesets:void 0);Array.isArray(C)||(C=[C]);for(var R=M.objects,w=0;w<C.length;w++){var D=C[w],B=r(D,"id",null),z=r(D,"gid",null),V=r(D,"name",null),Y=r(D,"type",null);L.enabled=!r(D,"ignoreTileset",null);for(var H,I=[],U=0;U<R.length;U++)H=R[U],(B===null&&z===null&&V===null&&Y===null||B!==null&&H.id===B||z!==null&&H.gid===z||V!==null&&H.name===V||Y!==null&&L.getTypeIncludingTile(H)===Y)&&I.push(H);for(var O=r(D,"classType",f),N=r(D,"scene",this.scene),G=r(D,"container",null),X=r(D,"key",null),W=r(D,"frame",null),b=0;b<I.length;b++){H=I[b];var K=new O(N);if(K.setName(H.name),K.setPosition(H.x,H.y),L.setTextureAndFrame(K,X,W,H),H.width&&(K.displayWidth=H.width),H.height&&(K.displayHeight=H.height),this.orientation===l.ISOMETRIC){var Z=this.tileWidth/this.tileHeight,Q={x:K.x-K.y,y:(K.x+K.y)/Z};K.x=Q.x,K.y=Q.y}var J={x:K.originX*H.width,y:(K.originY-(H.gid?1:0))*H.height};if(H.rotation){var j=a(H.rotation);n(J,j),K.rotation=j}K.x+=J.x,K.y+=J.y,(H.flippedHorizontal!==void 0||H.flippedVertical!==void 0)&&K.setFlip(H.flippedHorizontal,H.flippedVertical),H.visible||(K.visible=!1),L.setPropertiesFromTiledObject(K,H),G?G.add(K):N.add.existing(K),P.push(K)}}return P},createFromTiles:function(T,C,E,P,M,L){return L=this.getLayer(L),L===null?null:d.CreateFromTiles(T,C,E,P,M,L)},fill:function(T,C,E,P,M,L,R){return L===void 0&&(L=!0),R=this.getLayer(R),R===null?null:(d.Fill(T,C,E,P,M,L,R),this)},filterObjects:function(T,C,E){if(typeof T=="string"){var P=T;if(T=this.getObjectLayer(T),!T)return console.warn("No object layer found with the name: "+P),null}return T.objects.filter(C,E)},filterTiles:function(T,C,E,P,M,L,R,w){return w=this.getLayer(w),w===null?null:d.FilterTiles(T,C,E,P,M,L,R,w)},findByIndex:function(T,C,E,P){return P=this.getLayer(P),P===null?null:d.FindByIndex(T,C,E,P)},findObject:function(T,C,E){if(typeof T=="string"){var P=T;if(T=this.getObjectLayer(T),!T)return console.warn("No object layer found with the name: "+P),null}return T.objects.find(C,E)||null},findTile:function(T,C,E,P,M,L,R,w){return w=this.getLayer(w),w===null?null:d.FindTile(T,C,E,P,M,L,R,w)},forEachTile:function(T,C,E,P,M,L,R,w){return w=this.getLayer(w),w===null?null:(d.ForEachTile(T,C,E,P,M,L,R,w),this)},getImageIndex:function(T){return this.getIndex(this.images,T)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(T){return T.name})},getIndex:function(T,C){for(var E=0;E<T.length;E++)if(T[E].name===C)return E;return null},getLayer:function(T){var C=this.getLayerIndex(T);return C!==null?this.layers[C]:null},getObjectLayer:function(T){var C=this.getIndex(this.objects,T);return C!==null?this.objects[C]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(T){return T.name})},getLayerIndex:function(T){return T===void 0?this.currentLayerIndex:typeof T=="string"?this.getLayerIndexByName(T):typeof T=="number"&&T<this.layers.length?T:T instanceof p&&T.tilemap===this?T.layerIndex:null},getLayerIndexByName:function(T){return this.getIndex(this.layers,T)},getTileAt:function(T,C,E,P){return P=this.getLayer(P),P===null?null:d.GetTileAt(T,C,E,P)},getTileAtWorldXY:function(T,C,E,P,M){return M=this.getLayer(M),M===null?null:d.GetTileAtWorldXY(T,C,E,P,M)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(T){return T.name})},getTilesWithin:function(T,C,E,P,M,L){return L=this.getLayer(L),L===null?null:d.GetTilesWithin(T,C,E,P,M,L)},getTilesWithinShape:function(T,C,E,P){return P=this.getLayer(P),P===null?null:d.GetTilesWithinShape(T,C,E,P)},getTilesWithinWorldXY:function(T,C,E,P,M,L,R){return R=this.getLayer(R),R===null?null:d.GetTilesWithinWorldXY(T,C,E,P,M,L,R)},getTileset:function(T){var C=this.getIndex(this.tilesets,T);return C!==null?this.tilesets[C]:null},getTilesetIndex:function(T){return this.getIndex(this.tilesets,T)},hasTileAt:function(T,C,E){return E=this.getLayer(E),E===null?null:d.HasTileAt(T,C,E)},hasTileAtWorldXY:function(T,C,E,P){return P=this.getLayer(P),P===null?null:d.HasTileAtWorldXY(T,C,E,P)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(T){this.setLayer(T)}},putTileAt:function(T,C,E,P,M){return P===void 0&&(P=!0),M=this.getLayer(M),M===null?null:d.PutTileAt(T,C,E,P,M)},putTileAtWorldXY:function(T,C,E,P,M,L){return P===void 0&&(P=!0),L=this.getLayer(L),L===null?null:d.PutTileAtWorldXY(T,C,E,P,M,L)},putTilesAt:function(T,C,E,P,M){return P===void 0&&(P=!0),M=this.getLayer(M),M===null?null:(d.PutTilesAt(T,C,E,P,M),this)},randomize:function(T,C,E,P,M,L){return L=this.getLayer(L),L===null?null:(d.Randomize(T,C,E,P,M,L),this)},calculateFacesAt:function(T,C,E){return E=this.getLayer(E),E===null?null:(d.CalculateFacesAt(T,C,E),this)},calculateFacesWithin:function(T,C,E,P,M){return M=this.getLayer(M),M===null?null:(d.CalculateFacesWithin(T,C,E,P,M),this)},removeLayer:function(T){var C=this.getLayerIndex(T);if(C!==null){o(this.layers,C);for(var E=C;E<this.layers.length;E++)this.layers[E].tilemapLayer&&this.layers[E].tilemapLayer.layerIndex--;return this.currentLayerIndex===C&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(T){var C=this.getLayerIndex(T);return C!==null?(T=this.layers[C],T.tilemapLayer.destroy(),o(this.layers,C),this.currentLayerIndex===C&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var T=this.layers,C=0;C<T.length;C++)T[C].tilemapLayer&&T[C].tilemapLayer.destroy(!1);return T.length=0,this.currentLayerIndex=0,this},removeTile:function(T,C,E){C===void 0&&(C=-1),E===void 0&&(E=!0);var P=[];Array.isArray(T)||(T=[T]);for(var M=0;M<T.length;M++){var L=T[M];P.push(this.removeTileAt(L.x,L.y,!0,E,L.tilemapLayer)),C>-1&&this.putTileAt(C,L.x,L.y,E,L.tilemapLayer)}return P},removeTileAt:function(T,C,E,P,M){return E===void 0&&(E=!0),P===void 0&&(P=!0),M=this.getLayer(M),M===null?null:d.RemoveTileAt(T,C,E,P,M)},removeTileAtWorldXY:function(T,C,E,P,M,L){return E===void 0&&(E=!0),P===void 0&&(P=!0),L=this.getLayer(L),L===null?null:d.RemoveTileAtWorldXY(T,C,E,P,M,L)},renderDebug:function(T,C,E){return E=this.getLayer(E),E===null?null:(this.orientation===l.ORTHOGONAL&&d.RenderDebug(T,C,E),this)},renderDebugFull:function(T,C){for(var E=this.layers,P=0;P<E.length;P++)d.RenderDebug(T,C,E[P]);return this},replaceByIndex:function(T,C,E,P,M,L,R){return R=this.getLayer(R),R===null?null:(d.ReplaceByIndex(T,C,E,P,M,L,R),this)},setCollision:function(T,C,E,P,M){return C===void 0&&(C=!0),E===void 0&&(E=!0),M===void 0&&(M=!0),P=this.getLayer(P),P===null?null:(d.SetCollision(T,C,E,P,M),this)},setCollisionBetween:function(T,C,E,P,M){return E===void 0&&(E=!0),P===void 0&&(P=!0),M=this.getLayer(M),M===null?null:(d.SetCollisionBetween(T,C,E,P,M),this)},setCollisionByProperty:function(T,C,E,P){return C===void 0&&(C=!0),E===void 0&&(E=!0),P=this.getLayer(P),P===null?null:(d.SetCollisionByProperty(T,C,E,P),this)},setCollisionByExclusion:function(T,C,E,P){return C===void 0&&(C=!0),E===void 0&&(E=!0),P=this.getLayer(P),P===null?null:(d.SetCollisionByExclusion(T,C,E,P),this)},setCollisionFromCollisionGroup:function(T,C,E){return T===void 0&&(T=!0),C===void 0&&(C=!0),E=this.getLayer(E),E===null?null:(d.SetCollisionFromCollisionGroup(T,C,E),this)},setTileIndexCallback:function(T,C,E,P){return P=this.getLayer(P),P===null?null:(d.SetTileIndexCallback(T,C,E,P),this)},setTileLocationCallback:function(T,C,E,P,M,L,R){return R=this.getLayer(R),R===null?null:(d.SetTileLocationCallback(T,C,E,P,M,L,R),this)},setLayer:function(T){var C=this.getLayerIndex(T);return C!==null&&(this.currentLayerIndex=C),this},setBaseTileSize:function(T,C){this.tileWidth=T,this.tileHeight=C,this.widthInPixels=this.width*T,this.heightInPixels=this.height*C;for(var E=0;E<this.layers.length;E++){this.layers[E].baseTileWidth=T,this.layers[E].baseTileHeight=C;for(var P=this.layers[E].data,M=this.layers[E].width,L=this.layers[E].height,R=0;R<L;R++)for(var w=0;w<M;w++){var D=P[R][w];D!==null&&D.setSize(void 0,void 0,T,C)}}return this},setLayerTileSize:function(T,C,E){if(E=this.getLayer(E),E===null)return this;E.tileWidth=T,E.tileHeight=C;for(var P=E.data,M=E.width,L=E.height,R=0;R<L;R++)for(var w=0;w<M;w++){var D=P[R][w];D!==null&&D.setSize(T,C)}return this},shuffle:function(T,C,E,P,M){return M=this.getLayer(M),M===null?null:(d.Shuffle(T,C,E,P,M),this)},swapByIndex:function(T,C,E,P,M,L,R){return R=this.getLayer(R),R===null?null:(d.SwapByIndex(T,C,E,P,M,L,R),this)},tileToWorldX:function(T,C,E){return E=this.getLayer(E),E===null?null:this._convert.TileToWorldX(T,C,E)},tileToWorldY:function(T,C,E){return E=this.getLayer(E),E===null?null:this._convert.TileToWorldY(T,C,E)},tileToWorldXY:function(T,C,E,P,M){return M=this.getLayer(M),M===null?null:this._convert.TileToWorldXY(T,C,E,P,M)},getTileCorners:function(T,C,E,P){return P=this.getLayer(P),P===null?null:this._convert.GetTileCorners(T,C,E,P)},weightedRandomize:function(T,C,E,P,M,L){return L=this.getLayer(L),L===null?null:(d.WeightedRandomize(C,E,P,M,T,L),this)},worldToTileX:function(T,C,E,P){return P=this.getLayer(P),P===null?null:this._convert.WorldToTileX(T,C,E,P)},worldToTileY:function(T,C,E,P){return P=this.getLayer(P),P===null?null:this._convert.WorldToTileY(T,C,E,P)},worldToTileXY:function(T,C,E,P,M,L){return L=this.getLayer(L),L===null?null:this._convert.WorldToTileXY(T,C,E,P,M,L)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});v.exports=S},4843:(v,y,t)=>{var u=t(99325),c=t(15043);u.register("tilemap",function(a){var s=a!==void 0?a:{};return c(this.scene,s.key,s.tileWidth,s.tileHeight,s.width,s.height,s.data,s.insertNull)})},37940:(v,y,t)=>{var u=t(61286),c=t(15043);u.register("tilemap",function(a,s,r,e,i,l,n){return a===null&&(a=void 0),s===null&&(s=void 0),r===null&&(r=void 0),e===null&&(e=void 0),i===null&&(i=void 0),c(this.scene,a,s,r,e,i,l,n)})},87177:(v,y,t)=>{var u=t(56694),c=t(64937),a=t(89980),s=t(5047),r=t(96193),e=t(93736),i=new u({Extends:a,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.Transform,c.Visible,c.ScrollFactor,r],initialize:function(n,o,f,h,d,p){a.call(this,n,"TilemapLayer"),this.isTilemap=!0,this.tilemap=o,this.layerIndex=f,this.layer=o.layers[f],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=s.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new e,this.setTilesets(h),this.setAlpha(this.layer.alpha),this.setPosition(d,p),this.setOrigin(0,0),this.setSize(o.tileWidth*this.layer.width,o.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(l){var n=[],o=[],f=this.tilemap;Array.isArray(l)||(l=[l]);for(var h=0;h<l.length;h++){var d=l[h];if(typeof d=="string"&&(d=f.getTileset(d)),d){o.push(d);for(var p=d.firstgid,x=0;x<d.total;x++)n[p+x]=d}}this.gidMap=n,this.tileset=o},setRenderOrder:function(l){var n=["right-down","left-down","right-up","left-up"];return typeof l=="string"&&(l=n.indexOf(l)),l>=0&&l<4&&(this._renderOrder=l),this},calculateFacesAt:function(l,n){return s.CalculateFacesAt(l,n,this.layer),this},calculateFacesWithin:function(l,n,o,f){return s.CalculateFacesWithin(l,n,o,f,this.layer),this},createFromTiles:function(l,n,o,f,h){return s.CreateFromTiles(l,n,o,f,h,this.layer)},cull:function(l){return this.cullCallback(this.layer,l,this.culledTiles,this._renderOrder)},copy:function(l,n,o,f,h,d,p){return s.Copy(l,n,o,f,h,d,p,this.layer),this},fill:function(l,n,o,f,h,d){return s.Fill(l,n,o,f,h,d,this.layer),this},filterTiles:function(l,n,o,f,h,d,p){return s.FilterTiles(l,n,o,f,h,d,p,this.layer)},findByIndex:function(l,n,o){return s.FindByIndex(l,n,o,this.layer)},findTile:function(l,n,o,f,h,d,p){return s.FindTile(l,n,o,f,h,d,p,this.layer)},forEachTile:function(l,n,o,f,h,d,p){return s.ForEachTile(l,n,o,f,h,d,p,this.layer),this},setTint:function(l,n,o,f,h,d){l===void 0&&(l=16777215);var p=function(x){x.tint=l};return this.forEachTile(p,this,n,o,f,h,d)},getTileAt:function(l,n,o){return s.GetTileAt(l,n,o,this.layer)},getTileAtWorldXY:function(l,n,o,f){return s.GetTileAtWorldXY(l,n,o,f,this.layer)},getIsoTileAtWorldXY:function(l,n,o,f,h){o===void 0&&(o=!0);var d=this.tempVec;return s.IsometricWorldToTileXY(l,n,!0,d,h,this.layer,o),this.getTileAt(d.x,d.y,f)},getTilesWithin:function(l,n,o,f,h){return s.GetTilesWithin(l,n,o,f,h,this.layer)},getTilesWithinShape:function(l,n,o){return s.GetTilesWithinShape(l,n,o,this.layer)},getTilesWithinWorldXY:function(l,n,o,f,h,d){return s.GetTilesWithinWorldXY(l,n,o,f,h,d,this.layer)},hasTileAt:function(l,n){return s.HasTileAt(l,n,this.layer)},hasTileAtWorldXY:function(l,n,o){return s.HasTileAtWorldXY(l,n,o,this.layer)},putTileAt:function(l,n,o,f){return s.PutTileAt(l,n,o,f,this.layer)},putTileAtWorldXY:function(l,n,o,f,h){return s.PutTileAtWorldXY(l,n,o,f,h,this.layer)},putTilesAt:function(l,n,o,f){return s.PutTilesAt(l,n,o,f,this.layer),this},randomize:function(l,n,o,f,h){return s.Randomize(l,n,o,f,h,this.layer),this},removeTileAt:function(l,n,o,f){return s.RemoveTileAt(l,n,o,f,this.layer)},removeTileAtWorldXY:function(l,n,o,f,h){return s.RemoveTileAtWorldXY(l,n,o,f,h,this.layer)},renderDebug:function(l,n){return s.RenderDebug(l,n,this.layer),this},replaceByIndex:function(l,n,o,f,h,d){return s.ReplaceByIndex(l,n,o,f,h,d,this.layer),this},setSkipCull:function(l){return l===void 0&&(l=!0),this.skipCull=l,this},setCullPadding:function(l,n){return l===void 0&&(l=1),n===void 0&&(n=1),this.cullPaddingX=l,this.cullPaddingY=n,this},setCollision:function(l,n,o,f){return s.SetCollision(l,n,o,this.layer,f),this},setCollisionBetween:function(l,n,o,f){return s.SetCollisionBetween(l,n,o,f,this.layer),this},setCollisionByProperty:function(l,n,o){return s.SetCollisionByProperty(l,n,o,this.layer),this},setCollisionByExclusion:function(l,n,o){return s.SetCollisionByExclusion(l,n,o,this.layer),this},setCollisionFromCollisionGroup:function(l,n){return s.SetCollisionFromCollisionGroup(l,n,this.layer),this},setTileIndexCallback:function(l,n,o){return s.SetTileIndexCallback(l,n,o,this.layer),this},setTileLocationCallback:function(l,n,o,f,h,d){return s.SetTileLocationCallback(l,n,o,f,h,d,this.layer),this},shuffle:function(l,n,o,f){return s.Shuffle(l,n,o,f,this.layer),this},swapByIndex:function(l,n,o,f,h,d){return s.SwapByIndex(l,n,o,f,h,d,this.layer),this},tileToWorldX:function(l,n){return this.tilemap.tileToWorldX(l,n,this)},tileToWorldY:function(l,n){return this.tilemap.tileToWorldY(l,n,this)},tileToWorldXY:function(l,n,o,f){return this.tilemap.tileToWorldXY(l,n,o,f,this)},getTileCorners:function(l,n,o){return this.tilemap.getTileCorners(l,n,o,this)},weightedRandomize:function(l,n,o,f,h){return s.WeightedRandomize(n,o,f,h,l,this.layer),this},worldToTileX:function(l,n,o){return this.tilemap.worldToTileX(l,n,o,this)},worldToTileY:function(l,n,o){return this.tilemap.worldToTileY(l,n,o,this)},worldToTileXY:function(l,n,o,f,h){return this.tilemap.worldToTileXY(l,n,o,f,h,this)},destroy:function(l){l===void 0&&(l=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),l&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],a.prototype.destroy.call(this))}});v.exports=i},17394:(v,y,t)=>{var u=t(69360),c=new u,a=new u,s=new u,r=function(e,i,l,n){var o=i.cull(l),f=o.length,h=l.alpha*i.alpha;if(!(f===0||h<=0)){var d=c,p=a,x=s;p.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),d.copyFrom(l.matrix);var S=e.currentContext,T=i.gidMap;S.save(),n?(d.multiplyWithOffset(n,-l.scrollX*i.scrollFactorX,-l.scrollY*i.scrollFactorY),p.e=i.x,p.f=i.y,d.multiply(p,x),x.copyToContext(S)):(p.e-=l.scrollX*i.scrollFactorX,p.f-=l.scrollY*i.scrollFactorY,p.copyToContext(S)),(!e.antialias||i.scaleX>1||i.scaleY>1)&&(S.imageSmoothingEnabled=!1);for(var C=0;C<f;C++){var E=o[C],P=T[E.index];if(P){var M=P.image.getSourceImage(),L=P.getTileTextureCoordinates(E.index),R=P.tileWidth,w=P.tileHeight;if(!(L===null||R===0||w===0)){var D=R*.5,B=w*.5;L.x+=P.tileOffset.x,L.y+=P.tileOffset.y,S.save(),S.translate(E.pixelX+D,E.pixelY+B),E.rotation!==0&&S.rotate(E.rotation),(E.flipX||E.flipY)&&S.scale(E.flipX?-1:1,E.flipY?-1:1),S.globalAlpha=h*E.alpha,S.drawImage(M,L.x,L.y,R,w,-D,-B,R,w),S.restore()}}}S.restore()}};v.exports=r},96193:(v,y,t)=>{var u=t(72283),c=u,a=u;c=t(51395),a=t(17394),v.exports={renderWebGL:c,renderCanvas:a}},51395:(v,y,t)=>{var u=t(75512),c=function(a,s,r){var e=s.cull(r),i=e.length,l=r.alpha*s.alpha;if(!(i===0||l<=0)){var n=s.gidMap,o=a.pipelines.set(s.pipeline,s),f=u.getTintAppendFloatAlpha,h=s.scrollFactorX,d=s.scrollFactorY,p=s.x,x=s.y,S=s.scaleX,T=s.scaleY;a.pipelines.preBatch(s);for(var C=0;C<i;C++){var E=e[C],P=n[E.index];if(P){var M=P.getTileTextureCoordinates(E.index);if(M!==null){var L=P.glTexture,R=o.setTexture2D(L,s),w=P.tileWidth,D=P.tileHeight,B=M.x,z=M.y,V=P.tileWidth*.5,Y=P.tileHeight*.5,H=P.tileOffset.x,I=P.tileOffset.y,U=f(E.tint,l*E.alpha);o.batchTexture(s,L,L.width,L.height,p+E.pixelX*S+(V*S-H),x+E.pixelY*T+(Y*T-I),E.width,E.height,S,T,E.rotation,E.flipX,E.flipY,h,d,V,Y,B,z,w,D,U,U,U,U,!1,0,0,r,null,!0,R)}}}a.pipelines.postBatch(s)}};v.exports=c},47975:(v,y,t)=>{var u=t(56694),c=t(93736),a=new u({initialize:function(r,e,i,l,n,o,f,h,d){(i===void 0||i<=0)&&(i=32),(l===void 0||l<=0)&&(l=32),n===void 0&&(n=0),o===void 0&&(o=0),f===void 0&&(f={}),h===void 0&&(h={}),this.name=r,this.firstgid=e,this.tileWidth=i,this.tileHeight=l,this.tileMargin=n,this.tileSpacing=o,this.tileProperties=f,this.tileData=h,this.tileOffset=new c,d!==void 0&&this.tileOffset.set(d.x,d.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(s){return this.containsTileIndex(s)?this.tileProperties[s-this.firstgid]:null},getTileData:function(s){return this.containsTileIndex(s)?this.tileData[s-this.firstgid]:null},getTileCollisionGroup:function(s){var r=this.getTileData(s);return r&&r.objectgroup?r.objectgroup:null},containsTileIndex:function(s){return s>=this.firstgid&&s<this.firstgid+this.total},getTileTextureCoordinates:function(s){return this.containsTileIndex(s)?this.texCoordinates[s-this.firstgid]:null},setImage:function(s){return this.image=s,this.glTexture=s.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(s,r){return s!==void 0&&(this.tileWidth=s),r!==void 0&&(this.tileHeight=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(s,r){return s!==void 0&&(this.tileMargin=s),r!==void 0&&(this.tileSpacing=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(s,r){var e=(r-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),i=(s-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(e%1!==0||i%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),e=Math.floor(e),i=Math.floor(i),this.rows=e,this.columns=i,this.total=e*i,this.texCoordinates.length=0;for(var l=this.tileMargin,n=this.tileMargin,o=0;o<this.rows;o++){for(var f=0;f<this.columns;f++)this.texCoordinates.push({x:l,y:n}),l+=this.tileWidth+this.tileSpacing;l=this.tileMargin,n+=this.tileHeight+this.tileSpacing}return this}});v.exports=a},92839:(v,y,t)=>{var u=t(15494),c=function(a,s,r){var e=u(a,s,!0,r),i=u(a,s-1,!0,r),l=u(a,s+1,!0,r),n=u(a-1,s,!0,r),o=u(a+1,s,!0,r),f=e&&e.collides;return f&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),i&&i.collides&&(f&&(e.faceTop=!1),i.faceBottom=!f),l&&l.collides&&(f&&(e.faceBottom=!1),l.faceTop=!f),n&&n.collides&&(f&&(e.faceLeft=!1),n.faceRight=!f),o&&o.collides&&(f&&(e.faceRight=!1),o.faceLeft=!f),e&&!e.collides&&e.resetFaces(),e};v.exports=c},60386:(v,y,t)=>{var u=t(15494),c=t(50811),a=function(s,r,e,i,l){for(var n=null,o=null,f=null,h=null,d=c(s,r,e,i,null,l),p=0;p<d.length;p++){var x=d[p];x&&(x.collides?(n=u(x.x,x.y-1,!0,l),o=u(x.x,x.y+1,!0,l),f=u(x.x-1,x.y,!0,l),h=u(x.x+1,x.y,!0,l),x.faceTop=!(n&&n.collides),x.faceBottom=!(o&&o.collides),x.faceLeft=!(f&&f.collides),x.faceRight=!(h&&h.collides)):x.resetFaces())}};v.exports=a},13125:(v,y,t)=>{var u=t(93736),c=new u,a=function(s,r,e,i){var l=e.tilemapLayer,n=l.cullPaddingX,o=l.cullPaddingY,f=l.tilemap.tileToWorldXY(s,r,c,i,l);return f.x>i.worldView.x+l.scaleX*e.tileWidth*(-n-.5)&&f.x<i.worldView.right+l.scaleX*e.tileWidth*(n-.5)&&f.y>i.worldView.y+l.scaleY*e.tileHeight*(-o-1)&&f.y<i.worldView.bottom+l.scaleY*e.tileHeight*(o-.5)};v.exports=a},17347:(v,y,t)=>{var u=t(60386),c=t(50811),a=t(62839),s=t(29633),r=function(e,i,l,n,o,f,h,d){h===void 0&&(h=!0);var p=c(e,i,l,n,null,d),x=[];p.forEach(function(L){var R=new s(L.layer,L.index,L.x,L.y,L.width,L.height,L.baseWidth,L.baseHeight);R.copy(L),x.push(R)});for(var S=o-e,T=f-i,C=0;C<x.length;C++){var E=x[C],P=E.x+S,M=E.y+T;a(P,M,d)&&d.data[M][P]&&(E.x=P,E.y=M,E.updatePixelXY(),d.data[M][P]=E)}h&&u(o-1,f-1,l+2,n+2,d),p.length=0,x.length=0};v.exports=r},93604:(v,y,t)=>{var u=t(50811),c=t(51202),a=function(s,r,e,i,l,n){e||(e={}),Array.isArray(s)||(s=[s]);var o=n.tilemapLayer;i||(i=o.scene),l||(l=i.cameras.main);var f=u(0,0,n.width,n.height,null,n),h=[],d;for(d=0;d<f.length;d++){var p=f[d];if(s.indexOf(p.index)!==-1){var x=o.tileToWorldXY(p.x,p.y,void 0,l,n);e.x=x.x,e.y=x.y,h.push(i.make.sprite(e))}}if(typeof r=="number")for(d=0;d<s.length;d++)c(s[d],r,0,0,n.width,n.height,n);else if(Array.isArray(r))for(d=0;d<s.length;d++)c(s[d],r[d],0,0,n.width,n.height,n);return h};v.exports=a},71586:(v,y,t)=>{var u=t(74118),c=t(82127),a=t(84314),s=new u,r=function(e,i){var l=e.tilemapLayer.tilemap,n=e.tilemapLayer,o=Math.floor(l.tileWidth*n.scaleX),f=Math.floor(l.tileHeight*n.scaleY),h=a(i.worldView.x-n.x,o,0,!0)-n.cullPaddingX,d=c(i.worldView.right-n.x,o,0,!0)+n.cullPaddingX,p=a(i.worldView.y-n.y,f,0,!0)-n.cullPaddingY,x=c(i.worldView.bottom-n.y,f,0,!0)+n.cullPaddingY;return s.setTo(h,p,d-h,x-p)};v.exports=r},381:(v,y,t)=>{var u=t(71586),c=t(6987),a=function(s,r,e,i){e===void 0&&(e=[]),i===void 0&&(i=0),e.length=0;var l=s.tilemapLayer,n=u(s,r);return(l.skipCull||l.scrollFactorX!==1||l.scrollFactorY!==1)&&(n.left=0,n.right=s.width,n.top=0,n.bottom=s.height),c(s,n,i,e),e};v.exports=a},97734:(v,y,t)=>{var u=t(50811),c=t(60386),a=t(68234),s=function(r,e,i,l,n,o,f){for(var h=f.collideIndexes.indexOf(r)!==-1,d=u(e,i,l,n,null,f),p=0;p<d.length;p++)d[p].index=r,a(d[p],h);o&&c(e-1,i-1,l+2,n+2,f)};v.exports=s},63555:(v,y,t)=>{var u=t(50811),c=function(a,s,r,e,i,l,n,o){var f=u(r,e,i,l,n,o);return f.filter(a,s)};v.exports=c},37982:v=>{var y=function(t,u,c,a){u===void 0&&(u=0),c===void 0&&(c=!1);var s=0,r,e,i;if(c){for(e=a.height-1;e>=0;e--)for(r=a.width-1;r>=0;r--)if(i=a.data[e][r],i&&i.index===t){if(s===u)return i;s+=1}}else for(e=0;e<a.height;e++)for(r=0;r<a.width;r++)if(i=a.data[e][r],i&&i.index===t){if(s===u)return i;s+=1}return null};v.exports=y},48297:(v,y,t)=>{var u=t(50811),c=function(a,s,r,e,i,l,n,o){var f=u(r,e,i,l,n,o);return f.find(a,s)||null};v.exports=c},80916:(v,y,t)=>{var u=t(50811),c=function(a,s,r,e,i,l,n,o){var f=u(r,e,i,l,n,o);f.forEach(a,s)};v.exports=c},31493:(v,y,t)=>{var u=t(12920),c=t(381),a=t(37524),s=t(20887),r=t(72283),e=t(19242),i=function(l){return l===u.ORTHOGONAL?c:l===u.HEXAGONAL?a:l===u.STAGGERED?e:l===u.ISOMETRIC?s:r};v.exports=i},15494:(v,y,t)=>{var u=t(62839),c=function(a,s,r,e){if(r===void 0&&(r=!1),u(a,s,e)){var i=e.data[s][a]||null;return i?i.index===-1?r?i:null:i:null}else return null};v.exports=c},24640:(v,y,t)=>{var u=t(15494),c=t(93736),a=new c,s=function(r,e,i,l,n){return n.tilemapLayer.worldToTileXY(r,e,!0,a,l),u(a.x,a.y,i,n)};v.exports=s},48495:(v,y,t)=>{var u=t(93736),c=function(a,s,r,e){var i=e.baseTileWidth,l=e.baseTileHeight,n=e.tilemapLayer,o=0,f=0;n&&(r||(r=n.scene.cameras.main),o=n.x+r.scrollX*(1-n.scrollFactorX),f=n.y+r.scrollY*(1-n.scrollFactorY),i*=n.scaleX,l*=n.scaleY);var h=o+a*i,d=f+s*l;return[new u(h,d),new u(h+i,d),new u(h+i,d+l),new u(h,d+l)]};v.exports=c},7160:(v,y,t)=>{var u=t(12920),c=t(63634),a=t(72283),s=t(48495),r=function(e){return e===u.ORTHOGONAL?s:e===u.ISOMETRIC?a:e===u.HEXAGONAL?c:(e===u.STAGGERED,a)};v.exports=r},16884:(v,y,t)=>{var u=t(12920),c=t(72283),a=t(44150),s=function(r){return r===u.ORTHOGONAL?a:c};v.exports=s},68182:(v,y,t)=>{var u=t(12920),c=t(21715),a=t(21808),s=t(72283),r=t(33388),e=t(46836),i=function(l){return l===u.ORTHOGONAL?e:l===u.ISOMETRIC?a:l===u.HEXAGONAL?c:l===u.STAGGERED?r:s};v.exports=i},3752:(v,y,t)=>{var u=t(12920),c=t(72283),a=t(84132),s=t(42477),r=function(e){return e===u.ORTHOGONAL?s:e===u.STAGGERED?a:c};v.exports=r},50811:(v,y,t)=>{var u=t(72632),c=function(a,s,r,e,i,l){a===void 0&&(a=0),s===void 0&&(s=0),r===void 0&&(r=l.width),e===void 0&&(e=l.height),i||(i={});var n=u(i,"isNotEmpty",!1),o=u(i,"isColliding",!1),f=u(i,"hasInterestingFace",!1);a<0&&(r+=a,a=0),s<0&&(e+=s,s=0),a+r>l.width&&(r=Math.max(l.width-a,0)),s+e>l.height&&(e=Math.max(l.height-s,0));for(var h=[],d=s;d<s+e;d++)for(var p=a;p<a+r;p++){var x=l.data[d][p];if(x!==null){if(n&&x.index===-1||o&&!x.collides||f&&!x.hasInterestingFace)continue;h.push(x)}}return h};v.exports=c},31674:(v,y,t)=>{var u=t(84068),c=t(50811),a=t(7563),s=t(72283),r=t(93736),e=function(f,h){return a.RectangleToTriangle(h,f)},i=new r,l=new r,n=new r,o=function(f,h,d,p){if(f===void 0)return[];var x=s;f instanceof u.Circle?x=a.CircleToRectangle:f instanceof u.Rectangle?x=a.RectangleToRectangle:f instanceof u.Triangle?x=e:f instanceof u.Line&&(x=a.LineToRectangle),p.tilemapLayer.worldToTileXY(f.left,f.top,!0,l,d);var S=l.x,T=l.y;p.tilemapLayer.worldToTileXY(f.right,f.bottom,!1,n,d);var C=Math.ceil(n.x),E=Math.ceil(n.y),P=Math.max(C-S,1),M=Math.max(E-T,1),L=c(S,T,P,M,h,p),R=p.tileWidth,w=p.tileHeight;p.tilemapLayer&&(R*=p.tilemapLayer.scaleX,w*=p.tilemapLayer.scaleY);for(var D=[],B=new u.Rectangle(0,0,R,w),z=0;z<L.length;z++){var V=L[z];p.tilemapLayer.tileToWorldXY(V.x,V.y,i,d),B.x=i.x,B.y=i.y,x(f,B)&&D.push(V)}return D};v.exports=o},44662:(v,y,t)=>{var u=t(50811),c=t(93736),a=new c,s=new c,r=function(e,i,l,n,o,f,h){var d=h.tilemapLayer.tilemap._convert.WorldToTileXY;d(e,i,!0,a,f,h);var p=a.x,x=a.y;d(e+l,i+n,!1,s,f,h);var S=Math.ceil(s.x),T=Math.ceil(s.y);return u(p,x,S-p,T-x,o,h)};v.exports=r},29296:(v,y,t)=>{var u=t(12920),c=t(10618),a=t(806),s=function(r){return r===u.ORTHOGONAL?a:c};v.exports=s},32688:(v,y,t)=>{var u=t(12920),c=t(11516),a=t(18750),s=t(72283),r=t(90562),e=t(45676),i=function(l){return l===u.ORTHOGONAL?e:l===u.ISOMETRIC?a:l===u.HEXAGONAL?c:l===u.STAGGERED?r:s};v.exports=i},74326:(v,y,t)=>{var u=t(12920),c=t(10618),a=t(3689),s=t(70520),r=function(e){return e===u.ORTHOGONAL?s:e===u.STAGGERED?a:c};v.exports=r},46598:(v,y,t)=>{var u=t(62839),c=function(a,s,r){if(u(a,s,r)){var e=r.data[s][a];return e!==null&&e.index>-1}else return!1};v.exports=c},28654:(v,y,t)=>{var u=t(46598),c=t(93736),a=new c,s=function(r,e,i,l){l.tilemapLayer.worldToTileXY(r,e,!0,a,i);var n=a.x,o=a.y;return u(n,o,l)};v.exports=s},6358:(v,y,t)=>{var u=t(82127),c=t(84314),a=function(s,r){var e=s.tilemapLayer.tilemap,i=s.tilemapLayer,l=Math.floor(e.tileWidth*i.scaleX),n=Math.floor(e.tileHeight*i.scaleY),o=s.hexSideLength,f,h,d,p;if(this.staggerAxis==="y"){var x=(n-o)/2+o;f=c(r.worldView.x-i.x,l,0,!0)-i.cullPaddingX,h=u(r.worldView.right-i.x,l,0,!0)+i.cullPaddingX,d=c(r.worldView.y-i.y,x,0,!0)-i.cullPaddingY,p=u(r.worldView.bottom-i.y,x,0,!0)+i.cullPaddingY}else{var S=(l-o)/2+o;f=c(r.worldView.x-i.x,S,0,!0)-i.cullPaddingX,h=u(r.worldView.right-i.x,S,0,!0)+i.cullPaddingX,d=c(r.worldView.y-i.y,n,0,!0)-i.cullPaddingY,p=u(r.worldView.bottom-i.y,n,0,!0)+i.cullPaddingY}return{left:f,right:h,top:d,bottom:p}};v.exports=a},37524:(v,y,t)=>{var u=t(6358),c=t(6987),a=function(s,r,e,i){e===void 0&&(e=[]),i===void 0&&(i=0),e.length=0;var l=s.tilemapLayer,n=u(s,r);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(n.left=0,n.right=s.width,n.top=0,n.bottom=s.height),c(s,n,i,e),e};v.exports=a},63634:(v,y,t)=>{var u=t(21715),c=t(93736),a=new c,s=function(r,e,i,l){var n=l.baseTileWidth,o=l.baseTileHeight,f=l.tilemapLayer;f&&(n*=f.scaleX,o*=f.scaleY);var h=u(r,e,a,i,l),d=[],p=.5773502691896257,x,S;this.staggerAxis==="y"?(x=p*n,S=o/2):(x=n/2,S=p*o);for(var T=0;T<6;T++){var C=2*Math.PI*(.5-T)/6;d.push(new c(h.x+x*Math.cos(C),h.y+S*Math.sin(C)))}return d};v.exports=s},21715:(v,y,t)=>{var u=t(93736),c=function(a,s,r,e,i){r||(r=new u);var l=i.baseTileWidth,n=i.baseTileHeight,o=i.tilemapLayer,f=0,h=0;o&&(e||(e=o.scene.cameras.main),f=o.x+e.scrollX*(1-o.scrollFactorX),h=o.y+e.scrollY*(1-o.scrollFactorY),l*=o.scaleX,n*=o.scaleY);var d=l/2,p=n/2,x,S;return this.staggerAxis==="y"?(x=f+l*a+l,S=h+1.5*s*p+p,s%2===0&&(this.staggerIndex==="odd"?x-=d:x+=d)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(x=f+1.5*a*d+d,S=h+n*a+n,a%2===0&&(this.staggerIndex==="odd"?S-=p:S+=p)),r.set(x,S)};v.exports=c},11516:(v,y,t)=>{var u=t(93736),c=function(a,s,r,e,i,l){e||(e=new u);var n=l.baseTileWidth,o=l.baseTileHeight,f=l.tilemapLayer;f&&(i||(i=f.scene.cameras.main),a=a-(f.x+i.scrollX*(1-f.scrollFactorX)),s=s-(f.y+i.scrollY*(1-f.scrollFactorY)),n*=f.scaleX,o*=f.scaleY);var h=.5773502691896257,d=-.3333333333333333,p=0,x=.6666666666666666,S=n/2,T=o/2,C,E,P,M,L;l.staggerAxis==="y"?(C=(a-S)/(h*n),E=(s-T)/T,P=h*C+d*E,M=p*C+x*E):(C=(a-S)/S,E=(s-T)/(h*o),P=d*C+h*E,M=x*C+p*E),L=-P-M;var R=Math.round(P),w=Math.round(M),D=Math.round(L),B=Math.abs(R-P),z=Math.abs(w-M),V=Math.abs(D-L);B>z&&B>V?R=-w-D:z>V&&(w=-R-D);var Y,H=w;return l.staggerIndex==="odd"?Y=H%2===0?w/2+R:w/2+R-.5:Y=H%2===0?w/2+R:w/2+R+.5,e.set(Y,H)};v.exports=c},62839:v=>{var y=function(t,u,c){return t>=0&&t<c.width&&u>=0&&u<c.height};v.exports=y},20887:(v,y,t)=>{var u=t(13125),c=function(a,s,r,e){r===void 0&&(r=[]),e===void 0&&(e=0),r.length=0;var i=a.tilemapLayer,l=a.data,n=a.width,o=a.height,f=i.skipCull,h=0,d=n,p=0,x=o,S,T,C;if(e===0){for(T=p;T<x;T++)for(S=h;S<d;S++)if(f||u(S,T,a,s)){if(C=l[T][S],!C||C.index===-1||!C.visible||C.alpha===0)continue;r.push(C)}}else if(e===1){for(T=p;T<x;T++)for(S=d;S>=h;S--)if(f||u(S,T,a,s)){if(C=l[T][S],!C||C.index===-1||!C.visible||C.alpha===0)continue;r.push(C)}}else if(e===2){for(T=x;T>=p;T--)for(S=h;S<d;S++)if(f||u(S,T,a,s)){if(C=l[T][S],!C||C.index===-1||!C.visible||C.alpha===0)continue;r.push(C)}}else if(e===3){for(T=x;T>=p;T--)for(S=d;S>=h;S--)if(f||u(S,T,a,s)){if(C=l[T][S],!C||C.index===-1||!C.visible||C.alpha===0)continue;r.push(C)}}return i.tilesDrawn=r.length,i.tilesTotal=n*o,r};v.exports=c},21808:(v,y,t)=>{var u=t(93736),c=function(a,s,r,e,i){r||(r=new u);var l=i.baseTileWidth,n=i.baseTileHeight,o=i.tilemapLayer,f=0,h=0;o&&(e||(e=o.scene.cameras.main),f=o.x+e.scrollX*(1-o.scrollFactorX),l*=o.scaleX,h=o.y+e.scrollY*(1-o.scrollFactorY),n*=o.scaleY);var d=f+(a-s)*(l/2),p=h+(a+s)*(n/2);return r.set(d,p)};v.exports=c},18750:(v,y,t)=>{var u=t(93736),c=function(a,s,r,e,i,l,n){e||(e=new u);var o=l.baseTileWidth,f=l.baseTileHeight,h=l.tilemapLayer;h&&(i||(i=h.scene.cameras.main),s=s-(h.y+i.scrollY*(1-h.scrollFactorY)),f*=h.scaleY,a=a-(h.x+i.scrollX*(1-h.scrollFactorX)),o*=h.scaleX);var d=o/2,p=f/2;a=a-d,n||(s=s-f);var x=.5*(a/d+s/p),S=.5*(-a/d+s/p);return r&&(x=Math.floor(x),S=Math.floor(S)),e.set(x,S)};v.exports=c},29003:(v,y,t)=>{var u=t(29633),c=t(62839),a=t(92839),s=t(68234),r=function(e,i,l,n,o){if(n===void 0&&(n=!0),!c(i,l,o))return null;var f,h=o.data[l][i],d=h&&h.collides;e instanceof u?(o.data[l][i]===null&&(o.data[l][i]=new u(o,e.index,i,l,o.tileWidth,o.tileHeight)),o.data[l][i].copy(e)):(f=e,o.data[l][i]===null?o.data[l][i]=new u(o,f,i,l,o.tileWidth,o.tileHeight):o.data[l][i].index=f);var p=o.data[l][i],x=o.collideIndexes.indexOf(p.index)!==-1;if(f=e instanceof u?e.index:e,f===-1)p.width=o.tileWidth,p.height=o.tileHeight;else{var S=o.tilemapLayer.tilemap.tiles,T=S[f][2],C=o.tilemapLayer.tileset[T];p.width=C.tileWidth,p.height=C.tileHeight}return s(p,x),n&&d!==p.collides&&a(i,l,o),p};v.exports=r},48565:(v,y,t)=>{var u=t(29003),c=t(93736),a=new c,s=function(r,e,i,l,n,o){return o.tilemapLayer.worldToTileXY(e,i,!0,a,n,o),u(r,a.x,a.y,l,o)};v.exports=s},56547:(v,y,t)=>{var u=t(60386),c=t(29003),a=function(s,r,e,i,l){if(i===void 0&&(i=!0),!Array.isArray(s))return null;Array.isArray(s[0])||(s=[s]);for(var n=s.length,o=s[0].length,f=0;f<n;f++)for(var h=0;h<o;h++){var d=s[f][h];c(d,r+h,e+f,!1,l)}i&&u(r-1,e-1,o+2,n+2,l)};v.exports=a},91180:(v,y,t)=>{var u=t(50811),c=t(72861),a=function(s,r,e,i,l,n){var o,f=u(s,r,e,i,{},n);if(!l)for(l=[],o=0;o<f.length;o++)l.indexOf(f[o].index)===-1&&l.push(f[o].index);for(o=0;o<f.length;o++)f[o].index=c(l)};v.exports=a},929:(v,y,t)=>{var u=t(29633),c=t(62839),a=t(92839),s=function(r,e,i,l,n){if(i===void 0&&(i=!0),l===void 0&&(l=!0),!c(r,e,n))return null;var o=n.data[e][r];if(o)n.data[e][r]=i?null:new u(n,-1,r,e,n.tileWidth,n.tileHeight);else return null;return l&&o&&o.collides&&a(r,e,n),o};v.exports=s},17384:(v,y,t)=>{var u=t(929),c=t(93736),a=new c,s=function(r,e,i,l,n,o){return o.tilemapLayer.worldToTileXY(r,e,!0,a,n,o),u(a.x,a.y,i,l,o)};v.exports=s},93763:(v,y,t)=>{var u=t(50811),c=t(95509),a=new c(105,210,231,150),s=new c(243,134,48,200),r=new c(40,39,37,150),e=function(i,l,n){l===void 0&&(l={});var o=l.tileColor!==void 0?l.tileColor:a,f=l.collidingTileColor!==void 0?l.collidingTileColor:s,h=l.faceColor!==void 0?l.faceColor:r,d=u(0,0,n.width,n.height,null,n);i.translateCanvas(n.tilemapLayer.x,n.tilemapLayer.y),i.scaleCanvas(n.tilemapLayer.scaleX,n.tilemapLayer.scaleY);for(var p=0;p<d.length;p++){var x=d[p],S=x.width,T=x.height,C=x.pixelX,E=x.pixelY,P=x.collides?f:o;P!==null&&(i.fillStyle(P.color,P.alpha/255),i.fillRect(C,E,S,T)),C+=1,E+=1,S-=2,T-=2,h!==null&&(i.lineStyle(1,h.color,h.alpha/255),x.faceTop&&i.lineBetween(C,E,C+S,E),x.faceRight&&i.lineBetween(C+S,E,C+S,E+T),x.faceBottom&&i.lineBetween(C,E+T,C+S,E+T),x.faceLeft&&i.lineBetween(C,E,C,E+T))}};v.exports=e},51202:(v,y,t)=>{var u=t(50811),c=function(a,s,r,e,i,l,n){for(var o=u(r,e,i,l,null,n),f=0;f<o.length;f++)o[f]&&o[f].index===a&&(o[f].index=s)};v.exports=c},6987:v=>{var y=function(t,u,c,a){var s=t.data,r=t.width,e=t.height,i=t.tilemapLayer,l=Math.max(0,u.left),n=Math.min(r,u.right),o=Math.max(0,u.top),f=Math.min(e,u.bottom),h,d,p;if(c===0)for(d=o;d<f;d++)for(h=l;s[d]&&h<n;h++)p=s[d][h],!(!p||p.index===-1||!p.visible||p.alpha===0)&&a.push(p);else if(c===1)for(d=o;d<f;d++)for(h=n;s[d]&&h>=l;h--)p=s[d][h],!(!p||p.index===-1||!p.visible||p.alpha===0)&&a.push(p);else if(c===2)for(d=f;d>=o;d--)for(h=l;s[d]&&h<n;h++)p=s[d][h],!(!p||p.index===-1||!p.visible||p.alpha===0)&&a.push(p);else if(c===3)for(d=f;d>=o;d--)for(h=n;s[d]&&h>=l;h--)p=s[d][h],!(!p||p.index===-1||!p.visible||p.alpha===0)&&a.push(p);return i.tilesDrawn=a.length,i.tilesTotal=r*e,a};v.exports=y},51710:(v,y,t)=>{var u=t(68234),c=t(60386),a=t(91181),s=function(r,e,i,l,n){e===void 0&&(e=!0),i===void 0&&(i=!0),n===void 0&&(n=!0),Array.isArray(r)||(r=[r]);for(var o=0;o<r.length;o++)a(r[o],e,l);if(n)for(var f=0;f<l.height;f++)for(var h=0;h<l.width;h++){var d=l.data[f][h];d&&r.indexOf(d.index)!==-1&&u(d,e)}i&&c(0,0,l.width,l.height,l)};v.exports=s},15216:(v,y,t)=>{var u=t(68234),c=t(60386),a=t(91181),s=function(r,e,i,l,n,o){if(i===void 0&&(i=!0),l===void 0&&(l=!0),o===void 0&&(o=!0),!(r>e)){for(var f=r;f<=e;f++)a(f,i,n);if(o)for(var h=0;h<n.height;h++)for(var d=0;d<n.width;d++){var p=n.data[h][d];p&&p.index>=r&&p.index<=e&&u(p,i)}l&&c(0,0,n.width,n.height,n)}};v.exports=s},33158:(v,y,t)=>{var u=t(68234),c=t(60386),a=t(91181),s=function(r,e,i,l){e===void 0&&(e=!0),i===void 0&&(i=!0),Array.isArray(r)||(r=[r]);for(var n=0;n<l.height;n++)for(var o=0;o<l.width;o++){var f=l.data[n][o];f&&r.indexOf(f.index)===-1&&(u(f,e),a(f.index,e,l))}i&&c(0,0,l.width,l.height,l)};v.exports=s},4180:(v,y,t)=>{var u=t(68234),c=t(60386),a=t(19256),s=function(r,e,i,l){e===void 0&&(e=!0),i===void 0&&(i=!0);for(var n=0;n<l.height;n++)for(var o=0;o<l.width;o++){var f=l.data[n][o];if(f){for(var h in r)if(a(f.properties,h)){var d=r[h];Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++)f.properties[h]===d[p]&&u(f,e)}}}i&&c(0,0,l.width,l.height,l)};v.exports=s},18625:(v,y,t)=>{var u=t(68234),c=t(60386),a=function(s,r,e){s===void 0&&(s=!0),r===void 0&&(r=!0);for(var i=0;i<e.height;i++)for(var l=0;l<e.width;l++){var n=e.data[i][l];if(n){var o=n.getCollisionGroup();o&&o.objects&&o.objects.length>0&&u(n,s)}}r&&c(0,0,e.width,e.height,e)};v.exports=a},91181:v=>{var y=function(t,u,c){var a=c.collideIndexes.indexOf(t);u&&a===-1?c.collideIndexes.push(t):!u&&a!==-1&&c.collideIndexes.splice(a,1)};v.exports=y},68234:v=>{var y=function(t,u){u?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};v.exports=y},11628:v=>{var y=function(t,u,c,a){if(typeof t=="number")a.callbacks[t]=u!==null?{callback:u,callbackContext:c}:void 0;else for(var s=0,r=t.length;s<r;s++)a.callbacks[t[s]]=u!==null?{callback:u,callbackContext:c}:void 0};v.exports=y},72732:(v,y,t)=>{var u=t(50811),c=function(a,s,r,e,i,l,n){for(var o=u(a,s,r,e,null,n),f=0;f<o.length;f++)o[f].setCollisionCallback(i,l)};v.exports=c},34397:(v,y,t)=>{var u=t(50811),c=t(18592),a=function(s,r,e,i,l){var n=u(s,r,e,i,null,l),o=n.map(function(h){return h.index});c(o);for(var f=0;f<n.length;f++)n[f].index=o[f]};v.exports=a},53945:(v,y,t)=>{var u=t(82127),c=t(84314),a=function(s,r){var e=s.tilemapLayer.tilemap,i=s.tilemapLayer,l=Math.floor(e.tileWidth*i.scaleX),n=Math.floor(e.tileHeight*i.scaleY),o=c(r.worldView.x-i.x,l,0,!0)-i.cullPaddingX,f=u(r.worldView.right-i.x,l,0,!0)+i.cullPaddingX,h=c(r.worldView.y-i.y,n/2,0,!0)-i.cullPaddingY,d=u(r.worldView.bottom-i.y,n/2,0,!0)+i.cullPaddingY;return{left:o,right:f,top:h,bottom:d}};v.exports=a},19242:(v,y,t)=>{var u=t(53945),c=t(6987),a=function(s,r,e,i){e===void 0&&(e=[]),i===void 0&&(i=0),e.length=0;var l=s.tilemapLayer,n=u(s,r);return l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1&&(n.left=0,n.right=s.width,n.top=0,n.bottom=s.height),c(s,n,i,e),e};v.exports=a},33388:(v,y,t)=>{var u=t(93736),c=function(a,s,r,e,i){r||(r=new u);var l=i.baseTileWidth,n=i.baseTileHeight,o=i.tilemapLayer,f=0,h=0;o&&(e||(e=o.scene.cameras.main),f=o.x+e.scrollX*(1-o.scrollFactorX),l*=o.scaleX,h=o.y+e.scrollY*(1-o.scrollFactorY),n*=o.scaleY);var d=f+a*l+s%2*(l/2),p=h+s*(n/2);return r.set(d,p)};v.exports=c},84132:v=>{var y=function(t,u,c){var a=c.baseTileHeight,s=c.tilemapLayer,r=0;return s&&(u===void 0&&(u=s.scene.cameras.main),r=s.y+u.scrollY*(1-s.scrollFactorY),a*=s.scaleY),r+t*(a/2)+a};v.exports=y},90562:(v,y,t)=>{var u=t(93736),c=function(a,s,r,e,i,l){e||(e=new u);var n=l.baseTileWidth,o=l.baseTileHeight,f=l.tilemapLayer;f&&(i||(i=f.scene.cameras.main),s=s-(f.y+i.scrollY*(1-f.scrollFactorY)),o*=f.scaleY,a=a-(f.x+i.scrollX*(1-f.scrollFactorX)),n*=f.scaleX);var h=r?Math.floor(s/(o/2)):s/(o/2),d=r?Math.floor((a+h%2*.5*n)/n):(a+h%2*.5*n)/n;return e.set(d,h)};v.exports=c},3689:v=>{var y=function(t,u,c,a){var s=a.baseTileHeight,r=a.tilemapLayer;return r&&(c||(c=r.scene.cameras.main),t=t-(r.y+c.scrollY*(1-r.scrollFactorY)),s*=r.scaleY),u?Math.floor(t/(s/2)):t/(s/2)};v.exports=y},55217:(v,y,t)=>{var u=t(50811),c=function(a,s,r,e,i,l,n){for(var o=u(r,e,i,l,null,n),f=0;f<o.length;f++)o[f]&&(o[f].index===a?o[f].index=s:o[f].index===s&&(o[f].index=a))};v.exports=c},44150:v=>{var y=function(t,u,c){var a=c.baseTileWidth,s=c.tilemapLayer,r=0;return s&&(u||(u=s.scene.cameras.main),r=s.x+u.scrollX*(1-s.scrollFactorX),a*=s.scaleX),r+t*a};v.exports=y},46836:(v,y,t)=>{var u=t(44150),c=t(42477),a=t(93736),s=function(r,e,i,l,n){return i||(i=new a(0,0)),i.x=u(r,l,n),i.y=c(e,l,n),i};v.exports=s},42477:v=>{var y=function(t,u,c){var a=c.baseTileHeight,s=c.tilemapLayer,r=0;return s&&(u||(u=s.scene.cameras.main),r=s.y+u.scrollY*(1-s.scrollFactorY),a*=s.scaleY),r+t*a};v.exports=y},39677:(v,y,t)=>{var u=t(50811),c=function(a,s,r,e,i,l){if(i){var n,o=u(a,s,r,e,null,l),f=0;for(n=0;n<i.length;n++)f+=i[n].weight;if(!(f<=0))for(n=0;n<o.length;n++){for(var h=Math.random()*f,d=0,p=-1,x=0;x<i.length;x++)if(d+=i[x].weight,h<=d){var S=i[x].index;p=Array.isArray(S)?S[Math.floor(Math.random()*S.length)]:S;break}o[n].index=p}}};v.exports=c},806:(v,y,t)=>{var u=t(45676),c=t(93736),a=new c,s=function(r,e,i,l){return u(r,0,e,a,i,l),a.x};v.exports=s},45676:(v,y,t)=>{var u=t(93736),c=function(a,s,r,e,i,l){r===void 0&&(r=!0),e||(e=new u);var n=l.baseTileWidth,o=l.baseTileHeight,f=l.tilemapLayer;f&&(i||(i=f.scene.cameras.main),a=a-(f.x+i.scrollX*(1-f.scrollFactorX)),s=s-(f.y+i.scrollY*(1-f.scrollFactorY)),n*=f.scaleX,o*=f.scaleY);var h=a/n,d=s/o;return r&&(h=Math.floor(h),d=Math.floor(d)),e.set(h,d)};v.exports=c},70520:(v,y,t)=>{var u=t(45676),c=t(93736),a=new c,s=function(r,e,i,l){return u(0,r,e,a,i,l),a.y};v.exports=s},5047:(v,y,t)=>{v.exports={CalculateFacesAt:t(92839),CalculateFacesWithin:t(60386),CheckIsoBounds:t(13125),Copy:t(17347),CreateFromTiles:t(93604),CullBounds:t(71586),CullTiles:t(381),Fill:t(97734),FilterTiles:t(63555),FindByIndex:t(37982),FindTile:t(48297),ForEachTile:t(80916),GetCullTilesFunction:t(31493),GetTileAt:t(15494),GetTileAtWorldXY:t(24640),GetTileCorners:t(48495),GetTileCornersFunction:t(7160),GetTilesWithin:t(50811),GetTilesWithinShape:t(31674),GetTilesWithinWorldXY:t(44662),GetTileToWorldXFunction:t(16884),GetTileToWorldXYFunction:t(68182),GetTileToWorldYFunction:t(3752),GetWorldToTileXFunction:t(29296),GetWorldToTileXYFunction:t(32688),GetWorldToTileYFunction:t(74326),HasTileAt:t(46598),HasTileAtWorldXY:t(28654),HexagonalCullBounds:t(6358),HexagonalCullTiles:t(37524),HexagonalGetTileCorners:t(63634),HexagonalTileToWorldXY:t(21715),HexagonalWorldToTileXY:t(11516),IsInLayerBounds:t(62839),IsometricCullTiles:t(20887),IsometricTileToWorldXY:t(21808),IsometricWorldToTileXY:t(18750),PutTileAt:t(29003),PutTileAtWorldXY:t(48565),PutTilesAt:t(56547),Randomize:t(91180),RemoveTileAt:t(929),RemoveTileAtWorldXY:t(17384),RenderDebug:t(93763),ReplaceByIndex:t(51202),RunCull:t(6987),SetCollision:t(51710),SetCollisionBetween:t(15216),SetCollisionByExclusion:t(33158),SetCollisionByProperty:t(4180),SetCollisionFromCollisionGroup:t(18625),SetLayerCollisionIndex:t(91181),SetTileCollision:t(68234),SetTileIndexCallback:t(11628),SetTileLocationCallback:t(72732),Shuffle:t(34397),StaggeredCullBounds:t(53945),StaggeredCullTiles:t(19242),StaggeredTileToWorldXY:t(33388),StaggeredTileToWorldY:t(84132),StaggeredWorldToTileXY:t(90562),StaggeredWorldToTileY:t(3689),SwapByIndex:t(55217),TileToWorldX:t(44150),TileToWorldXY:t(46836),TileToWorldY:t(42477),WeightedRandomize:t(39677),WorldToTileX:t(806),WorldToTileXY:t(45676),WorldToTileY:t(70520)}},12920:v=>{v.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},84758:(v,y,t)=>{var u={ORIENTATION:t(12920)};v.exports=u},52678:(v,y,t)=>{var u=t(98611),c=t(84758),a={Components:t(5047),Parsers:t(34124),Formats:t(93560),ImageCollection:t(97042),ParseToTilemap:t(15043),Tile:t(29633),Tilemap:t(89797),TilemapCreator:t(4843),TilemapFactory:t(37940),Tileset:t(47975),TilemapLayer:t(87177),Orientation:t(12920),LayerData:t(94990),MapData:t(16586),ObjectLayer:t(15256)};a=u(!1,a,c.ORIENTATION),v.exports=a},94990:(v,y,t)=>{var u=t(56694),c=t(12920),a=t(72632),s=new u({initialize:function(e){e===void 0&&(e={}),this.name=a(e,"name","layer"),this.x=a(e,"x",0),this.y=a(e,"y",0),this.width=a(e,"width",0),this.height=a(e,"height",0),this.tileWidth=a(e,"tileWidth",0),this.tileHeight=a(e,"tileHeight",0),this.baseTileWidth=a(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=a(e,"baseTileHeight",this.tileHeight),this.orientation=a(e,"orientation",c.ORTHOGONAL),this.widthInPixels=a(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=a(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=a(e,"alpha",1),this.visible=a(e,"visible",!0),this.properties=a(e,"properties",[]),this.indexes=a(e,"indexes",[]),this.collideIndexes=a(e,"collideIndexes",[]),this.callbacks=a(e,"callbacks",[]),this.bodies=a(e,"bodies",[]),this.data=a(e,"data",[]),this.tilemapLayer=a(e,"tilemapLayer",null),this.hexSideLength=a(e,"hexSideLength",0),this.staggerAxis=a(e,"staggerAxis","y"),this.staggerIndex=a(e,"staggerIndex","odd")}});v.exports=s},16586:(v,y,t)=>{var u=t(56694),c=t(12920),a=t(72632),s=new u({initialize:function(e){e===void 0&&(e={}),this.name=a(e,"name","map"),this.width=a(e,"width",0),this.height=a(e,"height",0),this.infinite=a(e,"infinite",!1),this.tileWidth=a(e,"tileWidth",0),this.tileHeight=a(e,"tileHeight",0),this.widthInPixels=a(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=a(e,"heightInPixels",this.height*this.tileHeight),this.format=a(e,"format",null),this.orientation=a(e,"orientation",c.ORTHOGONAL),this.renderOrder=a(e,"renderOrder","right-down"),this.version=a(e,"version","1"),this.properties=a(e,"properties",{}),this.layers=a(e,"layers",[]),this.images=a(e,"images",[]),this.objects=a(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=a(e,"collision",{}),this.tilesets=a(e,"tilesets",[]),this.imageCollections=a(e,"imageCollections",[]),this.tiles=a(e,"tiles",[]),this.hexSideLength=a(e,"hexSideLength",0),this.staggerAxis=a(e,"staggerAxis","y"),this.staggerIndex=a(e,"staggerIndex","odd")}});v.exports=s},15256:(v,y,t)=>{var u=t(56694),c=t(72632),a=new u({initialize:function(r){r===void 0&&(r={}),this.name=c(r,"name","object layer"),this.opacity=c(r,"opacity",1),this.properties=c(r,"properties",{}),this.propertyTypes=c(r,"propertytypes",{}),this.type=c(r,"type","objectgroup"),this.visible=c(r,"visible",!0),this.objects=c(r,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});v.exports=a},21394:(v,y,t)=>{var u=t(12920),c=function(a){return a=a.toLowerCase(),a==="isometric"?u.ISOMETRIC:a==="staggered"?u.STAGGERED:a==="hexagonal"?u.HEXAGONAL:u.ORTHOGONAL};v.exports=c},90715:(v,y,t)=>{var u=t(93560),c=t(84346),a=t(96097),s=t(2378),r=t(44909),e=function(i,l,n,o,f,h){var d;switch(l){case u.ARRAY_2D:d=c(i,n,o,f,h);break;case u.CSV:d=a(i,n,o,f,h);break;case u.TILED_JSON:d=s(i,n,h);break;case u.WELTMEISTER:d=r(i,n,h);break;default:console.warn("Unrecognized tilemap data format: "+l),d=null}return d};v.exports=e},84346:(v,y,t)=>{var u=t(93560),c=t(94990),a=t(16586),s=t(29633),r=function(e,i,l,n,o){for(var f=new c({tileWidth:l,tileHeight:n}),h=new a({name:e,tileWidth:l,tileHeight:n,format:u.ARRAY_2D,layers:[f]}),d=[],p=i.length,x=0,S=0;S<i.length;S++){d[S]=[];for(var T=i[S],C=0;C<T.length;C++){var E=parseInt(T[C],10);isNaN(E)||E===-1?d[S][C]=o?null:new s(f,-1,C,S,l,n):d[S][C]=new s(f,E,C,S,l,n)}x===0&&(x=T.length)}return h.width=f.width=x,h.height=f.height=p,h.widthInPixels=f.widthInPixels=x*l,h.heightInPixels=f.heightInPixels=p*n,f.data=d,h};v.exports=r},96097:(v,y,t)=>{var u=t(93560),c=t(84346),a=function(s,r,e,i,l){var n=r.trim().split(`
`).map(function(f){return f.split(",")}),o=c(s,n,e,i,l);return o.format=u.CSV,o};v.exports=a},30951:(v,y,t)=>{var u=t(94990),c=t(29633),a=function(s,r){for(var e=[],i=0;i<s.layer.length;i++){for(var l=s.layer[i],n=new u({name:l.name,width:l.width,height:l.height,tileWidth:l.tilesize,tileHeight:l.tilesize,visible:l.visible===1}),o=[],f=[],h=0;h<l.data.length;h++){for(var d=0;d<l.data[h].length;d++){var p=l.data[h][d]-1,x;p>-1?x=new c(n,p,d,h,l.tilesize,l.tilesize):x=r?null:new c(n,-1,d,h,l.tilesize,l.tilesize),o.push(x)}f.push(o),o=[]}n.data=f,e.push(n)}return e};v.exports=a},47488:(v,y,t)=>{var u=t(47975),c=function(a){for(var s=[],r=[],e=0;e<a.layer.length;e++){var i=a.layer[e],l=i.tilesetName;l!==""&&r.indexOf(l)===-1&&(r.push(l),s.push(new u(l,0,i.tilesize,i.tilesize,0,0)))}return s};v.exports=c},44909:(v,y,t)=>{var u=t(93560),c=t(16586),a=t(30951),s=t(47488),r=function(e,i,l){if(i.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var n=0,o=0,f=0;f<i.layer.length;f++)i.layer[f].width>n&&(n=i.layer[f].width),i.layer[f].height>o&&(o=i.layer[f].height);var h=new c({width:n,height:o,name:e,tileWidth:i.layer[0].tilesize,tileHeight:i.layer[0].tilesize,format:u.WELTMEISTER});return h.layers=a(i,l),h.tilesets=s(i),h};v.exports=r},24507:(v,y,t)=>{v.exports={ParseTileLayers:t(30951),ParseTilesets:t(47488),ParseWeltmeister:t(44909)}},34124:(v,y,t)=>{v.exports={FromOrientationString:t(21394),Parse:t(90715),Parse2DArray:t(84346),ParseCSV:t(96097),Impact:t(24507),Tiled:t(50044)}},48646:(v,y,t)=>{var u=t(98611),c=function(a){for(var s,r,e,i,l,n=0;n<a.layers.length;n++){s=a.layers[n],i=null;for(var o=0;o<s.data.length;o++){l=s.data[o];for(var f=0;f<l.length;f++)r=l[f],!(r===null||r.index<0)&&(e=a.tiles[r.index][2],i=a.tilesets[e],r.width=i.tileWidth,r.height=i.tileHeight,i.tileProperties&&i.tileProperties[r.index-i.firstgid]&&(r.properties=u(r.properties,i.tileProperties[r.index-i.firstgid])))}}};v.exports=c},43908:v=>{var y=function(t){for(var u=window.atob(t),c=u.length,a=new Array(c/4),s=0;s<c;s+=4)a[s/4]=(u.charCodeAt(s)|u.charCodeAt(s+1)<<8|u.charCodeAt(s+2)<<16|u.charCodeAt(s+3)<<24)>>>0;return a};v.exports=y},14556:(v,y,t)=>{var u=t(47975),c=function(a){var s,r,e=[];for(s=0;s<a.imageCollections.length;s++)for(var i=a.imageCollections[s],l=i.images,n=0;n<l.length;n++){var o=l[n];r=new u(o.image,o.gid,i.imageWidth,i.imageHeight,0,0),r.updateTileData(i.imageWidth,i.imageHeight),a.tilesets.push(r)}for(s=0;s<a.tilesets.length;s++){r=a.tilesets[s];for(var f=r.tileMargin,h=r.tileMargin,d=0,p=0,x=0,S=r.firstgid;S<r.firstgid+r.total&&(e[S]=[f,h,s],f+=r.tileWidth+r.tileSpacing,d++,!(d===r.total||(p++,p===r.columns&&(f=r.tileMargin,h+=r.tileHeight+r.tileSpacing,p=0,x++,x===r.rows))));S++);}return e};v.exports=c},92044:(v,y,t)=>{var u=t(72632),c=function(a,s,r){if(!s)return{i:0,layers:a.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=s.x+u(s,"startx",0)*a.tilewidth+u(s,"offsetx",0),i=s.y+u(s,"starty",0)*a.tileheight+u(s,"offsety",0);return{i:0,layers:s.layers,name:r.name+s.name+"/",opacity:r.opacity*s.opacity,visible:r.visible&&s.visible,x:r.x+e,y:r.y+i}};v.exports=c},8847:v=>{var y=2147483648,t=1073741824,u=536870912,c=function(a){var s=!!(a&y),r=!!(a&t),e=!!(a&u);a=a&~(y|t|u);var i=0,l=!1;return s&&r&&e?(i=Math.PI/2,l=!0):s&&r&&!e?(i=Math.PI,l=!1):s&&!r&&e?(i=Math.PI/2,l=!1):s&&!r&&!e?(i=0,l=!0):!s&&r&&e?(i=3*Math.PI/2,l=!1):!s&&r&&!e?(i=Math.PI,l=!0):!s&&!r&&e?(i=3*Math.PI/2,l=!0):!s&&!r&&!e&&(i=0,l=!1),{gid:a,flippedHorizontal:s,flippedVertical:r,flippedAntiDiagonal:e,rotation:i,flipped:l}};v.exports=c},78339:(v,y,t)=>{var u=t(72632),c=t(92044),a=function(s){for(var r=[],e=[],i=c(s);i.i<i.layers.length||e.length>0;){if(i.i>=i.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}i=e.pop();continue}var l=i.layers[i.i];if(i.i++,l.type!=="imagelayer"){if(l.type==="group"){var n=c(s,l,i);e.push(i),i=n}continue}var o=u(l,"offsetx",0)+u(l,"startx",0),f=u(l,"offsety",0)+u(l,"starty",0);r.push({name:i.name+l.name,image:l.image,x:i.x+o+l.x,y:i.y+f+l.y,alpha:i.opacity*l.opacity,visible:i.visible&&l.visible,properties:u(l,"properties",{})})}return r};v.exports=a},2378:(v,y,t)=>{var u=t(48646),c=t(14556),a=t(12920),s=t(28699),r=t(93560),e=t(21394),i=t(16586),l=t(78339),n=t(61136),o=t(95925),f=t(93392),h=function(d,p,x){var S=s(p),T=new i({width:S.width,height:S.height,name:d,tileWidth:S.tilewidth,tileHeight:S.tileheight,orientation:e(S.orientation),format:r.TILED_JSON,version:S.version,properties:S.properties,renderOrder:S.renderorder,infinite:S.infinite});T.orientation===a.HEXAGONAL&&(T.hexSideLength=S.hexsidelength,T.staggerAxis=S.staggeraxis,T.staggerIndex=S.staggerindex),T.layers=o(S,x),T.images=l(S);var C=f(S);return T.tilesets=C.tilesets,T.imageCollections=C.imageCollections,T.objects=n(S),T.tiles=c(T),u(T),T};v.exports=h},4281:(v,y,t)=>{var u=t(28820),c=t(8847),a=function(e){return{x:e.x,y:e.y}},s=["id","name","type","rotation","properties","visible","x","y","width","height"],r=function(e,i,l){i===void 0&&(i=0),l===void 0&&(l=0);var n=u(e,s);if(n.x+=i,n.y+=l,e.gid){var o=c(e.gid);n.gid=o.gid,n.flippedHorizontal=o.flippedHorizontal,n.flippedVertical=o.flippedVertical,n.flippedAntiDiagonal=o.flippedAntiDiagonal}else e.polyline?n.polyline=e.polyline.map(a):e.polygon?n.polygon=e.polygon.map(a):e.ellipse?n.ellipse=e.ellipse:e.text?n.text=e.text:e.point?n.point=!0:n.rectangle=!0;return n};v.exports=r},61136:(v,y,t)=>{var u=t(72632),c=t(4281),a=t(15256),s=t(92044),r=function(e){for(var i=[],l=[],n=s(e);n.i<n.layers.length||l.length>0;){if(n.i>=n.layers.length){if(l.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=l.pop();continue}var o=n.layers[n.i];if(n.i++,o.opacity*=n.opacity,o.visible=n.visible&&o.visible,o.type!=="objectgroup"){if(o.type==="group"){var f=s(e,o,n);l.push(n),n=f}continue}o.name=n.name+o.name;for(var h=n.x+u(o,"startx",0)+u(o,"offsetx",0),d=n.y+u(o,"starty",0)+u(o,"offsety",0),p=[],x=0;x<o.objects.length;x++){var S=c(o.objects[x],h,d);p.push(S)}var T=new a(o);T.objects=p,i.push(T)}return i};v.exports=r},95925:(v,y,t)=>{var u=t(43908),c=t(12920),a=t(92044),s=t(21394),r=t(72632),e=t(94990),i=t(8847),l=t(29633),n=function(o,f){for(var h=r(o,"infinite",!1),d=[],p=[],x=a(o);x.i<x.layers.length||p.length>0;){if(x.i>=x.layers.length){if(p.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}x=p.pop();continue}var S=x.layers[x.i];if(x.i++,S.type!=="tilelayer"){if(S.type==="group"){var T=a(o,S,x);p.push(x),x=T}continue}if(S.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+S.name+"'");continue}else if(S.encoding&&S.encoding==="base64"){if(S.chunks)for(var C=0;C<S.chunks.length;C++)S.chunks[C].data=u(S.chunks[C].data);S.data&&(S.data=u(S.data)),delete S.encoding}var E,P,M,L,R=[],w=0;if(h){var D=r(S,"startx",0)+S.x,B=r(S,"starty",0)+S.y;E=new e({name:x.name+S.name,x:x.x+r(S,"offsetx",0)+D*o.tilewidth,y:x.y+r(S,"offsety",0)+B*o.tileheight,width:S.width,height:S.height,tileWidth:o.tilewidth,tileHeight:o.tileheight,alpha:x.opacity*S.opacity,visible:x.visible&&S.visible,properties:r(S,"properties",[]),orientation:s(o.orientation)}),E.orientation===c.HEXAGONAL&&(E.hexSideLength=o.hexsidelength,E.staggerAxis=o.staggeraxis,E.staggerIndex=o.staggerindex);for(var z=0;z<S.height;z++){R[z]=[null];for(var V=0;V<S.width;V++)R[z][V]=null}for(z=0,K=S.chunks.length;z<K;z++)for(var Y=S.chunks[z],H=Y.x-D,I=Y.y-B,U=0,O=0,N=Y.data.length;O<N;O++){var G=w+H,X=U+I;P=i(Y.data[O]),P.gid>0?(M=new l(E,P.gid,G,X,o.tilewidth,o.tileheight),M.rotation=P.rotation,M.flipX=P.flipped,R[X][G]=M):(L=f?null:new l(E,-1,G,X,o.tilewidth,o.tileheight),R[X][G]=L),w++,w===Y.width&&(U++,w=0)}}else{E=new e({name:x.name+S.name,x:x.x+r(S,"offsetx",0)+S.x,y:x.y+r(S,"offsety",0)+S.y,width:S.width,height:S.height,tileWidth:o.tilewidth,tileHeight:o.tileheight,alpha:x.opacity*S.opacity,visible:x.visible&&S.visible,properties:r(S,"properties",[]),orientation:s(o.orientation)}),E.orientation===c.HEXAGONAL&&(E.hexSideLength=o.hexsidelength,E.staggerAxis=o.staggeraxis,E.staggerIndex=o.staggerindex);for(var W=[],b=0,K=S.data.length;b<K;b++)P=i(S.data[b]),P.gid>0?(M=new l(E,P.gid,w,R.length,o.tilewidth,o.tileheight),M.rotation=P.rotation,M.flipX=P.flipped,W.push(M)):(L=f?null:new l(E,-1,w,R.length,o.tilewidth,o.tileheight),W.push(L)),w++,w===S.width&&(R.push(W),w=0,W=[])}E.data=R,d.push(E)}return d};v.exports=n},93392:(v,y,t)=>{var u=t(47975),c=t(97042),a=t(4281),s=t(39642),r=function(e){for(var i=[],l=[],n=null,o,f=0;f<e.tilesets.length;f++){var h=e.tilesets[f];if(h.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(h.image){var d=new u(h.name,h.firstgid,h.tilewidth,h.tileheight,h.margin,h.spacing,void 0,void 0,h.tileoffset);if(e.version>1){var p=void 0,x=void 0;if(Array.isArray(h.tiles)){p=p||{},x=x||{};for(var S=0;S<h.tiles.length;S++){var T=h.tiles[S];if(T.properties){var C={};T.properties.forEach(function(z){C[z.name]=z.value}),x[T.id]=C}if(T.objectgroup&&((p[T.id]||(p[T.id]={})).objectgroup=T.objectgroup,T.objectgroup.objects)){var E=T.objectgroup.objects.map(function(z){return a(z)});p[T.id].objectgroup.objects=E}T.animation&&((p[T.id]||(p[T.id]={})).animation=T.animation),T.type&&((p[T.id]||(p[T.id]={})).type=T.type)}}Array.isArray(h.wangsets)&&(p=p||{},x=x||{},s(h.wangsets,p)),p&&(d.tileData=p,d.tileProperties=x)}else if(h.tileproperties&&(d.tileProperties=h.tileproperties),h.tiles){d.tileData=h.tiles;for(o in d.tileData){var P=d.tileData[o].objectgroup;if(P&&P.objects){var M=P.objects.map(function(z){return a(z)});d.tileData[o].objectgroup.objects=M}}}d.updateTileData(h.imagewidth,h.imageheight),i.push(d)}else{var L=new c(h.name,h.firstgid,h.tilewidth,h.tileheight,h.margin,h.spacing,h.properties),R=0;for(S=0;S<h.tiles.length;S++){T=h.tiles[S];var w=T.image,D=parseInt(T.id,10),B=h.firstgid+D;L.addImage(B,w),R=Math.max(D,R)}L.maxId=R,l.push(L)}n&&(n.lastgid=h.firstgid-1),n=h}return{tilesets:i,imageCollections:l}};v.exports=r},39642:v=>{var y=function(t,u){for(var c=0;c<t.length;c++){var a=t[c],s=c;if(a.name&&a.name!==""&&(s=a.name),Array.isArray(a.wangtiles)&&a.wangtiles.length>0){var r={},e={},i,l,n;if(Array.isArray(a.edgecolors))for(i=0;i<a.edgecolors.length;i++)n=1+i,l=a.edgecolors[i],l.name!==""&&(r[n]=l.name);if(Array.isArray(a.cornercolors))for(i=0;i<a.cornercolors.length;i++)n=1+i,l=a.cornercolors[i],l.name!==""&&(e[n]=l.name);if(Array.isArray(a.colors))for(i=0;i<a.colors.length;i++)l=a.colors[i],n=1+i,l.name!==""&&(r[n]=e[n]=l.name);for(var o=[r,e,r,e,r,e,r,e],f=0;f<a.wangtiles.length;f++){var h=a.wangtiles[f],d=u[h.tileid]||(u[h.tileid]={});d=d.wangid||(d.wangid={});for(var p=[],x=0;x<Math.min(o.length,h.wangid.length);x++){if(l=h.wangid[x],l===0){p.push(void 0);continue}var S=o[x][l];if(S!==void 0){p.push(S);continue}p.push(l)}d[s]=p}}}};v.exports=y},50044:(v,y,t)=>{v.exports={AssignTileProperties:t(48646),Base64Decode:t(43908),BuildTilesetIndex:t(14556),CreateGroupLayer:t(92044),ParseGID:t(8847),ParseImageLayers:t(78339),ParseJSONTiled:t(2378),ParseObject:t(4281),ParseObjectLayers:t(61136),ParseTileLayers:t(95925),ParseTilesets:t(93392)}},73779:(v,y,t)=>{var u=t(56694),c=t(91963),a=t(7599),s=t(57911),r=t(66458),e=new u({initialize:function(l){this.scene=l,this.systems=l.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],l.sys.events.once(a.BOOT,this.boot,this),l.sys.events.on(a.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var i=this.systems.events;i.on(a.PRE_UPDATE,this.preUpdate,this),i.on(a.UPDATE,this.update,this),i.once(a.SHUTDOWN,this.shutdown,this)},addEvent:function(i){var l;return i instanceof s?(l=i,this.removeEvent(l),l.elapsed=l.startAt,l.hasDispatched=!1,l.repeatCount=l.repeat===-1||l.loop?999999999999:l.repeat):l=new s(i),this._pendingInsertion.push(l),l},delayedCall:function(i,l,n,o){return this.addEvent({delay:i,callback:l,args:n,callbackScope:o})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(i){Array.isArray(i)||(i=[i]);for(var l=0;l<i.length;l++){var n=i[l];r(this._pendingRemoval,n),r(this._pendingInsertion,n),r(this._active,n)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var i=this._pendingRemoval.length,l=this._pendingInsertion.length;if(!(i===0&&l===0)){var n,o;for(n=0;n<i;n++){o=this._pendingRemoval[n];var f=this._active.indexOf(o);f>-1&&this._active.splice(f,1),o.destroy()}for(n=0;n<l;n++)o=this._pendingInsertion[n],this._active.push(o);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(i,l){if(this.now=i,!this.paused){l*=this.timeScale;for(var n=0;n<this._active.length;n++){var o=this._active[n];if(!o.paused&&(o.elapsed+=l*o.timeScale,o.elapsed>=o.delay)){var f=o.elapsed-o.delay;if(o.elapsed=o.delay,!o.hasDispatched&&o.callback&&(o.hasDispatched=!0,o.callback.apply(o.callbackScope,o.args)),o.repeatCount>0){if(o.repeatCount--,f>=o.delay)for(;f>=o.delay&&o.repeatCount>0;)o.callback&&o.callback.apply(o.callbackScope,o.args),f-=o.delay,o.repeatCount--;o.elapsed=f,o.hasDispatched=!1}else o.hasDispatched&&this._pendingRemoval.push(o)}}}},shutdown:function(){var i;for(i=0;i<this._pendingInsertion.length;i++)this._pendingInsertion[i].destroy();for(i=0;i<this._active.length;i++)this._active[i].destroy();for(i=0;i<this._pendingRemoval.length;i++)this._pendingRemoval[i].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var l=this.systems.events;l.off(a.PRE_UPDATE,this.preUpdate,this),l.off(a.UPDATE,this.update,this),l.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});c.register("Clock",e,"time"),v.exports=e},20517:(v,y,t)=>{var u=t(56694),c=t(6659),a=t(61286),s=t(72632),r=t(7599),e=new u({Extends:c,initialize:function(l,n){c.call(this),this.scene=l,this.systems=l.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.events=[];var o=this.systems.events;o.on(r.PRE_UPDATE,this.preUpdate,this),o.on(r.UPDATE,this.update,this),o.once(r.SHUTDOWN,this.destroy,this),n&&this.add(n)},preUpdate:function(i,l){this.paused||(this.elapsed+=l)},update:function(){if(!this.paused){var i,l=this.events,n=!1,o=this.systems,f;for(i=0;i<l.length;i++){var h=l[i];if(!h.complete&&h.time<=this.elapsed){if(h.complete=!0,this.totalComplete++,h.once&&(n=!0),h.set&&h.target)for(var d in h.set)h.target[d]=h.set[d];h.tween&&o.tweens.add(h.tween),h.sound&&(typeof h.sound=="string"?o.sound.play(h.sound):o.sound.play(h.sound.key,h.sound.config)),f=h.target?h.target:this,h.event&&this.emit(h.event,f),h.run&&h.run.call(f),h.stop&&this.stop()}}if(n)for(i=0;i<l.length;i++)l[i].complete&&l[i].once&&(l.splice(i,1),i--);this.totalComplete>=l.length&&(this.complete=!0)}},play:function(i){return i===void 0&&(i=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,i&&this.reset(),this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(){this.elapsed=0;for(var i=0;i<this.events.length;i++)this.events[i].complete=!1;return this.play(!1)},add:function(i){Array.isArray(i)||(i=[i]);var l=this.events,n=0;l.length>0&&(n=l[l.length-1].time);for(var o=0;o<i.length;o++){var f=i[o],h=s(f,"at",0),d=s(f,"in",null);d!==null&&(h=this.elapsed+d);var p=s(f,"from",null);p!==null&&(h=n+p),l.push({complete:!1,time:h,run:s(f,"run",null),event:s(f,"event",null),target:s(f,"target",null),set:s(f,"set",null),tween:s(f,"tween",null),sound:s(f,"sound",null),once:s(f,"once",!1),stop:s(f,"stop",!1)}),n=h}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var i=Math.min(this.totalComplete,this.events.length);return i/this.events.length},destroy:function(){var i=this.systems.events;i.off(r.PRE_UPDATE,this.preUpdate,this),i.off(r.UPDATE,this.update,this),i.off(r.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});a.register("timeline",function(i){return new e(this.scene,i)}),v.exports=e},57911:(v,y,t)=>{var u=t(56694),c=t(72632),a=new u({initialize:function(r){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(r)},reset:function(s){if(this.delay=c(s,"delay",0),this.repeat=c(s,"repeat",0),this.loop=c(s,"loop",!1),this.callback=c(s,"callback",void 0),this.callbackScope=c(s,"callbackScope",this),this.args=c(s,"args",[]),this.timeScale=c(s,"timeScale",1),this.startAt=c(s,"startAt",0),this.paused=c(s,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var s=this.delay+this.delay*this.repeat,r=this.elapsed+this.delay*(this.repeat-this.repeatCount);return r/s}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(s){s===void 0&&(s=!1),this.elapsed=this.delay,this.hasDispatched=!s,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});v.exports=a},97121:(v,y,t)=>{v.exports={Clock:t(73779),Timeline:t(20517),TimerEvent:t(57911)}},64532:(v,y,t)=>{var u=t(66458),c=t(56694),a=t(5454),s=t(68710),r=t(91963),e=t(7599),i=t(91944),l=t(39366),n=t(68061),o=t(45641),f=t(56034),h=new c({initialize:function(p){this.scene=p,this.events=p.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(e.UPDATE,this.update,this),this.events.once(e.SHUTDOWN,this.shutdown,this)},create:function(d){Array.isArray(d)||(d=[d]);for(var p=[],x=0;x<d.length;x++){var S=d[x];S instanceof l||S instanceof o?p.push(S):Array.isArray(S.tweens)?p.push(f(this,S)):p.push(n(this,S))}return p.length===1?p[0]:p},add:function(d){var p=d,x=this.tweens;return p instanceof l||p instanceof o||(Array.isArray(p.tweens)?p=f(this,p):p=n(this,p)),x.push(p.reset()),p},addMultiple:function(d){for(var p,x=[],S=this.tweens,T=0;T<d.length;T++)p=d[T],p instanceof l||p instanceof o||(Array.isArray(p.tweens)?p=f(this,p):p=n(this,p)),S.push(p.reset()),x.push(p);return x},chain:function(d){var p=f(this,d);return this.tweens.push(p.init()),p},getChainedTweens:function(d){return d.getChainedTweens()},has:function(d){return this.tweens.indexOf(d)>-1},existing:function(d){return this.has(d)||this.tweens.push(d.reset()),this},addCounter:function(d){var p=s(this,d);return this.tweens.push(p.reset()),p},stagger:function(d,p){return i(d,p)},setLagSmooth:function(d,p){return d===void 0&&(d=1/1e-8),p===void 0&&(p=0),this.maxLag=d,this.lagSkip=Math.min(p,this.maxLag),this},setFps:function(d){return d===void 0&&(d=240),this.gap=1e3/d,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(d){var p=Date.now()-this.prevTime;p>this.maxLag&&(this.startTime+=p-this.lagSkip),this.prevTime+=p;var x=this.prevTime-this.startTime,S=x-this.nextTime,T=x-this.time*1e3;return S>0||d?(x/=1e3,this.time=x,this.nextTime+=S+(S>=this.gap?4:this.gap-S)):T=0,T},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(d){d===void 0&&(d=!1);var p=this.getDelta(d);if(!(p<=0)){this.processing=!0;var x,S,T=[],C=this.tweens;for(x=0;x<C.length;x++)S=C[x],S.update(p)&&T.push(S);var E=T.length;if(E&&C.length>0){for(x=0;x<E;x++){S=T[x];var P=C.indexOf(S);P>-1&&(S.isPendingRemove()||S.isDestroyed())&&(C.splice(P,1),S.destroy())}T.length=0}this.processing=!1}},remove:function(d){return this.processing?d.setPendingRemoveState():(u(this.tweens,d),d.setRemovedState()),this},reset:function(d){return this.existing(d),d.seek(),d.setActiveState(),this},makeActive:function(d){return this.existing(d),d.setActiveState(),this},each:function(d,p){var x,S=[null];for(x=1;x<arguments.length;x++)S.push(arguments[x]);return this.tweens.forEach(function(T){S[0]=T,d.apply(p,S)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(d){var p=[],x=this.tweens;Array.isArray(d)?d=a(d):d=[d];for(var S=d.length,T=0;T<x.length;T++)for(var C=x[T],E=0;E<S;E++)!C.isDestroyed()&&C.hasTarget(d[E])&&p.push(C);return p},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(d){return this.timeScale=d,this},isTweening:function(d){for(var p=this.tweens,x,S=0;S<p.length;S++)if(x=p[S],x.isPlaying()&&x.hasTarget(d))return!0;return!1},killAll:function(){for(var d=this.processing?this.getTweens():this.tweens,p=0;p<d.length;p++)d[p].destroy();return this.processing||(d.length=0),this},killTweensOf:function(d){for(var p=this.getTweensOf(d),x=0;x<p.length;x++)p[x].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(e.UPDATE,this.update,this),this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.events=null}});r.register("TweenManager",h,"tweens"),v.exports=h},63130:v=>{var y=function(t,u,c){return t&&t.hasOwnProperty(u)?t[u]:c};v.exports=y},21902:(v,y,t)=>{var u=t(35060),c=t(40587),a=function(s,r){var e=u.Power0;if(typeof s=="string")if(u.hasOwnProperty(s))e=u[s];else{var i="";if(s.indexOf(".")){i=s.substring(s.indexOf(".")+1);var l=i.toLowerCase();l==="in"?i="easeIn":l==="out"?i="easeOut":l==="inout"&&(i="easeInOut")}s=c(s.substring(0,s.indexOf(".")+1)+i),u.hasOwnProperty(s)&&(e=u[s])}else typeof s=="function"&&(e=s);if(!r)return e;var n=r.slice(0);return n.unshift(0),function(o){return n[0]=o,e.apply(this,n)}};v.exports=a},4840:(v,y,t)=>{var u=t(63210),c=t(88332),a=t(47614),s={bezier:u,catmull:c,catmullrom:c,linear:a},r=function(e){if(e===null)return null;var i=s.linear;return typeof e=="string"?s.hasOwnProperty(e)&&(i=s[e]):typeof e=="function"&&(i=e),i};v.exports=r},28348:v=>{var y=function(t,u,c){var a;if(t.hasOwnProperty(u)){var s=typeof t[u];s==="function"?a=function(r,e,i,l,n,o){return t[u](r,e,i,l,n,o)}:a=function(){return t[u]}}else typeof c=="function"?a=c:a=function(){return c};return a};v.exports=y},92407:(v,y,t)=>{var u=t(53709),c=function(a){var s,r=[];if(a.hasOwnProperty("props"))for(s in a.props)s.substring(0,1)!=="_"&&r.push({key:s,value:a.props[s]});else for(s in a)u.indexOf(s)===-1&&s.substring(0,1)!=="_"&&r.push({key:s,value:a[s]});return r};v.exports=c},65868:(v,y,t)=>{var u=t(10850),c=function(a){var s=u(a,"targets",null);return s===null||(typeof s=="function"&&(s=s.call()),Array.isArray(s)||(s=[s])),s};v.exports=c},9744:(v,y,t)=>{var u=t(17489),c=t(61616);function a(l){return!!l.getActive&&typeof l.getActive=="function"}function s(l){return!!l.getStart&&typeof l.getStart=="function"}function r(l){return!!l.getEnd&&typeof l.getEnd=="function"}function e(l){return s(l)||r(l)||a(l)}var i=function(l,n){var o,f=function(Y,H,I){return I},h=function(Y,H,I){return I},d=null,p=typeof n;if(p==="number")f=function(){return n};else if(Array.isArray(n))h=function(){return n[0]},f=function(){return n[n.length-1]};else if(p==="string"){var x=n.toLowerCase(),S=x.substring(0,6)==="random",T=x.substring(0,3)==="int";if(S||T){var C=x.indexOf("("),E=x.indexOf(")"),P=x.indexOf(",");if(C&&E&&P){var M=parseFloat(x.substring(C+1,P)),L=parseFloat(x.substring(P+1,E));S?f=function(){return c(M,L)}:f=function(){return u(M,L)}}else throw new Error("invalid random() format")}else{x=x[0];var R=parseFloat(n.substr(2));switch(x){case"+":f=function(Y,H,I){return I+R};break;case"-":f=function(Y,H,I){return I-R};break;case"*":f=function(Y,H,I){return I*R};break;case"/":f=function(Y,H,I){return I/R};break;default:f=function(){return parseFloat(n)}}}}else if(p==="function")f=n;else if(p==="object")if(e(n))a(n)&&(d=n.getActive),r(n)&&(f=n.getEnd),s(n)&&(h=n.getStart);else if(n.hasOwnProperty("value"))o=i(l,n.value);else{var w=n.hasOwnProperty("to"),D=n.hasOwnProperty("from"),B=n.hasOwnProperty("start");if(w&&(D||B)){if(o=i(l,n.to),B){var z=i(l,n.start);o.getActive=z.getEnd}if(D){var V=i(l,n.from);o.getStart=V.getEnd}}}return o||(o={getActive:d,getEnd:f,getStart:h}),o};v.exports=i},68710:(v,y,t)=>{var u=t(502),c=t(99730),a=t(20494),s=t(63130),r=t(21902),e=t(28348),i=t(10850),l=t(9744),n=t(72066),o=t(39366),f=function(h,d,p){if(d instanceof o)return d.parent=h,d;p===void 0?p=c:p=n(c,p);var x=i(d,"from",0),S=i(d,"to",1),T=[{value:x}],C=i(d,"delay",p.delay),E=i(d,"easeParams",p.easeParams),P=i(d,"ease",p.ease),M=l("value",S),L=new o(h,T),R=L.add(0,"value",M.getEnd,M.getStart,M.getActive,r(i(d,"ease",P),i(d,"easeParams",E)),e(d,"delay",C),i(d,"duration",p.duration),s(d,"yoyo",p.yoyo),i(d,"hold",p.hold),i(d,"repeat",p.repeat),i(d,"repeatDelay",p.repeatDelay),!1,!1);R.start=x,R.current=x,L.completeDelay=a(d,"completeDelay",0),L.loop=Math.round(a(d,"loop",0)),L.loopDelay=Math.round(a(d,"loopDelay",0)),L.paused=s(d,"paused",!1),L.persist=s(d,"persist",!1),L.callbackScope=i(d,"callbackScope",L);for(var w=u.TYPES,D=0;D<w.length;D++){var B=w[D],z=i(d,B,!1);if(z){var V=i(d,B+"Params",[]);L.setCallback(B,z,V)}}return L};v.exports=f},91944:(v,y,t)=>{var u=t(21902),c=t(10850),a=t(83392),s=function(r,e){e===void 0&&(e={});var i,l=c(e,"start",0),n=c(e,"ease",null),o=c(e,"grid",null),f=c(e,"from",0),h=f==="first",d=f==="center",p=f==="last",x=typeof f=="number",S=Array.isArray(r),T=parseFloat(S?r[0]:r),C=S?parseFloat(r[1]):0,E=Math.max(T,C);if(S&&(l+=T),o){var P=o[0],M=o[1],L=0,R=0,w=0,D=0,B=[];p?(L=P-1,R=M-1):x?(L=f%P,R=Math.floor(f/P)):d&&(L=(P-1)/2,R=(M-1)/2);for(var z=a.MIN_SAFE_INTEGER,V=0;V<M;V++){B[V]=[];for(var Y=0;Y<P;Y++){w=L-Y,D=R-V;var H=Math.sqrt(w*w+D*D);H>z&&(z=H),B[V][Y]=H}}}var I=n?u(n):null;return o?i=function(U,O,N,G){var X=0,W=G%P,b=Math.floor(G/P);W>=0&&W<P&&b>=0&&b<M&&(X=B[b][W]);var K;if(S){var Z=C-T;I?K=X/z*Z*I(X/z):K=X/z*Z}else I?K=X*T*I(X/z):K=X*T;return K+l}:i=function(U,O,N,G,X){X--;var W;h?W=G:d?W=Math.abs(X/2-G):p?W=X-G:x&&(W=Math.abs(f-G));var b;if(S){var K;d?K=(C-T)/X*(W*2):K=(C-T)/X*W,I?b=K*I(W/X):b=K}else I?b=X*E*I(W/X):b=W*T;return b+l},i};v.exports=s},68061:(v,y,t)=>{var u=t(502),c=t(99730),a=t(20494),s=t(63130),r=t(21902),e=t(4840),i=t(28348),l=t(92407),n=t(65868),o=t(10850),f=t(9744),h=t(72066),d=t(39366),p=function(x,S,T){if(S instanceof d)return S.parent=x,S;T===void 0?T=c:T=h(c,T);var C=n(S);!C&&T.targets&&(C=T.targets);for(var E=l(S),P=o(S,"delay",T.delay),M=o(S,"duration",T.duration),L=o(S,"easeParams",T.easeParams),R=o(S,"ease",T.ease),w=o(S,"hold",T.hold),D=o(S,"repeat",T.repeat),B=o(S,"repeatDelay",T.repeatDelay),z=s(S,"yoyo",T.yoyo),V=s(S,"flipX",T.flipX),Y=s(S,"flipY",T.flipY),H=o(S,"interpolation",T.interpolation),I=function(J,j,k,$){if(k==="texture"){var _=$,nt=void 0;Array.isArray($)?(_=$[0],nt=$[1]):$.hasOwnProperty("value")?(_=$.value,Array.isArray($.value)?(_=$.value[0],nt=$.value[1]):typeof $.value=="string"&&(_=$.value)):typeof $=="string"&&(_=$),J.addFrame(j,_,nt,i($,"delay",P),o($,"duration",M),o($,"hold",w),o($,"repeat",D),o($,"repeatDelay",B),s($,"flipX",V),s($,"flipY",Y))}else{var at=f(k,$),st=e(o($,"interpolation",H));J.add(j,k,at.getEnd,at.getStart,at.getActive,r(o($,"ease",R),o($,"easeParams",L)),i($,"delay",P),o($,"duration",M),s($,"yoyo",z),o($,"hold",w),o($,"repeat",D),o($,"repeatDelay",B),s($,"flipX",V),s($,"flipY",Y),st,st?$:null)}},U=new d(x,C),O=0;O<E.length;O++)for(var N=E[O].key,G=E[O].value,X=0;X<C.length;X++)N==="scale"&&!C[X].hasOwnProperty("scale")?(I(U,X,"scaleX",G),I(U,X,"scaleY",G)):I(U,X,N,G);U.completeDelay=a(S,"completeDelay",0),U.loop=Math.round(a(S,"loop",0)),U.loopDelay=Math.round(a(S,"loopDelay",0)),U.paused=s(S,"paused",!1),U.persist=s(S,"persist",!1),U.callbackScope=o(S,"callbackScope",U);for(var W=u.TYPES,b=0;b<W.length;b++){var K=W[b],Z=o(S,K,!1);if(Z){var Q=o(S,K+"Params",[]);U.setCallback(K,Z,Q)}}return U};v.exports=p},56034:(v,y,t)=>{var u=t(502),c=t(20494),a=t(63130),s=t(65868),r=t(10850),e=t(68061),i=t(45641),l=function(n,o){if(o instanceof i)return o.parent=n,o;var f=new i(n);f.startDelay=r(o,"delay",0),f.completeDelay=c(o,"completeDelay",0),f.loop=Math.round(c(o,"loop",r(o,"repeat",0))),f.loopDelay=Math.round(c(o,"loopDelay",r(o,"repeatDelay",0))),f.paused=a(o,"paused",!1),f.persist=a(o,"persist",!0),f.callbackScope=r(o,"callbackScope",f);var h,d=u.TYPES;for(h=0;h<d.length;h++){var p=d[h],x=r(o,p,!1);if(x){var S=r(o,p+"Params",[]);f.setCallback(p,x,S)}}var T=r(o,"tweens",null);if(Array.isArray(T)){var C=[],E=s(o),P=void 0;for(E&&(P={targets:E}),h=0;h<T.length;h++)C.push(e(f,T[h],P));f.add(C)}return f};v.exports=l},79619:(v,y,t)=>{v.exports={GetBoolean:t(63130),GetEaseFunction:t(21902),GetInterpolationFunction:t(4840),GetNewValue:t(28348),GetProps:t(92407),GetTargets:t(65868),GetValueOp:t(9744),NumberTweenBuilder:t(68710),StaggerBuilder:t(91944),TweenBuilder:t(68061)}},5570:v=>{v.exports="active"},6383:v=>{v.exports="complete"},72582:v=>{v.exports="loop"},90281:v=>{v.exports="pause"},80803:v=>{v.exports="repeat"},13640:v=>{v.exports="resume"},10472:v=>{v.exports="start"},5379:v=>{v.exports="stop"},43449:v=>{v.exports="update"},61541:v=>{v.exports="yoyo"},54272:(v,y,t)=>{v.exports={TWEEN_ACTIVE:t(5570),TWEEN_COMPLETE:t(6383),TWEEN_LOOP:t(72582),TWEEN_PAUSE:t(90281),TWEEN_RESUME:t(13640),TWEEN_REPEAT:t(80803),TWEEN_START:t(10472),TWEEN_STOP:t(5379),TWEEN_UPDATE:t(43449),TWEEN_YOYO:t(61541)}},75193:(v,y,t)=>{var u={States:t(55303),Builders:t(79619),Events:t(54272),TweenManager:t(64532),Tween:t(39366),TweenData:t(15718),TweenFrameData:t(96490),BaseTween:t(502),TweenChain:t(45641)};v.exports=u},502:(v,y,t)=>{var u=t(56694),c=t(6659),a=t(54272),s=t(55303),r=new u({Extends:c,initialize:function(i){c.call(this),this.parent=i,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=s.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(a.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(a.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(a.TWEEN_COMPLETE,"onComplete")},complete:function(e){return e===void 0&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return e===void 0&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent.remove(this),this},stop:function(){return!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(a.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(a.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,i,l){return l===void 0&&(l=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:i,params:l}),this},setPendingState:function(){this.state=s.PENDING},setActiveState:function(){this.state=s.ACTIVE},setLoopDelayState:function(){this.state=s.LOOP_DELAY},setCompleteDelayState:function(){this.state=s.COMPLETE_DELAY},setStartDelayState:function(){this.state=s.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=s.PENDING_REMOVE},setRemovedState:function(){this.state=s.REMOVED},setFinishedState:function(){this.state=s.FINISHED},setDestroyedState:function(){this.state=s.DESTROYED},isPending:function(){return this.state===s.PENDING},isActive:function(){return this.state===s.ACTIVE},isLoopDelayed:function(){return this.state===s.LOOP_DELAY},isCompleteDelayed:function(){return this.state===s.COMPLETE_DELAY},isStartDelayed:function(){return this.state===s.START_DELAY},isPendingRemove:function(){return this.state===s.PENDING_REMOVE},isRemoved:function(){return this.state===s.REMOVED},isFinished:function(){return this.state===s.FINISHED},isDestroyed:function(){return this.state===s.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});r.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],v.exports=r},65521:(v,y,t)=>{var u=t(56694),c=t(54272),a=t(55303),s=new u({initialize:function(e,i,l,n,o,f,h,d,p,x){this.tween=e,this.targetIndex=i,this.duration=n,this.totalDuration=0,this.delay=0,this.getDelay=l,this.yoyo=o,this.hold=f,this.repeat=h,this.repeatDelay=d,this.repeatCounter=0,this.flipX=p,this.flipY=x,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(r){r===void 0&&(r=this.current),this.tween.targets[this.targetIndex][this.key]=r},setCreatedState:function(){this.state=a.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=a.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=a.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=a.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=a.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=a.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=a.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=a.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===a.CREATED},isDelayed:function(){return this.state===a.DELAY},isPendingRender:function(){return this.state===a.PENDING_RENDER},isPlayingForward:function(){return this.state===a.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===a.PLAYING_BACKWARD},isHolding:function(){return this.state===a.HOLD_DELAY},isRepeating:function(){return this.state===a.REPEAT_DELAY},isComplete:function(){return this.state===a.COMPLETE},setStateFromEnd:function(r){this.yoyo?this.onRepeat(r,!0,!0):this.repeatCounter>0?this.onRepeat(r,!0,!1):this.setCompleteState()},setStateFromStart:function(r){this.repeatCounter>0?this.onRepeat(r,!1):this.setCompleteState()},reset:function(){var r=this.tween,e=r.totalTargets,i=this.targetIndex,l=r.targets[i],n=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(l,n,0,i,e,r),this.repeatCounter=this.repeat===-1?a.MAX:this.repeat,this.setPendingRenderState();var o=this.duration+this.hold;this.yoyo&&(o+=this.duration);var f=o+this.repeatDelay;this.totalDuration=this.delay+o,this.repeat===-1?(this.totalDuration+=f*a.MAX,r.isInfinite=!0):this.repeat>0&&(this.totalDuration+=f*this.repeat),this.totalDuration>r.duration&&(r.duration=this.totalDuration),this.delay<r.startDelay&&(r.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(r,e,i){var l=this.tween,n=l.totalTargets,o=this.targetIndex,f=l.targets[o],h=this.key,d=h!=="texture";if(this.elapsed=r,this.progress=r/this.duration,this.flipX&&f.toggleFlipX(),this.flipY&&f.toggleFlipY(),d&&(e||i)&&(this.start=this.getStartValue(f,h,this.start,o,n,l)),i){this.setPlayingBackwardState(),this.dispatchEvent(c.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,d&&(this.end=this.getEndValue(f,h,this.start,o,n,l)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-r,d&&(this.current=this.start,f[h]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(c.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});v.exports=s},99730:v=>{var y={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};v.exports=y},53709:v=>{v.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},39366:(v,y,t)=>{var u=t(502),c=t(56694),a=t(54272),s=t(99325),r=t(61286),e=t(83392),i=t(55303),l=t(15718),n=t(96490),o=new c({Extends:u,initialize:function(h,d){u.call(this,h),this.targets=d,this.totalTargets=d.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(f,h,d,p,x,S,T,C,E,P,M,L,R,w,D,B){var z=new l(this,f,h,d,p,x,S,T,C,E,P,M,L,R,w,D,B);return this.totalData=this.data.push(z),z},addFrame:function(f,h,d,p,x,S,T,C,E,P){var M=new n(this,f,h,d,p,x,S,T,C,E,P);return this.totalData=this.data.push(M),M},getValue:function(f){f===void 0&&(f=0);var h=null;return this.data&&(h=this.data[f].current),h},hasTarget:function(f){return this.targets&&this.targets.indexOf(f)!==-1},updateTo:function(f,h,d){if(d===void 0&&(d=!1),f!=="texture")for(var p=0;p<this.totalData;p++){var x=this.data[p];x.key===f&&(x.isPlayingForward()||x.isPlayingBackward())&&(x.end=h,d&&(x.start=x.current))}return this},restart:function(){switch(this.state){case i.REMOVED:case i.FINISHED:this.seek(),this.parent.makeActive(this);break;case i.PENDING:case i.PENDING_REMOVE:this.parent.reset(this);break;case i.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,u.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(f,h,d){if(f===void 0&&(f=0),h===void 0&&(h=16.6),d===void 0&&(d=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;d||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive");var p=this.paused;if(this.paused=!1,f>0){for(var x=Math.floor(f/h),S=f-x*h,T=0;T<x;T++)this.update(h);S>0&&this.update(S)}return this.paused=p,this.isSeeking=!1,this},initTweenData:function(f){f===void 0&&(f=!1),this.duration=0,this.startDelay=e.MAX_SAFE_INTEGER;for(var h=this.data,d=0;d<this.totalData;d++)h[d].reset(f);this.duration=Math.max(this.duration,.01);var p=this.duration,x=this.completeDelay,S=this.loopCounter,T=this.loopDelay;S>0?this.totalDuration=p+x+(p+T)*S:this.totalDuration=p+x},reset:function(f){return f===void 0&&(f=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=i.MAX),f||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")),this},update:function(f){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(f*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(f),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(f),!1;this.hasStarted||(this.startDelay-=f,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(a.TWEEN_START,"onStart"),f=0));var h=!1;if(this.isActive())for(var d=this.data,p=0;p<this.totalData;p++)d[p].update(f)&&(h=!0);this.elapsed+=f,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=f,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),h||this.nextState();var x=this.isPendingRemove();return x&&this.persist&&(this.setFinishedState(),x=!1),x},forward:function(f){return this.update(f),this},rewind:function(f){return this.update(-f),this},dispatchEvent:function(f,h){if(!this.isSeeking){this.emit(f,this,this.targets);var d=this.callbacks[h];d&&d.func.apply(this.callbackScope,[this,this.targets].concat(d.params))}},destroy:function(){u.prototype.destroy.call(this),this.targets=null}});r.register("tween",function(f){return this.scene.sys.tweens.add(f)}),s.register("tween",function(f){return this.scene.sys.tweens.create(f)}),v.exports=o},45641:(v,y,t)=>{var u=t(66458),c=t(502),a=t(56694),s=t(54272),r=t(99325),e=t(61286),i=t(55303),l=new a({Extends:c,initialize:function(o){c.call(this,o),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?i.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(s.TWEEN_ACTIVE,"onActive"),this},add:function(n){var o=this.parent.create(n);Array.isArray(o)||(o=[o]);for(var f=this.data,h=0;h<o.length;h++){var d=o[h];d.parent=this,f.push(d.reset())}return this.totalData=f.length,this},remove:function(n){return u(this.data,n),n.setRemovedState(),n===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(n){for(var o=this.data,f=0;f<this.totalData;f++)if(o[f].hasTarget(n))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(n){return n.seek(),n.setActiveState(),this},makeActive:function(n){return n.reset(),n.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(s.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var n=this.data,o=this.totalData,f=0;f<o;f++)n[f].reset(!1);this.currentIndex=0,this.currentTween=n[0]},update:function(n){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;n*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(n):this.isCompleteDelayed()?this.updateCompleteDelay(n):this.isStartDelayed()&&(n=this.updateStartCountdown(n));var o=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(n)&&this.nextTween()&&this.nextState(),o=this.isPendingRemove(),o&&this.persist&&(this.setFinishedState(),o=!1)),o},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(n){this.currentIndex=n,this.currentTween=this.data[n],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(s.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(n,o){this.emit(n,this);var f=this.callbacks[o];f&&f.func.apply(this.callbackScope,[this].concat(f.params))},destroy:function(){c.prototype.destroy.call(this),this.currentTween=null}});e.register("tweenchain",function(n){return this.scene.sys.tweens.chain(n)}),r.register("tweenchain",function(n){return this.scene.sys.tweens.create(n)}),v.exports=l},15718:(v,y,t)=>{var u=t(65521),c=t(82897),a=t(56694),s=t(54272),r=new a({Extends:u,initialize:function(i,l,n,o,f,h,d,p,x,S,T,C,E,P,M,L,R){u.call(this,i,l,p,x,S,T,C,E,P,M),this.key=n,this.getActiveValue=h,this.getEndValue=o,this.getStartValue=f,this.ease=d,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=L,this.interpolationData=R},reset:function(e){u.prototype.reset.call(this);var i=this.tween.targets[this.targetIndex],l=this.key;e&&(i[l]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(i[l]=this.getActiveValue(i,l,0))},update:function(e){var i=this.tween,l=i.totalTargets,n=this.targetIndex,o=i.targets[n],f=this.key;if(!o)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(s.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(o,f,o[f],n,l,i),this.end=this.getEndValue(o,f,this.start,n,l,i),this.current=this.start,o[f]=this.start,this.setPlayingForwardState(),!0;var h=this.isPlayingForward(),d=this.isPlayingBackward();if(h||d){var p=this.elapsed,x=this.duration,S=0,T=!1;p+=e,p>=x?(S=p-x,p=x,T=!0):p<0&&(p=0);var C=c(p/x,0,1);if(this.elapsed=p,this.progress=C,this.previous=this.current,T)h?(this.current=this.end,o[f]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(S)):(this.current=this.start,o[f]=this.start,this.setStateFromStart(S));else{h||(C=1-C);var E=this.ease(C);this.interpolation?this.current=this.interpolation(this.interpolationData,E):this.current=this.start+(this.end-this.start)*E,o[f]=this.current}this.dispatchEvent(s.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,i){var l=this.tween;if(!l.isSeeking){var n=l.targets[this.targetIndex],o=this.key,f=this.current,h=this.previous;l.emit(e,l,o,n,f,h);var d=l.callbacks[i];d&&d.func.apply(l.callbackScope,[l,n,o,f,h].concat(d.params))}},destroy:function(){u.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});v.exports=r},96490:(v,y,t)=>{var u=t(65521),c=t(82897),a=t(56694),s=t(54272),r=new a({Extends:u,initialize:function(i,l,n,o,f,h,d,p,x,S,T){u.call(this,i,l,f,h,!1,d,p,x,S,T),this.key="texture",this.startTexture=null,this.endTexture=n,this.startFrame=null,this.endFrame=o,this.yoyo=p!==0},reset:function(e){u.prototype.reset.call(this);var i=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=i.texture.key,this.startFrame=i.frame.name),e&&i.setTexture(this.startTexture,this.startFrame)},update:function(e){var i=this.tween,l=this.targetIndex,n=i.targets[l];if(!n)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(s.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&n.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var o=this.isPlayingForward(),f=this.isPlayingBackward();if(o||f){var h=this.elapsed,d=this.duration,p=0,x=!1;h+=e,h>=d?(p=h-d,h=d,x=!0):h<0&&(h=0);var S=c(h/d,0,1);this.elapsed=h,this.progress=S,x&&(o?(n.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(p)):(n.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(p))),this.dispatchEvent(s.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,i){var l=this.tween;if(!l.isSeeking){var n=l.targets[this.targetIndex],o=this.key;l.emit(e,l,o,n);var f=l.callbacks[i];f&&f.func.apply(l.callbackScope,[l,n,o].concat(f.params))}},destroy:function(){u.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});v.exports=r},55303:v=>{var y={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};v.exports=y},56694:v=>{function y(r){return!!r.get&&typeof r.get=="function"||!!r.set&&typeof r.set=="function"}function t(r,e,i){var l=i?r[e]:Object.getOwnPropertyDescriptor(r,e);return!i&&l.value&&typeof l.value=="object"&&(l=l.value),l&&y(l)?(typeof l.enumerable>"u"&&(l.enumerable=!0),typeof l.configurable>"u"&&(l.configurable=!0),l):!1}function u(r,e){var i=Object.getOwnPropertyDescriptor(r,e);return i?(i.value&&typeof i.value=="object"&&(i=i.value),i.configurable===!1):!1}function c(r,e,i,l){for(var n in e)if(e.hasOwnProperty(n)){var o=t(e,n,i);if(o!==!1){var f=l||r;if(u(f.prototype,n)){if(s.ignoreFinals)continue;throw new Error("cannot override final property '"+n+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(r.prototype,n,o)}else r.prototype[n]=e[n]}}function a(r,e){if(e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++)c(r,e[i].prototype||e[i])}}function s(r){r||(r={});var e,i;if(r.initialize){if(typeof r.initialize!="function")throw new Error("initialize must be a function");e=r.initialize,delete r.initialize}else if(r.Extends){var l=r.Extends;e=function(){l.apply(this,arguments)}}else e=function(){};r.Extends?(e.prototype=Object.create(r.Extends.prototype),e.prototype.constructor=e,i=r.Extends,delete r.Extends):e.prototype.constructor=e;var n=null;return r.Mixins&&(n=r.Mixins,delete r.Mixins),a(e,n),c(e,r,!0,i),e}s.extend=c,s.mixin=a,s.ignoreFinals=!1,v.exports=s},72283:v=>{var y=function(){};v.exports=y},10618:v=>{var y=function(){return null};v.exports=y},78991:v=>{var y=function(t,u,c,a,s){if(s===void 0&&(s=t),c>0){var r=c-t.length;if(r<=0)return null}if(!Array.isArray(u))return t.indexOf(u)===-1?(t.push(u),a&&a.call(s,u),u):null;for(var e=u.length-1;e>=0;)t.indexOf(u[e])!==-1&&u.splice(e,1),e--;if(e=u.length,e===0)return null;c>0&&e>r&&(u.splice(r),e=r);for(var i=0;i<e;i++){var l=u[i];t.push(l),a&&a.call(s,l)}return u};v.exports=y},48522:v=>{var y=function(t,u,c,a,s,r){if(c===void 0&&(c=0),r===void 0&&(r=t),a>0){var e=a-t.length;if(e<=0)return null}if(!Array.isArray(u))return t.indexOf(u)===-1?(t.splice(c,0,u),s&&s.call(r,u),u):null;for(var i=u.length-1;i>=0;)t.indexOf(u[i])!==-1&&u.pop(),i--;if(i=u.length,i===0)return null;a>0&&i>e&&(u.splice(e),i=e);for(var l=i-1;l>=0;l--){var n=u[l];t.splice(c,0,n),s&&s.call(r,n)}return u};v.exports=y},58742:v=>{var y=function(t,u){var c=t.indexOf(u);return c!==-1&&c<t.length&&(t.splice(c,1),t.push(u)),u};v.exports=y},30164:(v,y,t)=>{var u=t(45838),c=function(a,s,r,e,i){e===void 0&&(e=0),i===void 0&&(i=a.length);var l=0;if(u(a,e,i))for(var n=e;n<i;n++){var o=a[n];o[s]===r&&l++}return l};v.exports=c},36337:v=>{var y=function(t,u,c){var a,s=[null];for(a=3;a<arguments.length;a++)s.push(arguments[a]);for(a=0;a<t.length;a++)s[0]=t[a],u.apply(c,s);return t};v.exports=y},46208:(v,y,t)=>{var u=t(45838),c=function(a,s,r,e,i){if(e===void 0&&(e=0),i===void 0&&(i=a.length),u(a,e,i)){var l,n=[null];for(l=5;l<arguments.length;l++)n.push(arguments[l]);for(l=e;l<i;l++)n[0]=a[l],s.apply(r,n)}return a};v.exports=c},2406:v=>{var y=function(t,u,c){if(u.length){if(u.length===1)return u[0]}else return NaN;var a=1,s,r;if(c){if(t<u[0][c])return u[0];for(;u[a][c]<t;)a++}else for(;u[a]<t;)a++;return a>u.length&&(a=u.length),c?(s=u[a-1][c],r=u[a][c],r-t<=t-s?u[a]:u[a-1]):(s=u[a-1],r=u[a],r-t<=t-s?r:s)};v.exports=y},5454:v=>{var y=function(t,u){u===void 0&&(u=[]);for(var c=0;c<t.length;c++)Array.isArray(t[c])?y(t[c],u):u.push(t[c]);return u};v.exports=y},71608:(v,y,t)=>{var u=t(45838),c=function(a,s,r,e,i){e===void 0&&(e=0),i===void 0&&(i=a.length);var l=[];if(u(a,e,i))for(var n=e;n<i;n++){var o=a[n];(!s||s&&r===void 0&&o.hasOwnProperty(s)||s&&r!==void 0&&o[s]===r)&&l.push(o)}return l};v.exports=c},51463:(v,y,t)=>{var u=t(45838),c=function(a,s,r,e,i){if(e===void 0&&(e=0),i===void 0&&(i=a.length),u(a,e,i))for(var l=e;l<i;l++){var n=a[l];if(!s||s&&r===void 0&&n.hasOwnProperty(s)||s&&r!==void 0&&n[s]===r)return n}return null};v.exports=c},72861:v=>{var y=function(t,u,c){u===void 0&&(u=0),c===void 0&&(c=t.length);var a=u+Math.floor(Math.random()*c);return t[a]===void 0?null:t[a]};v.exports=y},24218:v=>{var y=function(t,u,c){if(u===c)return t;var a=t.indexOf(u),s=t.indexOf(c);if(a<0||s<0)throw new Error("Supplied items must be elements of the same array");return a>s||(t.splice(a,1),s===t.length-1?t.push(u):t.splice(s,0,u)),t};v.exports=y},58258:v=>{var y=function(t,u,c){if(u===c)return t;var a=t.indexOf(u),s=t.indexOf(c);if(a<0||s<0)throw new Error("Supplied items must be elements of the same array");return a<s||(t.splice(a,1),s===0?t.unshift(u):t.splice(s,0,u)),t};v.exports=y},51172:v=>{var y=function(t,u){var c=t.indexOf(u);if(c>0){var a=t[c-1],s=t.indexOf(a);t[c]=a,t[s]=u}return t};v.exports=y},68396:v=>{var y=function(t,u,c){var a=t.indexOf(u);if(a===-1||c<0||c>=t.length)throw new Error("Supplied index out of bounds");return a!==c&&(t.splice(a,1),t.splice(c,0,u)),u};v.exports=y},27555:v=>{var y=function(t,u){var c=t.indexOf(u);if(c!==-1&&c<t.length-1){var a=t[c+1],s=t.indexOf(a);t[c]=a,t[s]=u}return t};v.exports=y},13401:v=>{var y=function(t,u,c,a){var s=[],r,e=!1;if((c||a)&&(e=!0,c||(c=""),a||(a="")),u<t)for(r=t;r>=u;r--)e?s.push(c+r.toString()+a):s.push(r);else for(r=t;r<=u;r++)e?s.push(c+r.toString()+a):s.push(r);return s};v.exports=y},89955:(v,y,t)=>{var u=t(67233),c=function(a,s,r){a===void 0&&(a=0),s===void 0&&(s=null),r===void 0&&(r=1),s===null&&(s=a,a=0);for(var e=[],i=Math.max(u((s-a)/(r||1)),0),l=0;l<i;l++)e.push(a),a+=r;return e};v.exports=c},53466:v=>{function y(c,a,s){var r=c[a];c[a]=c[s],c[s]=r}function t(c,a){return c<a?-1:c>a?1:0}var u=function(c,a,s,r,e){for(s===void 0&&(s=0),r===void 0&&(r=c.length-1),e===void 0&&(e=t);r>s;){if(r-s>600){var i=r-s+1,l=a-s+1,n=Math.log(i),o=.5*Math.exp(2*n/3),f=.5*Math.sqrt(n*o*(i-o)/i)*(l-i/2<0?-1:1),h=Math.max(s,Math.floor(a-l*o/i+f)),d=Math.min(r,Math.floor(a+(i-l)*o/i+f));u(c,a,h,d,e)}var p=c[a],x=s,S=r;for(y(c,s,a),e(c[r],p)>0&&y(c,s,r);x<S;){for(y(c,x,S),x++,S--;e(c[x],p)<0;)x++;for(;e(c[S],p)>0;)S--}e(c[s],p)===0?y(c,s,S):(S++,y(c,S,r)),S<=a&&(s=S+1),a<=S&&(r=S-1)}};v.exports=u},75757:(v,y,t)=>{var u=t(10850),c=t(18592),a=function(r,e,i){for(var l=[],n=0;n<r.length;n++)for(var o=0;o<e.length;o++)for(var f=0;f<i;f++)l.push({a:r[n],b:e[o]});return l},s=function(r,e,i){var l=u(i,"max",0),n=u(i,"qty",1),o=u(i,"random",!1),f=u(i,"randomB",!1),h=u(i,"repeat",0),d=u(i,"yoyo",!1),p=[];if(f&&c(e),h===-1)if(l===0)h=0;else{var x=r.length*e.length*n;d&&(x*=2),h=Math.ceil(l/x)}for(var S=0;S<=h;S++){var T=a(r,e,n);o&&c(T),p=p.concat(T),d&&(T.reverse(),p=p.concat(T))}return l&&p.splice(l),p};v.exports=s},66458:(v,y,t)=>{var u=t(72677),c=function(a,s,r,e){e===void 0&&(e=a);var i;if(!Array.isArray(s))return i=a.indexOf(s),i!==-1?(u(a,i),r&&r.call(e,s),s):null;for(var l=s.length-1,n=[];l>=0;){var o=s[l];i=a.indexOf(o),i!==-1&&(u(a,i),n.push(o),r&&r.call(e,o)),l--}return n};v.exports=c},8324:(v,y,t)=>{var u=t(72677),c=function(a,s,r,e){if(e===void 0&&(e=a),s<0||s>a.length-1)throw new Error("Index out of bounds");var i=u(a,s);return r&&r.call(e,i),i};v.exports=c},47427:(v,y,t)=>{var u=t(45838),c=function(a,s,r,e,i){if(s===void 0&&(s=0),r===void 0&&(r=a.length),i===void 0&&(i=a),u(a,s,r)){var l=r-s,n=a.splice(s,l);if(e)for(var o=0;o<n.length;o++){var f=n[o];e.call(i,f)}return n}else return[]};v.exports=c},50147:(v,y,t)=>{var u=t(72677),c=function(a,s,r){s===void 0&&(s=0),r===void 0&&(r=a.length);var e=s+Math.floor(Math.random()*r);return u(a,e)};v.exports=c},80402:v=>{var y=function(t,u,c){var a=t.indexOf(u),s=t.indexOf(c);return a!==-1&&s===-1?(t[a]=c,!0):!1};v.exports=y},77640:v=>{var y=function(t,u){u===void 0&&(u=1);for(var c=null,a=0;a<u;a++)c=t.shift(),t.push(c);return c};v.exports=y},38487:v=>{var y=function(t,u){u===void 0&&(u=1);for(var c=null,a=0;a<u;a++)c=t.pop(),t.unshift(c);return c};v.exports=y},45838:v=>{var y=function(t,u,c,a){var s=t.length;if(u<0||u>s||u>=c||c>s){if(a)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};v.exports=y},27847:v=>{var y=function(t,u){var c=t.indexOf(u);return c!==-1&&c>0&&(t.splice(c,1),t.unshift(u)),u};v.exports=y},6034:(v,y,t)=>{var u=t(45838),c=function(a,s,r,e,i){if(e===void 0&&(e=0),i===void 0&&(i=a.length),u(a,e,i))for(var l=e;l<i;l++){var n=a[l];n.hasOwnProperty(s)&&(n[s]=r)}return a};v.exports=c},18592:v=>{var y=function(t){for(var u=t.length-1;u>0;u--){var c=Math.floor(Math.random()*(u+1)),a=t[u];t[u]=t[c],t[c]=a}return t};v.exports=y},28834:v=>{var y=function(t){var u=/\D/g;return t.sort(function(c,a){return parseInt(c.replace(u,""),10)-parseInt(a.replace(u,""),10)}),t};v.exports=y},72677:v=>{var y=function(t,u){if(!(u>=t.length)){for(var c=t.length-1,a=t[u],s=u;s<c;s++)t[s]=t[s+1];return t.length=c,a}};v.exports=y},17922:(v,y,t)=>{var u=t(77290);function c(e,i){return String(e).localeCompare(i)}function a(e,i){var l=e.length;if(l<=1)return e;for(var n=new Array(l),o=1;o<l;o*=2){s(e,i,o,n);var f=e;e=n,n=f}return e}function s(e,i,l,n){var o=e.length,f=0,h=l*2,d,p,x,S,T;for(d=0;d<o;d+=h)for(p=d+l,x=p+l,p>o&&(p=o),x>o&&(x=o),S=d,T=p;;)if(S<p&&T<x)i(e[S],e[T])<=0?n[f++]=e[S++]:n[f++]=e[T++];else if(S<p)n[f++]=e[S++];else if(T<x)n[f++]=e[T++];else break}var r=function(e,i){if(i===void 0&&(i=c),!e||e.length<2)return e;if(u.features.stableSort)return e.sort(i);var l=a(e,i);return l!==e&&s(l,null,e.length,e),e};v.exports=r},96928:v=>{var y=function(t,u,c){if(u===c)return t;var a=t.indexOf(u),s=t.indexOf(c);if(a<0||s<0)throw new Error("Supplied items must be elements of the same array");return t[a]=c,t[s]=u,t};v.exports=y},59959:(v,y,t)=>{v.exports={Matrix:t(13515),Add:t(78991),AddAt:t(48522),BringToTop:t(58742),CountAllMatching:t(30164),Each:t(36337),EachInRange:t(46208),FindClosestInSorted:t(2406),Flatten:t(5454),GetAll:t(71608),GetFirst:t(51463),GetRandom:t(72861),MoveDown:t(51172),MoveTo:t(68396),MoveUp:t(27555),MoveAbove:t(24218),MoveBelow:t(58258),NumberArray:t(13401),NumberArrayStep:t(89955),QuickSelect:t(53466),Range:t(75757),Remove:t(66458),RemoveAt:t(8324),RemoveBetween:t(47427),RemoveRandomElement:t(50147),Replace:t(80402),RotateLeft:t(77640),RotateRight:t(38487),SafeRange:t(45838),SendToBack:t(27847),SetAll:t(6034),Shuffle:t(18592),SortByDigits:t(28834),SpliceOne:t(72677),StableSort:t(17922),Swap:t(96928)}},97494:v=>{var y=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var u=t[0].length,c=1;c<t.length;c++)if(t[c].length!==u)return!1;return!0};v.exports=y},68428:(v,y,t)=>{var u=t(76400),c=t(97494),a=function(s){var r="";if(!c(s))return r;for(var e=0;e<s.length;e++){for(var i=0;i<s[e].length;i++){var l=s[e][i].toString();l!=="undefined"?r+=u(l,2):r+="?",i<s[e].length-1&&(r+=" |")}if(e<s.length-1){r+=`
`;for(var n=0;n<s[e].length;n++)r+="---",n<s[e].length-1&&(r+="+");r+=`
`}}return r};v.exports=a},59521:v=>{var y=function(t){return t.reverse()};v.exports=y},51995:v=>{var y=function(t){for(var u=0;u<t.length;u++)t[u].reverse();return t};v.exports=y},89011:(v,y,t)=>{var u=t(63515),c=function(a){return u(a,180)};v.exports=c},42549:(v,y,t)=>{var u=t(63515),c=function(a){return u(a,90)};v.exports=c},63515:(v,y,t)=>{var u=t(97494),c=t(78581),a=function(s,r){if(r===void 0&&(r=90),!u(s))return null;if(typeof r!="string"&&(r=(r%360+360)%360),r===90||r===-270||r==="rotateLeft")s=c(s),s.reverse();else if(r===-90||r===270||r==="rotateRight")s.reverse(),s=c(s);else if(Math.abs(r)===180||r==="rotate180"){for(var e=0;e<s.length;e++)s[e].reverse();s.reverse()}return s};v.exports=a},14305:(v,y,t)=>{var u=t(63515),c=function(a){return u(a,-90)};v.exports=c},27365:(v,y,t)=>{var u=t(77640),c=t(38487),a=function(s,r,e){if(r===void 0&&(r=0),e===void 0&&(e=0),e!==0&&(e<0?u(s,Math.abs(e)):c(s,e)),r!==0)for(var i=0;i<s.length;i++){var l=s[i];r<0?u(l,Math.abs(r)):c(l,r)}return s};v.exports=a},78581:v=>{var y=function(t){for(var u=t.length,c=t[0].length,a=new Array(c),s=0;s<c;s++){a[s]=new Array(u);for(var r=u-1;r>-1;r--)a[s][r]=t[r][s]}return a};v.exports=y},13515:(v,y,t)=>{v.exports={CheckMatrix:t(97494),MatrixToString:t(68428),ReverseColumns:t(59521),ReverseRows:t(51995),Rotate180:t(89011),RotateLeft:t(42549),RotateMatrix:t(63515),RotateRight:t(14305),Translate:t(27365),TransposeMatrix:t(78581)}},40581:v=>{var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(u,c){for(var a=new Uint8Array(u),s=a.length,r=c?"data:"+c+";base64,":"",e=0;e<s;e+=3)r+=y[a[e]>>2],r+=y[(a[e]&3)<<4|a[e+1]>>4],r+=y[(a[e+1]&15)<<2|a[e+2]>>6],r+=y[a[e+2]&63];return s%3===2?r=r.substring(0,r.length-1)+"=":s%3===1&&(r=r.substring(0,r.length-2)+"=="),r};v.exports=t},82329:v=>{for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),u=0;u<y.length;u++)t[y.charCodeAt(u)]=u;var c=function(a){a=a.substr(a.indexOf(",")+1);var s=a.length,r=s*.75,e=0,i,l,n,o;a[s-1]==="="&&(r--,a[s-2]==="="&&r--);for(var f=new ArrayBuffer(r),h=new Uint8Array(f),d=0;d<s;d+=4)i=t[a.charCodeAt(d)],l=t[a.charCodeAt(d+1)],n=t[a.charCodeAt(d+2)],o=t[a.charCodeAt(d+3)],h[e++]=i<<2|l>>4,h[e++]=(l&15)<<4|n>>2,h[e++]=(n&3)<<6|o&63;return f};v.exports=c},78417:(v,y,t)=>{v.exports={ArrayBufferToBase64:t(40581),Base64ToArrayBuffer:t(82329)}},22178:(v,y,t)=>{v.exports={Array:t(59959),Base64:t(78417),Objects:t(64615),String:t(50379),NOOP:t(72283),NULL:t(10618)}},32742:v=>{var y=function(t){var u={};for(var c in t)Array.isArray(t[c])?u[c]=t[c].slice(0):u[c]=t[c];return u};v.exports=y},28699:v=>{var y=function(t){var u,c,a;if(typeof t!="object"||t===null)return t;u=Array.isArray(t)?[]:{};for(a in t)c=t[a],u[a]=y(c);return u};v.exports=y},98611:(v,y,t)=>{var u=t(42911),c=function(){var a,s,r,e,i,l,n=arguments[0]||{},o=1,f=arguments.length,h=!1;for(typeof n=="boolean"&&(h=n,n=arguments[1]||{},o=2),f===o&&(n=this,--o);o<f;o++)if((a=arguments[o])!=null)for(s in a)r=n[s],e=a[s],n!==e&&(h&&e&&(u(e)||(i=Array.isArray(e)))?(i?(i=!1,l=r&&Array.isArray(r)?r:[]):l=r&&u(r)?r:{},n[s]=c(h,l,e)):e!==void 0&&(n[s]=e));return n};v.exports=c},20494:(v,y,t)=>{var u=t(5923),c=t(10850),a=function(s,r,e){var i=c(s,r,null);if(i===null)return e;if(Array.isArray(i))return u.RND.pick(i);if(typeof i=="object"){if(i.hasOwnProperty("randInt"))return u.RND.integerInRange(i.randInt[0],i.randInt[1]);if(i.hasOwnProperty("randFloat"))return u.RND.realInRange(i.randFloat[0],i.randFloat[1])}else if(typeof i=="function")return i(r);return i};v.exports=a},72632:v=>{var y=function(t,u,c){var a=typeof t;return!t||a==="number"||a==="string"?c:t.hasOwnProperty(u)&&t[u]!==void 0?t[u]:c};v.exports=y},94324:(v,y,t)=>{var u=t(10850),c=t(82897),a=function(s,r,e,i,l){l===void 0&&(l=e);var n=u(s,r,l);return c(n,e,i)};v.exports=a},10850:v=>{var y=function(t,u,c,a){if(!t&&!a||typeof t=="number")return c;if(t&&t.hasOwnProperty(u))return t[u];if(a&&a.hasOwnProperty(u))return a[u];if(u.indexOf(".")!==-1){for(var s=u.split("."),r=t,e=a,i=c,l=c,n=!0,o=!0,f=0;f<s.length;f++)r&&r.hasOwnProperty(s[f])?(i=r[s[f]],r=r[s[f]]):n=!1,e&&e.hasOwnProperty(s[f])?(l=e[s[f]],e=e[s[f]]):o=!1;return n?i:o?l:c}else return c};v.exports=y},87701:v=>{var y=function(t,u){for(var c=0;c<u.length;c++)if(!t.hasOwnProperty(u[c]))return!1;return!0};v.exports=y},53523:v=>{var y=function(t,u){for(var c=0;c<u.length;c++)if(t.hasOwnProperty(u[c]))return!0;return!1};v.exports=y},19256:v=>{var y=function(t,u){return t.hasOwnProperty(u)};v.exports=y},42911:v=>{var y=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};v.exports=y},30657:(v,y,t)=>{var u=t(32742),c=function(a,s){var r=u(a);for(var e in s)r.hasOwnProperty(e)||(r[e]=s[e]);return r};v.exports=c},72066:(v,y,t)=>{var u=t(32742),c=function(a,s){var r=u(a);for(var e in s)r.hasOwnProperty(e)&&(r[e]=s[e]);return r};v.exports=c},28820:(v,y,t)=>{var u=t(19256),c=function(a,s){for(var r={},e=0;e<s.length;e++){var i=s[e];u(a,i)&&(r[i]=a[i])}return r};v.exports=c},22440:v=>{var y=function(t,u,c){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(u))return t[u]=c,!0;if(u.indexOf(".")!==-1){for(var a=u.split("."),s=t,r=t,e=0;e<a.length;e++)if(s.hasOwnProperty(a[e]))r=s,s=s[a[e]];else return!1;return r[a[a.length-1]]=c,!0}return!1};v.exports=y},64615:(v,y,t)=>{v.exports={Clone:t(32742),DeepCopy:t(28699),Extend:t(98611),GetAdvancedValue:t(20494),GetFastValue:t(72632),GetMinMaxValue:t(94324),GetValue:t(10850),HasAll:t(87701),HasAny:t(53523),HasValue:t(19256),IsPlainObject:t(42911),Merge:t(30657),MergeRight:t(72066),Pick:t(28820),SetValue:t(22440)}},69429:v=>{var y=function(t,u){return t.replace(/%([0-9]+)/g,function(c,a){return u[Number(a)-1]})};v.exports=y},76400:v=>{var y=function(t,u,c,a){u===void 0&&(u=0),c===void 0&&(c=" "),a===void 0&&(a=3),t=t.toString();var s=0;if(u+1>=t.length)switch(a){case 1:t=new Array(u+1-t.length).join(c)+t;break;case 3:var r=Math.ceil((s=u-t.length)/2),e=s-r;t=new Array(e+1).join(c)+t+new Array(r+1).join(c);break;default:t=t+new Array(u+1-t.length).join(c);break}return t};v.exports=y},76872:v=>{var y=function(t,u){return u===0?t.slice(1):t.slice(0,u-1)+t.slice(u)};v.exports=y},8051:v=>{var y=function(t){return t.split("").reverse().join("")};v.exports=y},76583:v=>{var y=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var u=Math.random()*16|0,c=t==="x"?u:u&3|8;return c.toString(16)})};v.exports=y},40587:v=>{var y=function(t){return t&&t[0].toUpperCase()+t.slice(1)};v.exports=y},50379:(v,y,t)=>{v.exports={Format:t(69429),Pad:t(76400),RemoveAt:t(76872),Reverse:t(8051),UppercaseFirst:t(40587),UUID:t(76583)}}},g={};function A(v){var y=g[v];if(y!==void 0)return y.exports;var t=g[v]={exports:{}};return m[v](t,t.exports,A),t.exports}A.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var F=A(92491);return F})())});var Ou=Gt(ut=>{"use strict";var Xn=Symbol.for("react.element"),Bp=Symbol.for("react.portal"),Np=Symbol.for("react.fragment"),Gp=Symbol.for("react.strict_mode"),zp=Symbol.for("react.profiler"),Up=Symbol.for("react.provider"),Vp=Symbol.for("react.context"),Xp=Symbol.for("react.forward_ref"),Yp=Symbol.for("react.suspense"),Wp=Symbol.for("react.memo"),Hp=Symbol.for("react.lazy"),Tu=Symbol.iterator;function bp(m){return m===null||typeof m!="object"?null:(m=Tu&&m[Tu]||m["@@iterator"],typeof m=="function"?m:null)}var Cu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pu=Object.assign,Au={};function tn(m,g,A){this.props=m,this.context=g,this.refs=Au,this.updater=A||Cu}tn.prototype.isReactComponent={};tn.prototype.setState=function(m,g){if(typeof m!="object"&&typeof m!="function"&&m!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,m,g,"setState")};tn.prototype.forceUpdate=function(m){this.updater.enqueueForceUpdate(this,m,"forceUpdate")};function Mu(){}Mu.prototype=tn.prototype;function uo(m,g,A){this.props=m,this.context=g,this.refs=Au,this.updater=A||Cu}var fo=uo.prototype=new Mu;fo.constructor=uo;Pu(fo,tn.prototype);fo.isPureReactComponent=!0;var Su=Array.isArray,Ru=Object.prototype.hasOwnProperty,vo={current:null},Fu={key:!0,ref:!0,__self:!0,__source:!0};function Lu(m,g,A){var F,v={},y=null,t=null;if(g!=null)for(F in g.ref!==void 0&&(t=g.ref),g.key!==void 0&&(y=""+g.key),g)Ru.call(g,F)&&!Fu.hasOwnProperty(F)&&(v[F]=g[F]);var u=arguments.length-2;if(u===1)v.children=A;else if(1<u){for(var c=Array(u),a=0;a<u;a++)c[a]=arguments[a+2];v.children=c}if(m&&m.defaultProps)for(F in u=m.defaultProps,u)v[F]===void 0&&(v[F]=u[F]);return{$$typeof:Xn,type:m,key:y,ref:t,props:v,_owner:vo.current}}function Kp(m,g){return{$$typeof:Xn,type:m.type,key:g,ref:m.ref,props:m.props,_owner:m._owner}}function co(m){return typeof m=="object"&&m!==null&&m.$$typeof===Xn}function Zp(m){var g={"=":"=0",":":"=2"};return"$"+m.replace(/[=:]/g,function(A){return g[A]})}var Eu=/\/+/g;function ho(m,g){return typeof m=="object"&&m!==null&&m.key!=null?Zp(""+m.key):g.toString(36)}function es(m,g,A,F,v){var y=typeof m;(y==="undefined"||y==="boolean")&&(m=null);var t=!1;if(m===null)t=!0;else switch(y){case"string":case"number":t=!0;break;case"object":switch(m.$$typeof){case Xn:case Bp:t=!0}}if(t)return t=m,v=v(t),m=F===""?"."+ho(t,0):F,Su(v)?(A="",m!=null&&(A=m.replace(Eu,"$&/")+"/"),es(v,g,A,"",function(a){return a})):v!=null&&(co(v)&&(v=Kp(v,A+(!v.key||t&&t.key===v.key?"":(""+v.key).replace(Eu,"$&/")+"/")+m)),g.push(v)),1;if(t=0,F=F===""?".":F+":",Su(m))for(var u=0;u<m.length;u++){y=m[u];var c=F+ho(y,u);t+=es(y,g,A,c,v)}else if(c=bp(m),typeof c=="function")for(m=c.call(m),u=0;!(y=m.next()).done;)y=y.value,c=F+ho(y,u++),t+=es(y,g,A,c,v);else if(y==="object")throw g=String(m),Error("Objects are not valid as a React child (found: "+(g==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":g)+"). If you meant to render a collection of children, use an array instead.");return t}function ts(m,g,A){if(m==null)return m;var F=[],v=0;return es(m,F,"","",function(y){return g.call(A,y,v++)}),F}function Qp(m){if(m._status===-1){var g=m._result;g=g(),g.then(function(A){(m._status===0||m._status===-1)&&(m._status=1,m._result=A)},function(A){(m._status===0||m._status===-1)&&(m._status=2,m._result=A)}),m._status===-1&&(m._status=0,m._result=g)}if(m._status===1)return m._result.default;throw m._result}var kt={current:null},is={transition:null},Jp={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:is,ReactCurrentOwner:vo};ut.Children={map:ts,forEach:function(m,g,A){ts(m,function(){g.apply(this,arguments)},A)},count:function(m){var g=0;return ts(m,function(){g++}),g},toArray:function(m){return ts(m,function(g){return g})||[]},only:function(m){if(!co(m))throw Error("React.Children.only expected to receive a single React element child.");return m}};ut.Component=tn;ut.Fragment=Np;ut.Profiler=zp;ut.PureComponent=uo;ut.StrictMode=Gp;ut.Suspense=Yp;ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jp;ut.cloneElement=function(m,g,A){if(m==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+m+".");var F=Pu({},m.props),v=m.key,y=m.ref,t=m._owner;if(g!=null){if(g.ref!==void 0&&(y=g.ref,t=vo.current),g.key!==void 0&&(v=""+g.key),m.type&&m.type.defaultProps)var u=m.type.defaultProps;for(c in g)Ru.call(g,c)&&!Fu.hasOwnProperty(c)&&(F[c]=g[c]===void 0&&u!==void 0?u[c]:g[c])}var c=arguments.length-2;if(c===1)F.children=A;else if(1<c){u=Array(c);for(var a=0;a<c;a++)u[a]=arguments[a+2];F.children=u}return{$$typeof:Xn,type:m.type,key:v,ref:y,props:F,_owner:t}};ut.createContext=function(m){return m={$$typeof:Vp,_currentValue:m,_currentValue2:m,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},m.Provider={$$typeof:Up,_context:m},m.Consumer=m};ut.createElement=Lu;ut.createFactory=function(m){var g=Lu.bind(null,m);return g.type=m,g};ut.createRef=function(){return{current:null}};ut.forwardRef=function(m){return{$$typeof:Xp,render:m}};ut.isValidElement=co;ut.lazy=function(m){return{$$typeof:Hp,_payload:{_status:-1,_result:m},_init:Qp}};ut.memo=function(m,g){return{$$typeof:Wp,type:m,compare:g===void 0?null:g}};ut.startTransition=function(m){var g=is.transition;is.transition={};try{m()}finally{is.transition=g}};ut.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ut.useCallback=function(m,g){return kt.current.useCallback(m,g)};ut.useContext=function(m){return kt.current.useContext(m)};ut.useDebugValue=function(){};ut.useDeferredValue=function(m){return kt.current.useDeferredValue(m)};ut.useEffect=function(m,g){return kt.current.useEffect(m,g)};ut.useId=function(){return kt.current.useId()};ut.useImperativeHandle=function(m,g,A){return kt.current.useImperativeHandle(m,g,A)};ut.useInsertionEffect=function(m,g){return kt.current.useInsertionEffect(m,g)};ut.useLayoutEffect=function(m,g){return kt.current.useLayoutEffect(m,g)};ut.useMemo=function(m,g){return kt.current.useMemo(m,g)};ut.useReducer=function(m,g,A){return kt.current.useReducer(m,g,A)};ut.useRef=function(m){return kt.current.useRef(m)};ut.useState=function(m){return kt.current.useState(m)};ut.useSyncExternalStore=function(m,g,A){return kt.current.useSyncExternalStore(m,g,A)};ut.useTransition=function(){return kt.current.useTransition()};ut.version="18.2.0"});var qt=Gt((Hx,wu)=>{"use strict";wu.exports=Ou()});var Yu=Gt(yt=>{"use strict";function xo(m,g){var A=m.length;m.push(g);t:for(;0<A;){var F=A-1>>>1,v=m[F];if(0<ns(v,g))m[F]=g,m[A]=v,A=F;else break t}}function Fe(m){return m.length===0?null:m[0]}function ss(m){if(m.length===0)return null;var g=m[0],A=m.pop();if(A!==g){m[0]=A;t:for(var F=0,v=m.length,y=v>>>1;F<y;){var t=2*(F+1)-1,u=m[t],c=t+1,a=m[c];if(0>ns(u,A))c<v&&0>ns(a,u)?(m[F]=a,m[c]=A,F=c):(m[F]=u,m[t]=A,F=t);else if(c<v&&0>ns(a,A))m[F]=a,m[c]=A,F=c;else break t}}return g}function ns(m,g){var A=m.sortIndex-g.sortIndex;return A!==0?A:m.id-g.id}typeof performance=="object"&&typeof performance.now=="function"?(Du=performance,yt.unstable_now=function(){return Du.now()}):(po=Date,Iu=po.now(),yt.unstable_now=function(){return po.now()-Iu});var Du,po,Iu,Ue=[],ni=[],jp=1,xe=null,bt=3,as=!1,Gi=!1,Wn=!1,Gu=typeof setTimeout=="function"?setTimeout:null,zu=typeof clearTimeout=="function"?clearTimeout:null,Bu=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function yo(m){for(var g=Fe(ni);g!==null;){if(g.callback===null)ss(ni);else if(g.startTime<=m)ss(ni),g.sortIndex=g.expirationTime,xo(Ue,g);else break;g=Fe(ni)}}function To(m){if(Wn=!1,yo(m),!Gi)if(Fe(Ue)!==null)Gi=!0,Eo(So);else{var g=Fe(ni);g!==null&&Co(To,g.startTime-m)}}function So(m,g){Gi=!1,Wn&&(Wn=!1,zu(Hn),Hn=-1),as=!0;var A=bt;try{for(yo(g),xe=Fe(Ue);xe!==null&&(!(xe.expirationTime>g)||m&&!Xu());){var F=xe.callback;if(typeof F=="function"){xe.callback=null,bt=xe.priorityLevel;var v=F(xe.expirationTime<=g);g=yt.unstable_now(),typeof v=="function"?xe.callback=v:xe===Fe(Ue)&&ss(Ue),yo(g)}else ss(Ue);xe=Fe(Ue)}if(xe!==null)var y=!0;else{var t=Fe(ni);t!==null&&Co(To,t.startTime-g),y=!1}return y}finally{xe=null,bt=A,as=!1}}var os=!1,rs=null,Hn=-1,Uu=5,Vu=-1;function Xu(){return!(yt.unstable_now()-Vu<Uu)}function mo(){if(rs!==null){var m=yt.unstable_now();Vu=m;var g=!0;try{g=rs(!0,m)}finally{g?Yn():(os=!1,rs=null)}}else os=!1}var Yn;typeof Bu=="function"?Yn=function(){Bu(mo)}:typeof MessageChannel<"u"?(go=new MessageChannel,Nu=go.port2,go.port1.onmessage=mo,Yn=function(){Nu.postMessage(null)}):Yn=function(){Gu(mo,0)};var go,Nu;function Eo(m){rs=m,os||(os=!0,Yn())}function Co(m,g){Hn=Gu(function(){m(yt.unstable_now())},g)}yt.unstable_IdlePriority=5;yt.unstable_ImmediatePriority=1;yt.unstable_LowPriority=4;yt.unstable_NormalPriority=3;yt.unstable_Profiling=null;yt.unstable_UserBlockingPriority=2;yt.unstable_cancelCallback=function(m){m.callback=null};yt.unstable_continueExecution=function(){Gi||as||(Gi=!0,Eo(So))};yt.unstable_forceFrameRate=function(m){0>m||125<m?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Uu=0<m?Math.floor(1e3/m):5};yt.unstable_getCurrentPriorityLevel=function(){return bt};yt.unstable_getFirstCallbackNode=function(){return Fe(Ue)};yt.unstable_next=function(m){switch(bt){case 1:case 2:case 3:var g=3;break;default:g=bt}var A=bt;bt=g;try{return m()}finally{bt=A}};yt.unstable_pauseExecution=function(){};yt.unstable_requestPaint=function(){};yt.unstable_runWithPriority=function(m,g){switch(m){case 1:case 2:case 3:case 4:case 5:break;default:m=3}var A=bt;bt=m;try{return g()}finally{bt=A}};yt.unstable_scheduleCallback=function(m,g,A){var F=yt.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?F+A:F):A=F,m){case 1:var v=-1;break;case 2:v=250;break;case 5:v=1073741823;break;case 4:v=1e4;break;default:v=5e3}return v=A+v,m={id:jp++,callback:g,priorityLevel:m,startTime:A,expirationTime:v,sortIndex:-1},A>F?(m.sortIndex=A,xo(ni,m),Fe(Ue)===null&&m===Fe(ni)&&(Wn?(zu(Hn),Hn=-1):Wn=!0,Co(To,A-F))):(m.sortIndex=v,xo(Ue,m),Gi||as||(Gi=!0,Eo(So))),m};yt.unstable_shouldYield=Xu;yt.unstable_wrapCallback=function(m){var g=bt;return function(){var A=bt;bt=g;try{return m.apply(this,arguments)}finally{bt=A}}}});var Hu=Gt((Kx,Wu)=>{"use strict";Wu.exports=Yu()});var $v=Gt(pe=>{"use strict";var kf=qt(),ve=Hu();function tt(m){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+m,A=1;A<arguments.length;A++)g+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qf=new Set,fr={};function ji(m,g){En(m,g),En(m+"Capture",g)}function En(m,g){for(fr[m]=g,m=0;m<g.length;m++)qf.add(g[m])}var ke=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zo=Object.prototype.hasOwnProperty,$p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bu={},Ku={};function kp(m){return Zo.call(Ku,m)?!0:Zo.call(bu,m)?!1:$p.test(m)?Ku[m]=!0:(bu[m]=!0,!1)}function qp(m,g,A,F){if(A!==null&&A.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return F?!1:A!==null?!A.acceptsBooleans:(m=m.toLowerCase().slice(0,5),m!=="data-"&&m!=="aria-");default:return!1}}function _p(m,g,A,F){if(g===null||typeof g>"u"||qp(m,g,A,F))return!0;if(F)return!1;if(A!==null)switch(A.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function ee(m,g,A,F,v,y,t){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=F,this.attributeNamespace=v,this.mustUseProperty=A,this.propertyName=m,this.type=g,this.sanitizeURL=y,this.removeEmptyString=t}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(m){Ht[m]=new ee(m,0,!1,m,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(m){var g=m[0];Ht[g]=new ee(g,1,!1,m[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(m){Ht[m]=new ee(m,2,!1,m.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(m){Ht[m]=new ee(m,2,!1,m,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(m){Ht[m]=new ee(m,3,!1,m.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(m){Ht[m]=new ee(m,3,!0,m,null,!1,!1)});["capture","download"].forEach(function(m){Ht[m]=new ee(m,4,!1,m,null,!1,!1)});["cols","rows","size","span"].forEach(function(m){Ht[m]=new ee(m,6,!1,m,null,!1,!1)});["rowSpan","start"].forEach(function(m){Ht[m]=new ee(m,5,!1,m.toLowerCase(),null,!1,!1)});var Ul=/[\-:]([a-z])/g;function Vl(m){return m[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(m){var g=m.replace(Ul,Vl);Ht[g]=new ee(g,1,!1,m,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(m){var g=m.replace(Ul,Vl);Ht[g]=new ee(g,1,!1,m,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(m){var g=m.replace(Ul,Vl);Ht[g]=new ee(g,1,!1,m,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(m){Ht[m]=new ee(m,1,!1,m.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(m){Ht[m]=new ee(m,1,!1,m.toLowerCase(),null,!0,!0)});function Xl(m,g,A,F){var v=Ht.hasOwnProperty(g)?Ht[g]:null;(v!==null?v.type!==0:F||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(_p(g,A,v,F)&&(A=null),F||v===null?kp(g)&&(A===null?m.removeAttribute(g):m.setAttribute(g,""+A)):v.mustUseProperty?m[v.propertyName]=A===null?v.type===3?!1:"":A:(g=v.attributeName,F=v.attributeNamespace,A===null?m.removeAttribute(g):(v=v.type,A=v===3||v===4&&A===!0?"":""+A,F?m.setAttributeNS(F,g,A):m.setAttribute(g,A))))}var ei=kf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ls=Symbol.for("react.element"),rn=Symbol.for("react.portal"),sn=Symbol.for("react.fragment"),Yl=Symbol.for("react.strict_mode"),Qo=Symbol.for("react.profiler"),_f=Symbol.for("react.provider"),td=Symbol.for("react.context"),Wl=Symbol.for("react.forward_ref"),Jo=Symbol.for("react.suspense"),jo=Symbol.for("react.suspense_list"),Hl=Symbol.for("react.memo"),si=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var ed=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var Zu=Symbol.iterator;function bn(m){return m===null||typeof m!="object"?null:(m=Zu&&m[Zu]||m["@@iterator"],typeof m=="function"?m:null)}var Ft=Object.assign,Po;function qn(m){if(Po===void 0)try{throw Error()}catch(A){var g=A.stack.trim().match(/\n( *(at )?)/);Po=g&&g[1]||""}return`
`+Po+m}var Ao=!1;function Mo(m,g){if(!m||Ao)return"";Ao=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(a){var F=a}Reflect.construct(m,[],g)}else{try{g.call()}catch(a){F=a}m.call(g.prototype)}else{try{throw Error()}catch(a){F=a}m()}}catch(a){if(a&&F&&typeof a.stack=="string"){for(var v=a.stack.split(`
`),y=F.stack.split(`
`),t=v.length-1,u=y.length-1;1<=t&&0<=u&&v[t]!==y[u];)u--;for(;1<=t&&0<=u;t--,u--)if(v[t]!==y[u]){if(t!==1||u!==1)do if(t--,u--,0>u||v[t]!==y[u]){var c=`
`+v[t].replace(" at new "," at ");return m.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",m.displayName)),c}while(1<=t&&0<=u);break}}}finally{Ao=!1,Error.prepareStackTrace=A}return(m=m?m.displayName||m.name:"")?qn(m):""}function t0(m){switch(m.tag){case 5:return qn(m.type);case 16:return qn("Lazy");case 13:return qn("Suspense");case 19:return qn("SuspenseList");case 0:case 2:case 15:return m=Mo(m.type,!1),m;case 11:return m=Mo(m.type.render,!1),m;case 1:return m=Mo(m.type,!0),m;default:return""}}function $o(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case sn:return"Fragment";case rn:return"Portal";case Qo:return"Profiler";case Yl:return"StrictMode";case Jo:return"Suspense";case jo:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case td:return(m.displayName||"Context")+".Consumer";case _f:return(m._context.displayName||"Context")+".Provider";case Wl:var g=m.render;return m=m.displayName,m||(m=g.displayName||g.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case Hl:return g=m.displayName||null,g!==null?g:$o(m.type)||"Memo";case si:g=m._payload,m=m._init;try{return $o(m(g))}catch{}}return null}function e0(m){var g=m.type;switch(m.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=g.render,m=m.displayName||m.name||"",g.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $o(g);case 8:return g===Yl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function yi(m){switch(typeof m){case"boolean":case"number":case"string":case"undefined":return m;case"object":return m;default:return""}}function id(m){var g=m.type;return(m=m.nodeName)&&m.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function i0(m){var g=id(m)?"checked":"value",A=Object.getOwnPropertyDescriptor(m.constructor.prototype,g),F=""+m[g];if(!m.hasOwnProperty(g)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var v=A.get,y=A.set;return Object.defineProperty(m,g,{configurable:!0,get:function(){return v.call(this)},set:function(t){F=""+t,y.call(this,t)}}),Object.defineProperty(m,g,{enumerable:A.enumerable}),{getValue:function(){return F},setValue:function(t){F=""+t},stopTracking:function(){m._valueTracker=null,delete m[g]}}}}function hs(m){m._valueTracker||(m._valueTracker=i0(m))}function nd(m){if(!m)return!1;var g=m._valueTracker;if(!g)return!0;var A=g.getValue(),F="";return m&&(F=id(m)?m.checked?"true":"false":m.value),m=F,m!==A?(g.setValue(m),!0):!1}function zs(m){if(m=m||(typeof document<"u"?document:void 0),typeof m>"u")return null;try{return m.activeElement||m.body}catch{return m.body}}function ko(m,g){var A=g.checked;return Ft({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:A??m._wrapperState.initialChecked})}function Qu(m,g){var A=g.defaultValue==null?"":g.defaultValue,F=g.checked!=null?g.checked:g.defaultChecked;A=yi(g.value!=null?g.value:A),m._wrapperState={initialChecked:F,initialValue:A,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function rd(m,g){g=g.checked,g!=null&&Xl(m,"checked",g,!1)}function qo(m,g){rd(m,g);var A=yi(g.value),F=g.type;if(A!=null)F==="number"?(A===0&&m.value===""||m.value!=A)&&(m.value=""+A):m.value!==""+A&&(m.value=""+A);else if(F==="submit"||F==="reset"){m.removeAttribute("value");return}g.hasOwnProperty("value")?_o(m,g.type,A):g.hasOwnProperty("defaultValue")&&_o(m,g.type,yi(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(m.defaultChecked=!!g.defaultChecked)}function Ju(m,g,A){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var F=g.type;if(!(F!=="submit"&&F!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+m._wrapperState.initialValue,A||g===m.value||(m.value=g),m.defaultValue=g}A=m.name,A!==""&&(m.name=""),m.defaultChecked=!!m._wrapperState.initialChecked,A!==""&&(m.name=A)}function _o(m,g,A){(g!=="number"||zs(m.ownerDocument)!==m)&&(A==null?m.defaultValue=""+m._wrapperState.initialValue:m.defaultValue!==""+A&&(m.defaultValue=""+A))}var _n=Array.isArray;function mn(m,g,A,F){if(m=m.options,g){g={};for(var v=0;v<A.length;v++)g["$"+A[v]]=!0;for(A=0;A<m.length;A++)v=g.hasOwnProperty("$"+m[A].value),m[A].selected!==v&&(m[A].selected=v),v&&F&&(m[A].defaultSelected=!0)}else{for(A=""+yi(A),g=null,v=0;v<m.length;v++){if(m[v].value===A){m[v].selected=!0,F&&(m[v].defaultSelected=!0);return}g!==null||m[v].disabled||(g=m[v])}g!==null&&(g.selected=!0)}}function tl(m,g){if(g.dangerouslySetInnerHTML!=null)throw Error(tt(91));return Ft({},g,{value:void 0,defaultValue:void 0,children:""+m._wrapperState.initialValue})}function ju(m,g){var A=g.value;if(A==null){if(A=g.children,g=g.defaultValue,A!=null){if(g!=null)throw Error(tt(92));if(_n(A)){if(1<A.length)throw Error(tt(93));A=A[0]}g=A}g==null&&(g=""),A=g}m._wrapperState={initialValue:yi(A)}}function sd(m,g){var A=yi(g.value),F=yi(g.defaultValue);A!=null&&(A=""+A,A!==m.value&&(m.value=A),g.defaultValue==null&&m.defaultValue!==A&&(m.defaultValue=A)),F!=null&&(m.defaultValue=""+F)}function $u(m){var g=m.textContent;g===m._wrapperState.initialValue&&g!==""&&g!==null&&(m.value=g)}function ad(m){switch(m){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function el(m,g){return m==null||m==="http://www.w3.org/1999/xhtml"?ad(g):m==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":m}var us,od=function(m){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,A,F,v){MSApp.execUnsafeLocalFunction(function(){return m(g,A,F,v)})}:m}(function(m,g){if(m.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in m)m.innerHTML=g;else{for(us=us||document.createElement("div"),us.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=us.firstChild;m.firstChild;)m.removeChild(m.firstChild);for(;g.firstChild;)m.appendChild(g.firstChild)}});function dr(m,g){if(g){var A=m.firstChild;if(A&&A===m.lastChild&&A.nodeType===3){A.nodeValue=g;return}}m.textContent=g}var ir={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},n0=["Webkit","ms","Moz","O"];Object.keys(ir).forEach(function(m){n0.forEach(function(g){g=g+m.charAt(0).toUpperCase()+m.substring(1),ir[g]=ir[m]})});function ld(m,g,A){return g==null||typeof g=="boolean"||g===""?"":A||typeof g!="number"||g===0||ir.hasOwnProperty(m)&&ir[m]?(""+g).trim():g+"px"}function hd(m,g){m=m.style;for(var A in g)if(g.hasOwnProperty(A)){var F=A.indexOf("--")===0,v=ld(A,g[A],F);A==="float"&&(A="cssFloat"),F?m.setProperty(A,v):m[A]=v}}var r0=Ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function il(m,g){if(g){if(r0[m]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(tt(137,m));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(tt(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(tt(61))}if(g.style!=null&&typeof g.style!="object")throw Error(tt(62))}}function nl(m,g){if(m.indexOf("-")===-1)return typeof g.is=="string";switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rl=null;function bl(m){return m=m.target||m.srcElement||window,m.correspondingUseElement&&(m=m.correspondingUseElement),m.nodeType===3?m.parentNode:m}var sl=null,gn=null,xn=null;function ku(m){if(m=Or(m)){if(typeof sl!="function")throw Error(tt(280));var g=m.stateNode;g&&(g=fa(g),sl(m.stateNode,m.type,g))}}function ud(m){gn?xn?xn.push(m):xn=[m]:gn=m}function fd(){if(gn){var m=gn,g=xn;if(xn=gn=null,ku(m),g)for(m=0;m<g.length;m++)ku(g[m])}}function dd(m,g){return m(g)}function vd(){}var Ro=!1;function cd(m,g,A){if(Ro)return m(g,A);Ro=!0;try{return dd(m,g,A)}finally{Ro=!1,(gn!==null||xn!==null)&&(vd(),fd())}}function vr(m,g){var A=m.stateNode;if(A===null)return null;var F=fa(A);if(F===null)return null;A=F[g];t:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(F=!F.disabled)||(m=m.type,F=!(m==="button"||m==="input"||m==="select"||m==="textarea")),m=!F;break t;default:m=!1}if(m)return null;if(A&&typeof A!="function")throw Error(tt(231,g,typeof A));return A}var al=!1;if(ke)try{en={},Object.defineProperty(en,"passive",{get:function(){al=!0}}),window.addEventListener("test",en,en),window.removeEventListener("test",en,en)}catch{al=!1}var en;function s0(m,g,A,F,v,y,t,u,c){var a=Array.prototype.slice.call(arguments,3);try{g.apply(A,a)}catch(s){this.onError(s)}}var nr=!1,Us=null,Vs=!1,ol=null,a0={onError:function(m){nr=!0,Us=m}};function o0(m,g,A,F,v,y,t,u,c){nr=!1,Us=null,s0.apply(a0,arguments)}function l0(m,g,A,F,v,y,t,u,c){if(o0.apply(this,arguments),nr){if(nr){var a=Us;nr=!1,Us=null}else throw Error(tt(198));Vs||(Vs=!0,ol=a)}}function $i(m){var g=m,A=m;if(m.alternate)for(;g.return;)g=g.return;else{m=g;do g=m,g.flags&4098&&(A=g.return),m=g.return;while(m)}return g.tag===3?A:null}function pd(m){if(m.tag===13){var g=m.memoizedState;if(g===null&&(m=m.alternate,m!==null&&(g=m.memoizedState)),g!==null)return g.dehydrated}return null}function qu(m){if($i(m)!==m)throw Error(tt(188))}function h0(m){var g=m.alternate;if(!g){if(g=$i(m),g===null)throw Error(tt(188));return g!==m?null:m}for(var A=m,F=g;;){var v=A.return;if(v===null)break;var y=v.alternate;if(y===null){if(F=v.return,F!==null){A=F;continue}break}if(v.child===y.child){for(y=v.child;y;){if(y===A)return qu(v),m;if(y===F)return qu(v),g;y=y.sibling}throw Error(tt(188))}if(A.return!==F.return)A=v,F=y;else{for(var t=!1,u=v.child;u;){if(u===A){t=!0,A=v,F=y;break}if(u===F){t=!0,F=v,A=y;break}u=u.sibling}if(!t){for(u=y.child;u;){if(u===A){t=!0,A=y,F=v;break}if(u===F){t=!0,F=y,A=v;break}u=u.sibling}if(!t)throw Error(tt(189))}}if(A.alternate!==F)throw Error(tt(190))}if(A.tag!==3)throw Error(tt(188));return A.stateNode.current===A?m:g}function md(m){return m=h0(m),m!==null?gd(m):null}function gd(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var g=gd(m);if(g!==null)return g;m=m.sibling}return null}var xd=ve.unstable_scheduleCallback,_u=ve.unstable_cancelCallback,u0=ve.unstable_shouldYield,f0=ve.unstable_requestPaint,Ot=ve.unstable_now,d0=ve.unstable_getCurrentPriorityLevel,Kl=ve.unstable_ImmediatePriority,yd=ve.unstable_UserBlockingPriority,Xs=ve.unstable_NormalPriority,v0=ve.unstable_LowPriority,Td=ve.unstable_IdlePriority,oa=null,We=null;function c0(m){if(We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(oa,m,void 0,(m.current.flags&128)===128)}catch{}}var Ie=Math.clz32?Math.clz32:g0,p0=Math.log,m0=Math.LN2;function g0(m){return m>>>=0,m===0?32:31-(p0(m)/m0|0)|0}var fs=64,ds=4194304;function tr(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function Ys(m,g){var A=m.pendingLanes;if(A===0)return 0;var F=0,v=m.suspendedLanes,y=m.pingedLanes,t=A&268435455;if(t!==0){var u=t&~v;u!==0?F=tr(u):(y&=t,y!==0&&(F=tr(y)))}else t=A&~v,t!==0?F=tr(t):y!==0&&(F=tr(y));if(F===0)return 0;if(g!==0&&g!==F&&!(g&v)&&(v=F&-F,y=g&-g,v>=y||v===16&&(y&4194240)!==0))return g;if(F&4&&(F|=A&16),g=m.entangledLanes,g!==0)for(m=m.entanglements,g&=F;0<g;)A=31-Ie(g),v=1<<A,F|=m[A],g&=~v;return F}function x0(m,g){switch(m){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y0(m,g){for(var A=m.suspendedLanes,F=m.pingedLanes,v=m.expirationTimes,y=m.pendingLanes;0<y;){var t=31-Ie(y),u=1<<t,c=v[t];c===-1?(!(u&A)||u&F)&&(v[t]=x0(u,g)):c<=g&&(m.expiredLanes|=u),y&=~u}}function ll(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function Sd(){var m=fs;return fs<<=1,!(fs&4194240)&&(fs=64),m}function Fo(m){for(var g=[],A=0;31>A;A++)g.push(m);return g}function Fr(m,g,A){m.pendingLanes|=g,g!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,g=31-Ie(g),m[g]=A}function T0(m,g){var A=m.pendingLanes&~g;m.pendingLanes=g,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=g,m.mutableReadLanes&=g,m.entangledLanes&=g,g=m.entanglements;var F=m.eventTimes;for(m=m.expirationTimes;0<A;){var v=31-Ie(A),y=1<<v;g[v]=0,F[v]=-1,m[v]=-1,A&=~y}}function Zl(m,g){var A=m.entangledLanes|=g;for(m=m.entanglements;A;){var F=31-Ie(A),v=1<<F;v&g|m[F]&g&&(m[F]|=g),A&=~v}}var vt=0;function Ed(m){return m&=-m,1<m?4<m?m&268435455?16:536870912:4:1}var Cd,Ql,Pd,Ad,Md,hl=!1,vs=[],fi=null,di=null,vi=null,cr=new Map,pr=new Map,oi=[],S0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tf(m,g){switch(m){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":cr.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":pr.delete(g.pointerId)}}function Kn(m,g,A,F,v,y){return m===null||m.nativeEvent!==y?(m={blockedOn:g,domEventName:A,eventSystemFlags:F,nativeEvent:y,targetContainers:[v]},g!==null&&(g=Or(g),g!==null&&Ql(g)),m):(m.eventSystemFlags|=F,g=m.targetContainers,v!==null&&g.indexOf(v)===-1&&g.push(v),m)}function E0(m,g,A,F,v){switch(g){case"focusin":return fi=Kn(fi,m,g,A,F,v),!0;case"dragenter":return di=Kn(di,m,g,A,F,v),!0;case"mouseover":return vi=Kn(vi,m,g,A,F,v),!0;case"pointerover":var y=v.pointerId;return cr.set(y,Kn(cr.get(y)||null,m,g,A,F,v)),!0;case"gotpointercapture":return y=v.pointerId,pr.set(y,Kn(pr.get(y)||null,m,g,A,F,v)),!0}return!1}function Rd(m){var g=Vi(m.target);if(g!==null){var A=$i(g);if(A!==null){if(g=A.tag,g===13){if(g=pd(A),g!==null){m.blockedOn=g,Md(m.priority,function(){Pd(A)});return}}else if(g===3&&A.stateNode.current.memoizedState.isDehydrated){m.blockedOn=A.tag===3?A.stateNode.containerInfo:null;return}}}m.blockedOn=null}function Rs(m){if(m.blockedOn!==null)return!1;for(var g=m.targetContainers;0<g.length;){var A=ul(m.domEventName,m.eventSystemFlags,g[0],m.nativeEvent);if(A===null){A=m.nativeEvent;var F=new A.constructor(A.type,A);rl=F,A.target.dispatchEvent(F),rl=null}else return g=Or(A),g!==null&&Ql(g),m.blockedOn=A,!1;g.shift()}return!0}function ef(m,g,A){Rs(m)&&A.delete(g)}function C0(){hl=!1,fi!==null&&Rs(fi)&&(fi=null),di!==null&&Rs(di)&&(di=null),vi!==null&&Rs(vi)&&(vi=null),cr.forEach(ef),pr.forEach(ef)}function Zn(m,g){m.blockedOn===g&&(m.blockedOn=null,hl||(hl=!0,ve.unstable_scheduleCallback(ve.unstable_NormalPriority,C0)))}function mr(m){function g(v){return Zn(v,m)}if(0<vs.length){Zn(vs[0],m);for(var A=1;A<vs.length;A++){var F=vs[A];F.blockedOn===m&&(F.blockedOn=null)}}for(fi!==null&&Zn(fi,m),di!==null&&Zn(di,m),vi!==null&&Zn(vi,m),cr.forEach(g),pr.forEach(g),A=0;A<oi.length;A++)F=oi[A],F.blockedOn===m&&(F.blockedOn=null);for(;0<oi.length&&(A=oi[0],A.blockedOn===null);)Rd(A),A.blockedOn===null&&oi.shift()}var yn=ei.ReactCurrentBatchConfig,Ws=!0;function P0(m,g,A,F){var v=vt,y=yn.transition;yn.transition=null;try{vt=1,Jl(m,g,A,F)}finally{vt=v,yn.transition=y}}function A0(m,g,A,F){var v=vt,y=yn.transition;yn.transition=null;try{vt=4,Jl(m,g,A,F)}finally{vt=v,yn.transition=y}}function Jl(m,g,A,F){if(Ws){var v=ul(m,g,A,F);if(v===null)No(m,g,F,Hs,A),tf(m,F);else if(E0(v,m,g,A,F))F.stopPropagation();else if(tf(m,F),g&4&&-1<S0.indexOf(m)){for(;v!==null;){var y=Or(v);if(y!==null&&Cd(y),y=ul(m,g,A,F),y===null&&No(m,g,F,Hs,A),y===v)break;v=y}v!==null&&F.stopPropagation()}else No(m,g,F,null,A)}}var Hs=null;function ul(m,g,A,F){if(Hs=null,m=bl(F),m=Vi(m),m!==null)if(g=$i(m),g===null)m=null;else if(A=g.tag,A===13){if(m=pd(g),m!==null)return m;m=null}else if(A===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;m=null}else g!==m&&(m=null);return Hs=m,null}function Fd(m){switch(m){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(d0()){case Kl:return 1;case yd:return 4;case Xs:case v0:return 16;case Td:return 536870912;default:return 16}default:return 16}}var hi=null,jl=null,Fs=null;function Ld(){if(Fs)return Fs;var m,g=jl,A=g.length,F,v="value"in hi?hi.value:hi.textContent,y=v.length;for(m=0;m<A&&g[m]===v[m];m++);var t=A-m;for(F=1;F<=t&&g[A-F]===v[y-F];F++);return Fs=v.slice(m,1<F?1-F:void 0)}function Ls(m){var g=m.keyCode;return"charCode"in m?(m=m.charCode,m===0&&g===13&&(m=13)):m=g,m===10&&(m=13),32<=m||m===13?m:0}function cs(){return!0}function nf(){return!1}function ce(m){function g(A,F,v,y,t){this._reactName=A,this._targetInst=v,this.type=F,this.nativeEvent=y,this.target=t,this.currentTarget=null;for(var u in m)m.hasOwnProperty(u)&&(A=m[u],this[u]=A?A(y):y[u]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?cs:nf,this.isPropagationStopped=nf,this}return Ft(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var A=this.nativeEvent;A&&(A.preventDefault?A.preventDefault():typeof A.returnValue!="unknown"&&(A.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var A=this.nativeEvent;A&&(A.stopPropagation?A.stopPropagation():typeof A.cancelBubble!="unknown"&&(A.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),g}var Ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(m){return m.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$l=ce(Ln),Lr=Ft({},Ln,{view:0,detail:0}),M0=ce(Lr),Lo,Oo,Qn,la=Ft({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kl,button:0,buttons:0,relatedTarget:function(m){return m.relatedTarget===void 0?m.fromElement===m.srcElement?m.toElement:m.fromElement:m.relatedTarget},movementX:function(m){return"movementX"in m?m.movementX:(m!==Qn&&(Qn&&m.type==="mousemove"?(Lo=m.screenX-Qn.screenX,Oo=m.screenY-Qn.screenY):Oo=Lo=0,Qn=m),Lo)},movementY:function(m){return"movementY"in m?m.movementY:Oo}}),rf=ce(la),R0=Ft({},la,{dataTransfer:0}),F0=ce(R0),L0=Ft({},Lr,{relatedTarget:0}),wo=ce(L0),O0=Ft({},Ln,{animationName:0,elapsedTime:0,pseudoElement:0}),w0=ce(O0),D0=Ft({},Ln,{clipboardData:function(m){return"clipboardData"in m?m.clipboardData:window.clipboardData}}),I0=ce(D0),B0=Ft({},Ln,{data:0}),sf=ce(B0),N0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U0(m){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(m):(m=z0[m])?!!g[m]:!1}function kl(){return U0}var V0=Ft({},Lr,{key:function(m){if(m.key){var g=N0[m.key]||m.key;if(g!=="Unidentified")return g}return m.type==="keypress"?(m=Ls(m),m===13?"Enter":String.fromCharCode(m)):m.type==="keydown"||m.type==="keyup"?G0[m.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kl,charCode:function(m){return m.type==="keypress"?Ls(m):0},keyCode:function(m){return m.type==="keydown"||m.type==="keyup"?m.keyCode:0},which:function(m){return m.type==="keypress"?Ls(m):m.type==="keydown"||m.type==="keyup"?m.keyCode:0}}),X0=ce(V0),Y0=Ft({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),af=ce(Y0),W0=Ft({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kl}),H0=ce(W0),b0=Ft({},Ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),K0=ce(b0),Z0=Ft({},la,{deltaX:function(m){return"deltaX"in m?m.deltaX:"wheelDeltaX"in m?-m.wheelDeltaX:0},deltaY:function(m){return"deltaY"in m?m.deltaY:"wheelDeltaY"in m?-m.wheelDeltaY:"wheelDelta"in m?-m.wheelDelta:0},deltaZ:0,deltaMode:0}),Q0=ce(Z0),J0=[9,13,27,32],ql=ke&&"CompositionEvent"in window,rr=null;ke&&"documentMode"in document&&(rr=document.documentMode);var j0=ke&&"TextEvent"in window&&!rr,Od=ke&&(!ql||rr&&8<rr&&11>=rr),of=String.fromCharCode(32),lf=!1;function wd(m,g){switch(m){case"keyup":return J0.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dd(m){return m=m.detail,typeof m=="object"&&"data"in m?m.data:null}var an=!1;function $0(m,g){switch(m){case"compositionend":return Dd(g);case"keypress":return g.which!==32?null:(lf=!0,of);case"textInput":return m=g.data,m===of&&lf?null:m;default:return null}}function k0(m,g){if(an)return m==="compositionend"||!ql&&wd(m,g)?(m=Ld(),Fs=jl=hi=null,an=!1,m):null;switch(m){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return Od&&g.locale!=="ko"?null:g.data;default:return null}}var q0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hf(m){var g=m&&m.nodeName&&m.nodeName.toLowerCase();return g==="input"?!!q0[m.type]:g==="textarea"}function Id(m,g,A,F){ud(F),g=bs(g,"onChange"),0<g.length&&(A=new $l("onChange","change",null,A,F),m.push({event:A,listeners:g}))}var sr=null,gr=null;function _0(m){bd(m,0)}function ha(m){var g=hn(m);if(nd(g))return m}function tm(m,g){if(m==="change")return g}var Bd=!1;ke&&(ke?(ms="oninput"in document,ms||(Do=document.createElement("div"),Do.setAttribute("oninput","return;"),ms=typeof Do.oninput=="function"),ps=ms):ps=!1,Bd=ps&&(!document.documentMode||9<document.documentMode));var ps,ms,Do;function uf(){sr&&(sr.detachEvent("onpropertychange",Nd),gr=sr=null)}function Nd(m){if(m.propertyName==="value"&&ha(gr)){var g=[];Id(g,gr,m,bl(m)),cd(_0,g)}}function em(m,g,A){m==="focusin"?(uf(),sr=g,gr=A,sr.attachEvent("onpropertychange",Nd)):m==="focusout"&&uf()}function im(m){if(m==="selectionchange"||m==="keyup"||m==="keydown")return ha(gr)}function nm(m,g){if(m==="click")return ha(g)}function rm(m,g){if(m==="input"||m==="change")return ha(g)}function sm(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var Ne=typeof Object.is=="function"?Object.is:sm;function xr(m,g){if(Ne(m,g))return!0;if(typeof m!="object"||m===null||typeof g!="object"||g===null)return!1;var A=Object.keys(m),F=Object.keys(g);if(A.length!==F.length)return!1;for(F=0;F<A.length;F++){var v=A[F];if(!Zo.call(g,v)||!Ne(m[v],g[v]))return!1}return!0}function ff(m){for(;m&&m.firstChild;)m=m.firstChild;return m}function df(m,g){var A=ff(m);m=0;for(var F;A;){if(A.nodeType===3){if(F=m+A.textContent.length,m<=g&&F>=g)return{node:A,offset:g-m};m=F}t:{for(;A;){if(A.nextSibling){A=A.nextSibling;break t}A=A.parentNode}A=void 0}A=ff(A)}}function Gd(m,g){return m&&g?m===g?!0:m&&m.nodeType===3?!1:g&&g.nodeType===3?Gd(m,g.parentNode):"contains"in m?m.contains(g):m.compareDocumentPosition?!!(m.compareDocumentPosition(g)&16):!1:!1}function zd(){for(var m=window,g=zs();g instanceof m.HTMLIFrameElement;){try{var A=typeof g.contentWindow.location.href=="string"}catch{A=!1}if(A)m=g.contentWindow;else break;g=zs(m.document)}return g}function _l(m){var g=m&&m.nodeName&&m.nodeName.toLowerCase();return g&&(g==="input"&&(m.type==="text"||m.type==="search"||m.type==="tel"||m.type==="url"||m.type==="password")||g==="textarea"||m.contentEditable==="true")}function am(m){var g=zd(),A=m.focusedElem,F=m.selectionRange;if(g!==A&&A&&A.ownerDocument&&Gd(A.ownerDocument.documentElement,A)){if(F!==null&&_l(A)){if(g=F.start,m=F.end,m===void 0&&(m=g),"selectionStart"in A)A.selectionStart=g,A.selectionEnd=Math.min(m,A.value.length);else if(m=(g=A.ownerDocument||document)&&g.defaultView||window,m.getSelection){m=m.getSelection();var v=A.textContent.length,y=Math.min(F.start,v);F=F.end===void 0?y:Math.min(F.end,v),!m.extend&&y>F&&(v=F,F=y,y=v),v=df(A,y);var t=df(A,F);v&&t&&(m.rangeCount!==1||m.anchorNode!==v.node||m.anchorOffset!==v.offset||m.focusNode!==t.node||m.focusOffset!==t.offset)&&(g=g.createRange(),g.setStart(v.node,v.offset),m.removeAllRanges(),y>F?(m.addRange(g),m.extend(t.node,t.offset)):(g.setEnd(t.node,t.offset),m.addRange(g)))}}for(g=[],m=A;m=m.parentNode;)m.nodeType===1&&g.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<g.length;A++)m=g[A],m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}var om=ke&&"documentMode"in document&&11>=document.documentMode,on=null,fl=null,ar=null,dl=!1;function vf(m,g,A){var F=A.window===A?A.document:A.nodeType===9?A:A.ownerDocument;dl||on==null||on!==zs(F)||(F=on,"selectionStart"in F&&_l(F)?F={start:F.selectionStart,end:F.selectionEnd}:(F=(F.ownerDocument&&F.ownerDocument.defaultView||window).getSelection(),F={anchorNode:F.anchorNode,anchorOffset:F.anchorOffset,focusNode:F.focusNode,focusOffset:F.focusOffset}),ar&&xr(ar,F)||(ar=F,F=bs(fl,"onSelect"),0<F.length&&(g=new $l("onSelect","select",null,g,A),m.push({event:g,listeners:F}),g.target=on)))}function gs(m,g){var A={};return A[m.toLowerCase()]=g.toLowerCase(),A["Webkit"+m]="webkit"+g,A["Moz"+m]="moz"+g,A}var ln={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionend:gs("Transition","TransitionEnd")},Io={},Ud={};ke&&(Ud=document.createElement("div").style,"AnimationEvent"in window||(delete ln.animationend.animation,delete ln.animationiteration.animation,delete ln.animationstart.animation),"TransitionEvent"in window||delete ln.transitionend.transition);function ua(m){if(Io[m])return Io[m];if(!ln[m])return m;var g=ln[m],A;for(A in g)if(g.hasOwnProperty(A)&&A in Ud)return Io[m]=g[A];return m}var Vd=ua("animationend"),Xd=ua("animationiteration"),Yd=ua("animationstart"),Wd=ua("transitionend"),Hd=new Map,cf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(m,g){Hd.set(m,g),ji(g,[m])}for(xs=0;xs<cf.length;xs++)ys=cf[xs],pf=ys.toLowerCase(),mf=ys[0].toUpperCase()+ys.slice(1),Si(pf,"on"+mf);var ys,pf,mf,xs;Si(Vd,"onAnimationEnd");Si(Xd,"onAnimationIteration");Si(Yd,"onAnimationStart");Si("dblclick","onDoubleClick");Si("focusin","onFocus");Si("focusout","onBlur");Si(Wd,"onTransitionEnd");En("onMouseEnter",["mouseout","mouseover"]);En("onMouseLeave",["mouseout","mouseover"]);En("onPointerEnter",["pointerout","pointerover"]);En("onPointerLeave",["pointerout","pointerover"]);ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lm=new Set("cancel close invalid load scroll toggle".split(" ").concat(er));function gf(m,g,A){var F=m.type||"unknown-event";m.currentTarget=A,l0(F,g,void 0,m),m.currentTarget=null}function bd(m,g){g=(g&4)!==0;for(var A=0;A<m.length;A++){var F=m[A],v=F.event;F=F.listeners;t:{var y=void 0;if(g)for(var t=F.length-1;0<=t;t--){var u=F[t],c=u.instance,a=u.currentTarget;if(u=u.listener,c!==y&&v.isPropagationStopped())break t;gf(v,u,a),y=c}else for(t=0;t<F.length;t++){if(u=F[t],c=u.instance,a=u.currentTarget,u=u.listener,c!==y&&v.isPropagationStopped())break t;gf(v,u,a),y=c}}}if(Vs)throw m=ol,Vs=!1,ol=null,m}function St(m,g){var A=g[gl];A===void 0&&(A=g[gl]=new Set);var F=m+"__bubble";A.has(F)||(Kd(g,m,2,!1),A.add(F))}function Bo(m,g,A){var F=0;g&&(F|=4),Kd(A,m,F,g)}var Ts="_reactListening"+Math.random().toString(36).slice(2);function yr(m){if(!m[Ts]){m[Ts]=!0,qf.forEach(function(A){A!=="selectionchange"&&(lm.has(A)||Bo(A,!1,m),Bo(A,!0,m))});var g=m.nodeType===9?m:m.ownerDocument;g===null||g[Ts]||(g[Ts]=!0,Bo("selectionchange",!1,g))}}function Kd(m,g,A,F){switch(Fd(g)){case 1:var v=P0;break;case 4:v=A0;break;default:v=Jl}A=v.bind(null,g,A,m),v=void 0,!al||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(v=!0),F?v!==void 0?m.addEventListener(g,A,{capture:!0,passive:v}):m.addEventListener(g,A,!0):v!==void 0?m.addEventListener(g,A,{passive:v}):m.addEventListener(g,A,!1)}function No(m,g,A,F,v){var y=F;if(!(g&1)&&!(g&2)&&F!==null)t:for(;;){if(F===null)return;var t=F.tag;if(t===3||t===4){var u=F.stateNode.containerInfo;if(u===v||u.nodeType===8&&u.parentNode===v)break;if(t===4)for(t=F.return;t!==null;){var c=t.tag;if((c===3||c===4)&&(c=t.stateNode.containerInfo,c===v||c.nodeType===8&&c.parentNode===v))return;t=t.return}for(;u!==null;){if(t=Vi(u),t===null)return;if(c=t.tag,c===5||c===6){F=y=t;continue t}u=u.parentNode}}F=F.return}cd(function(){var a=y,s=bl(A),r=[];t:{var e=Hd.get(m);if(e!==void 0){var i=$l,l=m;switch(m){case"keypress":if(Ls(A)===0)break t;case"keydown":case"keyup":i=X0;break;case"focusin":l="focus",i=wo;break;case"focusout":l="blur",i=wo;break;case"beforeblur":case"afterblur":i=wo;break;case"click":if(A.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":i=rf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":i=F0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":i=H0;break;case Vd:case Xd:case Yd:i=w0;break;case Wd:i=K0;break;case"scroll":i=M0;break;case"wheel":i=Q0;break;case"copy":case"cut":case"paste":i=I0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":i=af}var n=(g&4)!==0,o=!n&&m==="scroll",f=n?e!==null?e+"Capture":null:e;n=[];for(var h=a,d;h!==null;){d=h;var p=d.stateNode;if(d.tag===5&&p!==null&&(d=p,f!==null&&(p=vr(h,f),p!=null&&n.push(Tr(h,p,d)))),o)break;h=h.return}0<n.length&&(e=new i(e,l,null,A,s),r.push({event:e,listeners:n}))}}if(!(g&7)){t:{if(e=m==="mouseover"||m==="pointerover",i=m==="mouseout"||m==="pointerout",e&&A!==rl&&(l=A.relatedTarget||A.fromElement)&&(Vi(l)||l[qe]))break t;if((i||e)&&(e=s.window===s?s:(e=s.ownerDocument)?e.defaultView||e.parentWindow:window,i?(l=A.relatedTarget||A.toElement,i=a,l=l?Vi(l):null,l!==null&&(o=$i(l),l!==o||l.tag!==5&&l.tag!==6)&&(l=null)):(i=null,l=a),i!==l)){if(n=rf,p="onMouseLeave",f="onMouseEnter",h="mouse",(m==="pointerout"||m==="pointerover")&&(n=af,p="onPointerLeave",f="onPointerEnter",h="pointer"),o=i==null?e:hn(i),d=l==null?e:hn(l),e=new n(p,h+"leave",i,A,s),e.target=o,e.relatedTarget=d,p=null,Vi(s)===a&&(n=new n(f,h+"enter",l,A,s),n.target=d,n.relatedTarget=o,p=n),o=p,i&&l)e:{for(n=i,f=l,h=0,d=n;d;d=nn(d))h++;for(d=0,p=f;p;p=nn(p))d++;for(;0<h-d;)n=nn(n),h--;for(;0<d-h;)f=nn(f),d--;for(;h--;){if(n===f||f!==null&&n===f.alternate)break e;n=nn(n),f=nn(f)}n=null}else n=null;i!==null&&xf(r,e,i,n,!1),l!==null&&o!==null&&xf(r,o,l,n,!0)}}t:{if(e=a?hn(a):window,i=e.nodeName&&e.nodeName.toLowerCase(),i==="select"||i==="input"&&e.type==="file")var x=tm;else if(hf(e))if(Bd)x=rm;else{x=im;var S=em}else(i=e.nodeName)&&i.toLowerCase()==="input"&&(e.type==="checkbox"||e.type==="radio")&&(x=nm);if(x&&(x=x(m,a))){Id(r,x,A,s);break t}S&&S(m,e,a),m==="focusout"&&(S=e._wrapperState)&&S.controlled&&e.type==="number"&&_o(e,"number",e.value)}switch(S=a?hn(a):window,m){case"focusin":(hf(S)||S.contentEditable==="true")&&(on=S,fl=a,ar=null);break;case"focusout":ar=fl=on=null;break;case"mousedown":dl=!0;break;case"contextmenu":case"mouseup":case"dragend":dl=!1,vf(r,A,s);break;case"selectionchange":if(om)break;case"keydown":case"keyup":vf(r,A,s)}var T;if(ql)t:{switch(m){case"compositionstart":var C="onCompositionStart";break t;case"compositionend":C="onCompositionEnd";break t;case"compositionupdate":C="onCompositionUpdate";break t}C=void 0}else an?wd(m,A)&&(C="onCompositionEnd"):m==="keydown"&&A.keyCode===229&&(C="onCompositionStart");C&&(Od&&A.locale!=="ko"&&(an||C!=="onCompositionStart"?C==="onCompositionEnd"&&an&&(T=Ld()):(hi=s,jl="value"in hi?hi.value:hi.textContent,an=!0)),S=bs(a,C),0<S.length&&(C=new sf(C,m,null,A,s),r.push({event:C,listeners:S}),T?C.data=T:(T=Dd(A),T!==null&&(C.data=T)))),(T=j0?$0(m,A):k0(m,A))&&(a=bs(a,"onBeforeInput"),0<a.length&&(s=new sf("onBeforeInput","beforeinput",null,A,s),r.push({event:s,listeners:a}),s.data=T))}bd(r,g)})}function Tr(m,g,A){return{instance:m,listener:g,currentTarget:A}}function bs(m,g){for(var A=g+"Capture",F=[];m!==null;){var v=m,y=v.stateNode;v.tag===5&&y!==null&&(v=y,y=vr(m,A),y!=null&&F.unshift(Tr(m,y,v)),y=vr(m,g),y!=null&&F.push(Tr(m,y,v))),m=m.return}return F}function nn(m){if(m===null)return null;do m=m.return;while(m&&m.tag!==5);return m||null}function xf(m,g,A,F,v){for(var y=g._reactName,t=[];A!==null&&A!==F;){var u=A,c=u.alternate,a=u.stateNode;if(c!==null&&c===F)break;u.tag===5&&a!==null&&(u=a,v?(c=vr(A,y),c!=null&&t.unshift(Tr(A,c,u))):v||(c=vr(A,y),c!=null&&t.push(Tr(A,c,u)))),A=A.return}t.length!==0&&m.push({event:g,listeners:t})}var hm=/\r\n?/g,um=/\u0000|\uFFFD/g;function yf(m){return(typeof m=="string"?m:""+m).replace(hm,`
`).replace(um,"")}function Ss(m,g,A){if(g=yf(g),yf(m)!==g&&A)throw Error(tt(425))}function Ks(){}var vl=null,cl=null;function pl(m,g){return m==="textarea"||m==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var ml=typeof setTimeout=="function"?setTimeout:void 0,fm=typeof clearTimeout=="function"?clearTimeout:void 0,Tf=typeof Promise=="function"?Promise:void 0,dm=typeof queueMicrotask=="function"?queueMicrotask:typeof Tf<"u"?function(m){return Tf.resolve(null).then(m).catch(vm)}:ml;function vm(m){setTimeout(function(){throw m})}function Go(m,g){var A=g,F=0;do{var v=A.nextSibling;if(m.removeChild(A),v&&v.nodeType===8)if(A=v.data,A==="/$"){if(F===0){m.removeChild(v),mr(g);return}F--}else A!=="$"&&A!=="$?"&&A!=="$!"||F++;A=v}while(A);mr(g)}function ci(m){for(;m!=null;m=m.nextSibling){var g=m.nodeType;if(g===1||g===3)break;if(g===8){if(g=m.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return m}function Sf(m){m=m.previousSibling;for(var g=0;m;){if(m.nodeType===8){var A=m.data;if(A==="$"||A==="$!"||A==="$?"){if(g===0)return m;g--}else A==="/$"&&g++}m=m.previousSibling}return null}var On=Math.random().toString(36).slice(2),Ye="__reactFiber$"+On,Sr="__reactProps$"+On,qe="__reactContainer$"+On,gl="__reactEvents$"+On,cm="__reactListeners$"+On,pm="__reactHandles$"+On;function Vi(m){var g=m[Ye];if(g)return g;for(var A=m.parentNode;A;){if(g=A[qe]||A[Ye]){if(A=g.alternate,g.child!==null||A!==null&&A.child!==null)for(m=Sf(m);m!==null;){if(A=m[Ye])return A;m=Sf(m)}return g}m=A,A=m.parentNode}return null}function Or(m){return m=m[Ye]||m[qe],!m||m.tag!==5&&m.tag!==6&&m.tag!==13&&m.tag!==3?null:m}function hn(m){if(m.tag===5||m.tag===6)return m.stateNode;throw Error(tt(33))}function fa(m){return m[Sr]||null}var xl=[],un=-1;function Ei(m){return{current:m}}function Et(m){0>un||(m.current=xl[un],xl[un]=null,un--)}function Tt(m,g){un++,xl[un]=m.current,m.current=g}var Ti={},Jt=Ei(Ti),ae=Ei(!1),bi=Ti;function Cn(m,g){var A=m.type.contextTypes;if(!A)return Ti;var F=m.stateNode;if(F&&F.__reactInternalMemoizedUnmaskedChildContext===g)return F.__reactInternalMemoizedMaskedChildContext;var v={},y;for(y in A)v[y]=g[y];return F&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=g,m.__reactInternalMemoizedMaskedChildContext=v),v}function oe(m){return m=m.childContextTypes,m!=null}function Zs(){Et(ae),Et(Jt)}function Ef(m,g,A){if(Jt.current!==Ti)throw Error(tt(168));Tt(Jt,g),Tt(ae,A)}function Zd(m,g,A){var F=m.stateNode;if(g=g.childContextTypes,typeof F.getChildContext!="function")return A;F=F.getChildContext();for(var v in F)if(!(v in g))throw Error(tt(108,e0(m)||"Unknown",v));return Ft({},A,F)}function Qs(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||Ti,bi=Jt.current,Tt(Jt,m),Tt(ae,ae.current),!0}function Cf(m,g,A){var F=m.stateNode;if(!F)throw Error(tt(169));A?(m=Zd(m,g,bi),F.__reactInternalMemoizedMergedChildContext=m,Et(ae),Et(Jt),Tt(Jt,m)):Et(ae),Tt(ae,A)}var Qe=null,da=!1,zo=!1;function Qd(m){Qe===null?Qe=[m]:Qe.push(m)}function mm(m){da=!0,Qd(m)}function Ci(){if(!zo&&Qe!==null){zo=!0;var m=0,g=vt;try{var A=Qe;for(vt=1;m<A.length;m++){var F=A[m];do F=F(!0);while(F!==null)}Qe=null,da=!1}catch(v){throw Qe!==null&&(Qe=Qe.slice(m+1)),xd(Kl,Ci),v}finally{vt=g,zo=!1}}return null}var fn=[],dn=0,Js=null,js=0,ye=[],Te=0,Ki=null,Je=1,je="";function zi(m,g){fn[dn++]=js,fn[dn++]=Js,Js=m,js=g}function Jd(m,g,A){ye[Te++]=Je,ye[Te++]=je,ye[Te++]=Ki,Ki=m;var F=Je;m=je;var v=32-Ie(F)-1;F&=~(1<<v),A+=1;var y=32-Ie(g)+v;if(30<y){var t=v-v%5;y=(F&(1<<t)-1).toString(32),F>>=t,v-=t,Je=1<<32-Ie(g)+v|A<<v|F,je=y+m}else Je=1<<y|A<<v|F,je=m}function th(m){m.return!==null&&(zi(m,1),Jd(m,1,0))}function eh(m){for(;m===Js;)Js=fn[--dn],fn[dn]=null,js=fn[--dn],fn[dn]=null;for(;m===Ki;)Ki=ye[--Te],ye[Te]=null,je=ye[--Te],ye[Te]=null,Je=ye[--Te],ye[Te]=null}var de=null,fe=null,Ct=!1,De=null;function jd(m,g){var A=Se(5,null,null,0);A.elementType="DELETED",A.stateNode=g,A.return=m,g=m.deletions,g===null?(m.deletions=[A],m.flags|=16):g.push(A)}function Pf(m,g){switch(m.tag){case 5:var A=m.type;return g=g.nodeType!==1||A.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(m.stateNode=g,de=m,fe=ci(g.firstChild),!0):!1;case 6:return g=m.pendingProps===""||g.nodeType!==3?null:g,g!==null?(m.stateNode=g,de=m,fe=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(A=Ki!==null?{id:Je,overflow:je}:null,m.memoizedState={dehydrated:g,treeContext:A,retryLane:1073741824},A=Se(18,null,null,0),A.stateNode=g,A.return=m,m.child=A,de=m,fe=null,!0):!1;default:return!1}}function yl(m){return(m.mode&1)!==0&&(m.flags&128)===0}function Tl(m){if(Ct){var g=fe;if(g){var A=g;if(!Pf(m,g)){if(yl(m))throw Error(tt(418));g=ci(A.nextSibling);var F=de;g&&Pf(m,g)?jd(F,A):(m.flags=m.flags&-4097|2,Ct=!1,de=m)}}else{if(yl(m))throw Error(tt(418));m.flags=m.flags&-4097|2,Ct=!1,de=m}}}function Af(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;de=m}function Es(m){if(m!==de)return!1;if(!Ct)return Af(m),Ct=!0,!1;var g;if((g=m.tag!==3)&&!(g=m.tag!==5)&&(g=m.type,g=g!=="head"&&g!=="body"&&!pl(m.type,m.memoizedProps)),g&&(g=fe)){if(yl(m))throw $d(),Error(tt(418));for(;g;)jd(m,g),g=ci(g.nextSibling)}if(Af(m),m.tag===13){if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(tt(317));t:{for(m=m.nextSibling,g=0;m;){if(m.nodeType===8){var A=m.data;if(A==="/$"){if(g===0){fe=ci(m.nextSibling);break t}g--}else A!=="$"&&A!=="$!"&&A!=="$?"||g++}m=m.nextSibling}fe=null}}else fe=de?ci(m.stateNode.nextSibling):null;return!0}function $d(){for(var m=fe;m;)m=ci(m.nextSibling)}function Pn(){fe=de=null,Ct=!1}function ih(m){De===null?De=[m]:De.push(m)}var gm=ei.ReactCurrentBatchConfig;function Oe(m,g){if(m&&m.defaultProps){g=Ft({},g),m=m.defaultProps;for(var A in m)g[A]===void 0&&(g[A]=m[A]);return g}return g}var $s=Ei(null),ks=null,vn=null,nh=null;function rh(){nh=vn=ks=null}function sh(m){var g=$s.current;Et($s),m._currentValue=g}function Sl(m,g,A){for(;m!==null;){var F=m.alternate;if((m.childLanes&g)!==g?(m.childLanes|=g,F!==null&&(F.childLanes|=g)):F!==null&&(F.childLanes&g)!==g&&(F.childLanes|=g),m===A)break;m=m.return}}function Tn(m,g){ks=m,nh=vn=null,m=m.dependencies,m!==null&&m.firstContext!==null&&(m.lanes&g&&(se=!0),m.firstContext=null)}function Ce(m){var g=m._currentValue;if(nh!==m)if(m={context:m,memoizedValue:g,next:null},vn===null){if(ks===null)throw Error(tt(308));vn=m,ks.dependencies={lanes:0,firstContext:m}}else vn=vn.next=m;return g}var Xi=null;function ah(m){Xi===null?Xi=[m]:Xi.push(m)}function kd(m,g,A,F){var v=g.interleaved;return v===null?(A.next=A,ah(g)):(A.next=v.next,v.next=A),g.interleaved=A,_e(m,F)}function _e(m,g){m.lanes|=g;var A=m.alternate;for(A!==null&&(A.lanes|=g),A=m,m=m.return;m!==null;)m.childLanes|=g,A=m.alternate,A!==null&&(A.childLanes|=g),A=m,m=m.return;return A.tag===3?A.stateNode:null}var ai=!1;function oh(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qd(m,g){m=m.updateQueue,g.updateQueue===m&&(g.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function $e(m,g){return{eventTime:m,lane:g,tag:0,payload:null,callback:null,next:null}}function pi(m,g,A){var F=m.updateQueue;if(F===null)return null;if(F=F.shared,dt&2){var v=F.pending;return v===null?g.next=g:(g.next=v.next,v.next=g),F.pending=g,_e(m,A)}return v=F.interleaved,v===null?(g.next=g,ah(F)):(g.next=v.next,v.next=g),F.interleaved=g,_e(m,A)}function Os(m,g,A){if(g=g.updateQueue,g!==null&&(g=g.shared,(A&4194240)!==0)){var F=g.lanes;F&=m.pendingLanes,A|=F,g.lanes=A,Zl(m,A)}}function Mf(m,g){var A=m.updateQueue,F=m.alternate;if(F!==null&&(F=F.updateQueue,A===F)){var v=null,y=null;if(A=A.firstBaseUpdate,A!==null){do{var t={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};y===null?v=y=t:y=y.next=t,A=A.next}while(A!==null);y===null?v=y=g:y=y.next=g}else v=y=g;A={baseState:F.baseState,firstBaseUpdate:v,lastBaseUpdate:y,shared:F.shared,effects:F.effects},m.updateQueue=A;return}m=A.lastBaseUpdate,m===null?A.firstBaseUpdate=g:m.next=g,A.lastBaseUpdate=g}function qs(m,g,A,F){var v=m.updateQueue;ai=!1;var y=v.firstBaseUpdate,t=v.lastBaseUpdate,u=v.shared.pending;if(u!==null){v.shared.pending=null;var c=u,a=c.next;c.next=null,t===null?y=a:t.next=a,t=c;var s=m.alternate;s!==null&&(s=s.updateQueue,u=s.lastBaseUpdate,u!==t&&(u===null?s.firstBaseUpdate=a:u.next=a,s.lastBaseUpdate=c))}if(y!==null){var r=v.baseState;t=0,s=a=c=null,u=y;do{var e=u.lane,i=u.eventTime;if((F&e)===e){s!==null&&(s=s.next={eventTime:i,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});t:{var l=m,n=u;switch(e=g,i=A,n.tag){case 1:if(l=n.payload,typeof l=="function"){r=l.call(i,r,e);break t}r=l;break t;case 3:l.flags=l.flags&-65537|128;case 0:if(l=n.payload,e=typeof l=="function"?l.call(i,r,e):l,e==null)break t;r=Ft({},r,e);break t;case 2:ai=!0}}u.callback!==null&&u.lane!==0&&(m.flags|=64,e=v.effects,e===null?v.effects=[u]:e.push(u))}else i={eventTime:i,lane:e,tag:u.tag,payload:u.payload,callback:u.callback,next:null},s===null?(a=s=i,c=r):s=s.next=i,t|=e;if(u=u.next,u===null){if(u=v.shared.pending,u===null)break;e=u,u=e.next,e.next=null,v.lastBaseUpdate=e,v.shared.pending=null}}while(1);if(s===null&&(c=r),v.baseState=c,v.firstBaseUpdate=a,v.lastBaseUpdate=s,g=v.shared.interleaved,g!==null){v=g;do t|=v.lane,v=v.next;while(v!==g)}else y===null&&(v.shared.lanes=0);Qi|=t,m.lanes=t,m.memoizedState=r}}function Rf(m,g,A){if(m=g.effects,g.effects=null,m!==null)for(g=0;g<m.length;g++){var F=m[g],v=F.callback;if(v!==null){if(F.callback=null,F=A,typeof v!="function")throw Error(tt(191,v));v.call(F)}}}var _d=new kf.Component().refs;function El(m,g,A,F){g=m.memoizedState,A=A(F,g),A=A==null?g:Ft({},g,A),m.memoizedState=A,m.lanes===0&&(m.updateQueue.baseState=A)}var va={isMounted:function(m){return(m=m._reactInternals)?$i(m)===m:!1},enqueueSetState:function(m,g,A){m=m._reactInternals;var F=te(),v=gi(m),y=$e(F,v);y.payload=g,A!=null&&(y.callback=A),g=pi(m,y,v),g!==null&&(Be(g,m,v,F),Os(g,m,v))},enqueueReplaceState:function(m,g,A){m=m._reactInternals;var F=te(),v=gi(m),y=$e(F,v);y.tag=1,y.payload=g,A!=null&&(y.callback=A),g=pi(m,y,v),g!==null&&(Be(g,m,v,F),Os(g,m,v))},enqueueForceUpdate:function(m,g){m=m._reactInternals;var A=te(),F=gi(m),v=$e(A,F);v.tag=2,g!=null&&(v.callback=g),g=pi(m,v,F),g!==null&&(Be(g,m,F,A),Os(g,m,F))}};function Ff(m,g,A,F,v,y,t){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(F,y,t):g.prototype&&g.prototype.isPureReactComponent?!xr(A,F)||!xr(v,y):!0}function tv(m,g,A){var F=!1,v=Ti,y=g.contextType;return typeof y=="object"&&y!==null?y=Ce(y):(v=oe(g)?bi:Jt.current,F=g.contextTypes,y=(F=F!=null)?Cn(m,v):Ti),g=new g(A,y),m.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=va,m.stateNode=g,g._reactInternals=m,F&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=v,m.__reactInternalMemoizedMaskedChildContext=y),g}function Lf(m,g,A,F){m=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(A,F),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(A,F),g.state!==m&&va.enqueueReplaceState(g,g.state,null)}function Cl(m,g,A,F){var v=m.stateNode;v.props=A,v.state=m.memoizedState,v.refs=_d,oh(m);var y=g.contextType;typeof y=="object"&&y!==null?v.context=Ce(y):(y=oe(g)?bi:Jt.current,v.context=Cn(m,y)),v.state=m.memoizedState,y=g.getDerivedStateFromProps,typeof y=="function"&&(El(m,g,y,A),v.state=m.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(g=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),g!==v.state&&va.enqueueReplaceState(v,v.state,null),qs(m,A,v,F),v.state=m.memoizedState),typeof v.componentDidMount=="function"&&(m.flags|=4194308)}function Jn(m,g,A){if(m=A.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(tt(309));var F=A.stateNode}if(!F)throw Error(tt(147,m));var v=F,y=""+m;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===y?g.ref:(g=function(t){var u=v.refs;u===_d&&(u=v.refs={}),t===null?delete u[y]:u[y]=t},g._stringRef=y,g)}if(typeof m!="string")throw Error(tt(284));if(!A._owner)throw Error(tt(290,m))}return m}function Cs(m,g){throw m=Object.prototype.toString.call(g),Error(tt(31,m==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":m))}function Of(m){var g=m._init;return g(m._payload)}function ev(m){function g(f,h){if(m){var d=f.deletions;d===null?(f.deletions=[h],f.flags|=16):d.push(h)}}function A(f,h){if(!m)return null;for(;h!==null;)g(f,h),h=h.sibling;return null}function F(f,h){for(f=new Map;h!==null;)h.key!==null?f.set(h.key,h):f.set(h.index,h),h=h.sibling;return f}function v(f,h){return f=xi(f,h),f.index=0,f.sibling=null,f}function y(f,h,d){return f.index=d,m?(d=f.alternate,d!==null?(d=d.index,d<h?(f.flags|=2,h):d):(f.flags|=2,h)):(f.flags|=1048576,h)}function t(f){return m&&f.alternate===null&&(f.flags|=2),f}function u(f,h,d,p){return h===null||h.tag!==6?(h=bo(d,f.mode,p),h.return=f,h):(h=v(h,d),h.return=f,h)}function c(f,h,d,p){var x=d.type;return x===sn?s(f,h,d.props.children,p,d.key):h!==null&&(h.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===si&&Of(x)===h.type)?(p=v(h,d.props),p.ref=Jn(f,h,d),p.return=f,p):(p=Gs(d.type,d.key,d.props,null,f.mode,p),p.ref=Jn(f,h,d),p.return=f,p)}function a(f,h,d,p){return h===null||h.tag!==4||h.stateNode.containerInfo!==d.containerInfo||h.stateNode.implementation!==d.implementation?(h=Ko(d,f.mode,p),h.return=f,h):(h=v(h,d.children||[]),h.return=f,h)}function s(f,h,d,p,x){return h===null||h.tag!==7?(h=Hi(d,f.mode,p,x),h.return=f,h):(h=v(h,d),h.return=f,h)}function r(f,h,d){if(typeof h=="string"&&h!==""||typeof h=="number")return h=bo(""+h,f.mode,d),h.return=f,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ls:return d=Gs(h.type,h.key,h.props,null,f.mode,d),d.ref=Jn(f,null,h),d.return=f,d;case rn:return h=Ko(h,f.mode,d),h.return=f,h;case si:var p=h._init;return r(f,p(h._payload),d)}if(_n(h)||bn(h))return h=Hi(h,f.mode,d,null),h.return=f,h;Cs(f,h)}return null}function e(f,h,d,p){var x=h!==null?h.key:null;if(typeof d=="string"&&d!==""||typeof d=="number")return x!==null?null:u(f,h,""+d,p);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case ls:return d.key===x?c(f,h,d,p):null;case rn:return d.key===x?a(f,h,d,p):null;case si:return x=d._init,e(f,h,x(d._payload),p)}if(_n(d)||bn(d))return x!==null?null:s(f,h,d,p,null);Cs(f,d)}return null}function i(f,h,d,p,x){if(typeof p=="string"&&p!==""||typeof p=="number")return f=f.get(d)||null,u(h,f,""+p,x);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ls:return f=f.get(p.key===null?d:p.key)||null,c(h,f,p,x);case rn:return f=f.get(p.key===null?d:p.key)||null,a(h,f,p,x);case si:var S=p._init;return i(f,h,d,S(p._payload),x)}if(_n(p)||bn(p))return f=f.get(d)||null,s(h,f,p,x,null);Cs(h,p)}return null}function l(f,h,d,p){for(var x=null,S=null,T=h,C=h=0,E=null;T!==null&&C<d.length;C++){T.index>C?(E=T,T=null):E=T.sibling;var P=e(f,T,d[C],p);if(P===null){T===null&&(T=E);break}m&&T&&P.alternate===null&&g(f,T),h=y(P,h,C),S===null?x=P:S.sibling=P,S=P,T=E}if(C===d.length)return A(f,T),Ct&&zi(f,C),x;if(T===null){for(;C<d.length;C++)T=r(f,d[C],p),T!==null&&(h=y(T,h,C),S===null?x=T:S.sibling=T,S=T);return Ct&&zi(f,C),x}for(T=F(f,T);C<d.length;C++)E=i(T,f,C,d[C],p),E!==null&&(m&&E.alternate!==null&&T.delete(E.key===null?C:E.key),h=y(E,h,C),S===null?x=E:S.sibling=E,S=E);return m&&T.forEach(function(M){return g(f,M)}),Ct&&zi(f,C),x}function n(f,h,d,p){var x=bn(d);if(typeof x!="function")throw Error(tt(150));if(d=x.call(d),d==null)throw Error(tt(151));for(var S=x=null,T=h,C=h=0,E=null,P=d.next();T!==null&&!P.done;C++,P=d.next()){T.index>C?(E=T,T=null):E=T.sibling;var M=e(f,T,P.value,p);if(M===null){T===null&&(T=E);break}m&&T&&M.alternate===null&&g(f,T),h=y(M,h,C),S===null?x=M:S.sibling=M,S=M,T=E}if(P.done)return A(f,T),Ct&&zi(f,C),x;if(T===null){for(;!P.done;C++,P=d.next())P=r(f,P.value,p),P!==null&&(h=y(P,h,C),S===null?x=P:S.sibling=P,S=P);return Ct&&zi(f,C),x}for(T=F(f,T);!P.done;C++,P=d.next())P=i(T,f,C,P.value,p),P!==null&&(m&&P.alternate!==null&&T.delete(P.key===null?C:P.key),h=y(P,h,C),S===null?x=P:S.sibling=P,S=P);return m&&T.forEach(function(L){return g(f,L)}),Ct&&zi(f,C),x}function o(f,h,d,p){if(typeof d=="object"&&d!==null&&d.type===sn&&d.key===null&&(d=d.props.children),typeof d=="object"&&d!==null){switch(d.$$typeof){case ls:t:{for(var x=d.key,S=h;S!==null;){if(S.key===x){if(x=d.type,x===sn){if(S.tag===7){A(f,S.sibling),h=v(S,d.props.children),h.return=f,f=h;break t}}else if(S.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===si&&Of(x)===S.type){A(f,S.sibling),h=v(S,d.props),h.ref=Jn(f,S,d),h.return=f,f=h;break t}A(f,S);break}else g(f,S);S=S.sibling}d.type===sn?(h=Hi(d.props.children,f.mode,p,d.key),h.return=f,f=h):(p=Gs(d.type,d.key,d.props,null,f.mode,p),p.ref=Jn(f,h,d),p.return=f,f=p)}return t(f);case rn:t:{for(S=d.key;h!==null;){if(h.key===S)if(h.tag===4&&h.stateNode.containerInfo===d.containerInfo&&h.stateNode.implementation===d.implementation){A(f,h.sibling),h=v(h,d.children||[]),h.return=f,f=h;break t}else{A(f,h);break}else g(f,h);h=h.sibling}h=Ko(d,f.mode,p),h.return=f,f=h}return t(f);case si:return S=d._init,o(f,h,S(d._payload),p)}if(_n(d))return l(f,h,d,p);if(bn(d))return n(f,h,d,p);Cs(f,d)}return typeof d=="string"&&d!==""||typeof d=="number"?(d=""+d,h!==null&&h.tag===6?(A(f,h.sibling),h=v(h,d),h.return=f,f=h):(A(f,h),h=bo(d,f.mode,p),h.return=f,f=h),t(f)):A(f,h)}return o}var An=ev(!0),iv=ev(!1),wr={},He=Ei(wr),Er=Ei(wr),Cr=Ei(wr);function Yi(m){if(m===wr)throw Error(tt(174));return m}function lh(m,g){switch(Tt(Cr,g),Tt(Er,m),Tt(He,wr),m=g.nodeType,m){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:el(null,"");break;default:m=m===8?g.parentNode:g,g=m.namespaceURI||null,m=m.tagName,g=el(g,m)}Et(He),Tt(He,g)}function Mn(){Et(He),Et(Er),Et(Cr)}function nv(m){Yi(Cr.current);var g=Yi(He.current),A=el(g,m.type);g!==A&&(Tt(Er,m),Tt(He,A))}function hh(m){Er.current===m&&(Et(He),Et(Er))}var Mt=Ei(0);function _s(m){for(var g=m;g!==null;){if(g.tag===13){var A=g.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||A.data==="$?"||A.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if(g.flags&128)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var Uo=[];function uh(){for(var m=0;m<Uo.length;m++)Uo[m]._workInProgressVersionPrimary=null;Uo.length=0}var ws=ei.ReactCurrentDispatcher,Vo=ei.ReactCurrentBatchConfig,Zi=0,Rt=null,It=null,zt=null,ta=!1,or=!1,Pr=0,xm=0;function Kt(){throw Error(tt(321))}function fh(m,g){if(g===null)return!1;for(var A=0;A<g.length&&A<m.length;A++)if(!Ne(m[A],g[A]))return!1;return!0}function dh(m,g,A,F,v,y){if(Zi=y,Rt=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,ws.current=m===null||m.memoizedState===null?Em:Cm,m=A(F,v),or){y=0;do{if(or=!1,Pr=0,25<=y)throw Error(tt(301));y+=1,zt=It=null,g.updateQueue=null,ws.current=Pm,m=A(F,v)}while(or)}if(ws.current=ea,g=It!==null&&It.next!==null,Zi=0,zt=It=Rt=null,ta=!1,g)throw Error(tt(300));return m}function vh(){var m=Pr!==0;return Pr=0,m}function Xe(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Rt.memoizedState=zt=m:zt=zt.next=m,zt}function Pe(){if(It===null){var m=Rt.alternate;m=m!==null?m.memoizedState:null}else m=It.next;var g=zt===null?Rt.memoizedState:zt.next;if(g!==null)zt=g,It=m;else{if(m===null)throw Error(tt(310));It=m,m={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},zt===null?Rt.memoizedState=zt=m:zt=zt.next=m}return zt}function Ar(m,g){return typeof g=="function"?g(m):g}function Xo(m){var g=Pe(),A=g.queue;if(A===null)throw Error(tt(311));A.lastRenderedReducer=m;var F=It,v=F.baseQueue,y=A.pending;if(y!==null){if(v!==null){var t=v.next;v.next=y.next,y.next=t}F.baseQueue=v=y,A.pending=null}if(v!==null){y=v.next,F=F.baseState;var u=t=null,c=null,a=y;do{var s=a.lane;if((Zi&s)===s)c!==null&&(c=c.next={lane:0,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null}),F=a.hasEagerState?a.eagerState:m(F,a.action);else{var r={lane:s,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null};c===null?(u=c=r,t=F):c=c.next=r,Rt.lanes|=s,Qi|=s}a=a.next}while(a!==null&&a!==y);c===null?t=F:c.next=u,Ne(F,g.memoizedState)||(se=!0),g.memoizedState=F,g.baseState=t,g.baseQueue=c,A.lastRenderedState=F}if(m=A.interleaved,m!==null){v=m;do y=v.lane,Rt.lanes|=y,Qi|=y,v=v.next;while(v!==m)}else v===null&&(A.lanes=0);return[g.memoizedState,A.dispatch]}function Yo(m){var g=Pe(),A=g.queue;if(A===null)throw Error(tt(311));A.lastRenderedReducer=m;var F=A.dispatch,v=A.pending,y=g.memoizedState;if(v!==null){A.pending=null;var t=v=v.next;do y=m(y,t.action),t=t.next;while(t!==v);Ne(y,g.memoizedState)||(se=!0),g.memoizedState=y,g.baseQueue===null&&(g.baseState=y),A.lastRenderedState=y}return[y,F]}function rv(){}function sv(m,g){var A=Rt,F=Pe(),v=g(),y=!Ne(F.memoizedState,v);if(y&&(F.memoizedState=v,se=!0),F=F.queue,ch(lv.bind(null,A,F,m),[m]),F.getSnapshot!==g||y||zt!==null&&zt.memoizedState.tag&1){if(A.flags|=2048,Mr(9,ov.bind(null,A,F,v,g),void 0,null),Ut===null)throw Error(tt(349));Zi&30||av(A,g,v)}return v}function av(m,g,A){m.flags|=16384,m={getSnapshot:g,value:A},g=Rt.updateQueue,g===null?(g={lastEffect:null,stores:null},Rt.updateQueue=g,g.stores=[m]):(A=g.stores,A===null?g.stores=[m]:A.push(m))}function ov(m,g,A,F){g.value=A,g.getSnapshot=F,hv(g)&&uv(m)}function lv(m,g,A){return A(function(){hv(g)&&uv(m)})}function hv(m){var g=m.getSnapshot;m=m.value;try{var A=g();return!Ne(m,A)}catch{return!0}}function uv(m){var g=_e(m,1);g!==null&&Be(g,m,1,-1)}function wf(m){var g=Xe();return typeof m=="function"&&(m=m()),g.memoizedState=g.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:m},g.queue=m,m=m.dispatch=Sm.bind(null,Rt,m),[g.memoizedState,m]}function Mr(m,g,A,F){return m={tag:m,create:g,destroy:A,deps:F,next:null},g=Rt.updateQueue,g===null?(g={lastEffect:null,stores:null},Rt.updateQueue=g,g.lastEffect=m.next=m):(A=g.lastEffect,A===null?g.lastEffect=m.next=m:(F=A.next,A.next=m,m.next=F,g.lastEffect=m)),m}function fv(){return Pe().memoizedState}function Ds(m,g,A,F){var v=Xe();Rt.flags|=m,v.memoizedState=Mr(1|g,A,void 0,F===void 0?null:F)}function ca(m,g,A,F){var v=Pe();F=F===void 0?null:F;var y=void 0;if(It!==null){var t=It.memoizedState;if(y=t.destroy,F!==null&&fh(F,t.deps)){v.memoizedState=Mr(g,A,y,F);return}}Rt.flags|=m,v.memoizedState=Mr(1|g,A,y,F)}function Df(m,g){return Ds(8390656,8,m,g)}function ch(m,g){return ca(2048,8,m,g)}function dv(m,g){return ca(4,2,m,g)}function vv(m,g){return ca(4,4,m,g)}function cv(m,g){if(typeof g=="function")return m=m(),g(m),function(){g(null)};if(g!=null)return m=m(),g.current=m,function(){g.current=null}}function pv(m,g,A){return A=A!=null?A.concat([m]):null,ca(4,4,cv.bind(null,g,m),A)}function ph(){}function mv(m,g){var A=Pe();g=g===void 0?null:g;var F=A.memoizedState;return F!==null&&g!==null&&fh(g,F[1])?F[0]:(A.memoizedState=[m,g],m)}function gv(m,g){var A=Pe();g=g===void 0?null:g;var F=A.memoizedState;return F!==null&&g!==null&&fh(g,F[1])?F[0]:(m=m(),A.memoizedState=[m,g],m)}function xv(m,g,A){return Zi&21?(Ne(A,g)||(A=Sd(),Rt.lanes|=A,Qi|=A,m.baseState=!0),g):(m.baseState&&(m.baseState=!1,se=!0),m.memoizedState=A)}function ym(m,g){var A=vt;vt=A!==0&&4>A?A:4,m(!0);var F=Vo.transition;Vo.transition={};try{m(!1),g()}finally{vt=A,Vo.transition=F}}function yv(){return Pe().memoizedState}function Tm(m,g,A){var F=gi(m);if(A={lane:F,action:A,hasEagerState:!1,eagerState:null,next:null},Tv(m))Sv(g,A);else if(A=kd(m,g,A,F),A!==null){var v=te();Be(A,m,F,v),Ev(A,g,F)}}function Sm(m,g,A){var F=gi(m),v={lane:F,action:A,hasEagerState:!1,eagerState:null,next:null};if(Tv(m))Sv(g,v);else{var y=m.alternate;if(m.lanes===0&&(y===null||y.lanes===0)&&(y=g.lastRenderedReducer,y!==null))try{var t=g.lastRenderedState,u=y(t,A);if(v.hasEagerState=!0,v.eagerState=u,Ne(u,t)){var c=g.interleaved;c===null?(v.next=v,ah(g)):(v.next=c.next,c.next=v),g.interleaved=v;return}}catch{}finally{}A=kd(m,g,v,F),A!==null&&(v=te(),Be(A,m,F,v),Ev(A,g,F))}}function Tv(m){var g=m.alternate;return m===Rt||g!==null&&g===Rt}function Sv(m,g){or=ta=!0;var A=m.pending;A===null?g.next=g:(g.next=A.next,A.next=g),m.pending=g}function Ev(m,g,A){if(A&4194240){var F=g.lanes;F&=m.pendingLanes,A|=F,g.lanes=A,Zl(m,A)}}var ea={readContext:Ce,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},Em={readContext:Ce,useCallback:function(m,g){return Xe().memoizedState=[m,g===void 0?null:g],m},useContext:Ce,useEffect:Df,useImperativeHandle:function(m,g,A){return A=A!=null?A.concat([m]):null,Ds(4194308,4,cv.bind(null,g,m),A)},useLayoutEffect:function(m,g){return Ds(4194308,4,m,g)},useInsertionEffect:function(m,g){return Ds(4,2,m,g)},useMemo:function(m,g){var A=Xe();return g=g===void 0?null:g,m=m(),A.memoizedState=[m,g],m},useReducer:function(m,g,A){var F=Xe();return g=A!==void 0?A(g):g,F.memoizedState=F.baseState=g,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:g},F.queue=m,m=m.dispatch=Tm.bind(null,Rt,m),[F.memoizedState,m]},useRef:function(m){var g=Xe();return m={current:m},g.memoizedState=m},useState:wf,useDebugValue:ph,useDeferredValue:function(m){return Xe().memoizedState=m},useTransition:function(){var m=wf(!1),g=m[0];return m=ym.bind(null,m[1]),Xe().memoizedState=m,[g,m]},useMutableSource:function(){},useSyncExternalStore:function(m,g,A){var F=Rt,v=Xe();if(Ct){if(A===void 0)throw Error(tt(407));A=A()}else{if(A=g(),Ut===null)throw Error(tt(349));Zi&30||av(F,g,A)}v.memoizedState=A;var y={value:A,getSnapshot:g};return v.queue=y,Df(lv.bind(null,F,y,m),[m]),F.flags|=2048,Mr(9,ov.bind(null,F,y,A,g),void 0,null),A},useId:function(){var m=Xe(),g=Ut.identifierPrefix;if(Ct){var A=je,F=Je;A=(F&~(1<<32-Ie(F)-1)).toString(32)+A,g=":"+g+"R"+A,A=Pr++,0<A&&(g+="H"+A.toString(32)),g+=":"}else A=xm++,g=":"+g+"r"+A.toString(32)+":";return m.memoizedState=g},unstable_isNewReconciler:!1},Cm={readContext:Ce,useCallback:mv,useContext:Ce,useEffect:ch,useImperativeHandle:pv,useInsertionEffect:dv,useLayoutEffect:vv,useMemo:gv,useReducer:Xo,useRef:fv,useState:function(){return Xo(Ar)},useDebugValue:ph,useDeferredValue:function(m){var g=Pe();return xv(g,It.memoizedState,m)},useTransition:function(){var m=Xo(Ar)[0],g=Pe().memoizedState;return[m,g]},useMutableSource:rv,useSyncExternalStore:sv,useId:yv,unstable_isNewReconciler:!1},Pm={readContext:Ce,useCallback:mv,useContext:Ce,useEffect:ch,useImperativeHandle:pv,useInsertionEffect:dv,useLayoutEffect:vv,useMemo:gv,useReducer:Yo,useRef:fv,useState:function(){return Yo(Ar)},useDebugValue:ph,useDeferredValue:function(m){var g=Pe();return It===null?g.memoizedState=m:xv(g,It.memoizedState,m)},useTransition:function(){var m=Yo(Ar)[0],g=Pe().memoizedState;return[m,g]},useMutableSource:rv,useSyncExternalStore:sv,useId:yv,unstable_isNewReconciler:!1};function Rn(m,g){try{var A="",F=g;do A+=t0(F),F=F.return;while(F);var v=A}catch(y){v=`
Error generating stack: `+y.message+`
`+y.stack}return{value:m,source:g,stack:v,digest:null}}function Wo(m,g,A){return{value:m,source:null,stack:A??null,digest:g??null}}function Pl(m,g){try{console.error(g.value)}catch(A){setTimeout(function(){throw A})}}var Am=typeof WeakMap=="function"?WeakMap:Map;function Cv(m,g,A){A=$e(-1,A),A.tag=3,A.payload={element:null};var F=g.value;return A.callback=function(){na||(na=!0,Bl=F),Pl(m,g)},A}function Pv(m,g,A){A=$e(-1,A),A.tag=3;var F=m.type.getDerivedStateFromError;if(typeof F=="function"){var v=g.value;A.payload=function(){return F(v)},A.callback=function(){Pl(m,g)}}var y=m.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(A.callback=function(){Pl(m,g),typeof F!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var t=g.stack;this.componentDidCatch(g.value,{componentStack:t!==null?t:""})}),A}function If(m,g,A){var F=m.pingCache;if(F===null){F=m.pingCache=new Am;var v=new Set;F.set(g,v)}else v=F.get(g),v===void 0&&(v=new Set,F.set(g,v));v.has(A)||(v.add(A),m=Vm.bind(null,m,g,A),g.then(m,m))}function Bf(m){do{var g;if((g=m.tag===13)&&(g=m.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return m;m=m.return}while(m!==null);return null}function Nf(m,g,A,F,v){return m.mode&1?(m.flags|=65536,m.lanes=v,m):(m===g?m.flags|=65536:(m.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(g=$e(-1,1),g.tag=2,pi(A,g,1))),A.lanes|=1),m)}var Mm=ei.ReactCurrentOwner,se=!1;function _t(m,g,A,F){g.child=m===null?iv(g,null,A,F):An(g,m.child,A,F)}function Gf(m,g,A,F,v){A=A.render;var y=g.ref;return Tn(g,v),F=dh(m,g,A,F,y,v),A=vh(),m!==null&&!se?(g.updateQueue=m.updateQueue,g.flags&=-2053,m.lanes&=~v,ti(m,g,v)):(Ct&&A&&th(g),g.flags|=1,_t(m,g,F,v),g.child)}function zf(m,g,A,F,v){if(m===null){var y=A.type;return typeof y=="function"&&!Ch(y)&&y.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(g.tag=15,g.type=y,Av(m,g,y,F,v)):(m=Gs(A.type,null,F,g,g.mode,v),m.ref=g.ref,m.return=g,g.child=m)}if(y=m.child,!(m.lanes&v)){var t=y.memoizedProps;if(A=A.compare,A=A!==null?A:xr,A(t,F)&&m.ref===g.ref)return ti(m,g,v)}return g.flags|=1,m=xi(y,F),m.ref=g.ref,m.return=g,g.child=m}function Av(m,g,A,F,v){if(m!==null){var y=m.memoizedProps;if(xr(y,F)&&m.ref===g.ref)if(se=!1,g.pendingProps=F=y,(m.lanes&v)!==0)m.flags&131072&&(se=!0);else return g.lanes=m.lanes,ti(m,g,v)}return Al(m,g,A,F,v)}function Mv(m,g,A){var F=g.pendingProps,v=F.children,y=m!==null?m.memoizedState:null;if(F.mode==="hidden")if(!(g.mode&1))g.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(pn,ue),ue|=A;else{if(!(A&1073741824))return m=y!==null?y.baseLanes|A:A,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:m,cachePool:null,transitions:null},g.updateQueue=null,Tt(pn,ue),ue|=m,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},F=y!==null?y.baseLanes:A,Tt(pn,ue),ue|=F}else y!==null?(F=y.baseLanes|A,g.memoizedState=null):F=A,Tt(pn,ue),ue|=F;return _t(m,g,v,A),g.child}function Rv(m,g){var A=g.ref;(m===null&&A!==null||m!==null&&m.ref!==A)&&(g.flags|=512,g.flags|=2097152)}function Al(m,g,A,F,v){var y=oe(A)?bi:Jt.current;return y=Cn(g,y),Tn(g,v),A=dh(m,g,A,F,y,v),F=vh(),m!==null&&!se?(g.updateQueue=m.updateQueue,g.flags&=-2053,m.lanes&=~v,ti(m,g,v)):(Ct&&F&&th(g),g.flags|=1,_t(m,g,A,v),g.child)}function Uf(m,g,A,F,v){if(oe(A)){var y=!0;Qs(g)}else y=!1;if(Tn(g,v),g.stateNode===null)Is(m,g),tv(g,A,F),Cl(g,A,F,v),F=!0;else if(m===null){var t=g.stateNode,u=g.memoizedProps;t.props=u;var c=t.context,a=A.contextType;typeof a=="object"&&a!==null?a=Ce(a):(a=oe(A)?bi:Jt.current,a=Cn(g,a));var s=A.getDerivedStateFromProps,r=typeof s=="function"||typeof t.getSnapshotBeforeUpdate=="function";r||typeof t.UNSAFE_componentWillReceiveProps!="function"&&typeof t.componentWillReceiveProps!="function"||(u!==F||c!==a)&&Lf(g,t,F,a),ai=!1;var e=g.memoizedState;t.state=e,qs(g,F,t,v),c=g.memoizedState,u!==F||e!==c||ae.current||ai?(typeof s=="function"&&(El(g,A,s,F),c=g.memoizedState),(u=ai||Ff(g,A,u,F,e,c,a))?(r||typeof t.UNSAFE_componentWillMount!="function"&&typeof t.componentWillMount!="function"||(typeof t.componentWillMount=="function"&&t.componentWillMount(),typeof t.UNSAFE_componentWillMount=="function"&&t.UNSAFE_componentWillMount()),typeof t.componentDidMount=="function"&&(g.flags|=4194308)):(typeof t.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=F,g.memoizedState=c),t.props=F,t.state=c,t.context=a,F=u):(typeof t.componentDidMount=="function"&&(g.flags|=4194308),F=!1)}else{t=g.stateNode,qd(m,g),u=g.memoizedProps,a=g.type===g.elementType?u:Oe(g.type,u),t.props=a,r=g.pendingProps,e=t.context,c=A.contextType,typeof c=="object"&&c!==null?c=Ce(c):(c=oe(A)?bi:Jt.current,c=Cn(g,c));var i=A.getDerivedStateFromProps;(s=typeof i=="function"||typeof t.getSnapshotBeforeUpdate=="function")||typeof t.UNSAFE_componentWillReceiveProps!="function"&&typeof t.componentWillReceiveProps!="function"||(u!==r||e!==c)&&Lf(g,t,F,c),ai=!1,e=g.memoizedState,t.state=e,qs(g,F,t,v);var l=g.memoizedState;u!==r||e!==l||ae.current||ai?(typeof i=="function"&&(El(g,A,i,F),l=g.memoizedState),(a=ai||Ff(g,A,a,F,e,l,c)||!1)?(s||typeof t.UNSAFE_componentWillUpdate!="function"&&typeof t.componentWillUpdate!="function"||(typeof t.componentWillUpdate=="function"&&t.componentWillUpdate(F,l,c),typeof t.UNSAFE_componentWillUpdate=="function"&&t.UNSAFE_componentWillUpdate(F,l,c)),typeof t.componentDidUpdate=="function"&&(g.flags|=4),typeof t.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof t.componentDidUpdate!="function"||u===m.memoizedProps&&e===m.memoizedState||(g.flags|=4),typeof t.getSnapshotBeforeUpdate!="function"||u===m.memoizedProps&&e===m.memoizedState||(g.flags|=1024),g.memoizedProps=F,g.memoizedState=l),t.props=F,t.state=l,t.context=c,F=a):(typeof t.componentDidUpdate!="function"||u===m.memoizedProps&&e===m.memoizedState||(g.flags|=4),typeof t.getSnapshotBeforeUpdate!="function"||u===m.memoizedProps&&e===m.memoizedState||(g.flags|=1024),F=!1)}return Ml(m,g,A,F,y,v)}function Ml(m,g,A,F,v,y){Rv(m,g);var t=(g.flags&128)!==0;if(!F&&!t)return v&&Cf(g,A,!1),ti(m,g,y);F=g.stateNode,Mm.current=g;var u=t&&typeof A.getDerivedStateFromError!="function"?null:F.render();return g.flags|=1,m!==null&&t?(g.child=An(g,m.child,null,y),g.child=An(g,null,u,y)):_t(m,g,u,y),g.memoizedState=F.state,v&&Cf(g,A,!0),g.child}function Fv(m){var g=m.stateNode;g.pendingContext?Ef(m,g.pendingContext,g.pendingContext!==g.context):g.context&&Ef(m,g.context,!1),lh(m,g.containerInfo)}function Vf(m,g,A,F,v){return Pn(),ih(v),g.flags|=256,_t(m,g,A,F),g.child}var Rl={dehydrated:null,treeContext:null,retryLane:0};function Fl(m){return{baseLanes:m,cachePool:null,transitions:null}}function Lv(m,g,A){var F=g.pendingProps,v=Mt.current,y=!1,t=(g.flags&128)!==0,u;if((u=t)||(u=m!==null&&m.memoizedState===null?!1:(v&2)!==0),u?(y=!0,g.flags&=-129):(m===null||m.memoizedState!==null)&&(v|=1),Tt(Mt,v&1),m===null)return Tl(g),m=g.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?(g.mode&1?m.data==="$!"?g.lanes=8:g.lanes=1073741824:g.lanes=1,null):(t=F.children,m=F.fallback,y?(F=g.mode,y=g.child,t={mode:"hidden",children:t},!(F&1)&&y!==null?(y.childLanes=0,y.pendingProps=t):y=ga(t,F,0,null),m=Hi(m,F,A,null),y.return=g,m.return=g,y.sibling=m,g.child=y,g.child.memoizedState=Fl(A),g.memoizedState=Rl,m):mh(g,t));if(v=m.memoizedState,v!==null&&(u=v.dehydrated,u!==null))return Rm(m,g,t,F,u,v,A);if(y){y=F.fallback,t=g.mode,v=m.child,u=v.sibling;var c={mode:"hidden",children:F.children};return!(t&1)&&g.child!==v?(F=g.child,F.childLanes=0,F.pendingProps=c,g.deletions=null):(F=xi(v,c),F.subtreeFlags=v.subtreeFlags&14680064),u!==null?y=xi(u,y):(y=Hi(y,t,A,null),y.flags|=2),y.return=g,F.return=g,F.sibling=y,g.child=F,F=y,y=g.child,t=m.child.memoizedState,t=t===null?Fl(A):{baseLanes:t.baseLanes|A,cachePool:null,transitions:t.transitions},y.memoizedState=t,y.childLanes=m.childLanes&~A,g.memoizedState=Rl,F}return y=m.child,m=y.sibling,F=xi(y,{mode:"visible",children:F.children}),!(g.mode&1)&&(F.lanes=A),F.return=g,F.sibling=null,m!==null&&(A=g.deletions,A===null?(g.deletions=[m],g.flags|=16):A.push(m)),g.child=F,g.memoizedState=null,F}function mh(m,g){return g=ga({mode:"visible",children:g},m.mode,0,null),g.return=m,m.child=g}function Ps(m,g,A,F){return F!==null&&ih(F),An(g,m.child,null,A),m=mh(g,g.pendingProps.children),m.flags|=2,g.memoizedState=null,m}function Rm(m,g,A,F,v,y,t){if(A)return g.flags&256?(g.flags&=-257,F=Wo(Error(tt(422))),Ps(m,g,t,F)):g.memoizedState!==null?(g.child=m.child,g.flags|=128,null):(y=F.fallback,v=g.mode,F=ga({mode:"visible",children:F.children},v,0,null),y=Hi(y,v,t,null),y.flags|=2,F.return=g,y.return=g,F.sibling=y,g.child=F,g.mode&1&&An(g,m.child,null,t),g.child.memoizedState=Fl(t),g.memoizedState=Rl,y);if(!(g.mode&1))return Ps(m,g,t,null);if(v.data==="$!"){if(F=v.nextSibling&&v.nextSibling.dataset,F)var u=F.dgst;return F=u,y=Error(tt(419)),F=Wo(y,F,void 0),Ps(m,g,t,F)}if(u=(t&m.childLanes)!==0,se||u){if(F=Ut,F!==null){switch(t&-t){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=v&(F.suspendedLanes|t)?0:v,v!==0&&v!==y.retryLane&&(y.retryLane=v,_e(m,v),Be(F,m,v,-1))}return Eh(),F=Wo(Error(tt(421))),Ps(m,g,t,F)}return v.data==="$?"?(g.flags|=128,g.child=m.child,g=Xm.bind(null,m),v._reactRetry=g,null):(m=y.treeContext,fe=ci(v.nextSibling),de=g,Ct=!0,De=null,m!==null&&(ye[Te++]=Je,ye[Te++]=je,ye[Te++]=Ki,Je=m.id,je=m.overflow,Ki=g),g=mh(g,F.children),g.flags|=4096,g)}function Xf(m,g,A){m.lanes|=g;var F=m.alternate;F!==null&&(F.lanes|=g),Sl(m.return,g,A)}function Ho(m,g,A,F,v){var y=m.memoizedState;y===null?m.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:F,tail:A,tailMode:v}:(y.isBackwards=g,y.rendering=null,y.renderingStartTime=0,y.last=F,y.tail=A,y.tailMode=v)}function Ov(m,g,A){var F=g.pendingProps,v=F.revealOrder,y=F.tail;if(_t(m,g,F.children,A),F=Mt.current,F&2)F=F&1|2,g.flags|=128;else{if(m!==null&&m.flags&128)t:for(m=g.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&Xf(m,A,g);else if(m.tag===19)Xf(m,A,g);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===g)break t;for(;m.sibling===null;){if(m.return===null||m.return===g)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}F&=1}if(Tt(Mt,F),!(g.mode&1))g.memoizedState=null;else switch(v){case"forwards":for(A=g.child,v=null;A!==null;)m=A.alternate,m!==null&&_s(m)===null&&(v=A),A=A.sibling;A=v,A===null?(v=g.child,g.child=null):(v=A.sibling,A.sibling=null),Ho(g,!1,v,A,y);break;case"backwards":for(A=null,v=g.child,g.child=null;v!==null;){if(m=v.alternate,m!==null&&_s(m)===null){g.child=v;break}m=v.sibling,v.sibling=A,A=v,v=m}Ho(g,!0,A,null,y);break;case"together":Ho(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Is(m,g){!(g.mode&1)&&m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2)}function ti(m,g,A){if(m!==null&&(g.dependencies=m.dependencies),Qi|=g.lanes,!(A&g.childLanes))return null;if(m!==null&&g.child!==m.child)throw Error(tt(153));if(g.child!==null){for(m=g.child,A=xi(m,m.pendingProps),g.child=A,A.return=g;m.sibling!==null;)m=m.sibling,A=A.sibling=xi(m,m.pendingProps),A.return=g;A.sibling=null}return g.child}function Fm(m,g,A){switch(g.tag){case 3:Fv(g),Pn();break;case 5:nv(g);break;case 1:oe(g.type)&&Qs(g);break;case 4:lh(g,g.stateNode.containerInfo);break;case 10:var F=g.type._context,v=g.memoizedProps.value;Tt($s,F._currentValue),F._currentValue=v;break;case 13:if(F=g.memoizedState,F!==null)return F.dehydrated!==null?(Tt(Mt,Mt.current&1),g.flags|=128,null):A&g.child.childLanes?Lv(m,g,A):(Tt(Mt,Mt.current&1),m=ti(m,g,A),m!==null?m.sibling:null);Tt(Mt,Mt.current&1);break;case 19:if(F=(A&g.childLanes)!==0,m.flags&128){if(F)return Ov(m,g,A);g.flags|=128}if(v=g.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Tt(Mt,Mt.current),F)break;return null;case 22:case 23:return g.lanes=0,Mv(m,g,A)}return ti(m,g,A)}var wv,Ll,Dv,Iv;wv=function(m,g){for(var A=g.child;A!==null;){if(A.tag===5||A.tag===6)m.appendChild(A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===g)break;for(;A.sibling===null;){if(A.return===null||A.return===g)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};Ll=function(){};Dv=function(m,g,A,F){var v=m.memoizedProps;if(v!==F){m=g.stateNode,Yi(He.current);var y=null;switch(A){case"input":v=ko(m,v),F=ko(m,F),y=[];break;case"select":v=Ft({},v,{value:void 0}),F=Ft({},F,{value:void 0}),y=[];break;case"textarea":v=tl(m,v),F=tl(m,F),y=[];break;default:typeof v.onClick!="function"&&typeof F.onClick=="function"&&(m.onclick=Ks)}il(A,F);var t;A=null;for(a in v)if(!F.hasOwnProperty(a)&&v.hasOwnProperty(a)&&v[a]!=null)if(a==="style"){var u=v[a];for(t in u)u.hasOwnProperty(t)&&(A||(A={}),A[t]="")}else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(fr.hasOwnProperty(a)?y||(y=[]):(y=y||[]).push(a,null));for(a in F){var c=F[a];if(u=v?.[a],F.hasOwnProperty(a)&&c!==u&&(c!=null||u!=null))if(a==="style")if(u){for(t in u)!u.hasOwnProperty(t)||c&&c.hasOwnProperty(t)||(A||(A={}),A[t]="");for(t in c)c.hasOwnProperty(t)&&u[t]!==c[t]&&(A||(A={}),A[t]=c[t])}else A||(y||(y=[]),y.push(a,A)),A=c;else a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(y=y||[]).push(a,c)):a==="children"?typeof c!="string"&&typeof c!="number"||(y=y||[]).push(a,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(fr.hasOwnProperty(a)?(c!=null&&a==="onScroll"&&St("scroll",m),y||u===c||(y=[])):(y=y||[]).push(a,c))}A&&(y=y||[]).push("style",A);var a=y;(g.updateQueue=a)&&(g.flags|=4)}};Iv=function(m,g,A,F){A!==F&&(g.flags|=4)};function jn(m,g){if(!Ct)switch(m.tailMode){case"hidden":g=m.tail;for(var A=null;g!==null;)g.alternate!==null&&(A=g),g=g.sibling;A===null?m.tail=null:A.sibling=null;break;case"collapsed":A=m.tail;for(var F=null;A!==null;)A.alternate!==null&&(F=A),A=A.sibling;F===null?g||m.tail===null?m.tail=null:m.tail.sibling=null:F.sibling=null}}function Zt(m){var g=m.alternate!==null&&m.alternate.child===m.child,A=0,F=0;if(g)for(var v=m.child;v!==null;)A|=v.lanes|v.childLanes,F|=v.subtreeFlags&14680064,F|=v.flags&14680064,v.return=m,v=v.sibling;else for(v=m.child;v!==null;)A|=v.lanes|v.childLanes,F|=v.subtreeFlags,F|=v.flags,v.return=m,v=v.sibling;return m.subtreeFlags|=F,m.childLanes=A,g}function Lm(m,g,A){var F=g.pendingProps;switch(eh(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(g),null;case 1:return oe(g.type)&&Zs(),Zt(g),null;case 3:return F=g.stateNode,Mn(),Et(ae),Et(Jt),uh(),F.pendingContext&&(F.context=F.pendingContext,F.pendingContext=null),(m===null||m.child===null)&&(Es(g)?g.flags|=4:m===null||m.memoizedState.isDehydrated&&!(g.flags&256)||(g.flags|=1024,De!==null&&(zl(De),De=null))),Ll(m,g),Zt(g),null;case 5:hh(g);var v=Yi(Cr.current);if(A=g.type,m!==null&&g.stateNode!=null)Dv(m,g,A,F,v),m.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!F){if(g.stateNode===null)throw Error(tt(166));return Zt(g),null}if(m=Yi(He.current),Es(g)){F=g.stateNode,A=g.type;var y=g.memoizedProps;switch(F[Ye]=g,F[Sr]=y,m=(g.mode&1)!==0,A){case"dialog":St("cancel",F),St("close",F);break;case"iframe":case"object":case"embed":St("load",F);break;case"video":case"audio":for(v=0;v<er.length;v++)St(er[v],F);break;case"source":St("error",F);break;case"img":case"image":case"link":St("error",F),St("load",F);break;case"details":St("toggle",F);break;case"input":Qu(F,y),St("invalid",F);break;case"select":F._wrapperState={wasMultiple:!!y.multiple},St("invalid",F);break;case"textarea":ju(F,y),St("invalid",F)}il(A,y),v=null;for(var t in y)if(y.hasOwnProperty(t)){var u=y[t];t==="children"?typeof u=="string"?F.textContent!==u&&(y.suppressHydrationWarning!==!0&&Ss(F.textContent,u,m),v=["children",u]):typeof u=="number"&&F.textContent!==""+u&&(y.suppressHydrationWarning!==!0&&Ss(F.textContent,u,m),v=["children",""+u]):fr.hasOwnProperty(t)&&u!=null&&t==="onScroll"&&St("scroll",F)}switch(A){case"input":hs(F),Ju(F,y,!0);break;case"textarea":hs(F),$u(F);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(F.onclick=Ks)}F=v,g.updateQueue=F,F!==null&&(g.flags|=4)}else{t=v.nodeType===9?v:v.ownerDocument,m==="http://www.w3.org/1999/xhtml"&&(m=ad(A)),m==="http://www.w3.org/1999/xhtml"?A==="script"?(m=t.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild)):typeof F.is=="string"?m=t.createElement(A,{is:F.is}):(m=t.createElement(A),A==="select"&&(t=m,F.multiple?t.multiple=!0:F.size&&(t.size=F.size))):m=t.createElementNS(m,A),m[Ye]=g,m[Sr]=F,wv(m,g,!1,!1),g.stateNode=m;t:{switch(t=nl(A,F),A){case"dialog":St("cancel",m),St("close",m),v=F;break;case"iframe":case"object":case"embed":St("load",m),v=F;break;case"video":case"audio":for(v=0;v<er.length;v++)St(er[v],m);v=F;break;case"source":St("error",m),v=F;break;case"img":case"image":case"link":St("error",m),St("load",m),v=F;break;case"details":St("toggle",m),v=F;break;case"input":Qu(m,F),v=ko(m,F),St("invalid",m);break;case"option":v=F;break;case"select":m._wrapperState={wasMultiple:!!F.multiple},v=Ft({},F,{value:void 0}),St("invalid",m);break;case"textarea":ju(m,F),v=tl(m,F),St("invalid",m);break;default:v=F}il(A,v),u=v;for(y in u)if(u.hasOwnProperty(y)){var c=u[y];y==="style"?hd(m,c):y==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&od(m,c)):y==="children"?typeof c=="string"?(A!=="textarea"||c!=="")&&dr(m,c):typeof c=="number"&&dr(m,""+c):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(fr.hasOwnProperty(y)?c!=null&&y==="onScroll"&&St("scroll",m):c!=null&&Xl(m,y,c,t))}switch(A){case"input":hs(m),Ju(m,F,!1);break;case"textarea":hs(m),$u(m);break;case"option":F.value!=null&&m.setAttribute("value",""+yi(F.value));break;case"select":m.multiple=!!F.multiple,y=F.value,y!=null?mn(m,!!F.multiple,y,!1):F.defaultValue!=null&&mn(m,!!F.multiple,F.defaultValue,!0);break;default:typeof v.onClick=="function"&&(m.onclick=Ks)}switch(A){case"button":case"input":case"select":case"textarea":F=!!F.autoFocus;break t;case"img":F=!0;break t;default:F=!1}}F&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Zt(g),null;case 6:if(m&&g.stateNode!=null)Iv(m,g,m.memoizedProps,F);else{if(typeof F!="string"&&g.stateNode===null)throw Error(tt(166));if(A=Yi(Cr.current),Yi(He.current),Es(g)){if(F=g.stateNode,A=g.memoizedProps,F[Ye]=g,(y=F.nodeValue!==A)&&(m=de,m!==null))switch(m.tag){case 3:Ss(F.nodeValue,A,(m.mode&1)!==0);break;case 5:m.memoizedProps.suppressHydrationWarning!==!0&&Ss(F.nodeValue,A,(m.mode&1)!==0)}y&&(g.flags|=4)}else F=(A.nodeType===9?A:A.ownerDocument).createTextNode(F),F[Ye]=g,g.stateNode=F}return Zt(g),null;case 13:if(Et(Mt),F=g.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(Ct&&fe!==null&&g.mode&1&&!(g.flags&128))$d(),Pn(),g.flags|=98560,y=!1;else if(y=Es(g),F!==null&&F.dehydrated!==null){if(m===null){if(!y)throw Error(tt(318));if(y=g.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(tt(317));y[Ye]=g}else Pn(),!(g.flags&128)&&(g.memoizedState=null),g.flags|=4;Zt(g),y=!1}else De!==null&&(zl(De),De=null),y=!0;if(!y)return g.flags&65536?g:null}return g.flags&128?(g.lanes=A,g):(F=F!==null,F!==(m!==null&&m.memoizedState!==null)&&F&&(g.child.flags|=8192,g.mode&1&&(m===null||Mt.current&1?Bt===0&&(Bt=3):Eh())),g.updateQueue!==null&&(g.flags|=4),Zt(g),null);case 4:return Mn(),Ll(m,g),m===null&&yr(g.stateNode.containerInfo),Zt(g),null;case 10:return sh(g.type._context),Zt(g),null;case 17:return oe(g.type)&&Zs(),Zt(g),null;case 19:if(Et(Mt),y=g.memoizedState,y===null)return Zt(g),null;if(F=(g.flags&128)!==0,t=y.rendering,t===null)if(F)jn(y,!1);else{if(Bt!==0||m!==null&&m.flags&128)for(m=g.child;m!==null;){if(t=_s(m),t!==null){for(g.flags|=128,jn(y,!1),F=t.updateQueue,F!==null&&(g.updateQueue=F,g.flags|=4),g.subtreeFlags=0,F=A,A=g.child;A!==null;)y=A,m=F,y.flags&=14680066,t=y.alternate,t===null?(y.childLanes=0,y.lanes=m,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=t.childLanes,y.lanes=t.lanes,y.child=t.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=t.memoizedProps,y.memoizedState=t.memoizedState,y.updateQueue=t.updateQueue,y.type=t.type,m=t.dependencies,y.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),A=A.sibling;return Tt(Mt,Mt.current&1|2),g.child}m=m.sibling}y.tail!==null&&Ot()>Fn&&(g.flags|=128,F=!0,jn(y,!1),g.lanes=4194304)}else{if(!F)if(m=_s(t),m!==null){if(g.flags|=128,F=!0,A=m.updateQueue,A!==null&&(g.updateQueue=A,g.flags|=4),jn(y,!0),y.tail===null&&y.tailMode==="hidden"&&!t.alternate&&!Ct)return Zt(g),null}else 2*Ot()-y.renderingStartTime>Fn&&A!==1073741824&&(g.flags|=128,F=!0,jn(y,!1),g.lanes=4194304);y.isBackwards?(t.sibling=g.child,g.child=t):(A=y.last,A!==null?A.sibling=t:g.child=t,y.last=t)}return y.tail!==null?(g=y.tail,y.rendering=g,y.tail=g.sibling,y.renderingStartTime=Ot(),g.sibling=null,A=Mt.current,Tt(Mt,F?A&1|2:A&1),g):(Zt(g),null);case 22:case 23:return Sh(),F=g.memoizedState!==null,m!==null&&m.memoizedState!==null!==F&&(g.flags|=8192),F&&g.mode&1?ue&1073741824&&(Zt(g),g.subtreeFlags&6&&(g.flags|=8192)):Zt(g),null;case 24:return null;case 25:return null}throw Error(tt(156,g.tag))}function Om(m,g){switch(eh(g),g.tag){case 1:return oe(g.type)&&Zs(),m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 3:return Mn(),Et(ae),Et(Jt),uh(),m=g.flags,m&65536&&!(m&128)?(g.flags=m&-65537|128,g):null;case 5:return hh(g),null;case 13:if(Et(Mt),m=g.memoizedState,m!==null&&m.dehydrated!==null){if(g.alternate===null)throw Error(tt(340));Pn()}return m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 19:return Et(Mt),null;case 4:return Mn(),null;case 10:return sh(g.type._context),null;case 22:case 23:return Sh(),null;case 24:return null;default:return null}}var As=!1,Qt=!1,wm=typeof WeakSet=="function"?WeakSet:Set,rt=null;function cn(m,g){var A=m.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(F){Lt(m,g,F)}else A.current=null}function Ol(m,g,A){try{A()}catch(F){Lt(m,g,F)}}var Yf=!1;function Dm(m,g){if(vl=Ws,m=zd(),_l(m)){if("selectionStart"in m)var A={start:m.selectionStart,end:m.selectionEnd};else t:{A=(A=m.ownerDocument)&&A.defaultView||window;var F=A.getSelection&&A.getSelection();if(F&&F.rangeCount!==0){A=F.anchorNode;var v=F.anchorOffset,y=F.focusNode;F=F.focusOffset;try{A.nodeType,y.nodeType}catch{A=null;break t}var t=0,u=-1,c=-1,a=0,s=0,r=m,e=null;e:for(;;){for(var i;r!==A||v!==0&&r.nodeType!==3||(u=t+v),r!==y||F!==0&&r.nodeType!==3||(c=t+F),r.nodeType===3&&(t+=r.nodeValue.length),(i=r.firstChild)!==null;)e=r,r=i;for(;;){if(r===m)break e;if(e===A&&++a===v&&(u=t),e===y&&++s===F&&(c=t),(i=r.nextSibling)!==null)break;r=e,e=r.parentNode}r=i}A=u===-1||c===-1?null:{start:u,end:c}}else A=null}A=A||{start:0,end:0}}else A=null;for(cl={focusedElem:m,selectionRange:A},Ws=!1,rt=g;rt!==null;)if(g=rt,m=g.child,(g.subtreeFlags&1028)!==0&&m!==null)m.return=g,rt=m;else for(;rt!==null;){g=rt;try{var l=g.alternate;if(g.flags&1024)switch(g.tag){case 0:case 11:case 15:break;case 1:if(l!==null){var n=l.memoizedProps,o=l.memoizedState,f=g.stateNode,h=f.getSnapshotBeforeUpdate(g.elementType===g.type?n:Oe(g.type,n),o);f.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var d=g.stateNode.containerInfo;d.nodeType===1?d.textContent="":d.nodeType===9&&d.documentElement&&d.removeChild(d.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(tt(163))}}catch(p){Lt(g,g.return,p)}if(m=g.sibling,m!==null){m.return=g.return,rt=m;break}rt=g.return}return l=Yf,Yf=!1,l}function lr(m,g,A){var F=g.updateQueue;if(F=F!==null?F.lastEffect:null,F!==null){var v=F=F.next;do{if((v.tag&m)===m){var y=v.destroy;v.destroy=void 0,y!==void 0&&Ol(g,A,y)}v=v.next}while(v!==F)}}function pa(m,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var A=g=g.next;do{if((A.tag&m)===m){var F=A.create;A.destroy=F()}A=A.next}while(A!==g)}}function wl(m){var g=m.ref;if(g!==null){var A=m.stateNode;switch(m.tag){case 5:m=A;break;default:m=A}typeof g=="function"?g(m):g.current=m}}function Bv(m){var g=m.alternate;g!==null&&(m.alternate=null,Bv(g)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(g=m.stateNode,g!==null&&(delete g[Ye],delete g[Sr],delete g[gl],delete g[cm],delete g[pm])),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function Nv(m){return m.tag===5||m.tag===3||m.tag===4}function Wf(m){t:for(;;){for(;m.sibling===null;){if(m.return===null||Nv(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue t;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function Dl(m,g,A){var F=m.tag;if(F===5||F===6)m=m.stateNode,g?A.nodeType===8?A.parentNode.insertBefore(m,g):A.insertBefore(m,g):(A.nodeType===8?(g=A.parentNode,g.insertBefore(m,A)):(g=A,g.appendChild(m)),A=A._reactRootContainer,A!=null||g.onclick!==null||(g.onclick=Ks));else if(F!==4&&(m=m.child,m!==null))for(Dl(m,g,A),m=m.sibling;m!==null;)Dl(m,g,A),m=m.sibling}function Il(m,g,A){var F=m.tag;if(F===5||F===6)m=m.stateNode,g?A.insertBefore(m,g):A.appendChild(m);else if(F!==4&&(m=m.child,m!==null))for(Il(m,g,A),m=m.sibling;m!==null;)Il(m,g,A),m=m.sibling}var Yt=null,we=!1;function ri(m,g,A){for(A=A.child;A!==null;)Gv(m,g,A),A=A.sibling}function Gv(m,g,A){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(oa,A)}catch{}switch(A.tag){case 5:Qt||cn(A,g);case 6:var F=Yt,v=we;Yt=null,ri(m,g,A),Yt=F,we=v,Yt!==null&&(we?(m=Yt,A=A.stateNode,m.nodeType===8?m.parentNode.removeChild(A):m.removeChild(A)):Yt.removeChild(A.stateNode));break;case 18:Yt!==null&&(we?(m=Yt,A=A.stateNode,m.nodeType===8?Go(m.parentNode,A):m.nodeType===1&&Go(m,A),mr(m)):Go(Yt,A.stateNode));break;case 4:F=Yt,v=we,Yt=A.stateNode.containerInfo,we=!0,ri(m,g,A),Yt=F,we=v;break;case 0:case 11:case 14:case 15:if(!Qt&&(F=A.updateQueue,F!==null&&(F=F.lastEffect,F!==null))){v=F=F.next;do{var y=v,t=y.destroy;y=y.tag,t!==void 0&&(y&2||y&4)&&Ol(A,g,t),v=v.next}while(v!==F)}ri(m,g,A);break;case 1:if(!Qt&&(cn(A,g),F=A.stateNode,typeof F.componentWillUnmount=="function"))try{F.props=A.memoizedProps,F.state=A.memoizedState,F.componentWillUnmount()}catch(u){Lt(A,g,u)}ri(m,g,A);break;case 21:ri(m,g,A);break;case 22:A.mode&1?(Qt=(F=Qt)||A.memoizedState!==null,ri(m,g,A),Qt=F):ri(m,g,A);break;default:ri(m,g,A)}}function Hf(m){var g=m.updateQueue;if(g!==null){m.updateQueue=null;var A=m.stateNode;A===null&&(A=m.stateNode=new wm),g.forEach(function(F){var v=Ym.bind(null,m,F);A.has(F)||(A.add(F),F.then(v,v))})}}function Le(m,g){var A=g.deletions;if(A!==null)for(var F=0;F<A.length;F++){var v=A[F];try{var y=m,t=g,u=t;t:for(;u!==null;){switch(u.tag){case 5:Yt=u.stateNode,we=!1;break t;case 3:Yt=u.stateNode.containerInfo,we=!0;break t;case 4:Yt=u.stateNode.containerInfo,we=!0;break t}u=u.return}if(Yt===null)throw Error(tt(160));Gv(y,t,v),Yt=null,we=!1;var c=v.alternate;c!==null&&(c.return=null),v.return=null}catch(a){Lt(v,g,a)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)zv(g,m),g=g.sibling}function zv(m,g){var A=m.alternate,F=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:if(Le(g,m),Ve(m),F&4){try{lr(3,m,m.return),pa(3,m)}catch(n){Lt(m,m.return,n)}try{lr(5,m,m.return)}catch(n){Lt(m,m.return,n)}}break;case 1:Le(g,m),Ve(m),F&512&&A!==null&&cn(A,A.return);break;case 5:if(Le(g,m),Ve(m),F&512&&A!==null&&cn(A,A.return),m.flags&32){var v=m.stateNode;try{dr(v,"")}catch(n){Lt(m,m.return,n)}}if(F&4&&(v=m.stateNode,v!=null)){var y=m.memoizedProps,t=A!==null?A.memoizedProps:y,u=m.type,c=m.updateQueue;if(m.updateQueue=null,c!==null)try{u==="input"&&y.type==="radio"&&y.name!=null&&rd(v,y),nl(u,t);var a=nl(u,y);for(t=0;t<c.length;t+=2){var s=c[t],r=c[t+1];s==="style"?hd(v,r):s==="dangerouslySetInnerHTML"?od(v,r):s==="children"?dr(v,r):Xl(v,s,r,a)}switch(u){case"input":qo(v,y);break;case"textarea":sd(v,y);break;case"select":var e=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!y.multiple;var i=y.value;i!=null?mn(v,!!y.multiple,i,!1):e!==!!y.multiple&&(y.defaultValue!=null?mn(v,!!y.multiple,y.defaultValue,!0):mn(v,!!y.multiple,y.multiple?[]:"",!1))}v[Sr]=y}catch(n){Lt(m,m.return,n)}}break;case 6:if(Le(g,m),Ve(m),F&4){if(m.stateNode===null)throw Error(tt(162));v=m.stateNode,y=m.memoizedProps;try{v.nodeValue=y}catch(n){Lt(m,m.return,n)}}break;case 3:if(Le(g,m),Ve(m),F&4&&A!==null&&A.memoizedState.isDehydrated)try{mr(g.containerInfo)}catch(n){Lt(m,m.return,n)}break;case 4:Le(g,m),Ve(m);break;case 13:Le(g,m),Ve(m),v=m.child,v.flags&8192&&(y=v.memoizedState!==null,v.stateNode.isHidden=y,!y||v.alternate!==null&&v.alternate.memoizedState!==null||(yh=Ot())),F&4&&Hf(m);break;case 22:if(s=A!==null&&A.memoizedState!==null,m.mode&1?(Qt=(a=Qt)||s,Le(g,m),Qt=a):Le(g,m),Ve(m),F&8192){if(a=m.memoizedState!==null,(m.stateNode.isHidden=a)&&!s&&m.mode&1)for(rt=m,s=m.child;s!==null;){for(r=rt=s;rt!==null;){switch(e=rt,i=e.child,e.tag){case 0:case 11:case 14:case 15:lr(4,e,e.return);break;case 1:cn(e,e.return);var l=e.stateNode;if(typeof l.componentWillUnmount=="function"){F=e,A=e.return;try{g=F,l.props=g.memoizedProps,l.state=g.memoizedState,l.componentWillUnmount()}catch(n){Lt(F,A,n)}}break;case 5:cn(e,e.return);break;case 22:if(e.memoizedState!==null){Kf(r);continue}}i!==null?(i.return=e,rt=i):Kf(r)}s=s.sibling}t:for(s=null,r=m;;){if(r.tag===5){if(s===null){s=r;try{v=r.stateNode,a?(y=v.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(u=r.stateNode,c=r.memoizedProps.style,t=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=ld("display",t))}catch(n){Lt(m,m.return,n)}}}else if(r.tag===6){if(s===null)try{r.stateNode.nodeValue=a?"":r.memoizedProps}catch(n){Lt(m,m.return,n)}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===m)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===m)break t;for(;r.sibling===null;){if(r.return===null||r.return===m)break t;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}}break;case 19:Le(g,m),Ve(m),F&4&&Hf(m);break;case 21:break;default:Le(g,m),Ve(m)}}function Ve(m){var g=m.flags;if(g&2){try{t:{for(var A=m.return;A!==null;){if(Nv(A)){var F=A;break t}A=A.return}throw Error(tt(160))}switch(F.tag){case 5:var v=F.stateNode;F.flags&32&&(dr(v,""),F.flags&=-33);var y=Wf(m);Il(m,y,v);break;case 3:case 4:var t=F.stateNode.containerInfo,u=Wf(m);Dl(m,u,t);break;default:throw Error(tt(161))}}catch(c){Lt(m,m.return,c)}m.flags&=-3}g&4096&&(m.flags&=-4097)}function Im(m,g,A){rt=m,Uv(m,g,A)}function Uv(m,g,A){for(var F=(m.mode&1)!==0;rt!==null;){var v=rt,y=v.child;if(v.tag===22&&F){var t=v.memoizedState!==null||As;if(!t){var u=v.alternate,c=u!==null&&u.memoizedState!==null||Qt;u=As;var a=Qt;if(As=t,(Qt=c)&&!a)for(rt=v;rt!==null;)t=rt,c=t.child,t.tag===22&&t.memoizedState!==null?Zf(v):c!==null?(c.return=t,rt=c):Zf(v);for(;y!==null;)rt=y,Uv(y,g,A),y=y.sibling;rt=v,As=u,Qt=a}bf(m,g,A)}else v.subtreeFlags&8772&&y!==null?(y.return=v,rt=y):bf(m,g,A)}}function bf(m){for(;rt!==null;){var g=rt;if(g.flags&8772){var A=g.alternate;try{if(g.flags&8772)switch(g.tag){case 0:case 11:case 15:Qt||pa(5,g);break;case 1:var F=g.stateNode;if(g.flags&4&&!Qt)if(A===null)F.componentDidMount();else{var v=g.elementType===g.type?A.memoizedProps:Oe(g.type,A.memoizedProps);F.componentDidUpdate(v,A.memoizedState,F.__reactInternalSnapshotBeforeUpdate)}var y=g.updateQueue;y!==null&&Rf(g,y,F);break;case 3:var t=g.updateQueue;if(t!==null){if(A=null,g.child!==null)switch(g.child.tag){case 5:A=g.child.stateNode;break;case 1:A=g.child.stateNode}Rf(g,t,A)}break;case 5:var u=g.stateNode;if(A===null&&g.flags&4){A=u;var c=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&A.focus();break;case"img":c.src&&(A.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var a=g.alternate;if(a!==null){var s=a.memoizedState;if(s!==null){var r=s.dehydrated;r!==null&&mr(r)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(tt(163))}Qt||g.flags&512&&wl(g)}catch(e){Lt(g,g.return,e)}}if(g===m){rt=null;break}if(A=g.sibling,A!==null){A.return=g.return,rt=A;break}rt=g.return}}function Kf(m){for(;rt!==null;){var g=rt;if(g===m){rt=null;break}var A=g.sibling;if(A!==null){A.return=g.return,rt=A;break}rt=g.return}}function Zf(m){for(;rt!==null;){var g=rt;try{switch(g.tag){case 0:case 11:case 15:var A=g.return;try{pa(4,g)}catch(c){Lt(g,A,c)}break;case 1:var F=g.stateNode;if(typeof F.componentDidMount=="function"){var v=g.return;try{F.componentDidMount()}catch(c){Lt(g,v,c)}}var y=g.return;try{wl(g)}catch(c){Lt(g,y,c)}break;case 5:var t=g.return;try{wl(g)}catch(c){Lt(g,t,c)}}}catch(c){Lt(g,g.return,c)}if(g===m){rt=null;break}var u=g.sibling;if(u!==null){u.return=g.return,rt=u;break}rt=g.return}}var Bm=Math.ceil,ia=ei.ReactCurrentDispatcher,gh=ei.ReactCurrentOwner,Ee=ei.ReactCurrentBatchConfig,dt=0,Ut=null,wt=null,Wt=0,ue=0,pn=Ei(0),Bt=0,Rr=null,Qi=0,ma=0,xh=0,hr=null,re=null,yh=0,Fn=1/0,Ze=null,na=!1,Bl=null,mi=null,Ms=!1,ui=null,ra=0,ur=0,Nl=null,Bs=-1,Ns=0;function te(){return dt&6?Ot():Bs!==-1?Bs:Bs=Ot()}function gi(m){return m.mode&1?dt&2&&Wt!==0?Wt&-Wt:gm.transition!==null?(Ns===0&&(Ns=Sd()),Ns):(m=vt,m!==0||(m=window.event,m=m===void 0?16:Fd(m.type)),m):1}function Be(m,g,A,F){if(50<ur)throw ur=0,Nl=null,Error(tt(185));Fr(m,A,F),(!(dt&2)||m!==Ut)&&(m===Ut&&(!(dt&2)&&(ma|=A),Bt===4&&li(m,Wt)),le(m,F),A===1&&dt===0&&!(g.mode&1)&&(Fn=Ot()+500,da&&Ci()))}function le(m,g){var A=m.callbackNode;y0(m,g);var F=Ys(m,m===Ut?Wt:0);if(F===0)A!==null&&_u(A),m.callbackNode=null,m.callbackPriority=0;else if(g=F&-F,m.callbackPriority!==g){if(A!=null&&_u(A),g===1)m.tag===0?mm(Qf.bind(null,m)):Qd(Qf.bind(null,m)),dm(function(){!(dt&6)&&Ci()}),A=null;else{switch(Ed(F)){case 1:A=Kl;break;case 4:A=yd;break;case 16:A=Xs;break;case 536870912:A=Td;break;default:A=Xs}A=Zv(A,Vv.bind(null,m))}m.callbackPriority=g,m.callbackNode=A}}function Vv(m,g){if(Bs=-1,Ns=0,dt&6)throw Error(tt(327));var A=m.callbackNode;if(Sn()&&m.callbackNode!==A)return null;var F=Ys(m,m===Ut?Wt:0);if(F===0)return null;if(F&30||F&m.expiredLanes||g)g=sa(m,F);else{g=F;var v=dt;dt|=2;var y=Yv();(Ut!==m||Wt!==g)&&(Ze=null,Fn=Ot()+500,Wi(m,g));do try{zm();break}catch(u){Xv(m,u)}while(1);rh(),ia.current=y,dt=v,wt!==null?g=0:(Ut=null,Wt=0,g=Bt)}if(g!==0){if(g===2&&(v=ll(m),v!==0&&(F=v,g=Gl(m,v))),g===1)throw A=Rr,Wi(m,0),li(m,F),le(m,Ot()),A;if(g===6)li(m,F);else{if(v=m.current.alternate,!(F&30)&&!Nm(v)&&(g=sa(m,F),g===2&&(y=ll(m),y!==0&&(F=y,g=Gl(m,y))),g===1))throw A=Rr,Wi(m,0),li(m,F),le(m,Ot()),A;switch(m.finishedWork=v,m.finishedLanes=F,g){case 0:case 1:throw Error(tt(345));case 2:Ui(m,re,Ze);break;case 3:if(li(m,F),(F&130023424)===F&&(g=yh+500-Ot(),10<g)){if(Ys(m,0)!==0)break;if(v=m.suspendedLanes,(v&F)!==F){te(),m.pingedLanes|=m.suspendedLanes&v;break}m.timeoutHandle=ml(Ui.bind(null,m,re,Ze),g);break}Ui(m,re,Ze);break;case 4:if(li(m,F),(F&4194240)===F)break;for(g=m.eventTimes,v=-1;0<F;){var t=31-Ie(F);y=1<<t,t=g[t],t>v&&(v=t),F&=~y}if(F=v,F=Ot()-F,F=(120>F?120:480>F?480:1080>F?1080:1920>F?1920:3e3>F?3e3:4320>F?4320:1960*Bm(F/1960))-F,10<F){m.timeoutHandle=ml(Ui.bind(null,m,re,Ze),F);break}Ui(m,re,Ze);break;case 5:Ui(m,re,Ze);break;default:throw Error(tt(329))}}}return le(m,Ot()),m.callbackNode===A?Vv.bind(null,m):null}function Gl(m,g){var A=hr;return m.current.memoizedState.isDehydrated&&(Wi(m,g).flags|=256),m=sa(m,g),m!==2&&(g=re,re=A,g!==null&&zl(g)),m}function zl(m){re===null?re=m:re.push.apply(re,m)}function Nm(m){for(var g=m;;){if(g.flags&16384){var A=g.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var F=0;F<A.length;F++){var v=A[F],y=v.getSnapshot;v=v.value;try{if(!Ne(y(),v))return!1}catch{return!1}}}if(A=g.child,g.subtreeFlags&16384&&A!==null)A.return=g,g=A;else{if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function li(m,g){for(g&=~xh,g&=~ma,m.suspendedLanes|=g,m.pingedLanes&=~g,m=m.expirationTimes;0<g;){var A=31-Ie(g),F=1<<A;m[A]=-1,g&=~F}}function Qf(m){if(dt&6)throw Error(tt(327));Sn();var g=Ys(m,0);if(!(g&1))return le(m,Ot()),null;var A=sa(m,g);if(m.tag!==0&&A===2){var F=ll(m);F!==0&&(g=F,A=Gl(m,F))}if(A===1)throw A=Rr,Wi(m,0),li(m,g),le(m,Ot()),A;if(A===6)throw Error(tt(345));return m.finishedWork=m.current.alternate,m.finishedLanes=g,Ui(m,re,Ze),le(m,Ot()),null}function Th(m,g){var A=dt;dt|=1;try{return m(g)}finally{dt=A,dt===0&&(Fn=Ot()+500,da&&Ci())}}function Ji(m){ui!==null&&ui.tag===0&&!(dt&6)&&Sn();var g=dt;dt|=1;var A=Ee.transition,F=vt;try{if(Ee.transition=null,vt=1,m)return m()}finally{vt=F,Ee.transition=A,dt=g,!(dt&6)&&Ci()}}function Sh(){ue=pn.current,Et(pn)}function Wi(m,g){m.finishedWork=null,m.finishedLanes=0;var A=m.timeoutHandle;if(A!==-1&&(m.timeoutHandle=-1,fm(A)),wt!==null)for(A=wt.return;A!==null;){var F=A;switch(eh(F),F.tag){case 1:F=F.type.childContextTypes,F!=null&&Zs();break;case 3:Mn(),Et(ae),Et(Jt),uh();break;case 5:hh(F);break;case 4:Mn();break;case 13:Et(Mt);break;case 19:Et(Mt);break;case 10:sh(F.type._context);break;case 22:case 23:Sh()}A=A.return}if(Ut=m,wt=m=xi(m.current,null),Wt=ue=g,Bt=0,Rr=null,xh=ma=Qi=0,re=hr=null,Xi!==null){for(g=0;g<Xi.length;g++)if(A=Xi[g],F=A.interleaved,F!==null){A.interleaved=null;var v=F.next,y=A.pending;if(y!==null){var t=y.next;y.next=v,F.next=t}A.pending=F}Xi=null}return m}function Xv(m,g){do{var A=wt;try{if(rh(),ws.current=ea,ta){for(var F=Rt.memoizedState;F!==null;){var v=F.queue;v!==null&&(v.pending=null),F=F.next}ta=!1}if(Zi=0,zt=It=Rt=null,or=!1,Pr=0,gh.current=null,A===null||A.return===null){Bt=1,Rr=g,wt=null;break}t:{var y=m,t=A.return,u=A,c=g;if(g=Wt,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var a=c,s=u,r=s.tag;if(!(s.mode&1)&&(r===0||r===11||r===15)){var e=s.alternate;e?(s.updateQueue=e.updateQueue,s.memoizedState=e.memoizedState,s.lanes=e.lanes):(s.updateQueue=null,s.memoizedState=null)}var i=Bf(t);if(i!==null){i.flags&=-257,Nf(i,t,u,y,g),i.mode&1&&If(y,a,g),g=i,c=a;var l=g.updateQueue;if(l===null){var n=new Set;n.add(c),g.updateQueue=n}else l.add(c);break t}else{if(!(g&1)){If(y,a,g),Eh();break t}c=Error(tt(426))}}else if(Ct&&u.mode&1){var o=Bf(t);if(o!==null){!(o.flags&65536)&&(o.flags|=256),Nf(o,t,u,y,g),ih(Rn(c,u));break t}}y=c=Rn(c,u),Bt!==4&&(Bt=2),hr===null?hr=[y]:hr.push(y),y=t;do{switch(y.tag){case 3:y.flags|=65536,g&=-g,y.lanes|=g;var f=Cv(y,c,g);Mf(y,f);break t;case 1:u=c;var h=y.type,d=y.stateNode;if(!(y.flags&128)&&(typeof h.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(mi===null||!mi.has(d)))){y.flags|=65536,g&=-g,y.lanes|=g;var p=Pv(y,u,g);Mf(y,p);break t}}y=y.return}while(y!==null)}Hv(A)}catch(x){g=x,wt===A&&A!==null&&(wt=A=A.return);continue}break}while(1)}function Yv(){var m=ia.current;return ia.current=ea,m===null?ea:m}function Eh(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Ut===null||!(Qi&268435455)&&!(ma&268435455)||li(Ut,Wt)}function sa(m,g){var A=dt;dt|=2;var F=Yv();(Ut!==m||Wt!==g)&&(Ze=null,Wi(m,g));do try{Gm();break}catch(v){Xv(m,v)}while(1);if(rh(),dt=A,ia.current=F,wt!==null)throw Error(tt(261));return Ut=null,Wt=0,Bt}function Gm(){for(;wt!==null;)Wv(wt)}function zm(){for(;wt!==null&&!u0();)Wv(wt)}function Wv(m){var g=Kv(m.alternate,m,ue);m.memoizedProps=m.pendingProps,g===null?Hv(m):wt=g,gh.current=null}function Hv(m){var g=m;do{var A=g.alternate;if(m=g.return,g.flags&32768){if(A=Om(A,g),A!==null){A.flags&=32767,wt=A;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{Bt=6,wt=null;return}}else if(A=Lm(A,g,ue),A!==null){wt=A;return}if(g=g.sibling,g!==null){wt=g;return}wt=g=m}while(g!==null);Bt===0&&(Bt=5)}function Ui(m,g,A){var F=vt,v=Ee.transition;try{Ee.transition=null,vt=1,Um(m,g,A,F)}finally{Ee.transition=v,vt=F}return null}function Um(m,g,A,F){do Sn();while(ui!==null);if(dt&6)throw Error(tt(327));A=m.finishedWork;var v=m.finishedLanes;if(A===null)return null;if(m.finishedWork=null,m.finishedLanes=0,A===m.current)throw Error(tt(177));m.callbackNode=null,m.callbackPriority=0;var y=A.lanes|A.childLanes;if(T0(m,y),m===Ut&&(wt=Ut=null,Wt=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||Ms||(Ms=!0,Zv(Xs,function(){return Sn(),null})),y=(A.flags&15990)!==0,A.subtreeFlags&15990||y){y=Ee.transition,Ee.transition=null;var t=vt;vt=1;var u=dt;dt|=4,gh.current=null,Dm(m,A),zv(A,m),am(cl),Ws=!!vl,cl=vl=null,m.current=A,Im(A,m,v),f0(),dt=u,vt=t,Ee.transition=y}else m.current=A;if(Ms&&(Ms=!1,ui=m,ra=v),y=m.pendingLanes,y===0&&(mi=null),c0(A.stateNode,F),le(m,Ot()),g!==null)for(F=m.onRecoverableError,A=0;A<g.length;A++)v=g[A],F(v.value,{componentStack:v.stack,digest:v.digest});if(na)throw na=!1,m=Bl,Bl=null,m;return ra&1&&m.tag!==0&&Sn(),y=m.pendingLanes,y&1?m===Nl?ur++:(ur=0,Nl=m):ur=0,Ci(),null}function Sn(){if(ui!==null){var m=Ed(ra),g=Ee.transition,A=vt;try{if(Ee.transition=null,vt=16>m?16:m,ui===null)var F=!1;else{if(m=ui,ui=null,ra=0,dt&6)throw Error(tt(331));var v=dt;for(dt|=4,rt=m.current;rt!==null;){var y=rt,t=y.child;if(rt.flags&16){var u=y.deletions;if(u!==null){for(var c=0;c<u.length;c++){var a=u[c];for(rt=a;rt!==null;){var s=rt;switch(s.tag){case 0:case 11:case 15:lr(8,s,y)}var r=s.child;if(r!==null)r.return=s,rt=r;else for(;rt!==null;){s=rt;var e=s.sibling,i=s.return;if(Bv(s),s===a){rt=null;break}if(e!==null){e.return=i,rt=e;break}rt=i}}}var l=y.alternate;if(l!==null){var n=l.child;if(n!==null){l.child=null;do{var o=n.sibling;n.sibling=null,n=o}while(n!==null)}}rt=y}}if(y.subtreeFlags&2064&&t!==null)t.return=y,rt=t;else t:for(;rt!==null;){if(y=rt,y.flags&2048)switch(y.tag){case 0:case 11:case 15:lr(9,y,y.return)}var f=y.sibling;if(f!==null){f.return=y.return,rt=f;break t}rt=y.return}}var h=m.current;for(rt=h;rt!==null;){t=rt;var d=t.child;if(t.subtreeFlags&2064&&d!==null)d.return=t,rt=d;else t:for(t=h;rt!==null;){if(u=rt,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:pa(9,u)}}catch(x){Lt(u,u.return,x)}if(u===t){rt=null;break t}var p=u.sibling;if(p!==null){p.return=u.return,rt=p;break t}rt=u.return}}if(dt=v,Ci(),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(oa,m)}catch{}F=!0}return F}finally{vt=A,Ee.transition=g}}return!1}function Jf(m,g,A){g=Rn(A,g),g=Cv(m,g,1),m=pi(m,g,1),g=te(),m!==null&&(Fr(m,1,g),le(m,g))}function Lt(m,g,A){if(m.tag===3)Jf(m,m,A);else for(;g!==null;){if(g.tag===3){Jf(g,m,A);break}else if(g.tag===1){var F=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof F.componentDidCatch=="function"&&(mi===null||!mi.has(F))){m=Rn(A,m),m=Pv(g,m,1),g=pi(g,m,1),m=te(),g!==null&&(Fr(g,1,m),le(g,m));break}}g=g.return}}function Vm(m,g,A){var F=m.pingCache;F!==null&&F.delete(g),g=te(),m.pingedLanes|=m.suspendedLanes&A,Ut===m&&(Wt&A)===A&&(Bt===4||Bt===3&&(Wt&130023424)===Wt&&500>Ot()-yh?Wi(m,0):xh|=A),le(m,g)}function bv(m,g){g===0&&(m.mode&1?(g=ds,ds<<=1,!(ds&130023424)&&(ds=4194304)):g=1);var A=te();m=_e(m,g),m!==null&&(Fr(m,g,A),le(m,A))}function Xm(m){var g=m.memoizedState,A=0;g!==null&&(A=g.retryLane),bv(m,A)}function Ym(m,g){var A=0;switch(m.tag){case 13:var F=m.stateNode,v=m.memoizedState;v!==null&&(A=v.retryLane);break;case 19:F=m.stateNode;break;default:throw Error(tt(314))}F!==null&&F.delete(g),bv(m,A)}var Kv;Kv=function(m,g,A){if(m!==null)if(m.memoizedProps!==g.pendingProps||ae.current)se=!0;else{if(!(m.lanes&A)&&!(g.flags&128))return se=!1,Fm(m,g,A);se=!!(m.flags&131072)}else se=!1,Ct&&g.flags&1048576&&Jd(g,js,g.index);switch(g.lanes=0,g.tag){case 2:var F=g.type;Is(m,g),m=g.pendingProps;var v=Cn(g,Jt.current);Tn(g,A),v=dh(null,g,F,m,v,A);var y=vh();return g.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,oe(F)?(y=!0,Qs(g)):y=!1,g.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,oh(g),v.updater=va,g.stateNode=v,v._reactInternals=g,Cl(g,F,m,A),g=Ml(null,g,F,!0,y,A)):(g.tag=0,Ct&&y&&th(g),_t(null,g,v,A),g=g.child),g;case 16:F=g.elementType;t:{switch(Is(m,g),m=g.pendingProps,v=F._init,F=v(F._payload),g.type=F,v=g.tag=Hm(F),m=Oe(F,m),v){case 0:g=Al(null,g,F,m,A);break t;case 1:g=Uf(null,g,F,m,A);break t;case 11:g=Gf(null,g,F,m,A);break t;case 14:g=zf(null,g,F,Oe(F.type,m),A);break t}throw Error(tt(306,F,""))}return g;case 0:return F=g.type,v=g.pendingProps,v=g.elementType===F?v:Oe(F,v),Al(m,g,F,v,A);case 1:return F=g.type,v=g.pendingProps,v=g.elementType===F?v:Oe(F,v),Uf(m,g,F,v,A);case 3:t:{if(Fv(g),m===null)throw Error(tt(387));F=g.pendingProps,y=g.memoizedState,v=y.element,qd(m,g),qs(g,F,null,A);var t=g.memoizedState;if(F=t.element,y.isDehydrated)if(y={element:F,isDehydrated:!1,cache:t.cache,pendingSuspenseBoundaries:t.pendingSuspenseBoundaries,transitions:t.transitions},g.updateQueue.baseState=y,g.memoizedState=y,g.flags&256){v=Rn(Error(tt(423)),g),g=Vf(m,g,F,A,v);break t}else if(F!==v){v=Rn(Error(tt(424)),g),g=Vf(m,g,F,A,v);break t}else for(fe=ci(g.stateNode.containerInfo.firstChild),de=g,Ct=!0,De=null,A=iv(g,null,F,A),g.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(Pn(),F===v){g=ti(m,g,A);break t}_t(m,g,F,A)}g=g.child}return g;case 5:return nv(g),m===null&&Tl(g),F=g.type,v=g.pendingProps,y=m!==null?m.memoizedProps:null,t=v.children,pl(F,v)?t=null:y!==null&&pl(F,y)&&(g.flags|=32),Rv(m,g),_t(m,g,t,A),g.child;case 6:return m===null&&Tl(g),null;case 13:return Lv(m,g,A);case 4:return lh(g,g.stateNode.containerInfo),F=g.pendingProps,m===null?g.child=An(g,null,F,A):_t(m,g,F,A),g.child;case 11:return F=g.type,v=g.pendingProps,v=g.elementType===F?v:Oe(F,v),Gf(m,g,F,v,A);case 7:return _t(m,g,g.pendingProps,A),g.child;case 8:return _t(m,g,g.pendingProps.children,A),g.child;case 12:return _t(m,g,g.pendingProps.children,A),g.child;case 10:t:{if(F=g.type._context,v=g.pendingProps,y=g.memoizedProps,t=v.value,Tt($s,F._currentValue),F._currentValue=t,y!==null)if(Ne(y.value,t)){if(y.children===v.children&&!ae.current){g=ti(m,g,A);break t}}else for(y=g.child,y!==null&&(y.return=g);y!==null;){var u=y.dependencies;if(u!==null){t=y.child;for(var c=u.firstContext;c!==null;){if(c.context===F){if(y.tag===1){c=$e(-1,A&-A),c.tag=2;var a=y.updateQueue;if(a!==null){a=a.shared;var s=a.pending;s===null?c.next=c:(c.next=s.next,s.next=c),a.pending=c}}y.lanes|=A,c=y.alternate,c!==null&&(c.lanes|=A),Sl(y.return,A,g),u.lanes|=A;break}c=c.next}}else if(y.tag===10)t=y.type===g.type?null:y.child;else if(y.tag===18){if(t=y.return,t===null)throw Error(tt(341));t.lanes|=A,u=t.alternate,u!==null&&(u.lanes|=A),Sl(t,A,g),t=y.sibling}else t=y.child;if(t!==null)t.return=y;else for(t=y;t!==null;){if(t===g){t=null;break}if(y=t.sibling,y!==null){y.return=t.return,t=y;break}t=t.return}y=t}_t(m,g,v.children,A),g=g.child}return g;case 9:return v=g.type,F=g.pendingProps.children,Tn(g,A),v=Ce(v),F=F(v),g.flags|=1,_t(m,g,F,A),g.child;case 14:return F=g.type,v=Oe(F,g.pendingProps),v=Oe(F.type,v),zf(m,g,F,v,A);case 15:return Av(m,g,g.type,g.pendingProps,A);case 17:return F=g.type,v=g.pendingProps,v=g.elementType===F?v:Oe(F,v),Is(m,g),g.tag=1,oe(F)?(m=!0,Qs(g)):m=!1,Tn(g,A),tv(g,F,v),Cl(g,F,v,A),Ml(null,g,F,!0,m,A);case 19:return Ov(m,g,A);case 22:return Mv(m,g,A)}throw Error(tt(156,g.tag))};function Zv(m,g){return xd(m,g)}function Wm(m,g,A,F){this.tag=m,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=F,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Se(m,g,A,F){return new Wm(m,g,A,F)}function Ch(m){return m=m.prototype,!(!m||!m.isReactComponent)}function Hm(m){if(typeof m=="function")return Ch(m)?1:0;if(m!=null){if(m=m.$$typeof,m===Wl)return 11;if(m===Hl)return 14}return 2}function xi(m,g){var A=m.alternate;return A===null?(A=Se(m.tag,g,m.key,m.mode),A.elementType=m.elementType,A.type=m.type,A.stateNode=m.stateNode,A.alternate=m,m.alternate=A):(A.pendingProps=g,A.type=m.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=m.flags&14680064,A.childLanes=m.childLanes,A.lanes=m.lanes,A.child=m.child,A.memoizedProps=m.memoizedProps,A.memoizedState=m.memoizedState,A.updateQueue=m.updateQueue,g=m.dependencies,A.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},A.sibling=m.sibling,A.index=m.index,A.ref=m.ref,A}function Gs(m,g,A,F,v,y){var t=2;if(F=m,typeof m=="function")Ch(m)&&(t=1);else if(typeof m=="string")t=5;else t:switch(m){case sn:return Hi(A.children,v,y,g);case Yl:t=8,v|=8;break;case Qo:return m=Se(12,A,g,v|2),m.elementType=Qo,m.lanes=y,m;case Jo:return m=Se(13,A,g,v),m.elementType=Jo,m.lanes=y,m;case jo:return m=Se(19,A,g,v),m.elementType=jo,m.lanes=y,m;case ed:return ga(A,v,y,g);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case _f:t=10;break t;case td:t=9;break t;case Wl:t=11;break t;case Hl:t=14;break t;case si:t=16,F=null;break t}throw Error(tt(130,m==null?m:typeof m,""))}return g=Se(t,A,g,v),g.elementType=m,g.type=F,g.lanes=y,g}function Hi(m,g,A,F){return m=Se(7,m,F,g),m.lanes=A,m}function ga(m,g,A,F){return m=Se(22,m,F,g),m.elementType=ed,m.lanes=A,m.stateNode={isHidden:!1},m}function bo(m,g,A){return m=Se(6,m,null,g),m.lanes=A,m}function Ko(m,g,A){return g=Se(4,m.children!==null?m.children:[],m.key,g),g.lanes=A,g.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},g}function bm(m,g,A,F,v){this.tag=g,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fo(0),this.expirationTimes=Fo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fo(0),this.identifierPrefix=F,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Ph(m,g,A,F,v,y,t,u,c){return m=new bm(m,g,A,u,c),g===1?(g=1,y===!0&&(g|=8)):g=0,y=Se(3,null,null,g),m.current=y,y.stateNode=m,y.memoizedState={element:F,isDehydrated:A,cache:null,transitions:null,pendingSuspenseBoundaries:null},oh(y),m}function Km(m,g,A){var F=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rn,key:F==null?null:""+F,children:m,containerInfo:g,implementation:A}}function Qv(m){if(!m)return Ti;m=m._reactInternals;t:{if($i(m)!==m||m.tag!==1)throw Error(tt(170));var g=m;do{switch(g.tag){case 3:g=g.stateNode.context;break t;case 1:if(oe(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break t}}g=g.return}while(g!==null);throw Error(tt(171))}if(m.tag===1){var A=m.type;if(oe(A))return Zd(m,A,g)}return g}function Jv(m,g,A,F,v,y,t,u,c){return m=Ph(A,F,!0,m,v,y,t,u,c),m.context=Qv(null),A=m.current,F=te(),v=gi(A),y=$e(F,v),y.callback=g??null,pi(A,y,v),m.current.lanes=v,Fr(m,v,F),le(m,F),m}function xa(m,g,A,F){var v=g.current,y=te(),t=gi(v);return A=Qv(A),g.context===null?g.context=A:g.pendingContext=A,g=$e(y,t),g.payload={element:m},F=F===void 0?null:F,F!==null&&(g.callback=F),m=pi(v,g,t),m!==null&&(Be(m,v,t,y),Os(m,v,t)),t}function aa(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 5:return m.child.stateNode;default:return m.child.stateNode}}function jf(m,g){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var A=m.retryLane;m.retryLane=A!==0&&A<g?A:g}}function Ah(m,g){jf(m,g),(m=m.alternate)&&jf(m,g)}function Zm(){return null}var jv=typeof reportError=="function"?reportError:function(m){console.error(m)};function Mh(m){this._internalRoot=m}ya.prototype.render=Mh.prototype.render=function(m){var g=this._internalRoot;if(g===null)throw Error(tt(409));xa(m,g,null,null)};ya.prototype.unmount=Mh.prototype.unmount=function(){var m=this._internalRoot;if(m!==null){this._internalRoot=null;var g=m.containerInfo;Ji(function(){xa(null,m,null,null)}),g[qe]=null}};function ya(m){this._internalRoot=m}ya.prototype.unstable_scheduleHydration=function(m){if(m){var g=Ad();m={blockedOn:null,target:m,priority:g};for(var A=0;A<oi.length&&g!==0&&g<oi[A].priority;A++);oi.splice(A,0,m),A===0&&Rd(m)}};function Rh(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)}function Ta(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11&&(m.nodeType!==8||m.nodeValue!==" react-mount-point-unstable "))}function $f(){}function Qm(m,g,A,F,v){if(v){if(typeof F=="function"){var y=F;F=function(){var a=aa(t);y.call(a)}}var t=Jv(g,F,m,0,null,!1,!1,"",$f);return m._reactRootContainer=t,m[qe]=t.current,yr(m.nodeType===8?m.parentNode:m),Ji(),t}for(;v=m.lastChild;)m.removeChild(v);if(typeof F=="function"){var u=F;F=function(){var a=aa(c);u.call(a)}}var c=Ph(m,0,!1,null,null,!1,!1,"",$f);return m._reactRootContainer=c,m[qe]=c.current,yr(m.nodeType===8?m.parentNode:m),Ji(function(){xa(g,c,A,F)}),c}function Sa(m,g,A,F,v){var y=A._reactRootContainer;if(y){var t=y;if(typeof v=="function"){var u=v;v=function(){var c=aa(t);u.call(c)}}xa(g,t,m,v)}else t=Qm(A,g,m,v,F);return aa(t)}Cd=function(m){switch(m.tag){case 3:var g=m.stateNode;if(g.current.memoizedState.isDehydrated){var A=tr(g.pendingLanes);A!==0&&(Zl(g,A|1),le(g,Ot()),!(dt&6)&&(Fn=Ot()+500,Ci()))}break;case 13:Ji(function(){var F=_e(m,1);if(F!==null){var v=te();Be(F,m,1,v)}}),Ah(m,1)}};Ql=function(m){if(m.tag===13){var g=_e(m,134217728);if(g!==null){var A=te();Be(g,m,134217728,A)}Ah(m,134217728)}};Pd=function(m){if(m.tag===13){var g=gi(m),A=_e(m,g);if(A!==null){var F=te();Be(A,m,g,F)}Ah(m,g)}};Ad=function(){return vt};Md=function(m,g){var A=vt;try{return vt=m,g()}finally{vt=A}};sl=function(m,g,A){switch(g){case"input":if(qo(m,A),g=A.name,A.type==="radio"&&g!=null){for(A=m;A.parentNode;)A=A.parentNode;for(A=A.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<A.length;g++){var F=A[g];if(F!==m&&F.form===m.form){var v=fa(F);if(!v)throw Error(tt(90));nd(F),qo(F,v)}}}break;case"textarea":sd(m,A);break;case"select":g=A.value,g!=null&&mn(m,!!A.multiple,g,!1)}};dd=Th;vd=Ji;var Jm={usingClientEntryPoint:!1,Events:[Or,hn,fa,ud,fd,Th]},$n={findFiberByHostInstance:Vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},jm={bundleType:$n.bundleType,version:$n.version,rendererPackageName:$n.rendererPackageName,rendererConfig:$n.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ei.ReactCurrentDispatcher,findHostInstanceByFiber:function(m){return m=md(m),m===null?null:m.stateNode},findFiberByHostInstance:$n.findFiberByHostInstance||Zm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(kn=__REACT_DEVTOOLS_GLOBAL_HOOK__,!kn.isDisabled&&kn.supportsFiber))try{oa=kn.inject(jm),We=kn}catch{}var kn;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jm;pe.createPortal=function(m,g){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rh(g))throw Error(tt(200));return Km(m,g,null,A)};pe.createRoot=function(m,g){if(!Rh(m))throw Error(tt(299));var A=!1,F="",v=jv;return g!=null&&(g.unstable_strictMode===!0&&(A=!0),g.identifierPrefix!==void 0&&(F=g.identifierPrefix),g.onRecoverableError!==void 0&&(v=g.onRecoverableError)),g=Ph(m,1,!1,null,null,A,!1,F,v),m[qe]=g.current,yr(m.nodeType===8?m.parentNode:m),new Mh(g)};pe.findDOMNode=function(m){if(m==null)return null;if(m.nodeType===1)return m;var g=m._reactInternals;if(g===void 0)throw typeof m.render=="function"?Error(tt(188)):(m=Object.keys(m).join(","),Error(tt(268,m)));return m=md(g),m=m===null?null:m.stateNode,m};pe.flushSync=function(m){return Ji(m)};pe.hydrate=function(m,g,A){if(!Ta(g))throw Error(tt(200));return Sa(null,m,g,!0,A)};pe.hydrateRoot=function(m,g,A){if(!Rh(m))throw Error(tt(405));var F=A!=null&&A.hydratedSources||null,v=!1,y="",t=jv;if(A!=null&&(A.unstable_strictMode===!0&&(v=!0),A.identifierPrefix!==void 0&&(y=A.identifierPrefix),A.onRecoverableError!==void 0&&(t=A.onRecoverableError)),g=Jv(g,null,m,1,A??null,v,!1,y,t),m[qe]=g.current,yr(m),F)for(m=0;m<F.length;m++)A=F[m],v=A._getVersion,v=v(A._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[A,v]:g.mutableSourceEagerHydrationData.push(A,v);return new ya(g)};pe.render=function(m,g,A){if(!Ta(g))throw Error(tt(200));return Sa(null,m,g,!1,A)};pe.unmountComponentAtNode=function(m){if(!Ta(m))throw Error(tt(40));return m._reactRootContainer?(Ji(function(){Sa(null,null,m,!1,function(){m._reactRootContainer=null,m[qe]=null})}),!0):!1};pe.unstable_batchedUpdates=Th;pe.unstable_renderSubtreeIntoContainer=function(m,g,A,F){if(!Ta(A))throw Error(tt(200));if(m==null||m._reactInternals===void 0)throw Error(tt(38));return Sa(m,g,A,!1,F)};pe.version="18.2.0-next-9e3b772b8-20220608"});var Fh=Gt((Qx,qv)=>{"use strict";function kv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kv)}catch(m){console.error(m)}}kv(),qv.exports=$v()});var tc=Gt(Lh=>{"use strict";var _v=Fh();Lh.createRoot=_v.createRoot,Lh.hydrateRoot=_v.hydrateRoot;var Jx});var ic=Gt(ec=>{"use strict";var wn=qt();function $m(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var km=typeof Object.is=="function"?Object.is:$m,qm=wn.useState,_m=wn.useEffect,tg=wn.useLayoutEffect,eg=wn.useDebugValue;function ig(m,g){var A=g(),F=qm({inst:{value:A,getSnapshot:g}}),v=F[0].inst,y=F[1];return tg(function(){v.value=A,v.getSnapshot=g,Oh(v)&&y({inst:v})},[m,A,g]),_m(function(){return Oh(v)&&y({inst:v}),m(function(){Oh(v)&&y({inst:v})})},[m]),eg(A),A}function Oh(m){var g=m.getSnapshot;m=m.value;try{var A=g();return!km(m,A)}catch{return!0}}function ng(m,g){return g()}var rg=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ng:ig;ec.useSyncExternalStore=wn.useSyncExternalStore!==void 0?wn.useSyncExternalStore:rg});var wh=Gt((kx,nc)=>{"use strict";nc.exports=ic()});var sc=Gt(rc=>{"use strict";var Ea=qt(),sg=wh();function ag(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var og=typeof Object.is=="function"?Object.is:ag,lg=sg.useSyncExternalStore,hg=Ea.useRef,ug=Ea.useEffect,fg=Ea.useMemo,dg=Ea.useDebugValue;rc.useSyncExternalStoreWithSelector=function(m,g,A,F,v){var y=hg(null);if(y.current===null){var t={hasValue:!1,value:null};y.current=t}else t=y.current;y=fg(function(){function c(i){if(!a){if(a=!0,s=i,i=F(i),v!==void 0&&t.hasValue){var l=t.value;if(v(l,i))return r=l}return r=i}if(l=r,og(s,i))return l;var n=F(i);return v!==void 0&&v(l,n)?l:(s=i,r=n)}var a=!1,s,r,e=A===void 0?null:A;return[function(){return c(g())},e===null?void 0:function(){return c(e())}]},[g,A,F,v]);var u=lg(m,y[0],y[1]);return ug(function(){t.hasValue=!0,t.value=u},[u]),dg(u),u}});var oc=Gt((_x,ac)=>{"use strict";ac.exports=sc()});var gc=Gt(ct=>{"use strict";var Vt=typeof Symbol=="function"&&Symbol.for,Ih=Vt?Symbol.for("react.element"):60103,Bh=Vt?Symbol.for("react.portal"):60106,Ma=Vt?Symbol.for("react.fragment"):60107,Ra=Vt?Symbol.for("react.strict_mode"):60108,Fa=Vt?Symbol.for("react.profiler"):60114,La=Vt?Symbol.for("react.provider"):60109,Oa=Vt?Symbol.for("react.context"):60110,Nh=Vt?Symbol.for("react.async_mode"):60111,wa=Vt?Symbol.for("react.concurrent_mode"):60111,Da=Vt?Symbol.for("react.forward_ref"):60112,Ia=Vt?Symbol.for("react.suspense"):60113,pg=Vt?Symbol.for("react.suspense_list"):60120,Ba=Vt?Symbol.for("react.memo"):60115,Na=Vt?Symbol.for("react.lazy"):60116,mg=Vt?Symbol.for("react.block"):60121,gg=Vt?Symbol.for("react.fundamental"):60117,xg=Vt?Symbol.for("react.responder"):60118,yg=Vt?Symbol.for("react.scope"):60119;function me(m){if(typeof m=="object"&&m!==null){var g=m.$$typeof;switch(g){case Ih:switch(m=m.type,m){case Nh:case wa:case Ma:case Fa:case Ra:case Ia:return m;default:switch(m=m&&m.$$typeof,m){case Oa:case Da:case Na:case Ba:case La:return m;default:return g}}case Bh:return g}}}function mc(m){return me(m)===wa}ct.AsyncMode=Nh;ct.ConcurrentMode=wa;ct.ContextConsumer=Oa;ct.ContextProvider=La;ct.Element=Ih;ct.ForwardRef=Da;ct.Fragment=Ma;ct.Lazy=Na;ct.Memo=Ba;ct.Portal=Bh;ct.Profiler=Fa;ct.StrictMode=Ra;ct.Suspense=Ia;ct.isAsyncMode=function(m){return mc(m)||me(m)===Nh};ct.isConcurrentMode=mc;ct.isContextConsumer=function(m){return me(m)===Oa};ct.isContextProvider=function(m){return me(m)===La};ct.isElement=function(m){return typeof m=="object"&&m!==null&&m.$$typeof===Ih};ct.isForwardRef=function(m){return me(m)===Da};ct.isFragment=function(m){return me(m)===Ma};ct.isLazy=function(m){return me(m)===Na};ct.isMemo=function(m){return me(m)===Ba};ct.isPortal=function(m){return me(m)===Bh};ct.isProfiler=function(m){return me(m)===Fa};ct.isStrictMode=function(m){return me(m)===Ra};ct.isSuspense=function(m){return me(m)===Ia};ct.isValidElementType=function(m){return typeof m=="string"||typeof m=="function"||m===Ma||m===wa||m===Fa||m===Ra||m===Ia||m===pg||typeof m=="object"&&m!==null&&(m.$$typeof===Na||m.$$typeof===Ba||m.$$typeof===La||m.$$typeof===Oa||m.$$typeof===Da||m.$$typeof===gg||m.$$typeof===xg||m.$$typeof===yg||m.$$typeof===mg)};ct.typeOf=me});var yc=Gt((v1,xc)=>{"use strict";xc.exports=gc()});var Mc=Gt((c1,Ac)=>{"use strict";var Gh=yc(),Tg={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Sg={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Eg={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Cc={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},zh={};zh[Gh.ForwardRef]=Eg;zh[Gh.Memo]=Cc;function Tc(m){return Gh.isMemo(m)?Cc:zh[m.$$typeof]||Tg}var Cg=Object.defineProperty,Pg=Object.getOwnPropertyNames,Sc=Object.getOwnPropertySymbols,Ag=Object.getOwnPropertyDescriptor,Mg=Object.getPrototypeOf,Ec=Object.prototype;function Pc(m,g,A){if(typeof g!="string"){if(Ec){var F=Mg(g);F&&F!==Ec&&Pc(m,F,A)}var v=Pg(g);Sc&&(v=v.concat(Sc(g)));for(var y=Tc(m),t=Tc(g),u=0;u<v.length;++u){var c=v[u];if(!Sg[c]&&!(A&&A[c])&&!(t&&t[c])&&!(y&&y[c])){var a=Ag(g,c);try{Cg(m,c,a)}catch{}}}}return m}Ac.exports=Pc});var Fc=Gt(pt=>{"use strict";var Uh=Symbol.for("react.element"),Vh=Symbol.for("react.portal"),Ga=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Ua=Symbol.for("react.profiler"),Va=Symbol.for("react.provider"),Xa=Symbol.for("react.context"),Rg=Symbol.for("react.server_context"),Ya=Symbol.for("react.forward_ref"),Wa=Symbol.for("react.suspense"),Ha=Symbol.for("react.suspense_list"),ba=Symbol.for("react.memo"),Ka=Symbol.for("react.lazy"),Fg=Symbol.for("react.offscreen"),Rc;Rc=Symbol.for("react.module.reference");function Ae(m){if(typeof m=="object"&&m!==null){var g=m.$$typeof;switch(g){case Uh:switch(m=m.type,m){case Ga:case Ua:case za:case Wa:case Ha:return m;default:switch(m=m&&m.$$typeof,m){case Rg:case Xa:case Ya:case Ka:case ba:case Va:return m;default:return g}}case Vh:return g}}}pt.ContextConsumer=Xa;pt.ContextProvider=Va;pt.Element=Uh;pt.ForwardRef=Ya;pt.Fragment=Ga;pt.Lazy=Ka;pt.Memo=ba;pt.Portal=Vh;pt.Profiler=Ua;pt.StrictMode=za;pt.Suspense=Wa;pt.SuspenseList=Ha;pt.isAsyncMode=function(){return!1};pt.isConcurrentMode=function(){return!1};pt.isContextConsumer=function(m){return Ae(m)===Xa};pt.isContextProvider=function(m){return Ae(m)===Va};pt.isElement=function(m){return typeof m=="object"&&m!==null&&m.$$typeof===Uh};pt.isForwardRef=function(m){return Ae(m)===Ya};pt.isFragment=function(m){return Ae(m)===Ga};pt.isLazy=function(m){return Ae(m)===Ka};pt.isMemo=function(m){return Ae(m)===ba};pt.isPortal=function(m){return Ae(m)===Vh};pt.isProfiler=function(m){return Ae(m)===Ua};pt.isStrictMode=function(m){return Ae(m)===za};pt.isSuspense=function(m){return Ae(m)===Wa};pt.isSuspenseList=function(m){return Ae(m)===Ha};pt.isValidElementType=function(m){return typeof m=="string"||typeof m=="function"||m===Ga||m===Ua||m===za||m===Wa||m===Ha||m===Fg||typeof m=="object"&&m!==null&&(m.$$typeof===Ka||m.$$typeof===ba||m.$$typeof===Va||m.$$typeof===Xa||m.$$typeof===Ya||m.$$typeof===Rc||m.getModuleId!==void 0)};pt.typeOf=Ae});var Oc=Gt((m1,Lc)=>{"use strict";Lc.exports=Fc()});var Ep=Gt((n2,gu)=>{"use strict";var Bx=Object.prototype.hasOwnProperty,ne="~";function Xr(){}Object.create&&(Xr.prototype=Object.create(null),new Xr().__proto__||(ne=!1));function Nx(m,g,A){this.fn=m,this.context=g,this.once=A||!1}function Sp(m,g,A,F,v){if(typeof A!="function")throw new TypeError("The listener must be a function");var y=new Nx(A,F||m,v),t=ne?ne+g:g;return m._events[t]?m._events[t].fn?m._events[t]=[m._events[t],y]:m._events[t].push(y):(m._events[t]=y,m._eventsCount++),m}function no(m,g){--m._eventsCount===0?m._events=new Xr:delete m._events[g]}function $t(){this._events=new Xr,this._eventsCount=0}$t.prototype.eventNames=function(){var g=[],A,F;if(this._eventsCount===0)return g;for(F in A=this._events)Bx.call(A,F)&&g.push(ne?F.slice(1):F);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(A)):g};$t.prototype.listeners=function(g){var A=ne?ne+g:g,F=this._events[A];if(!F)return[];if(F.fn)return[F.fn];for(var v=0,y=F.length,t=new Array(y);v<y;v++)t[v]=F[v].fn;return t};$t.prototype.listenerCount=function(g){var A=ne?ne+g:g,F=this._events[A];return F?F.fn?1:F.length:0};$t.prototype.emit=function(g,A,F,v,y,t){var u=ne?ne+g:g;if(!this._events[u])return!1;var c=this._events[u],a=arguments.length,s,r;if(c.fn){switch(c.once&&this.removeListener(g,c.fn,void 0,!0),a){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,A),!0;case 3:return c.fn.call(c.context,A,F),!0;case 4:return c.fn.call(c.context,A,F,v),!0;case 5:return c.fn.call(c.context,A,F,v,y),!0;case 6:return c.fn.call(c.context,A,F,v,y,t),!0}for(r=1,s=new Array(a-1);r<a;r++)s[r-1]=arguments[r];c.fn.apply(c.context,s)}else{var e=c.length,i;for(r=0;r<e;r++)switch(c[r].once&&this.removeListener(g,c[r].fn,void 0,!0),a){case 1:c[r].fn.call(c[r].context);break;case 2:c[r].fn.call(c[r].context,A);break;case 3:c[r].fn.call(c[r].context,A,F);break;case 4:c[r].fn.call(c[r].context,A,F,v);break;default:if(!s)for(i=1,s=new Array(a-1);i<a;i++)s[i-1]=arguments[i];c[r].fn.apply(c[r].context,s)}}return!0};$t.prototype.on=function(g,A,F){return Sp(this,g,A,F,!1)};$t.prototype.once=function(g,A,F){return Sp(this,g,A,F,!0)};$t.prototype.removeListener=function(g,A,F,v){var y=ne?ne+g:g;if(!this._events[y])return this;if(!A)return no(this,y),this;var t=this._events[y];if(t.fn)t.fn===A&&(!v||t.once)&&(!F||t.context===F)&&no(this,y);else{for(var u=0,c=[],a=t.length;u<a;u++)(t[u].fn!==A||v&&!t[u].once||F&&t[u].context!==F)&&c.push(t[u]);c.length?this._events[y]=c.length===1?c[0]:c:no(this,y)}return this};$t.prototype.removeAllListeners=function(g){var A;return g?(A=ne?ne+g:g,this._events[A]&&no(this,A)):(this._events=new Xr,this._eventsCount=0),this};$t.prototype.off=$t.prototype.removeListener;$t.prototype.addListener=$t.prototype.on;$t.prefixed=ne;$t.EventEmitter=$t;typeof gu<"u"&&(gu.exports=$t)});var oo=xt(Ke());var mu=xt(qt()),yp=xt(tc());var Ur=xt(qt());var Pi=xt(qt());var Gc=xt(wh()),zc=xt(oc());var Dh=xt(Fh());function vg(m){m()}var lc=vg,hc=m=>lc=m,uc=()=>lc;var Aa=xt(qt());var dc=xt(qt());var fc=xt(qt()),ie=(0,fc.createContext)(null);function Ca(){return(0,dc.useContext)(ie)}var Pa=()=>{throw new Error("uSES not initialized!")};var vc=Pa,cc=m=>{vc=m},cg=(m,g)=>m===g;function pc(m=ie){let g=m===ie?Ca:()=>(0,Aa.useContext)(m);return function(F,v=cg){let{store:y,subscription:t,getServerState:u}=g(),c=vc(t.addNestedSub,y.getState,u||y.getState,F,v);return(0,Aa.useDebugValue)(c),c}}var Dn=pc();var zg=xt(Mc()),Qa=xt(qt()),Ug=xt(Oc());function Bg(){let m=uc(),g=null,A=null;return{clear(){g=null,A=null},notify(){m(()=>{let F=g;for(;F;)F.callback(),F=F.next})},get(){let F=[],v=g;for(;v;)F.push(v),v=v.next;return F},subscribe(F){let v=!0,y=A={callback:F,next:null,prev:A};return y.prev?y.prev.next=y:g=y,function(){!v||g===null||(v=!1,y.next?y.next.prev=y.prev:A=y.prev,y.prev?y.prev.next=y.next:g=y.next)}}}}var Dc={notify(){},get:()=>[]};function Xh(m,g){let A,F=Dc;function v(r){return c(),F.subscribe(r)}function y(){F.notify()}function t(){s.onStateChange&&s.onStateChange()}function u(){return!!A}function c(){A||(A=g?g.addNestedSub(t):m.subscribe(t),F=Bg())}function a(){A&&(A(),A=void 0,F.clear(),F=Dc)}let s={addNestedSub:v,notifyNestedSubs:y,handleChangeWrapper:t,isSubscribed:u,trySubscribe:c,tryUnsubscribe:a,getListeners:()=>F};return s}var Za=xt(qt()),Ng=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Yh=Ng?Za.useLayoutEffect:Za.useEffect;var Vg=Pa,Ic=m=>{Vg=m};var Dr=xt(qt());function Xg({store:m,context:g,children:A,serverState:F}){let v=(0,Dr.useMemo)(()=>{let u=Xh(m);return{store:m,subscription:u,getServerState:F?()=>F:void 0}},[m,F]),y=(0,Dr.useMemo)(()=>m.getState(),[m]);Yh(()=>{let{subscription:u}=v;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),y!==m.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[v,y]);let t=g||ie;return Dr.default.createElement(t.Provider,{value:v},A)}var Wh=Xg;var Bc=xt(qt());function Ja(m=ie){let g=m===ie?Ca:()=>(0,Bc.useContext)(m);return function(){let{store:F}=g();return F}}var Hh=Ja();function Nc(m=ie){let g=m===ie?Hh:Ja(m);return function(){return g().dispatch}}var Ir=Nc();cc(zc.useSyncExternalStoreWithSelector);Ic(Gc.useSyncExternalStore);hc(Dh.unstable_batchedUpdates);function Yg(){let m=Dn(F=>F.score.value),g=Dn(F=>F.health.value),A=Ir();return(0,Pi.useEffect)(()=>{},[]),Pi.default.createElement("div",{className:"score"},"Gold: ",m,Pi.default.createElement("br",null),"Health: ",g,Pi.default.createElement("br",null),Pi.default.createElement("br",null),Pi.default.createElement("button",null,"UPGRADE"))}var Uc=Yg;var Re=xt(qt());var Br=(m,g)=>{let A=new CustomEvent(m,{detail:g});document.dispatchEvent(A)};function Me(m){for(var g=arguments.length,A=Array(g>1?g-1:0),F=1;F<g;F++)A[F-1]=arguments[F];if(!1)var v,y;throw Error("[Immer] minified error nr: "+m+(A.length?" "+A.map(function(t){return"'"+t+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ii(m){return!!m&&!!m[Pt]}function Ge(m){var g;return!!m&&(function(A){if(!A||typeof A!="object")return!1;var F=Object.getPrototypeOf(A);if(F===null)return!0;var v=Object.hasOwnProperty.call(F,"constructor")&&F.constructor;return v===Object||typeof v=="function"&&Function.toString.call(v)===jg}(m)||Array.isArray(m)||!!m[Kc]||!!(!((g=m.constructor)===null||g===void 0)&&g[Kc])||qh(m)||_h(m))}function ki(m,g,A){A===void 0&&(A=!1),Nn(m)===0?(A?Object.keys:Bn)(m).forEach(function(F){A&&typeof F=="symbol"||g(F,m[F],m)}):m.forEach(function(F,v){return g(v,F,m)})}function Nn(m){var g=m[Pt];return g?g.i>3?g.i-4:g.i:Array.isArray(m)?1:qh(m)?2:_h(m)?3:0}function In(m,g){return Nn(m)===2?m.has(g):Object.prototype.hasOwnProperty.call(m,g)}function Wg(m,g){return Nn(m)===2?m.get(g):m[g]}function Zc(m,g,A){var F=Nn(m);F===2?m.set(g,A):F===3?m.add(A):m[g]=A}function Qc(m,g){return m===g?m!==0||1/m==1/g:m!=m&&g!=g}function qh(m){return Qg&&m instanceof Map}function _h(m){return Jg&&m instanceof Set}function Ai(m){return m.o||m.t}function tu(m){if(Array.isArray(m))return Array.prototype.slice.call(m);var g=$c(m);delete g[Pt];for(var A=Bn(g),F=0;F<A.length;F++){var v=A[F],y=g[v];y.writable===!1&&(y.writable=!0,y.configurable=!0),(y.get||y.set)&&(g[v]={configurable:!0,writable:!0,enumerable:y.enumerable,value:m[v]})}return Object.create(Object.getPrototypeOf(m),g)}function eu(m,g){return g===void 0&&(g=!1),iu(m)||ii(m)||!Ge(m)||(Nn(m)>1&&(m.set=m.add=m.clear=m.delete=Hg),Object.freeze(m),g&&ki(m,function(A,F){return eu(F,!0)},!0)),m}function Hg(){Me(2)}function iu(m){return m==null||typeof m!="object"||Object.isFrozen(m)}function be(m){var g=kh[m];return g||Me(18,m),g}function bg(m,g){kh[m]||(kh[m]=g)}function Jh(){return Gr}function bh(m,g){g&&(be("Patches"),m.u=[],m.s=[],m.v=g)}function ja(m){jh(m),m.p.forEach(Kg),m.p=null}function jh(m){m===Gr&&(Gr=m.l)}function Vc(m){return Gr={p:[],l:Gr,h:m,m:!0,_:0}}function Kg(m){var g=m[Pt];g.i===0||g.i===1?g.j():g.g=!0}function Kh(m,g){g._=g.p.length;var A=g.p[0],F=m!==void 0&&m!==A;return g.h.O||be("ES5").S(g,m,F),F?(A[Pt].P&&(ja(g),Me(4)),Ge(m)&&(m=$a(g,m),g.l||ka(g,m)),g.u&&be("Patches").M(A[Pt].t,m,g.u,g.s)):m=$a(g,A,[]),ja(g),g.u&&g.v(g.u,g.s),m!==jc?m:void 0}function $a(m,g,A){if(iu(g))return g;var F=g[Pt];if(!F)return ki(g,function(u,c){return Xc(m,F,g,u,c,A)},!0),g;if(F.A!==m)return g;if(!F.P)return ka(m,F.t,!0),F.t;if(!F.I){F.I=!0,F.A._--;var v=F.i===4||F.i===5?F.o=tu(F.k):F.o,y=v,t=!1;F.i===3&&(y=new Set(v),v.clear(),t=!0),ki(y,function(u,c){return Xc(m,F,v,u,c,A,t)}),ka(m,v,!1),A&&m.u&&be("Patches").N(F,A,m.u,m.s)}return F.o}function Xc(m,g,A,F,v,y,t){if(ii(v)){var u=$a(m,v,y&&g&&g.i!==3&&!In(g.R,F)?y.concat(F):void 0);if(Zc(A,F,u),!ii(u))return;m.m=!1}else t&&A.add(v);if(Ge(v)&&!iu(v)){if(!m.h.D&&m._<1)return;$a(m,v),g&&g.A.l||ka(m,v)}}function ka(m,g,A){A===void 0&&(A=!1),!m.l&&m.h.D&&m.m&&eu(g,A)}function Zh(m,g){var A=m[Pt];return(A?Ai(A):m)[g]}function Yc(m,g){if(g in m)for(var A=Object.getPrototypeOf(m);A;){var F=Object.getOwnPropertyDescriptor(A,g);if(F)return F;A=Object.getPrototypeOf(A)}}function Mi(m){m.P||(m.P=!0,m.l&&Mi(m.l))}function Qh(m){m.o||(m.o=tu(m.t))}function $h(m,g,A){var F=qh(g)?be("MapSet").F(g,A):_h(g)?be("MapSet").T(g,A):m.O?function(v,y){var t=Array.isArray(v),u={i:t?1:0,A:y?y.A:Jh(),P:!1,I:!1,R:{},l:y,t:v,k:null,o:null,j:null,C:!1},c=u,a=zr;t&&(c=[u],a=Nr);var s=Proxy.revocable(c,a),r=s.revoke,e=s.proxy;return u.k=e,u.j=r,e}(g,A):be("ES5").J(g,A);return(A?A.A:Jh()).p.push(F),F}function Zg(m){return ii(m)||Me(22,m),function g(A){if(!Ge(A))return A;var F,v=A[Pt],y=Nn(A);if(v){if(!v.P&&(v.i<4||!be("ES5").K(v)))return v.t;v.I=!0,F=Wc(A,y),v.I=!1}else F=Wc(A,y);return ki(F,function(t,u){v&&Wg(v.t,t)===u||Zc(F,t,g(u))}),y===3?new Set(F):F}(m)}function Wc(m,g){switch(g){case 2:return new Map(m);case 3:return Array.from(m)}return tu(m)}function Jc(){function m(t,u){var c=y[t];return c?c.enumerable=u:y[t]=c={configurable:!0,enumerable:u,get:function(){var a=this[Pt];return zr.get(a,t)},set:function(a){var s=this[Pt];zr.set(s,t,a)}},c}function g(t){for(var u=t.length-1;u>=0;u--){var c=t[u][Pt];if(!c.P)switch(c.i){case 5:F(c)&&Mi(c);break;case 4:A(c)&&Mi(c)}}}function A(t){for(var u=t.t,c=t.k,a=Bn(c),s=a.length-1;s>=0;s--){var r=a[s];if(r!==Pt){var e=u[r];if(e===void 0&&!In(u,r))return!0;var i=c[r],l=i&&i[Pt];if(l?l.t!==e:!Qc(i,e))return!0}}var n=!!u[Pt];return a.length!==Bn(u).length+(n?0:1)}function F(t){var u=t.k;if(u.length!==t.t.length)return!0;var c=Object.getOwnPropertyDescriptor(u,u.length-1);if(c&&!c.get)return!0;for(var a=0;a<u.length;a++)if(!u.hasOwnProperty(a))return!0;return!1}function v(t){t.g&&Me(3,JSON.stringify(Ai(t)))}var y={};bg("ES5",{J:function(t,u){var c=Array.isArray(t),a=function(r,e){if(r){for(var i=Array(e.length),l=0;l<e.length;l++)Object.defineProperty(i,""+l,m(l,!0));return i}var n=$c(e);delete n[Pt];for(var o=Bn(n),f=0;f<o.length;f++){var h=o[f];n[h]=m(h,r||!!n[h].enumerable)}return Object.create(Object.getPrototypeOf(e),n)}(c,t),s={i:c?5:4,A:u?u.A:Jh(),P:!1,I:!1,R:{},l:u,t,k:a,o:null,g:!1,C:!1};return Object.defineProperty(a,Pt,{value:s,writable:!0}),a},S:function(t,u,c){c?ii(u)&&u[Pt].A===t&&g(t.p):(t.u&&function a(s){if(s&&typeof s=="object"){var r=s[Pt];if(r){var e=r.t,i=r.k,l=r.R,n=r.i;if(n===4)ki(i,function(p){p!==Pt&&(e[p]!==void 0||In(e,p)?l[p]||a(i[p]):(l[p]=!0,Mi(r)))}),ki(e,function(p){i[p]!==void 0||In(i,p)||(l[p]=!1,Mi(r))});else if(n===5){if(F(r)&&(Mi(r),l.length=!0),i.length<e.length)for(var o=i.length;o<e.length;o++)l[o]=!1;else for(var f=e.length;f<i.length;f++)l[f]=!0;for(var h=Math.min(i.length,e.length),d=0;d<h;d++)i.hasOwnProperty(d)||(l[d]=!0),l[d]===void 0&&a(i[d])}}}}(t.p[0]),g(t.p))},K:function(t){return t.i===4?A(t):F(t)}})}var Hc,Gr,nu=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Qg=typeof Map<"u",Jg=typeof Set<"u",bc=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",jc=nu?Symbol.for("immer-nothing"):((Hc={})["immer-nothing"]=!0,Hc),Kc=nu?Symbol.for("immer-draftable"):"__$immer_draftable",Pt=nu?Symbol.for("immer-state"):"__$immer_state";var jg=""+Object.prototype.constructor,Bn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:Object.getOwnPropertyNames,$c=Object.getOwnPropertyDescriptors||function(m){var g={};return Bn(m).forEach(function(A){g[A]=Object.getOwnPropertyDescriptor(m,A)}),g},kh={},zr={get:function(m,g){if(g===Pt)return m;var A=Ai(m);if(!In(A,g))return function(v,y,t){var u,c=Yc(y,t);return c?"value"in c?c.value:(u=c.get)===null||u===void 0?void 0:u.call(v.k):void 0}(m,A,g);var F=A[g];return m.I||!Ge(F)?F:F===Zh(m.t,g)?(Qh(m),m.o[g]=$h(m.A.h,F,m)):F},has:function(m,g){return g in Ai(m)},ownKeys:function(m){return Reflect.ownKeys(Ai(m))},set:function(m,g,A){var F=Yc(Ai(m),g);if(F?.set)return F.set.call(m.k,A),!0;if(!m.P){var v=Zh(Ai(m),g),y=v?.[Pt];if(y&&y.t===A)return m.o[g]=A,m.R[g]=!1,!0;if(Qc(A,v)&&(A!==void 0||In(m.t,g)))return!0;Qh(m),Mi(m)}return m.o[g]===A&&(A!==void 0||g in m.o)||Number.isNaN(A)&&Number.isNaN(m.o[g])||(m.o[g]=A,m.R[g]=!0),!0},deleteProperty:function(m,g){return Zh(m.t,g)!==void 0||g in m.t?(m.R[g]=!1,Qh(m),Mi(m)):delete m.R[g],m.o&&delete m.o[g],!0},getOwnPropertyDescriptor:function(m,g){var A=Ai(m),F=Reflect.getOwnPropertyDescriptor(A,g);return F&&{writable:!0,configurable:m.i!==1||g!=="length",enumerable:F.enumerable,value:A[g]}},defineProperty:function(){Me(11)},getPrototypeOf:function(m){return Object.getPrototypeOf(m.t)},setPrototypeOf:function(){Me(12)}},Nr={};ki(zr,function(m,g){Nr[m]=function(){return arguments[0]=arguments[0][0],g.apply(this,arguments)}}),Nr.deleteProperty=function(m,g){return Nr.set.call(this,m,g,void 0)},Nr.set=function(m,g,A){return zr.set.call(this,m[0],g,A,m[0])};var $g=function(){function m(A){var F=this;this.O=bc,this.D=!0,this.produce=function(v,y,t){if(typeof v=="function"&&typeof y!="function"){var u=y;y=v;var c=F;return function(n){var o=this;n===void 0&&(n=u);for(var f=arguments.length,h=Array(f>1?f-1:0),d=1;d<f;d++)h[d-1]=arguments[d];return c.produce(n,function(p){var x;return(x=y).call.apply(x,[o,p].concat(h))})}}var a;if(typeof y!="function"&&Me(6),t!==void 0&&typeof t!="function"&&Me(7),Ge(v)){var s=Vc(F),r=$h(F,v,void 0),e=!0;try{a=y(r),e=!1}finally{e?ja(s):jh(s)}return typeof Promise<"u"&&a instanceof Promise?a.then(function(n){return bh(s,t),Kh(n,s)},function(n){throw ja(s),n}):(bh(s,t),Kh(a,s))}if(!v||typeof v!="object"){if((a=y(v))===void 0&&(a=v),a===jc&&(a=void 0),F.D&&eu(a,!0),t){var i=[],l=[];be("Patches").M(v,a,i,l),t(i,l)}return a}Me(21,v)},this.produceWithPatches=function(v,y){if(typeof v=="function")return function(a){for(var s=arguments.length,r=Array(s>1?s-1:0),e=1;e<s;e++)r[e-1]=arguments[e];return F.produceWithPatches(a,function(i){return v.apply(void 0,[i].concat(r))})};var t,u,c=F.produce(v,y,function(a,s){t=a,u=s});return typeof Promise<"u"&&c instanceof Promise?c.then(function(a){return[a,t,u]}):[c,t,u]},typeof A?.useProxies=="boolean"&&this.setUseProxies(A.useProxies),typeof A?.autoFreeze=="boolean"&&this.setAutoFreeze(A.autoFreeze)}var g=m.prototype;return g.createDraft=function(A){Ge(A)||Me(8),ii(A)&&(A=Zg(A));var F=Vc(this),v=$h(this,A,void 0);return v[Pt].C=!0,jh(F),v},g.finishDraft=function(A,F){var v=A&&A[Pt],y=v.A;return bh(y,F),Kh(void 0,y)},g.setAutoFreeze=function(A){this.D=A},g.setUseProxies=function(A){A&&!bc&&Me(20),this.O=A},g.applyPatches=function(A,F){var v;for(v=F.length-1;v>=0;v--){var y=F[v];if(y.path.length===0&&y.op==="replace"){A=y.value;break}}v>-1&&(F=F.slice(v+1));var t=be("Patches").$;return ii(A)?t(A,F):this.produce(A,function(u){return t(u,F)})},m}(),ge=new $g,kg=ge.produce,ky=ge.produceWithPatches.bind(ge),qy=ge.setAutoFreeze.bind(ge),_y=ge.setUseProxies.bind(ge),tT=ge.applyPatches.bind(ge),eT=ge.createDraft.bind(ge),iT=ge.finishDraft.bind(ge),qa=kg;function Ri(m){"@babel/helpers - typeof";return Ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},Ri(m)}function ru(m,g){if(Ri(m)!=="object"||m===null)return m;var A=m[Symbol.toPrimitive];if(A!==void 0){var F=A.call(m,g||"default");if(Ri(F)!=="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(m)}function su(m){var g=ru(m,"string");return Ri(g)==="symbol"?g:String(g)}function au(m,g,A){return g=su(g),g in m?Object.defineProperty(m,g,{value:A,enumerable:!0,configurable:!0,writable:!0}):m[g]=A,m}function kc(m,g){var A=Object.keys(m);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(m);g&&(F=F.filter(function(v){return Object.getOwnPropertyDescriptor(m,v).enumerable})),A.push.apply(A,F)}return A}function _a(m){for(var g=1;g<arguments.length;g++){var A=arguments[g]!=null?arguments[g]:{};g%2?kc(Object(A),!0).forEach(function(F){au(m,F,A[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(A)):kc(Object(A)).forEach(function(F){Object.defineProperty(m,F,Object.getOwnPropertyDescriptor(A,F))})}return m}function jt(m){return"Minified Redux error #"+m+"; visit https://redux.js.org/Errors?code="+m+" for the full message or use the non-minified dev environment for full errors. "}var qc=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ou=function(){return Math.random().toString(36).substring(7).split("").join(".")},to={INIT:"@@redux/INIT"+ou(),REPLACE:"@@redux/REPLACE"+ou(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ou()}};function qg(m){if(typeof m!="object"||m===null)return!1;for(var g=m;Object.getPrototypeOf(g)!==null;)g=Object.getPrototypeOf(g);return Object.getPrototypeOf(m)===g}function lu(m,g,A){var F;if(typeof g=="function"&&typeof A=="function"||typeof A=="function"&&typeof arguments[3]=="function")throw new Error(jt(0));if(typeof g=="function"&&typeof A>"u"&&(A=g,g=void 0),typeof A<"u"){if(typeof A!="function")throw new Error(jt(1));return A(lu)(m,g)}if(typeof m!="function")throw new Error(jt(2));var v=m,y=g,t=[],u=t,c=!1;function a(){u===t&&(u=t.slice())}function s(){if(c)throw new Error(jt(3));return y}function r(n){if(typeof n!="function")throw new Error(jt(4));if(c)throw new Error(jt(5));var o=!0;return a(),u.push(n),function(){if(o){if(c)throw new Error(jt(6));o=!1,a();var h=u.indexOf(n);u.splice(h,1),t=null}}}function e(n){if(!qg(n))throw new Error(jt(7));if(typeof n.type>"u")throw new Error(jt(8));if(c)throw new Error(jt(9));try{c=!0,y=v(y,n)}finally{c=!1}for(var o=t=u,f=0;f<o.length;f++){var h=o[f];h()}return n}function i(n){if(typeof n!="function")throw new Error(jt(10));v=n,e({type:to.REPLACE})}function l(){var n,o=r;return n={subscribe:function(h){if(typeof h!="object"||h===null)throw new Error(jt(11));function d(){h.next&&h.next(s())}d();var p=o(d);return{unsubscribe:p}}},n[qc]=function(){return this},n}return e({type:to.INIT}),F={dispatch:e,subscribe:r,getState:s,replaceReducer:i},F[qc]=l,F}function _g(m){Object.keys(m).forEach(function(g){var A=m[g],F=A(void 0,{type:to.INIT});if(typeof F>"u")throw new Error(jt(12));if(typeof A(void 0,{type:to.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(jt(13))})}function _c(m){for(var g=Object.keys(m),A={},F=0;F<g.length;F++){var v=g[F];typeof m[v]=="function"&&(A[v]=m[v])}var y=Object.keys(A),t,u;try{_g(A)}catch(c){u=c}return function(a,s){if(a===void 0&&(a={}),u)throw u;if(!1)var r;for(var e=!1,i={},l=0;l<y.length;l++){var n=y[l],o=A[n],f=a[n],h=o(f,s);if(typeof h>"u"){var d=s&&s.type;throw new Error(jt(14))}i[n]=h,e=e||h!==f}return e=e||y.length!==Object.keys(a).length,e?i:a}}function Gn(){for(var m=arguments.length,g=new Array(m),A=0;A<m;A++)g[A]=arguments[A];return g.length===0?function(F){return F}:g.length===1?g[0]:g.reduce(function(F,v){return function(){return F(v.apply(void 0,arguments))}})}function tp(){for(var m=arguments.length,g=new Array(m),A=0;A<m;A++)g[A]=arguments[A];return function(F){return function(){var v=F.apply(void 0,arguments),y=function(){throw new Error(jt(15))},t={getState:v.getState,dispatch:function(){return y.apply(void 0,arguments)}},u=g.map(function(c){return c(t)});return y=Gn.apply(void 0,u)(v.dispatch),_a(_a({},v),{},{dispatch:y})}}}function ep(m){var g=function(F){var v=F.dispatch,y=F.getState;return function(t){return function(u){return typeof u=="function"?u(v,y,m):t(u)}}};return g}var ip=ep();ip.withExtraArgument=ep;var hu=ip;var op=function(){var m=function(g,A){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,v){F.__proto__=v}||function(F,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(F[y]=v[y])},m(g,A)};return function(g,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");m(g,A);function F(){this.constructor=g}g.prototype=A===null?Object.create(A):(F.prototype=A.prototype,new F)}}(),tx=function(m,g){var A={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},F,v,y,t;return t={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(t[Symbol.iterator]=function(){return this}),t;function u(a){return function(s){return c([a,s])}}function c(a){if(F)throw new TypeError("Generator is already executing.");for(;A;)try{if(F=1,v&&(y=a[0]&2?v.return:a[0]?v.throw||((y=v.return)&&y.call(v),0):v.next)&&!(y=y.call(v,a[1])).done)return y;switch(v=0,y&&(a=[a[0]&2,y.value]),a[0]){case 0:case 1:y=a;break;case 4:return A.label++,{value:a[1],done:!1};case 5:A.label++,v=a[1],a=[0];continue;case 7:a=A.ops.pop(),A.trys.pop();continue;default:if(y=A.trys,!(y=y.length>0&&y[y.length-1])&&(a[0]===6||a[0]===2)){A=0;continue}if(a[0]===3&&(!y||a[1]>y[0]&&a[1]<y[3])){A.label=a[1];break}if(a[0]===6&&A.label<y[1]){A.label=y[1],y=a;break}if(y&&A.label<y[2]){A.label=y[2],A.ops.push(a);break}y[2]&&A.ops.pop(),A.trys.pop();continue}a=g.call(m,A)}catch(s){a=[6,s],v=0}finally{F=y=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},zn=function(m,g){for(var A=0,F=g.length,v=m.length;A<F;A++,v++)m[v]=g[A];return m},ex=Object.defineProperty,ix=Object.defineProperties,nx=Object.getOwnPropertyDescriptors,np=Object.getOwnPropertySymbols,rx=Object.prototype.hasOwnProperty,sx=Object.prototype.propertyIsEnumerable,rp=function(m,g,A){return g in m?ex(m,g,{enumerable:!0,configurable:!0,writable:!0,value:A}):m[g]=A},Fi=function(m,g){for(var A in g||(g={}))rx.call(g,A)&&rp(m,A,g[A]);if(np)for(var F=0,v=np(g);F<v.length;F++){var A=v[F];sx.call(g,A)&&rp(m,A,g[A])}return m},uu=function(m,g){return ix(m,nx(g))},ax=function(m,g,A){return new Promise(function(F,v){var y=function(c){try{u(A.next(c))}catch(a){v(a)}},t=function(c){try{u(A.throw(c))}catch(a){v(a)}},u=function(c){return c.done?F(c.value):Promise.resolve(c.value).then(y,t)};u((A=A.apply(m,g)).next())})};var ox=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Gn:Gn.apply(null,arguments)},TT=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(m){return m}};function lx(m){if(typeof m!="object"||m===null)return!1;var g=Object.getPrototypeOf(m);if(g===null)return!0;for(var A=g;Object.getPrototypeOf(A)!==null;)A=Object.getPrototypeOf(A);return g===A}var hx=function(m){op(g,m);function g(){for(var A=[],F=0;F<arguments.length;F++)A[F]=arguments[F];var v=m.apply(this,A)||this;return Object.setPrototypeOf(v,g.prototype),v}return Object.defineProperty(g,Symbol.species,{get:function(){return g},enumerable:!1,configurable:!0}),g.prototype.concat=function(){for(var A=[],F=0;F<arguments.length;F++)A[F]=arguments[F];return m.prototype.concat.apply(this,A)},g.prototype.prepend=function(){for(var A=[],F=0;F<arguments.length;F++)A[F]=arguments[F];return A.length===1&&Array.isArray(A[0])?new(g.bind.apply(g,zn([void 0],A[0].concat(this)))):new(g.bind.apply(g,zn([void 0],A.concat(this))))},g}(Array),ux=function(m){op(g,m);function g(){for(var A=[],F=0;F<arguments.length;F++)A[F]=arguments[F];var v=m.apply(this,A)||this;return Object.setPrototypeOf(v,g.prototype),v}return Object.defineProperty(g,Symbol.species,{get:function(){return g},enumerable:!1,configurable:!0}),g.prototype.concat=function(){for(var A=[],F=0;F<arguments.length;F++)A[F]=arguments[F];return m.prototype.concat.apply(this,A)},g.prototype.prepend=function(){for(var A=[],F=0;F<arguments.length;F++)A[F]=arguments[F];return A.length===1&&Array.isArray(A[0])?new(g.bind.apply(g,zn([void 0],A[0].concat(this)))):new(g.bind.apply(g,zn([void 0],A.concat(this))))},g}(Array);function vu(m){return Ge(m)?qa(m,function(){}):m}function fx(m){return typeof m=="boolean"}function dx(){return function(g){return vx(g)}}function vx(m){m===void 0&&(m={});var g=m.thunk,A=g===void 0?!0:g,F=m.immutableCheck,v=F===void 0?!0:F,y=m.serializableCheck,t=y===void 0?!0:y,u=new hx;if(A&&(fx(A)?u.push(hu):u.push(hu.withExtraArgument(A.extraArgument))),!1){if(v)var c;if(t)var a}return u}var fu=!0;function lp(m){var g=dx(),A=m||{},F=A.reducer,v=F===void 0?void 0:F,y=A.middleware,t=y===void 0?g():y,u=A.devTools,c=u===void 0?!0:u,a=A.preloadedState,s=a===void 0?void 0:a,r=A.enhancers,e=r===void 0?void 0:r,i;if(typeof v=="function")i=v;else if(lx(v))i=_c(v);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var l=t;if(typeof l=="function"&&(l=l(g),!fu&&!Array.isArray(l)))throw new Error("when using a middleware builder function, an array of middleware must be returned");if(!fu&&l.some(function(p){return typeof p!="function"}))throw new Error("each middleware provided to configureStore must be a function");var n=tp.apply(void 0,l),o=Gn;c&&(o=ox(Fi({trace:!fu},typeof c=="object"&&c)));var f=new ux(n),h=f;Array.isArray(e)?h=zn([n],e):typeof e=="function"&&(h=e(f));var d=o.apply(void 0,h);return lu(i,s,d)}function Li(m,g){function A(){for(var F=[],v=0;v<arguments.length;v++)F[v]=arguments[v];if(g){var y=g.apply(void 0,F);if(!y)throw new Error("prepareAction did not return an object");return Fi(Fi({type:m,payload:y.payload},"meta"in y&&{meta:y.meta}),"error"in y&&{error:y.error})}return{type:m,payload:F[0]}}return A.toString=function(){return""+m},A.type=m,A.match=function(F){return F.type===m},A}function hp(m){var g={},A=[],F,v={addCase:function(y,t){var u=typeof y=="string"?y:y.type;if(u in g)throw new Error("addCase cannot be called with two reducers for the same action type");return g[u]=t,v},addMatcher:function(y,t){return A.push({matcher:y,reducer:t}),v},addDefaultCase:function(y){return F=y,v}};return m(v),[g,A,F]}function cx(m){return typeof m=="function"}function px(m,g,A,F){A===void 0&&(A=[]);var v=typeof g=="function"?hp(g):[g,A,F],y=v[0],t=v[1],u=v[2],c;if(cx(m))c=function(){return vu(m())};else{var a=vu(m);c=function(){return a}}function s(r,e){r===void 0&&(r=c());var i=zn([y[e.type]],t.filter(function(l){var n=l.matcher;return n(e)}).map(function(l){var n=l.reducer;return n}));return i.filter(function(l){return!!l}).length===0&&(i=[u]),i.reduce(function(l,n){if(n)if(ii(l)){var o=l,f=n(o,e);return f===void 0?l:f}else{if(Ge(l))return qa(l,function(h){return n(h,e)});var f=n(l,e);if(f===void 0){if(l===null)return l;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}return l},r)}return s.getInitialState=c,s}function mx(m,g){return m+"/"+g}function eo(m){var g=m.name;if(!g)throw new Error("`name` is a required option for createSlice");typeof process<"u";var A=typeof m.initialState=="function"?m.initialState:vu(m.initialState),F=m.reducers||{},v=Object.keys(F),y={},t={},u={};v.forEach(function(s){var r=F[s],e=mx(g,s),i,l;"reducer"in r?(i=r.reducer,l=r.prepare):i=r,y[s]=i,t[e]=i,u[s]=l?Li(e,l):Li(e)});function c(){var s=typeof m.extraReducers=="function"?hp(m.extraReducers):[m.extraReducers],r=s[0],e=r===void 0?{}:r,i=s[1],l=i===void 0?[]:i,n=s[2],o=n===void 0?void 0:n,f=Fi(Fi({},e),t);return px(A,function(h){for(var d in f)h.addCase(d,f[d]);for(var p=0,x=l;p<x.length;p++){var S=x[p];h.addMatcher(S.matcher,S.reducer)}o&&h.addDefaultCase(o)})}var a;return{name:g,reducer:function(s,r){return a||(a=c()),a(s,r)},actions:u,caseReducers:y,getInitialState:function(){return a||(a=c()),a.getInitialState()}}}var gx="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",xx=function(m){m===void 0&&(m=21);for(var g="",A=m;A--;)g+=gx[Math.random()*64|0];return g},yx=["name","message","stack","code"],du=function(){function m(g,A){this.payload=g,this.meta=A}return m}(),sp=function(){function m(g,A){this.payload=g,this.meta=A}return m}(),Tx=function(m){if(typeof m=="object"&&m!==null){for(var g={},A=0,F=yx;A<F.length;A++){var v=F[A];typeof m[v]=="string"&&(g[v]=m[v])}return g}return{message:String(m)}},PT=function(){function m(g,A,F){var v=Li(g+"/fulfilled",function(s,r,e,i){return{payload:s,meta:uu(Fi({},i||{}),{arg:e,requestId:r,requestStatus:"fulfilled"})}}),y=Li(g+"/pending",function(s,r,e){return{payload:void 0,meta:uu(Fi({},e||{}),{arg:r,requestId:s,requestStatus:"pending"})}}),t=Li(g+"/rejected",function(s,r,e,i,l){return{payload:i,error:(F&&F.serializeError||Tx)(s||"Rejected"),meta:uu(Fi({},l||{}),{arg:e,requestId:r,rejectedWithValue:!!i,requestStatus:"rejected",aborted:s?.name==="AbortError",condition:s?.name==="ConditionError"})}}),u=!1,c=typeof AbortController<"u"?AbortController:function(){function s(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return s.prototype.abort=function(){},s}();function a(s){return function(r,e,i){var l=F?.idGenerator?F.idGenerator(s):xx(),n=new c,o,f=!1;function h(p){o=p,n.abort()}var d=function(){return ax(this,null,function(){var p,x,S,T,C,E,P;return tx(this,function(M){switch(M.label){case 0:return M.trys.push([0,4,,5]),T=(p=F?.condition)==null?void 0:p.call(F,s,{getState:e,extra:i}),Ex(T)?[4,T]:[3,2];case 1:T=M.sent(),M.label=2;case 2:if(T===!1||n.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return f=!0,C=new Promise(function(L,R){return n.signal.addEventListener("abort",function(){return R({name:"AbortError",message:o||"Aborted"})})}),r(y(l,s,(x=F?.getPendingMeta)==null?void 0:x.call(F,{requestId:l,arg:s},{getState:e,extra:i}))),[4,Promise.race([C,Promise.resolve(A(s,{dispatch:r,getState:e,extra:i,requestId:l,signal:n.signal,abort:h,rejectWithValue:function(L,R){return new du(L,R)},fulfillWithValue:function(L,R){return new sp(L,R)}})).then(function(L){if(L instanceof du)throw L;return L instanceof sp?v(L.payload,l,s,L.meta):v(L,l,s)})])];case 3:return S=M.sent(),[3,5];case 4:return E=M.sent(),S=E instanceof du?t(null,l,s,E.payload,E.meta):t(E,l,s),[3,5];case 5:return P=F&&!F.dispatchConditionRejection&&t.match(S)&&S.meta.condition,P||r(S),[2,S]}})})}();return Object.assign(d,{abort:h,requestId:l,arg:s,unwrap:function(){return d.then(Sx)}})}}return Object.assign(a,{pending:y,rejected:t,fulfilled:v,typePrefix:g})}return m.withTypes=function(){return m},m}();function Sx(m){if(m.meta&&m.meta.rejectedWithValue)throw m.payload;if(m.error)throw m.error;return m.payload}function Ex(m){return m!==null&&typeof m=="object"&&typeof m.then=="function"}var Cx="task",up="listener",fp="completed",cu="cancelled",AT="task-"+cu,MT="task-"+fp,RT=up+"-"+cu,FT=up+"-"+fp,LT=function(){function m(g){this.code=g,this.name="TaskAbortError",this.message=Cx+" "+cu+" (reason: "+g+")"}return m}();var pu="listenerMiddleware";var OT=Li(pu+"/add"),wT=Li(pu+"/removeAll"),DT=Li(pu+"/remove");var ap,IT=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis):function(m){return(ap||(ap=Promise.resolve())).then(m).catch(function(g){return setTimeout(function(){throw g},0)})},Px=function(m){return function(g){setTimeout(g,m)}},BT=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Px(10);Jc();var Ax={value:500},dp=eo({name:"score",initialState:Ax,reducers:{incrementScore:(m,g)=>{m.value+=g.payload}}}),{incrementScore:io}=dp.actions,vp=dp.reducer;function Mx(){let[m,g]=(0,Re.useState)(!1),[A,F]=(0,Re.useState)(null),[v,y]=(0,Re.useState)(1),t=Dn(r=>r.score.value),u=Ir();if((0,Re.useEffect)(()=>{document.addEventListener("showModal",r=>{let e=r.detail.cellId,i=r.detail.level;F(e),y(i),g(!0)})},[]),(0,Re.useEffect)(()=>{let r=e=>{e.key==="Escape"&&(Br("modalClosed"),g(!1))};return document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}},[]),!m)return;let c=r=>{r.target===r.currentTarget&&(Br("modalClosed"),g(!1))},a=(r,e)=>{Br("turretUpgrade",{level:r,cellId:A}),Br("modalClosed"),u(io(-e)),g(!1)};return Re.default.createElement("div",{className:"modal-overlay",onClick:c},Re.default.createElement("div",{className:"modal"},Re.default.createElement("h2",null,"Choose tower level"),[{level:2,price:300},{level:3,price:1e3}].map(r=>Re.default.createElement("button",{key:r.level,disabled:t<r.price,onClick:()=>a(r.level,r.price)},"Level ",r.level," (",r.price,")"))))}var cp=Mx;function Rx(){return Ur.default.createElement(Ur.default.Fragment,null,Ur.default.createElement(Uc,null),Ur.default.createElement(cp,null))}var pp=Rx;var Fx=100,Lx=0,Ox={value:100},wx=m=>Math.min(Math.max(m,Lx),Fx),mp=eo({name:"health",initialState:Ox,reducers:{incrementHealth:(m,g)=>{m.value=wx(m.value+g.payload)}}}),{incrementHealth:gp}=mp.actions,xp=mp.reducer;var Un=lp({reducer:{score:vp,health:xp}});var Dx=document.getElementById("ui-root"),Ix=(0,yp.createRoot)(Dx);Ix.render(mu.default.createElement(Wh,{store:Un},mu.default.createElement(pp,null)));var Tp=xt(Ke()),Vr=class extends Tp.Scene{constructor(){super("Preloader")}preload(){this.load.path="assets/",this.load.image("ship","art/ship.png"),this.load.image("ship2","art/ship2.png"),this.load.image("bullet","art/bullet6.png"),this.load.image("hero","art/hero.png"),this.load.spritesheet("player","art/character.png",{frameWidth:48,frameHeight:48}),this.load.image("tiles","art/sprout_lands/Tilesets/ground_tiles/grass_hills.png"),this.load.tilemapTiledJSON("first_level_tilemap","art/first_tileset.json")}create(){this.scene.start("Game")}};var ze=xt(Ke());var Cp=xt(Ep(),1);var Pp=Cp.default;var ro=xt(Ke());var Ap=xt(Ke()),Yr=class{x=0;y=0;health;p;value;bar;width=50;height=4;constructor({scene:g,health:A}){this.bar=new Ap.GameObjects.Graphics(g),this.health=A,this.value=this.health,this.p=this.width/this.health,this.draw(),g.add.existing(this.bar)}decrease(g){return this.value-=g,this.value<0&&(this.value=0),this.draw(),this.value===0}setPosition(g){this.bar.x=g.x,this.bar.y=g.y}draw(){this.bar.clear();let g=this.value/this.health*100;g<33?this.bar.fillStyle(15022647):g<66?this.bar.fillStyle(14450954):this.bar.fillStyle(246097);let A=Math.floor(this.p*this.value);this.bar.fillRect(this.x,this.y,A,this.height)}};function Gx(m,g,A,F,v){var y=(m-A)*(m-A)+(g-F)*(g-F);return y<=v*v}var qi=class{char;scene;health=100;currentHealth;moveSidewaysInterval;damageInterval;maxVelocity=80;healthBar;isActive=!1;isKilled=!1;constructor({scene:g,x:A,y:F},v={}){this.scene=g,this.char=g.physics.add.image(A||300,F||300,"ship"),this.char.visible=!1,this.char.ref=this,Object.keys(v).forEach(y=>{y in this&&(this[y]=v[y])}),this.currentHealth=this.health,this.healthBar=new Yr({scene:this.scene,health:this.health}),this.healthBar.bar.visible=!1,this.scene.events.on("postupdate",()=>{this.healthBar.setPosition({x:this.char.x-25,y:this.char.y-24})})}activate(){this.healthBar.bar.visible=!0,this.moveSidewaysInterval=this.scene.time.addEvent({delay:1e3,callback:()=>this.moveSideways(),loop:!0}),this.char.body.setAcceleration(-100,0),this.char.visible=!0,this.isActive=!0}explosion(g,A){if(!this.isActive)return;let F=300;if(Gx(this.char.x,this.char.y,g.x,g.y,F)){let y=ro.Math.Angle.Between(this.char.x,this.char.y,g.x,g.y),t=ro.Math.Distance.Between(this.char.x,this.char.y,g.x,g.y),u=Math.cos(y)*-1,c=Math.sin(y)*-1,a=1-t/F,s=A.damage*(t/F);s=Math.ceil(Math.pow(s,2)/A.damage);let r=this.char.body.velocity;this.char.setVelocity(r.x+u*(10/2*(a*A.kick)),r.y+c*(5/2*(a*A.kick)));let e=this.char.body.acceleration;this.char.setAcceleration(e.x+u*(2*10*(a*A.kick)),e.y+c*(2*5*(a*A.kick))),this.damage(s)}}hit({bullet:g}){if(!this.isActive)return;let A=this.char.body.velocity;this.char.setVelocity(A.x-g.incX*g.kick,A.y-g.incY*g.kick);let F=this.char.body.acceleration;this.char.setAcceleration(F.x-g.incX*g.kick/2,F.y-g.incY*g.kick/2),this.damage(g.damage)}damage(g){this.char.setTint(15238047),this.scene.time.removeEvent(this.damageInterval),this.damageInterval=this.scene.time.addEvent({delay:800,callback:()=>{this.char.clearTint()}}),this.currentHealth-=g,this.healthBar.decrease(g),this.currentHealth<=0&&(Un.dispatch(io(10)),this.kill())}moveSideways(){let g=this.char.body.acceleration;this.char.setAcceleration(g.x,ro.Math.Between(-100,100))}kill(){this.isKilled=!0,this.isActive=!1,this.scene.time.removeEvent(this.damageInterval),this.scene.time.removeEvent(this.moveSidewaysInterval),this.healthBar.bar.destroy(),this.char.destroy()}update(g,A){if(!this.isActive)return;let F=this.char.body.acceleration;this.char.setAcceleration(Math.max(F.x-100,-100),F.y),this.char.body.velocity.limit(this.maxVelocity)}};var Wr=class extends qi{constructor(g){super(g)}};var Hr=class extends qi{constructor(g){super(g,{health:500,maxVelocity:40}),this.char.scale=1.7}};var Mp=m=>{if(m==="strong")return Hr;if(m==="basic")return Wr};var br=class{char;scene;acceleration=5e3;maxVelocity=900;constructor({scene:g,x:A,y:F}){this.scene=g,this.char=g.add.rectangle(A,F,700,700),this.char.visible=!1}update(g,A){}};function Kr(m,g,A){var F=A||{},v=F.noTrailing,y=v===void 0?!1:v,t=F.noLeading,u=t===void 0?!1:t,c=F.debounceMode,a=c===void 0?void 0:c,s,r=!1,e=0;function i(){s&&clearTimeout(s)}function l(o){var f=o||{},h=f.upcomingOnly,d=h===void 0?!1:h;i(),r=!d}function n(){for(var o=arguments.length,f=new Array(o),h=0;h<o;h++)f[h]=arguments[h];var d=this,p=Date.now()-e;if(r)return;function x(){e=Date.now(),g.apply(d,f)}function S(){s=void 0}!u&&a&&!s&&x(),i(),a===void 0&&p>m?u?(e=Date.now(),y||(s=setTimeout(a?S:x,m))):x():y!==!0&&(s=setTimeout(a?S:x,a===void 0?m-p:m))}return n.cancel=l,n}function so(m,g,A){var F=A||{},v=F.atBegin,y=v===void 0?!1:v;return Kr(m,g,{debounceMode:y!==!1})}var _i=class{scene;originX;originY;isFiring=!1;lastFired=0;target={x:0,y:0};constructor({scene:g,x:A,y:F}){this.scene=g,this.originX=A,this.originY=F}setFiring(g){this.isFiring=g}setTarget(g){this.target=g}update(g,A){if(this.isFiring&&g>this.lastFired){let F=this.scene.projectilesGroup.get();F&&(F.fire({originX:this.originX,originY:this.originY,targetX:this.target.x,targetY:this.target.y,speed:800,lifespan:1e3,randomOffset:40,damage:10,pierce:5,kick:20}),this.lastFired=g+200)}}};var zx=[-12,-8,-4,0,4,8,12],Zr=class{scene;originX;originY;isFiring=!1;lastFired=0;target={x:0,y:0};constructor({scene:g,x:A,y:F}){this.scene=g,this.originX=A,this.originY=F}setFiring(g){this.isFiring=g}setTarget(g){this.target=g}update(g,A){this.isFiring&&g>this.lastFired&&(zx.forEach(F=>{let v=this.scene.projectilesGroup.get();v&&v.fire({originX:this.originX,originY:this.originY,targetX:this.target.x,targetY:this.target.y,speed:800,lifespan:1e3,randomOffset:0,damage:20,kick:30,angleOffset:F})}),this.lastFired=g+300)}};var Qr=class{scene;originX;originY;isFiring=!1;lastFired=0;target={x:0,y:0};constructor({scene:g,x:A,y:F}){this.scene=g,this.originX=A,this.originY=F}setFiring(g){this.isFiring=g}setTarget(g){this.target=g}update(g,A){if(this.isFiring&&g>this.lastFired){let F=this.scene.projectilesGroup.get();F&&(F.fire({originX:this.originX,originY:this.originY,targetX:this.target.x,targetY:this.target.y,speed:600,lifespan:1e3,randomOffset:0,damage:20,kick:240,isExplosive:!0}),this.lastFired=g+2e3)}}};var xu=xt(Ke()),Jr=class{scene;originX;originY;isFiring=!1;lastFired=0;target={x:0,y:0};rect;constructor({scene:g,x:A,y:F}){this.scene=g,this.originX=A,this.originY=F,this.rect=g.add.rectangle(A,F,50,50,14126994,.8),this.rect.visible=!1}setFiring(g){this.isFiring=g}setTarget(g){this.target=g}update(g,A){if(this.isFiring&&g>this.lastFired){let F=xu.Math.Between(300,this.scene.meta.levelWidth-400),v=xu.Math.Between(50,this.scene.meta.levelHeight-50);this.rect.x=F,this.rect.y=v,this.rect.visible=!0,this.scene.explosion({x:F,y:v},{damage:100,kick:1e3}),this.lastFired=g+1e4}}};var Rp=xt(Ke()),jr=class{scene;originX;originY;isFiring=!1;lastFired=0;target={x:0,y:0};hitCount=10;graphics;alreadyHitTargets=new Set;clearTimeout;constructor({scene:g,x:A,y:F}){this.scene=g,this.originX=A,this.originY=F,this.graphics=this.scene.add.graphics().setDepth(1)}setFiring(g){this.isFiring=g}setTarget(g){this.target=g}hit(g,A,F){if(g>=this.hitCount||!F){this.clearTimeout=this.scene.time.addEvent({delay:500,callback:()=>{this.graphics.clear()}});return}this.alreadyHitTargets.add(F),this.graphics.lineStyle(4,16777215).lineBetween(A.x,A.y,F.x,F.y),F.ref.damage(75);let v=this.scene.enemiesGroup.getChildren(),y=v[0],t=1/0;v.forEach(u=>{if(this.alreadyHitTargets.has(u))return;let c=Rp.Math.Distance.Between(F.x,F.y,u.x,u.y);c<t&&(t=c,y=u)}),this.hit(g+1,F,y)}update(g,A){this.isFiring&&g>this.lastFired&&(this.scene.time.removeEvent(this.clearTimeout),this.alreadyHitTargets.clear(),this.graphics.clear(),this.hit(1,{x:this.originX,y:this.originY},this.target),this.lastFired=g+800)}};var $r=class{char;scene;activatorArea;enemiesInArea=new Set;selectTarget;selectTargetClear;enemyCoordinates={x:0,y:0};level=1;weapons=[];constructor({scene:g,x:A,y:F}){this.scene=g,this.char=g.add.image(A,F,"hero"),this.activatorArea=g.add.rectangle(A,F,1200,600),g.physics.add.existing(this.activatorArea),this.selectTarget=Kr(100,()=>{if(this.enemiesInArea.size===0){this.weapons.forEach(r=>{r.setFiring(!1)});return}let a=1/0,s;this.enemiesInArea.forEach(r=>{r.x<a&&(a=r.x,s=r)}),this.enemyCoordinates.x=s.x,this.enemyCoordinates.y=s.y,this.enemiesInArea.clear(),this.weapons.forEach(r=>{r.setTarget(s),r.setFiring(!0)})}),this.selectTargetClear=so(100,this.selectTarget);let v=new Qr({scene:this.scene,x:A,y:F});this.weapons.push(v);let y=new _i({scene:this.scene,x:A,y:F});this.weapons.push(y);let t=new Zr({scene:this.scene,x:A,y:F});this.weapons.push(t);let u=new Jr({scene:this.scene,x:A,y:F});this.weapons.push(u);let c=new jr({scene:this.scene,x:A,y:F});this.weapons.push(c),this.setOverlaps()}setOverlaps(){this.scene.physics.add.overlap(this.scene.enemiesGroup,this.activatorArea,(g,A)=>{this.enemiesInArea.add(A),this.selectTarget(),this.selectTargetClear()},(g,A)=>!this.enemiesInArea.has(A))}setLevel(g){this.level=g}update(g,A){this.weapons.forEach(F=>F.update(g,A))}};var kr=class{char;scene;activatorArea;enemiesInArea=new Set;selectTarget;selectTargetClear;enemyCoordinates={x:0,y:0};level=1;weapons=[];constructor({scene:g,x:A,y:F}){this.scene=g,this.char=g.add.image(A,F,"ship2"),this.activatorArea=g.add.rectangle(A,F,1e3,250),g.physics.add.existing(this.activatorArea),this.selectTarget=Kr(100,()=>{if(this.enemiesInArea.size===0){this.weapons.forEach(u=>{u.setFiring(!1)});return}let y=1/0,t;this.enemiesInArea.forEach(u=>{u.x<y&&(y=u.x,t=u)}),this.enemyCoordinates.x=t.x,this.enemyCoordinates.y=t.y,this.enemiesInArea.clear(),this.weapons.forEach(u=>{u.setTarget(t),u.setFiring(!0)})}),this.selectTargetClear=so(100,this.selectTarget);let v=new _i({scene:this.scene,x:A,y:F});this.weapons.push(v),this.setOverlaps()}setOverlaps(){this.scene.physics.add.overlap(this.scene.enemiesGroup,this.activatorArea,(g,A)=>{this.enemiesInArea.add(A),this.selectTarget(),this.selectTargetClear()},(g,A)=>!this.enemiesInArea.has(A))}setLevel(g){this.level=g}update(g,A){this.weapons.forEach(F=>F.update(g,A))}};var Oi=xt(Ke()),qr=class extends Oi.Physics.Arcade.Image{scene;incX=0;incY=0;currentLife;speed;damage;kick;isExplosive=!1;pierce=1;enemies=new Set;constructor(g){super(g,0,0,"bullet"),this.scene=g,this.scale=.7}fire({originX:g,originY:A,targetX:F,targetY:v,lifespan:y,randomOffset:t=0,damage:u=1,kick:c=1,speed:a=500,angleOffset:s=0,isExplosive:r=!1,pierce:e=1}){this.isExplosive=r,this.currentLife=y,this.damage=u,this.kick=c,this.pierce=e,this.setEnabled(!0),this.setPosition(g,A);let i=F,l=v;t&&(i+=Oi.Math.Between(-t,t),l+=Oi.Math.Between(-t,t));let n=Oi.Math.Angle.Between(i,l,g,A);s&&(n+=Oi.Math.DegToRad(s)),this.setRotation(n),this.incX=Math.cos(n),this.incY=Math.sin(n),this.speed=Oi.Math.GetSpeed(a,1),this.scale=this.isExplosive?2:.7,this.enemies.clear()}setEnabled(g){this.setActive(g),this.setVisible(g),this.body.enable=g}hit(g){this.hasHit(g)||(this.enemies.add(g),this.enemies.size>=this.pierce&&this.setEnabled(!1))}hasHit(g){return this.enemies.has(g)}update(g,A){this.currentLife-=A,this.x-=this.incX*(this.speed*A),this.y-=this.incY*(this.speed*A),this.currentLife<=0&&this.setEnabled(!1)}};var ao=1,Ux=[{start:0,enemiesCount:1150},{start:8,enemiesCount:0},{start:12,enemiesCount:0},{start:18,enemiesCount:0},{start:25,enemiesCount:0},{start:30,enemiesCount:0}],_r=class extends ze.Scene{emitter;enemies=[];enemiesGroup;player;cursors;keys;projectilesGroup;base;foregroundLayer;meta={levelWidth:0,levelHeight:0};wizard;archers=[];constructor(){super("Game")}create(){this.emitter=new Pp;let g=this.make.tilemap({key:"first_level_tilemap"}),A=g.addTilesetImage("grass_hills","tiles"),F=g.createLayer("Background",A);F.scale=ao,this.meta.levelWidth=F.displayWidth,this.meta.levelHeight=F.displayHeight,this.foregroundLayer=g.createLayer("Foreground",A),this.foregroundLayer.scale=ao,this.foregroundLayer.setCollisionByProperty({collides:!0});let v=g.objects[0].objects;v.forEach(c=>{c.x*=ao,c.y*=ao});let y=v.find(c=>c.name==="PlayerSpawn"),t=v.find(c=>c.name==="EnemySpawn"),u=v.find(c=>c.name==="Base");this.cameras.main.zoom=.7,this.physics.world.setBounds(0,0,this.meta.levelWidth,this.meta.levelHeight),this.projectilesGroup=this.physics.add.group({classType:qr,maxSize:500,runChildUpdate:!0}),this.enemiesGroup=this.physics.add.group({collideWorldBounds:!0}),this.add.rectangle(t.x,t.y,100,400,16744833,.8),this.base=this.add.rectangle(200,this.meta.levelHeight/2,30,this.meta.levelHeight,1294833,.8),this.physics.add.existing(this.base),this.player=new br({scene:this,x:this.meta.levelWidth/2,y:this.meta.levelHeight/2}),this.physics.world.setFPS(120),this.cameras.main.startFollow(this.player.char),this.addEnemies({spawnPoint:t}),this.physics.add.collider(this.enemiesGroup,this.foregroundLayer),this.addHeroes(),this.cursors=this.input.keyboard.createCursorKeys(),this.keys=this.input.keyboard.addKeys({W:ze.Input.Keyboard.KeyCodes.W,A:ze.Input.Keyboard.KeyCodes.A,S:ze.Input.Keyboard.KeyCodes.S,D:ze.Input.Keyboard.KeyCodes.D}),this.input.on("wheel",(c,a,s,r)=>{if(r>0){let e=this.cameras.main.zoom-.02;e>.5&&(this.cameras.main.zoom=e)}if(r<0){let e=this.cameras.main.zoom+.02;e<=1&&(this.cameras.main.zoom=e)}}),document.addEventListener("modalClosed",()=>{this.scene.resume()}),this.addOverlaps(),this.time.addEvent({delay:500,callback:()=>this.filterEnemies(),loop:!0})}explosion(g,A){this.enemies.forEach(F=>F.explosion(g,A))}addHeroes(){[...Array(6)].forEach((g,A)=>{let F=new kr({scene:this,x:150,y:this.meta.levelHeight/6*A+this.meta.levelHeight/12});this.archers.push(F)}),this.wizard=new $r({scene:this,x:70,y:this.meta.levelHeight/2})}addOverlaps(){this.physics.add.overlap(this.enemiesGroup,this.base,(g,A)=>{A.ref.kill(),Un.dispatch(gp(-1))}),this.physics.add.overlap(this.projectilesGroup,this.enemiesGroup,(g,A)=>{g.hit(A),g.isExplosive?this.explosion({x:g.x-20,y:g.y},g):A.ref.hit({bullet:g})},(g,A)=>g.pierce===1||!g.hasHit(A))}addEnemies({spawnPoint:g}){Ux.forEach(A=>{this.time.delayedCall(A.start*1e3,()=>{[...Array(A.enemiesCount)].forEach((F,v)=>{let y=Mp(Math.random()<.2?"strong":"basic"),t=new y({scene:this,x:g.x+ze.Math.Between(-50,50),y:g.y+ze.Math.Between(-200,200)});this.time.delayedCall(ze.Math.Between(10,30)*v,()=>{this.enemies.push(t),t.activate(),this.enemiesGroup.add(t.char)})})})})}filterEnemies(){this.enemies=this.enemies.filter(g=>!g.isKilled)}update(g,A){this.archers.forEach(F=>F.update(g,A)),this.wizard.update(g,A),this.enemies.forEach(F=>F.update(g,A))}};var Vx={title:"raiden",backgroundColor:"#125555",pixelArt:!0,width:window.innerWidth,height:window.innerHeight,type:oo.WEBGL,parent:"game-root",physics:{default:"arcade",arcade:{gravity:{x:0,y:0}}},scene:[Vr,_r]},Xx=new oo.Game(Vx);window.addEventListener("resize",()=>{Xx.scale.resize(window.innerWidth,window.innerHeight)});})();
/*! Bundled license information:

phaser/dist/phaser.js:
  (**
   * @author       samme
   * @copyright    2013-2023 Photon Storm Ltd.
   * @license      {@link https://opensource.org/licenses/MIT|MIT License}
   *)
  (**
   * @author       Richard Davey <rich@photonstorm.com>
   * @copyright    2013-2023 Photon Storm Ltd.
   * @license      {@link https://opensource.org/licenses/MIT|MIT License}
   *)
  (**
   * @author       Richard Davey <rich@photonstorm.com>
   * @author       samme <samme.npm@gmail.com>
   * @copyright    2013-2023 Photon Storm Ltd.
   * @license      {@link https://opensource.org/licenses/MIT|MIT License}
   *)
  (**
   * @author       Jason Nicholls <nicholls.jason@gmail.com>
   * @copyright    2018 Photon Storm Ltd.
   * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
   *)
  (**
   * @author       Richard Davey <rich@photonstorm.com>
   * @author       Felipe Alfonso <@bitnenfer>
   * @copyright    2013-2023 Photon Storm Ltd.
   * @license      {@link https://opensource.org/licenses/MIT|MIT License}
   *)
  (**
   * @author       Florian Vazelle
   * @author       Geoffrey Glaive
   * @copyright    2013-2023 Photon Storm Ltd.
   * @license      {@link https://opensource.org/licenses/MIT|MIT License}
   *)
  (**
   * @author       Richard Davey
   * @copyright    2013-2023 Photon Storm Ltd.
   * @license      {@link https://opensource.org/licenses/MIT|MIT License}
   *)
  (**
   * @author       Richard Davey <rich@photonstorm.com>
   * @author       Florian Mertens
   * @copyright    2013-2023 Photon Storm Ltd.
   * @license      {@link https://opensource.org/licenses/MIT|MIT License}
   *)
  (**
   * @author       Richard Davey <rich@photonstorm.com>
   * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
   * @copyright    2013-2023 Photon Storm Ltd.
   * @license      {@link https://opensource.org/licenses/MIT|MIT License}
   *)
  (**
   * @author       Richard Davey <rich@photonstorm.com>
   * @copyright    2021 Photon Storm Ltd.
   * @license      {@link https://opensource.org/licenses/MIT|MIT License}
   *)
  (**
   * @author       Greg McLean <GregDevProjects>
   * @copyright    2021 Photon Storm Ltd.
   * @license      {@link https://opensource.org/licenses/MIT|MIT License}
   *)
  (**
   * @author       Vladislav Forsh <vlad@robowhale.com>
   * @copyright    2021 RoboWhale
   * @license      {@link https://opensource.org/licenses/MIT|MIT License}
   *)
  (**
   * @author       Richard Davey <rich@photonstorm.com>
   * @author       @samme
   * @copyright    2013-2023 Photon Storm Ltd.
   * @license      {@link https://opensource.org/licenses/MIT|MIT License}
   *)
  (**
   * @author       Richard Davey <rich@photonstorm.com>
   * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
   * @copyright    2013-2023 Photon Storm Ltd.
   * @license      {@link https://opensource.org/licenses/MIT|MIT License}
   *)
  (**
   * @author       Joachim Grill <joachim@codeandweb.com>
   * @author       Richard Davey <rich@photonstorm.com>
   * @copyright    2018 CodeAndWeb GmbH
   * @copyright    2013-2023 Photon Storm Ltd.
   * @license      {@link https://opensource.org/licenses/MIT|MIT License}
   *)
  (**
   * @author       @dxu https://github.com/dxu/matter-collision-events
   * @author       Richard Davey <rich@photonstorm.com>
   * @license      {@link https://opensource.org/licenses/MIT|MIT License}
   *)
  (**
   * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
   * @license      {@link https://opensource.org/licenses/MIT|MIT License}
   *)
  (**
  * @author       Richard Davey <rich@photonstorm.com>
  * @copyright    2013-2023 Photon Storm Ltd.
  * @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
  *)
  (**
   * @author       Richard Davey <rich@photonstorm.com>
   * @author       Felipe Alfonso <@bitnenfer>
   * @author       Matthew Groves <@doormat>
   * @copyright    2013-2023 Photon Storm Ltd.
   * @license      {@link https://opensource.org/licenses/MIT|MIT License}
   *)
  (**
   * @author       samme
   * @copyright    2021 Photon Storm Ltd.
   * @license      {@link https://opensource.org/licenses/MIT|MIT License}
   *)
  (**
   * @author       Richard Davey <rich@photonstorm.com>
   * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
   * @copyright    2013-2023 Photon Storm Ltd.
   * @license      {@link https://opensource.org/licenses/MIT|MIT License}
   *)
  (**
   * @author       pi-kei
   * @copyright    2013-2023 Photon Storm Ltd.
   * @license      {@link https://opensource.org/licenses/MIT|MIT License}
   *)
  (**
   * @author       Vladimir Agafonkin
   * @author       Richard Davey <rich@photonstorm.com>
   * @copyright    2013-2023 Photon Storm Ltd.
   * @license      {@link https://opensource.org/licenses/MIT|MIT License}
   *)
  (**
   * @author       Seth Berrier <berriers@uwstout.edu>
   * @copyright    2013-2023 Photon Storm Ltd.
   * @license      {@link https://opensource.org/licenses/MIT|MIT License}
   *)
  (**
   * @author       Richard Davey <rich@photonstorm.com>
   * @author       Angry Bytes (and contributors)
   * @copyright    2013-2023 Photon Storm Ltd.
   * @license      {@link https://opensource.org/licenses/MIT|MIT License}
   *)
  (**
   * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
   * @author       Richard Davey <rich@photonstorm.com>
   * @copyright    2013-2023 Photon Storm Ltd.
   * @license      {@link https://opensource.org/licenses/MIT|MIT License}
   *)

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js:
  (**
   * @license React
   * use-sync-external-store-shim.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.min.js:
  (**
   * @license React
   * use-sync-external-store-shim/with-selector.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (**
   * @license React
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
